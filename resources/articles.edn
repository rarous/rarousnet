{:344-vyvojar-webovych-aplikaci-asp-net-csharp.aspx
 {:html
  "\n<h3 id=\"toc-pozadujeme\">Požadujeme:</h3>\n\n<ul>\n\t<li>Znalost tvorby webových aplikací ASP.NET v jazyce C# – min. 2 roky\n\tpraxe, zkušenosti s vývojem aplikací bez vestavěných ASP.NET controls</li>\n\n\t<li>Základní znalost MS SQL</li>\n\n\t<li>SŠ/VŠ vzdělání (technického zaměření)</li>\n\n\t<li>Znalost anglického jazyka na úrovni čtení technické dokumentace</li>\n\n\t<li>Ochotu učit se MS technologie</li>\n\n\t<li>Zkušenosti s vývojem CMS řešení výhodou</li>\n</ul>\n\n<h3 id=\"toc-nabizime\">Nabízíme:</h3>\n\n<ul>\n\t<li>Spolupráci a podíl při návrhu a vývoji produktů</li>\n\n\t<li>Perspektivní a zajímavou práci v dynamickém, neformálním\n\tpřátelském prostředí</li>\n\n\t<li>Flexibilní pracovní dobu</li>\n\n\t<li>Práci v menším týmu</li>\n</ul>\n\n<p>V případě zájmu mě kontaktujte na e-mail: <a\nhref=\"mailto:veronika&#64;trixam.cz\">veronika&#64;<!---->trixam.cz</a></p>\n\n<h3 id=\"toc-souvisejici\">Související</h3>\n\n<ul>\n\t<li><a href=\"/weblog/334-odpojte-se-k-nam.aspx\">Odpojte se k nám!</a></li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-12T14:19:29.207-00:00",
  :is-published true,
  :author "Veronika Vajdiaková",
  :title "Vývojář webových aplikací ASP.NET",
  :published #inst "2009-01-12T14:06:43.857-00:00",
  :url "vyvojar-webovych-aplikaci-asp-net-csharp",
  :category-url "moje-prace.aspx",
  :id 344,
  :description "Nabídka zaměstnání.",
  :category "Moje práce",
  :tags ["twareg"]},
 :294-zavidi-nam-vimari-a-emacsove-build-na-dve-kliknuti.aspx
 {:html
  "\n<p>Často se v diskusích/flamech o vývoji v Atlasu dočítám, že jsme\nbyli blbý klikači, co se neobejdou bez wizárdů a podobných věcí. Jak je\nto tedy?</p>\n\n<p>Pravdou je, že jsem velice poholdný až líný a nemám rád zbytečnej\noser s příkazovou řádkou. Ne že bych jí nepoužíval, hodně úkolů se\ndá rychle zvládnout právě z ní, ale přece jen kompilace z Visual Studia\nna dvě kliknutí nebo spouštění build scriptu z příkazovky je dost\no něčem jiném.</p>\n\n<p>Nejen že na dvě kliknutí provedu build ale provedou se mi unit testy nebo\nvzdálený předtestovaný build a případě úspěchu i commit do repository.\nUpřímně písmenkáři, kdo z vás to má?</p>\n\n<p>PS. Vím, že jde buildit i na jedno kliknutí nebo přes klávesovou\nzkratku, ale já mám rád kontextovou nabídku ;)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-08-30T10:59:13.717-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Závidí nám vimaři a emacsové build na dvě kliknutí?",
  :published #inst "2008-08-30T10:58:29.407-00:00",
  :url "zavidi-nam-vimari-a-emacsove-build-na-dve-kliknuti",
  :category-url "asp-net-2-0.aspx",
  :id 294,
  :description
  "Často se v diskusích/flamech o vývoji v Atlasu dočítám, že jsme blbý klikači, co se neobejdou bez wizárdů a podobných věcí. Jak je to tedy?",
  :category "ASP.NET 2.0",
  :tags []},
 :220-jak-funguje-monorail.aspx
 {:html
  "\n<p>Po <a href=\"/weblog/219-zaciname-s-jednokolejkou.aspx\">letmém\nseznámení</a> s frameworkem MonoRail (MR) je tu první část slibovaného\nseriálu. V dnešním díle se ponoříme do technických principů\nframeworku.</p>\n\n<p>Základem MR je klasický <code>IHttpHandler</code> známý z ASP.NET,\nkterý se stará o zpracování požadavků přicházejících na server. Ve\nvýchozím stavu zpracovává požadavky s příponou <code>.rails</code>, ale\nprotože tato není na většině hostingů nastavena na ISAPI filtr ASP.NET,\ndá se nastavit zpracování přípony jiné (často <code>ashx</code>), která\nje webovému serveru známá a je spojená s ASP.NET filtrem.</p>\n\n<p>Handler rozparsuje adresu a snaží se najít vhodný <code>Controller</code>\na jeho metodu, která požadavek zpracuje a předá data na patřičný\n<code>View</code>. Vypadá to asi následovně. Na handler přijde požadavek ve\ntvaru <code>/home/index.rails</code>, handler se pokusí vyhledat třídu\n<code>HomeController</code>, která dědí ze třídy <code>Controller</code>, a\nu ní metodu <code>Index()</code>. Takže controller pro tento požadavek by\nvypadal asi následovně:</p>\n\n<pre\n><code class=\"language-csharp\">public class HomeControler : Controller {\n  public void Index()  {\n    PropertyBag[\"hello\"] = \"Pozdrav z jednokolejky\";\n  }\n}</code></pre>\n\n<p>Takový controller by se měl nacházet v projektu ve složce\n<code>controllers</code>. Vlastnost <code>PropertyBag</code> je slovník\n(asociativní pole), který předává data z controlleru na view. Aby se nám\nto celé mohlo někde zobrazit, potřebujeme ještě tedy view. Ve složce\n<code>/views/home/</code> si vytvoříme soubor <code>index.brail</code> (Brail\nje jedním z ViewEnginů) do kterého zadáme:</p>\n\n<pre\n><code class=\"language-markup\">&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Pozdrav&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;${hello}&lt;/h1&gt;\n  &lt;/body&gt;\n&lt;/html&gt;</code></pre>\n\n<p>Řetězec <code>${hello}</code> bude na výstupu nahrazen textem\nz PropertyBagu. Dolar složené závorky totiž prochází lokální proměnné\na snaží se z nich získat hodnotu. Pokud taková proměnná neexistuje\nzavolá se metoda <code>GetParametr</code>, která projde kolekce PropertyBag,\nFlash, Request apod. a snaží se v nich nalézt klíč, kterým je text mezi\nzávorkami. Hodnota je pak vypsána namísto dolarové funkce. :) Dolarová\nfunkce je takový shortcut pro tento zápis: <code>&lt;?brail output hello\n?&gt;</code> což je obdoba <code>&lt;?php echo $hello; ?&gt;</code> v PHP nebo\n<code>&lt;%= hello %&gt;</code> v ASP.</p>\n\n<p>Celá skládačka do sebe zapadne, když do prohlížeče zadáme adresu\n<code>http://server/home/index.rails</code>. Díky příponě <em>rails</em> se\npožadavek předá Handleru MonoRail. Ten rozparsuje adresu a snaží se najít\ntřídu <em>HomeController</em>, kterou jsme vytvořili, takže success.\nV této třídě hledá metodu <em>Index</em>, tu máme taky, další bod\nk dobru. Tato metoda nám nastaví v <em>PropertyBagu</em> hello na hodnotu\n„Pozdrav z jednokolejky“. Dále handler hledá vhodné view, které jsme\ntaké vytvořili. Předá mu Context, zpracuje se šablona a nakonec bude do\nprohlížeče odesláno HTML.</p>\n\n<pre\n><code class=\"language-markup\">&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Pozdrav&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Pozdrav z jednokolejky&lt;/h1&gt;\n  &lt;/body&gt;\n&lt;/html&gt;</code></pre>\n\n<p>Pro dnešek vše.</p>\n\n<h3 id=\"toc-souvisejici\">Související</h3>\n\n<ul>\n\t<li><a href=\"/weblog/219-zaciname-s-jednokolejkou.aspx\">Začínáme\n\ts jednokolejkou</a></li>\n\n\t<li><a\n\thref=\"http://www.castleproject.org/monorail/documentation/trunk/manual/howitworks.html\">MonoRail –\n\tHow it works</a></li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:25:05.500-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak funguje MonoRail",
  :published #inst "2007-08-17T13:20:28.833-00:00",
  :url "jak-funguje-monorail",
  :category-url "asp-net-2-0.aspx",
  :id 220,
  :description
  "Po úvodním seznamovacím spotu je tu první díl seriálku o MonoRail frameworku. Dnes to bude o tom, jak vlastně MonoRail funguje.",
  :category "ASP.NET 2.0",
  :tags ["castle" "monorail" "mvc" "brail"]},
 :170-novy-kabatek-pro-mraveniste-org.aspx
 {:html
  "\n<p>Ačkoli to vypadá, jako by bylo Mraveniště uzavřeno, mravenci nikdy\nnespí a stále pracují. Dnes v&#160;noci došlo k&#160;nasazení zcela nové\nhomepage <a href=\"http://www.mraveniste.org/\">největší webové kupky\njehličí</a>. Změna je to jistě zásadní a v&#160;některých ohledech\nprůlomová. Možná se dočkáme nového grafického stylu pro <strong>Web\n2.5</strong>&#160;aplikace.</p>\n\n<p>Osobně mi na nové homepage chybí možnost vyhledávání na tak rozsáhlé\nstránce, jinak se mi po grafické stránce líbí velice, ale pořád se\nnemohu ubránit dojmu, že už jsem to někde viděl :-/</p>\n\n<p>Z&#160;testů vychází, že stránka se nezobrazuje zcela korektně\nv&#160;prohlížečích Opera a na alternativních OS (tj. všechny krom\nWindows). Pro majitele takovéhoto exotického softwarového vybavení\npřikládám i&#160;exkluzivní screenshot nové homepage Mraveniště.</p>\n\n<div><a href=\"http://www.mraveniste.org/\"><img\nsrc=\"/data/obrazky/Mraveniste.png\" alt=\"\" /></a></div>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-07-28T13:09:43.880-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nový kabátek pro Mraveniste.org",
  :published #inst "2006-07-28T12:55:56.683-00:00",
  :url "novy-kabatek-pro-mraveniste-org",
  :category-url "webdesign.aspx",
  :id 170,
  :description
  "Nejvýznamnější mraveniště internetu redesignovalo svoji Homepage.",
  :category "Webdesign",
  :tags []},
 :352-implementace-tag-cloudu.aspx
 {:html
  "\n<p>Zajímavé je, jak se problematice celkem rozšířené vlastnosti webových\naplikací v éře Webu 2.0, kterou <a\nhref=\"http://en.wikipedia.org/wiki/Tag_cloud\">tag cloud</a> bezesporu je,\nvěnuje málo prostoru. Protože pracuju na jednom sociálním webu a\nk implementaci tag cloudu jsem se také dostal, tak se na něj pojďme\npodívat.</p>\n\n<h3 id=\"toc-top-down-design\">Top-down design</h3>\n\n<p>Začneme implementací na výstupu. To je to, co vidí uživatel.\nPorozhlédněme se nejprve po nějakém vhodném mikroformátu. Na snadě je\n<code>rel-tag</code>, který slouží k označování odkazů tagu. Když\nbudeme hledat dál, jistě narazíme na <strong>hTagCloud</strong>. Tento\nmikroformát je sice ve stádiu návrhu, ale dá se říct, že je použitelný\nv praxi. Jak vypadá?</p>\n\n<h3 id=\"toc-htagcloud\">hTagCloud</h3>\n\n<p>Cloud je vyznačen elementem s třídou <code>hTagCloud</code>. Tento\nelement by měl obsahovat seznam tagů. Seznam můžeme označit třídou, zda\njde je seřazen podle abecedy (<code>class=\"alphabetical\"</code>) nebo podle\npopularity (<code>class=\"popularity\"</code>). Popularitu jednotlivých tagů\noznačíme posléze třídou. Základní úroveň popularity vyznačuje třída\n<code>popular</code>. Oblíbenější tagy mají třídu <code>v-popular</code>.\nNejoblíbenější tagy pak třídou <code>vvvv-popular</code>. Můžeme takto\ntedy odlišit pět úrovní popularity.</p>\n\n<p>Ukázka mikroformátu přímo z wiki autorů:</p>\n\n<pre\n><code class=\"language-markup\">&lt;div class=\"hTagCloud\"&gt;\n  &lt;ul class=\"popularity\"&gt;\n    &lt;li class=\"vvvv-popular\"&gt;&lt;a href=\"/tags/Web+Standards+Group\"&gt;Web Standards Group&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"vvv-popular\"&gt;&lt;a href=\"/tags/accessibility\"&gt;accessibility&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"popular\"&gt;&lt;a href=\"/tags/beta+tester\"&gt;beta tester&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"vvv-popular\"&gt;&lt;a href=\"/tags/css\"&gt;css&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"v-popular\"&gt;&lt;a href=\"/tags/ex-coder\"&gt;ex-coder&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"vv-popular\"&gt;&lt;a href=\"/tags/usability\"&gt;usability&lt;/a&gt;&lt;/li&gt;\n    &lt;li class=\"vvvv-popular\"&gt;&lt;a href=\"/tags/wsg\"&gt;wsg&lt;/a&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;</code></pre>\n\n<p>To bychom měli HTML kód, teď ještě nastylovat, aby z toho opravdu\ncloud byl:</p>\n\n<pre><code class=\"language-css\">.hTagCloud {text-align:center}\n.hTagCloud ul{list-style-type:none;padding:0;margin:0}\n.hTagCloud li{display:inline;font:.6875em sans-serif;margin:0;padding:0}\n.hTagCloud .v-popular{font-size:1.273em}\n.hTagCloud .vv-popular{font-size:1.818em}\n.hTagCloud .vvv-popular{font-size:2.545em}\n.hTagCloud .vvvv-popular{font-size:3em}</code></pre>\n\n<p>Máme tedy připraveno to, co uvidí uživatelé. Teď ještě potřebujeme\nlogiku, která rozhodne, jak populární tagy vlastně jsou.</p>\n\n<h3 id=\"toc-implementace-na-serveru\">Implementace na serveru</h3>\n\n<p>Nejprve si vytvoříme třídu reprezentující tag. Ta bude obsahovat text\ntagu a jeho četnost.</p>\n\n<pre\n><code class=\"language-csharp\">public class Tag {\n  public string Text { get; set; }\n  public int Count { get; set; }\n}</code></pre>\n\n<p>Teď budeme potřebovat vypočítat, jak populární vlastně konkrétní tag\nje. Tady se dostáváme k poměrně zajímavému problému. Nejprve\npotřebujeme spočítat váhu tagu v cloudu a tu pak promítnout na\npětistupňové škále. Praxí je ověřeno, že hezky cloud vypadá, když se\npoužije logaritmická distribuční funkce. Proto si vytvoříme jednoduchý\nhelper, který nám bude váhu tagu vypočítávat a rovnou nám vrátí CSS\ntřídu vhodnou pro hTagCloud.</p>\n\n<pre\n><code class=\"language-csharp\">using System;\nusing System.Linq;\nusing System.Text;\n\npublic static class TagCloudExtensions {\n  private const int MostPopular = 5;\n  private const int MorePopular = 2;\n  private const int Popular = 1;\n\n  public static string GetCssClass(this IEnumerable&lt;Tag&gt; tags, Tag tag) {\n    int minOccurs = tags.Min(t =&gt; t.Count);\n    int maxOccurs = tags.Max(t =&gt; t.Count);\n\n    int distribution = CountDistribution(tag.Count, minOccurs, maxOccurs);\n\n    return GetCssClass(distribution).ToString();\n  }\n\n  private static StringBuilder GetCssClass(int distribution) {\n    if (distribution &lt; MorePopular) {\n      return new StringBuilder(\"popular\");\n    }\n    if (distribution == MorePopular) {\n      return GetCssClass(--distribution).Insert(0, \"v-\");\n    }\n    return GetCssClass(--distribution).Insert(0, \"v\");\n  }\n\n  private static int CountDistribution(int currentOccurences, int minOccurs, int maxOccurs) {\n    if (minOccurs &lt; Popular) {\n      throw new ArgumentOutOfRangeException(\"There must be atleast one occurence.\");\n    }\n\n    double weight = (Math.Log(currentOccurences) - Math.Log(minOccurs))\n      / (Math.Log(maxOccurs) - Math.Log(minOccurs));\n    int distribution = Popular + (int)Math.Round(weight * (MostPopular - Popular));\n\n    return distribution;\n  }\n}</code></pre>\n\n<p>Tento helper rozšiřuje kolekci tagů o metodu o metodu, která vrátí\nCSS třídu pro konkrétní tag. A to je vše. Happy tagging!</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a\n\t\thref=\"http://microformats.org/wiki/tagcloud-brainstorming\">tagcloud-brainstorming</a></li>\n\n\t\t<li><a\n\t\thref=\"http://blogs.dekoh.com/dev/2007/10/29/choosing-a-good-font-size-variation-algorithm-for-your-tag-cloud/\">Choosing\n\t\ta good font size variation algorithm for your tag cloud</a></li>\n\n\t\t<li><a href=\"http://www.echochamberproject.com/node/247\">Tag Cloud Font\n\t\tDistribution Algorithm</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-03-01T11:05:19.880-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Implementace tag cloudu",
  :published #inst "2009-02-28T18:53:49.357-00:00",
  :url "implementace-tag-cloudu",
  :category-url "webdesign.aspx",
  :id 352,
  :description
  "Zajímavé je, jak se problematice celkem rozšířené vlastnosti webových aplikací v éře Webu 2.0, kterou tag cloud bezesporu je, věnuje málo prostoru. Pojďme to trochu napravit.",
  :category "Webdesign",
  :tags ["microformats" "tagcloud"]},
 :225-budoucnost-texy-net.aspx
 {:html
  "\n<p>Chtěl bych začít pracovat na parseru Texy napsaném v C#. Než s tím\nzačnu chci se zeptat, jestli to vůbec má cenu, má někdo o něco takového\nzájem? Samozřejmě to bude open source hostovaný na <a\nhref=\"http://www.codeplex.com/texynet\">CodePlexu</a>, kdy je source control a\nissue tracker. Pokud bude zájem o dotnetí parser Texy, bude mít někdo\nzájem na projektu spolupracovat? Vyzkoušet si práci v týmu, agilní vývoj\nna otevřeném projektu. Pokud máte zájem, dejte o sobě vědět buďto\nv komentářích nebo na můj mejl.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:22:09.810-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Budoucnost Texy.net",
  :published #inst "2007-10-02T14:05:19.147-00:00",
  :url "budoucnost-texy-net",
  :category-url "webdesign.aspx",
  :id 225,
  :description
  "Chtěl bych projekt Texy.net rozšířit o vlastní parser napsaný v C# 2.0. Bude mít komunita o něj zájem? Chce se na něm podílet? To jsou otázky, jejichž zodpovězení čeká na vás a rozhodne o dalším osudu tohoto projektu.",
  :category "Webdesign",
  :tags ["texynet"]},
 :211-beta-verze-noveho-atlasiho-e-mailu-je-tu.aspx
 {:html
  "\n<p>Po 14denním interním testování byla včera večer vypuštěna zbrusu <a\nhref=\"http://beta.mail.atlas.cz/\">nová verze Atlasího e-mailu</a>. Zapojte se\ndo jejího veřejného testování i vy!</p>\n\n<p>Pod vedením Honzy Kuneše vznikl zcela nový webmail pro portál Atlas. Co\npřináší oproti stávající verzi nového?</p>\n\n<ul>\n\t<li>Nový jednodušší a přehlednější design</li>\n\n\t<li>Kontextové nabídky</li>\n\n\t<li>Přetahování zpráv myší mezi složkami</li>\n\n\t<li>Náhledy přiložených obrázků</li>\n\n\t<li>Průběžné ulkádání e-malů</li>\n\n\t<li>Stahování všech příloh v jednom zip souboru</li>\n</ul>\n\n<p>…a další drobnosti, které vám práci z e-mailem jistě zpříjemní.\nV plánu jsou další vylepšní jako fulltextové hledání ve zprávách,\nnotifikátor nových zpráv, gadget do sidebaru a další drobná vylepšení,\nplus zapracování připomínek a některých návrhů z betatestingu.</p>\n\n<p>Samozřejmě kluci nedělali novej GMail, proč taky? :)</p>\n\n<p>Na závěr foto webmail týmu:</p>\n\n<div><img src=\"/data/obrazky/webmail-team.JPG\" alt=\"webmail team\" /></div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:36:36.893-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Beta verze nového Atlasího e-mailu je tu",
  :published #inst "2007-06-01T09:35:48.763-00:00",
  :url "beta-verze-noveho-atlasiho-e-mailu-je-tu",
  :category-url "webdesign.aspx",
  :id 211,
  :description
  "Po 14denním interním testování byla včera večer vypuštěna zbrusu nová verze Atlasího e-mailu. Zapojte se do jejího veřejného testování i vy!",
  :category "Webdesign",
  :tags ["atlas" "webmail"]},
 :139-kniha-o-tvorbe-a-konzumaci-ws-zdarma.aspx
 {:html
  "\n<p>Tento článeček je jen odkazovací, moc vlastní invence nepřináší, ale\ni&#160;tak je poměrně zajímavý. Teda pokud vás, stejně jako mě, zajímá\nproblematika webových služeb &#8211; pro některé jedna z&#160;webových\nbublin. Nakladatelsví Apress vydalo knihu <a\nhref=\"http://apress.com/book/bookDisplay.html?bID=273\">Google, Amazon, and\nBeyond: Creating and Consuming Web Services</a>. <a\nhref=\"http://www.apress.com/free/content/googleamazon.pdf\">Ke stažení</a>\n(2.1&#160;MiB, PDF)</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-23T07:34:01.863-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Kniha o tvorbě a konzumaci WS zdarma",
  :published #inst "2006-04-23T07:33:21.397-00:00",
  :url "kniha-o-tvorbe-a-konzumaci-ws-zdarma",
  :category-url "webove-sluzby.aspx",
  :id 139,
  :description
  "Apress vydal free knihu o tvorbě a konzumaci webových služeb s návazností na velké hráče - Google a Amazon.",
  :category "Webové služby",
  :tags []},
 :242-redakcni-system-na-asp-net-mvc.aspx
 {:html
  "\n<p>Rozhodl jsem se, že, jako praktickou ukázku použití TDD a <a\nhref=\"http://asp.net/downloads/3.5-extensions/\">ASP.NET MVC</a> (dále jen MVC),\nbudu psát seriálek, výsledkem něhož bude základ třetí verze redakčního\nsystému <a href=\"http://www.codeplex.com/gryphoon\">Gryphoon</a>.</p>\n\n<p><strong>Upozornění:</strong> Je možné, že některým věcem nebudete\nv průběhu čtení rozumět. Dopuručuji si přečíst <a\nhref=\"#souvisejici\">související články</a>, na jejichž základě tento\nseriál staví.</p>\n\n<p>Už z této podstaty vyplívá, že půjde o OSS. Projekt je hostován na\n<a href=\"http://www.codeplex.com/gryphoon\">Codeplexu</a> pod MS-<acronym\ntitle=\"Microsoft Public Licence\">PL</acronym>. Dalším důležitým znakem je\npoužití <a href=\"http://www.codeplex.com/texynet\">Texy.net</a> jako\nzákladního kamene systému, spojení s databází bude zajišťovat <a\nhref=\"http://www.castleproject.org/activerecord/index.html\">Castle\nActiveRecord</a>, pro testování použiji <a\nhref=\"http://www.codeplex.com/xunit\">xUnit.net</a> a <a\nhref=\"http://www.ayende.com/projects/rhino-mocks.aspx\">Rhino Mocks</a>. Tím\njsou nastíněny základní prvky architektury a můžeme se pomalu dát\ndo práce.</p>\n\n<h3 id=\"toc-struktura-projektu\">Struktura projektu</h3>\n\n<p>Prozatím to vypadá na tři projekty v řešení:</p>\n\n<ol>\n\t<li>Rarous.Gryphoon – Knihovna, jádro systému, které bude obsahovat\n\tobjekty doménového modelu, konfiguraci a další potřebné komponenty.</li>\n\n\t<li>Rarous.Grypho­on.Spec – Knihovna s jednotkovými testy. xUnit.net\n\tmísto termínu test používá fakt, proto bude brát tento projekt jako\n\tspecifikaci zbylých částí.</li>\n\n\t<li>Rarous.Grypho­on.Web – Webová aplikace. Projekt bude obsahovat webovou\n\tčást tj. Controllery a View (řadiče a pohledy) a Helpery (pomocníky).</li>\n</ol>\n\n<h3 id=\"toc-prvni-radky-specifikace\">První řádky specifikace</h3>\n\n<p>Naší jedinou specifikací bude projekt Rarous.Grypho­on.Spec. Tím co je\nv něm dáno, by se měly řídit oba zbylé projekty. Dobrým zvykem v TDD je\nnavrhovat systém od shora dolů. První věc, se kterou přijdete do styku, je\nURL. Zatím nebudu výchozí schéma URL měnit, proto ani nebudu psát testy na\nRoutování (zatím). Defaultní schéma URL by mělo být už milionkrát\notestované v rámci MVC projektu.</p>\n\n<p>Takže budeme pokračovat dál a to k řadiči článku\n(<code>ArticleController</code>). Ten by měl být zodpovědný za vytváření\nčlánků nových, jejich následnou editaci, zobrazování a v poslední\nřadě i mazání.</p>\n\n<p>V prvním CTP, zatím nejsou předdefinované Mock Objekty pro controllery,\nproto použijeme Test subclass pattern, pro ověření činnosti controlleru.\nController bude mít následující rozhranní:</p>\n\n<div><img src=\"/data/obrazky/IArticleController2.png\"\nalt=\"Diagram IArticleController\" /></div>\n\n<p>A třída pro testování vypadá následovně:</p>\n\n<pre\n><code class=\"language-csharp\">public class TestArticleController : ArticleController {\n  public string ActualViewName { get; set; }\n  public string RedirectViewName { get; set; }\n  public string ActualMasterName { get; set; }\n  public object ActualViewData { get; set; }\n\n  protected override void RenderView(string viewName, string masterName,\n                                     object viewData) {\n    ActualViewName = viewName;\n    ActualMasterName = masterName;\n    ActualViewData = viewData;\n  }\n\n  protected override void RedirectToAction(object values) {\n    RedirectViewName = values.ToDictionary()[\"Action\"];\n  }\n}</code></pre>\n\n<p>Teď můžeme napsat první test, který ověří, že pokud přijdeme na\nadresu <code>/article/</code> otevře se nám editor nového článku. Pozn.\nVyužívám výchozího schématu routeru\n<code>[controller]/[action]/[id]</code> -Pokud není <em>action</em> definovaná\nvybere se <strong>Index</strong>. V budoucnu ho změním na lepší, ale pro\nzačátek stačí.</p>\n\n<pre\n><code class=\"language-csharp\">[Fact]\npublic void ArticleController_DefaultActionShouldShowEditor() {\n  TestArticleController controller = new TestArticleController();\n\n  controller.Index();\n\n  Assert.Equal(\"Editor\", controller.ActualViewName);\n}</code></pre>\n\n<p>Spustíme test – neprojde. Aby test prošel, musíme doimplementovat\nmetodu <code>ArticleController.Index</code>.</p>\n\n<pre\n><code class=\"language-csharp\">[ControllerAction]\npublic void Index() {\n  RenderView(\"Editor\");\n}</code></pre>\n\n<p>Teď už by měl test projít. Jenže aby to fungovalo i na webu, musíme\nještě dopsat View <code>/Views/Article/Editor.aspx</code>… Do příště za\ndomácí úkol.</p>\n\n<h3 id=\"toc-zaverem\">Závěrem</h3>\n\n<p>Aktuální stav je na codeplexu ke stažení, ale zdaleka není funkční. :)\nPrůběžně ho budu s dalšími díly doplňovat. Příště tedy uděláme\nukládání nových příspěvků a editaci. Když se pozorně podíváte na\nzdrojáky, zjistíte, že tak trochu cheatuju :)</p>\n\n<p>Jo abych nezapoměl, pokud jste sem přišli přes RSS a ještě jste si <a\nhref=\"/weblog/241-pozor-zmena-feedu.aspx\">nezměnili adresu feedu</a>, učiňte\ntak zavčasu. Děkuji</p>\n\n<h3 id=\"souvisejici\">Související</h3>\n\n<ul>\n\t<li><a href=\"/weblog/219-zaciname-s-jednokolejkou.aspx\">Začínáme\n\ts jednokolejkou</a></li>\n\n\t<li><a href=\"/weblog/220-jak-funguje-monorail.aspx\">Jak funguje\n\tMonoRail</a></li>\n\n\t<li><a href=\"/weblog/236-mvc-unit-testy.aspx\">MVC na ASP.NET – testování\n\tjednotek</a></li>\n</ul>\n\n<p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/aspnetmvc\">aspnetmvc</a>,\n<a rel=\"tag\" href=\"http://technorati.com/tag/gryphoon\">gryphoon</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:49:28.620-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Redakční systém na ASP.NET MVC",
  :published #inst "2007-12-23T18:56:11.140-00:00",
  :url "redakcni-system-na-asp-net-mvc",
  :category-url "webdesign.aspx",
  :id 242,
  :description
  "Rozhodl jsem se, že, jako praktickou ukázku použití TDD a ASP.NET MVC, budu psát seriálek, výsledkem něhož bude základ třetí verze redakčního systému Gryphoon.",
  :category "Webdesign",
  :tags
  ["aspnet"
   "mvc"
   "gryphoon"
   "codeplex"
   "xunit"
   "activerecord"
   "rhinomocks"
   "texy"]},
 :87-prednaska-o-2005kovych-produktech-na-felu.aspx
 {:html
  "\n<p>Zítra se koná u&#160;nás na FELu přednáška, která má představit\nnové produkty VisualStudio 2005&#160;a SQL Server 2005&#160;akademické obci a\nnejen jí. Součástí přednášky budou i&#160;informace o&#160;MSDN Academic\nAlliance, do kterého je naše katedra zapojena. <a\nhref=\"http://msdnaa.felk.cvut.cz:8081/\">Více informací</a> naleznete na\nfakultních stránkách.</p>\n\n<p>Já osobně na přednášce budu.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Přednáška o 2005kových produktech na FELu",
  :published #inst "2005-12-01T16:45:43.497-00:00",
  :url "prednaska-o-2005kovych-produktech-na-felu",
  :category-url "skola.aspx",
  :id 87,
  :description "Pozvánka na zítřejší přednášku.",
  :category "Škola",
  :tags []},
 :130-aktualne-3.aspx
 {:html
  "\n<p>Za poslední dobu se toho dost změnilo. <a\nhref=\"http://blog.pbsoftware.cz/\">Kdekdo dneska bloguje</a> nebo se o&#160;to\n<a href=\"http://blog.mikemaly.net/\">znovu pokouší</a>. Chvály hodné na tom\nje, že používají můj systém Gryphoon, horší je že mi přidělávaj\nstarosti :D Ale starosti to jsou celkem milé. O&#160;Jerryho jsem použil již\ndříve proklamované <a\nhref=\"/clanek/89-css-sablony-pro-vase-projekty.aspx\">CSS Templaty</a>, tak snad\nse mu to bude líbit.</p>\n\n<p>Dalším bodem mého příspěvku bude i&#160;trocha hudby. V&#160;pátek\njsou na výstavišti <a href=\"http://www.vibrations.cz/\">Vibrations</a>, kde\nvystoupí se svým DJ setem jeden zmým oblíbených &#8211; Eric Prydz. Já\ntam budu určitě &#8211; slavit svátek &#8211; s&#160;nad i&#160;pár\nkamarádů. Takže pokud chcete zapařit na pouřádnej housík, zkuste si\nještě sehnat vstupenku. S&#160;tímto témate tak trochu souvisí i&#160;to,\nže jsem přidal do strának boxík se streamama setů Alessia Busty. Takže\naž budete číst můj seriál o&#160;Atlasu, můžete přitom poslouchat\ni&#160;muziku :)</p>\n\n<p>No tak muziku máme za sebou, na řadě jsou hasiči. V&#160;sobotu 29. dubna\nse koná ve Zdislavě okrsková soutěž. Další soutěží v&#160;kalendáři\nje Pohár starosty obce Osečná plánovaný na půlku června.</p>\n\n<p>Já to dneska nějak odbývám. Posledním bodem je taková malá inzerce.\nJak možná vite od března pracuju v&#160;portálu Atlas, který má ambice\nstát se druhým na trhu. K&#160;tomu, aby to bylo možné je zapotřebí\nvětší množství vývojářu, než je tomu nyní. Takže pokud ovládáte\nASP.NET a MS SQL a chcete být mým kolegou v&#160;mladém vývojářském\nkolektivu, dejte mi vědět na e-mail.</p>\n\n<p>A&#160;to je konec dnešních zpráv. Děkuji za pozornost.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-10T21:17:11.797-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Aktuálně 3",
  :published #inst "2006-04-10T15:53:49.830-00:00",
  :url "aktualne-3",
  :category-url "jen-tak.aspx",
  :id 130,
  :description "Několik slov k blogování a dění za poslední dobu",
  :category "Jen tak",
  :tags []},
 :108-picasa-v-cestine.aspx
 {:html
  "\n<p>Google vydal svůj program pro indexaci a správu obrázků konečně\nv&#160;češtině. Potom, co se verze 2&#160;dočkala podpory Unicode, přišly\nna řadu i&#160;lokalizace do další jazyků. Nyní už mohou tento skvělý\nnástroj používat i&#160;lidé, kteří mají s&#160;angličtinou problémy,\na mohou využít spoustu jeho &#8222;vychytávek&#8220;. <a\nhref=\"http://picasa.google.com/\">Neváhejte a stahujte</a>.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-02-12T13:31:01.423-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Picasa v češtině",
  :published #inst "2006-02-12T13:31:01.427-00:00",
  :url "picasa-v-cestine",
  :category-url "webdesign.aspx",
  :id 108,
  :description "Google vydal českou verzi správce obrázků",
  :category "Webdesign",
  :tags []},
 :197-vs-2005-sp1.aspx
 {:html
  "\n<p>Microsoft dnes uvolnil Service Pack 1 pro Visual Studio 2005. Update je jak\npro <a\nhref=\"http://www.microsoft.com/downloads/details.aspx?FamilyId=7B0B0339-613A-46E6-AB4D-080D4D4A8C4E\">Express\nEdice</a>, tak pro <a\nhref=\"http://www.microsoft.com/downloads/details.aspx?FamilyId=BB4A75AB-E2D4-4C96-B39D-37BAF6B5B1DC\">Team\nSuite</a>. Mezi novinky by měla patřit větší výkonost a stabilita a např.\ni <a href=\"/clanek/144-web-application-project.aspx\">Web Application\nProject</a>.</p>\n\n<p>Máte už někdo zkušenosti s instalací?</p>\n\n<h3 id=\"toc-update-1\">Update 1</h3>\n\n<p>První poznatek z instalace: Nejprve odinstalujte Web Application Project,\nzkrátíte si tím dobu instalace. A radši pozavírejte všechna okna ať\nneriskujete jejich zavírání po půl hodině a opětovné nekonečné\nčekání…</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:46:40.823-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "VS 2005 SP1",
  :published #inst "2006-12-15T12:02:00.360-00:00",
  :url "vs-2005-sp1",
  :category-url "asp-net-2-0.aspx",
  :id 197,
  :description
  "Microsoft dnes uvolnil Service Pack 1 pro Visual Studio 2005.",
  :category "ASP.NET 2.0",
  :tags ["vs" "vs2005"]},
 :167-prednaska-o-abletone-live.aspx
 {:html
  "\n<p><img src=\"http://disk.cz/disk/img/OBRAZKY-WEB/ABLETON/live5_9090.jpg\"\nclass=\"right\" alt=\"Ableton Live\" /> Dnes se od 18. hodin koná přednáš\no použití <a href=\"http://www.ableton.com/\">Ableton Live</a> pro živé\nhraní a DJing. Místo konání je Apple Center na Andělu v Praze. Já si\ntuhle možnost určitě nenechám ujít, a co vy? PS. Na akci je se třeba <a\nhref=\"http://www.appleobchod.cz/?page=training\">zaregistrovat</a>.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:23:56.347-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Přednáška o Abletone Live",
  :published #inst "2006-07-18T14:51:10.767-00:00",
  :url "prednaska-o-abletone-live",
  :category-url "muzika.aspx",
  :id 167,
  :description
  "Pozvánka na přednášku o skvělém softwaru pro DJ a živé hraní.",
  :category "Muzika",
  :tags ["ableton"]},
 :385-casovy-vypis-s-aktualizaci.aspx
 {:html
  "\n<p>Na Facebooku se mi líbí, že se automaticky aktualizuje čas, před jakým\nbyl příspěvek na zeď pověšen. Jak si naimplementovat vlastní pomocí\nmikroformátu, jQuery a Rx?</p>\n\n<p>Na <a href=\"http://www.trop.cz\">Tropu</a> máme několik výpisů typu\n<em>friend feed</em>, které jsou velice podobné výpisu na zdi na Facebooku.\nRozdíl je v tom, že se u příspěvků neaktualizuje doba, před kterou byl\npříspěvek přidán, a ani se asynchronně nenačítají příspěvky nové.\nJak vyřešit první problém, se podíváme dnes.</p>\n\n<h3 id=\"toc-reactive-extensions\">Reactive Extensions</h3>\n\n<p>Již nějakou dobu používám na .netu <acronym\ntitle=\"Reactive eXtensions\">Rx</acronym>, která přidává další <a\nhref=\"http://en.wikipedia.org/wiki/Monad_(functional_programming)\">monady</a>\npro interaktivní programování nad <code>IEnumerable&lt;T&gt;</code>, podporu\nparalelního zpracování a zcela nové reaktivní programování postavené nad\n<code>IObservable&lt;T&gt;</code>. Vysvětlovat tu dualitu\n<code>IEnumerable&lt;T&gt;</code> a <code>IObservable&lt;T&gt;</code> dnes\nhodlat nehodlám. Dodám snad jen to, že tyto extenze jsou již <a\nhref=\"http://live.visitmix.com/MIX10/Sessions/FTL01\">dostupné i pro\nJavaScript</a> a <a\nhref=\"http://msdn.microsoft.com/en-us/devlabs/ee794896.aspx\">stáhnout si je\nmůžete na MSDN</a>. K čemu je to dobré?</p>\n\n<p>Reaktivní extenze vám pomohou s řešením ne zrovna snadných úloh, jako\nje práce s událostmi od uživatele, asynchronní volání služeb a práce\ns kolekcemi. To vše pomocí standardních LINQ operátorů. Tedy snadno a\nrychle. Doufám, že si ještě někdy najdu čas a popsal bych je trochu\nblíž. Možná po implementaci druhé části výše nastoleného\nproblému. :)</p>\n\n<h3 id=\"toc-pojdme-na-vec\">Pojďme na věc</h3>\n\n<p>jQuery a mikroformáty asi přibližovat nemusím, to jsou věci, které tu\nuž s námi nějaký pátek jsou. Já se na Tropu snažím mikroformáty\nvyužít všude kde to jen jde, jak jsem již psal, je to můj <a\nhref=\"/weblog/370-mikroformaty-jako-datovy-model-stranky.aspx\">datový model\nstránky</a>. U výpisu typu <em>friend feed</em> je aktuálně nefunkční\nkostra mikroformátu <a href=\"http://microformats.org/wiki/hatom\">hAtom</a>.\nTakže to pojďme napravit a rychle jí zprovoznit. Vezmu kus kódu a upravím\nho tak, aby to byl platný hAtom:</p>\n\n<pre\n><code class=\"language-markup\">&lt;li class=\"hentry\" id=\"activity-2330\"&gt;\n  &lt;p class=\"entry-title\"&gt;&lt;a class=\"vcard author\" href=\"/lide/zbiejczuk\"&gt;\n    &lt;span class=\"admin\" title=\"Trop Administrator\"&gt;\n     &lt;span class=\"power\" title=\"Znalec\"&gt;\n      &lt;span class=\"fn\"&gt;zbiejczuk&lt;/span&gt;\n     &lt;/span&gt;\n    &lt;/span&gt;&lt;/a&gt;\n    napsal recenzi pro &lt;a href=\"/mista/808/ku-bar-praha#review-1096\" rel=\"Bookmark\"&gt;K.U. Bar&lt;/a&gt;&lt;/p&gt;\n  &lt;p class=\"entry-content\"&gt;\nHoďte na sebe nevyzývavě značkové oblečení, kupte si drahý cigára,\npopíjejte koktejly a konverzujte markeťáckým…\n  &lt;/p&gt;\n  &lt;p class=\"meta\"&gt;přidáno\n    &lt;span class=\"updated\"&gt;\n     &lt;span class=\"text\"&gt;22. března 2010 ve 12.24&lt;/span&gt;\n     &lt;span class=\"value-title\" title=\"2010-03-22T11:24:19Z\"&gt;&lt;/span&gt;\n    &lt;/span&gt;\n  &lt;/p&gt;\n&lt;/li&gt;</code></pre>\n\n<p>Další soustředění budu směřovat na <code>span</code> se třídou\n<strong>updated</strong>, protože tam se skrývá ta důležitá věc –\nčas. Čas, kdy byl příspěvek publikován. Tento čas vezmeme a převedeme ho\nna „hezčí“ textovou prezentaci. Strojově získatelná data dle ISO8601\nmáme uložena pomocí value-class-patternu, pro snažší update je tu navíc\nspan s třídou <strong>text</strong>, kam budeme strkat náš vlastní text.\nParsování mikroformátu provádím pomocí jQuery.</p>\n\n<p>Rx jsou psány tak, aby s jQuery mohly fungovat, ale já jsem mlsná huba a\ntrošku si jQuery osolím, aby se mi s ním a Rx pracovalo trochu líp:</p>\n\n<pre\n><code class=\"language-javascript\">jQuery.fn.toObservable = function (eventType, eventData) {\n  if (arguments.length == 0) {\n    return Rx.Observable.FromArray(this.toArray());\n  }\n  return Rx.Observable.FromJQuery(this, eventType, eventData);\n}</code></pre>\n\n<p>Pokud zavolám <code>toObservable</code> nad jQuery objektem bez parametrů,\npřevede se výsledek dotazu na pole (nalezených elementů) a to je převedeno\nna <code>Observable</code> objekt se kterým už pracují samotné Rx. Pokud\nzadám jako parametr název jQuery události, je vrácen <code>Observable</code>\nobjekt nad těmito událostmi. To ale dnes nevyužiju, ale i tak se může\nhodit. Ještě by to šlo rozšířit o podporu <em>live</em> událostí,\nsnad jindy.</p>\n\n<p>Dále už se vrhnu rovnou do rozbouřené vody. jQuery na mne začne chrlit\nnalezené elementy, které musím zkrotit! Jak, kdy, proč? No tak, že mu\nto řeknu:</p>\n\n<pre\n><code class=\"language-javascript\">Rx.Observable.\n  Interval(10000).\n  Select(function () {\n    return $('.hentry .updated').toObservable();\n  }).\n  Switch().\n  Select(mapToElementValuePair).\n  Subscribe(changeElementText);</code></pre>\n\n<p>Nejprve si vytvořim <code>Observable</code> objekt, který na mne jednou za\n10 s vyplivne sadu nalezených elementů, které jsou součástí\nmikroformátu a nesou informaci o čase. <code>Swicht</code> slouží k tomu,\nže pokud by se nestihli v daném intervalu zpracovat všechny elementy,\nnezačne chrlit další. Tyhle elementy pak vezmu (druhý <code>Select</code>) a\nvytvořím si pomocný objekt, který obsahuje element a vyparsovaný objekt\n<code>Date</code> s časem, který element v sobě nese. Tohle je vše <a\nhref=\"/weblog/380-linq-a-lenive-vyhodnocovani.aspx\">lenivě vyhodnocováno</a>,\ntakže stále nemám vůbec nic. :) To až pomocí metody <code>Subscribe</code>\nse pověsím na příjem a čekám, až mi nějaký element (v tomto případě\nuž obalový objekt) přilítne. Pak ten element vezmu, datum převedu na text\ntypu <em>před 5 minutami</em> a aktualizuju element se třídou\n<code>text</code>. A je hotovo. :)</p>\n\n<p>Kompletní <a href=\"http://gist.github.com/341201\">ukázku kódu najdete na\ngitu</a>. Ona se trošku liší a je malinko obšírnější, ale pro její\npochopení, jsem tu snad naznačil dost. :) Enjoy!</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-05-25T06:53:00.530-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Časový výpis s aktualizací",
  :published #inst "2010-03-23T15:58:56.253-00:00",
  :url "casovy-vypis-s-aktualizaci",
  :category-url "webdesign.aspx",
  :id 385,
  :description
  "Na Facebooku se mi líbí, že se automaticky aktualizuje čas, před jakým byl příspěvek na zeď pověšen. Jak si naimplementovat vlastní pomocí mikroformátu, jQuery a Rx?",
  :category "Webdesign",
  :tags ["javascript" "jquery" "rx" "trop" "microformats"]},
 :98-hudebni-novinky.aspx
 {:html
  "\n<p>Začnu s&#160;ohlášením vydání míchané kompilace z&#160;rukou <a\nhref=\"http://www.steveangello.tv\">Steva Angella</a>. Jmenuje se prostě\n<em>Sessions</em> a vychází u&#160;<a\nhref=\"http://www.ministryofsound.com\">Ministry of Sound</a>. Proč zrovna\nu&#160;nich? Důvod je nasnadě, Steve dostal u&#160;tohoto labelu/klubu\nrezidenci a křest proběhne 19. ledna. Na téhle akci nebude chybět ani jeho\nparťák Sebastian Ingrosso. Tahle partička taky chystá jejich první album\npod pseudonymem <strong>Buy Now</strong>. Nezbývá, než se těšit\ns&#160;čím tihle mágové elektrohouseové scény přijdou :)</p>\n\n<p>Když jsem u&#160;švédský houseový mafie, tak by velice brzy mělo vyjít\ne.p. od dua AxEr (Axwell a Eric Prydz) s&#160;poetickým názvem 1,2,3. Tahle\nvěc dokáže dohnat k&#160;varu tanečníky ze všech koutů světa a na\ndruhé straně budě neméně kvalitní věc 3,2,1. Již brzy u&#160;labelu <a\nhref=\"http://www.pryda.net\">Pryda</a>.</p>\n\n<p>Dalším zajímavým počinem je nový singl od\n<strong>Shapeshifters</strong> s&#160;názven <em>Incredible</em>. Věc opět\npodařená, jak je to u&#160;týhle britský partičky zvykem. Navíc pro nás\npánové, po roce stráveném ve studiu, chystají album. Tak držím\npalce.</p>\n\n<p>Trošku z&#160;jiného soudku je nový singl od norské partičky\n<strong>Röyksopp</strong> &#8211; <em>What else is there</em>. Originál\nspíš poslechovější a s&#160;nádherným vokálem (angličtina\ns&#160;germánským přízvukem). Další mixy jak v&#160;elektru tak i&#160;v\ntrošku veselejší náladě. Nenechte si ujít&#8230;</p>\n\n<p>Na závěr takový bonbónek:</p>\n\n<blockquote cite=\"http://www.radiodeejay.cz\">\n\t<p>Bob Sinclaire feat. Gary Pine &#8211; Love Generation novinka konce roku\n\t2005</p>\n</blockquote>\n\n<p>Tak popřejem téhle novince, aby měla stejnej úspěch, jako to co jsme\nposlouchali v&#160;létě :D</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-01-12T12:10:35.380-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Hudební novinky",
  :published #inst "2006-01-12T11:24:50.970-00:00",
  :url "hudebni-novinky",
  :category-url "muzika.aspx",
  :id 98,
  :description
  "Pár hudebních novinek, které stojí za povšimnutí. (alespoň těm, kdo mají rádi elektro-house a house)",
  :category "Muzika",
  :tags []},
 :219-zaciname-s-jednokolejkou.aspx
 {:html
  "\n<p>Jedním z fenoménů poslední doby ve webovém vývoji jsou bezesporu Ruby\non Rails (RoR). Framework určený k <del><acronym\ntitle=\"Rapid Application Developement\">RAD</acronym></del> <ins>Agile\nvývoji</ins> používající objektový přístup a postavený na návrhových\nvzorech jako je <acronym title=\"Model View Controler\">MVC</acronym> nebo Active\nRecord. Framework je určený pro jazyk či platformu Ruby, to je jeho výhoda\ni omezení zároveň. Málokdo se má chuť nebo čas se po nocích učit\nnovým jazykům a stávat se vícenásobným robotem.</p>\n\n<p>RoR není rozhodně jediným projektem s podobnou filosofií. My dotneťáci\nmáme krom WebForms, které se snaží přihnout webový vývoj desktopovým\nzvyklostem (událostmi řízený, stavový), podobný framework, který je\nnavíc opensource. Tento framework se jmenuje <strong>MonoRail</strong> a oněm\nbude následující článek a možná i mini seriálek :)</p>\n\n<h3 id=\"toc-monorail\">MonoRail</h3>\n\n<p>Z názvu by se mohlo zdát, že má projekt něco společného s <a\nhref=\"http://www.mono-project.com/\">Monem</a>, opensource implementací dotnetu,\nale není tomu tak, krom toho, že <a\nhref=\"http://www.castleproject.org/monorail/index.html\">MonoRail</a> běží\ni na Monu 1.1. MonoRail je součást opensource projeku Castle, který si\nklade za cíl RAD v Enterprise prostředí. Jeho součástí jsou frameworky\nActiveRecord (ORM Persistence layer postavený nad NHibernate), Windsor\ncontainer (Inversion of Control), DynamicProxy (vytváří Proxy třídy\nz Interfejsů) a právě MonoRail. Všechny frameworky umějí pracovat\nsamostatně, ale jejich největší síla je v jejich spolupráci.</p>\n\n<p>Co je tedy MonoRail? Je to MVC framework inspirovaný <a\nhref=\"http://wiki.rubyonrails.org/rails/pages/ActionPack\">ActionPackem</a>\nběžící na platformně dotnet. Je to náhrada <a\nhref=\"http://asp.net/\">ASP.NET WebForms</a>, ale ty mohou sloužit jako <a\nhref=\"#view\">ViewEngine</a>, nebo běžet v jedné aplikaci s MonoRails vedle\nsebe. Dalšími ViewEnginy jsou NVelocity (port Velocity pod dotnet) nebo Brail\n(Views jsou psaná v jazyce Boo, což je skriptovací Python like jazyk pro\ndotnet). Preferovanější je asi NVelocity, ale vývoj Brailu je živější, a\nWebForms se pro změnu skoro nepoužívají (kvůli PageLife cyklu, který\nv MonoRailu neexistuje). MonoRail se vám může oproti ASP.NET zdát\noldskůlovější, ale opak je pravdou. MonoRail přináší zjednodušení,\nvrací se k webovému vývoji (bezestavový, Request/Response), staví na\nosvědčených metodách a zrychluje celý vývoj. Konec řečí, pojďme na\nvěc :)</p>\n\n<h3 id=\"model\">Model</h3>\n\n<p>Model obecně slouží jako zdroj/zpracovávač dat aplikace. Podle toho, jak\nje vaše aplikace složitá, je bohatý váš model :). Zpravidla se jedná\no Domain Model, Business logiku, nebo cokoli jiného, co má na starosti\nověřování obchodních pravidel, persistenci a získávání dat. Pro\njednoduchost stačí vygenerovat Entity podle DB schématu pomocí ActiveRecord\nGeneratoru nebo naopak vytvořit model a z něj vygenerovat schema.</p>\n\n<pre\n><code class=\"language-csharp\">[ActiveRecord]\npublic class User : ActiveRecordBase {\n  [PrimaryKey] public int Id { get; set; }\n  [Property] public string Name { get; set; }\n  ...\n}</code></pre>\n\n<p>Pro zjednodušení napsáno v C# 3.0 :) ActiveRecord plně využívá\natributů k popisu schematu. Dědění třídy <code>ActiveRecordBase</code>\nnení nutností, pro začátek stačí vědět, že nám přidává k entitě\nspoustu metod pro databázový přístup. Vhodnější pravděpodobně bude\nvyužít interface <code>IRepository&lt;T&gt;</code> z projektu <a\nhref=\"http://rhino-tools.svn.sourceforge.net/svnroot/rhino-tools/trunk/rhino-commons/\">Rhino.Commons</a>,\nkterý využívá Repository pattern.</p>\n\n<h3 id=\"view\">View</h3>\n\n<p>View jsou obvykle soubory obsahující kusy HTML kódu a prezentační\nlogiky. K zapouzdření prezentační logiky lze využít tzv. View komponent\n(obdoba UserControls, ale většinou mnohem obecnější). Existují tu\ni layouty, což je obdoba MasterPages.</p>\n\n<pre\n><code class=\"language-markup\">&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Layout&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    ${ChildOutput}\n    &lt;p class=\"footer\"&gt;Společná patička.&lt;/p&gt;\n  &lt;/body&gt;\n&lt;/html&gt;</code></pre>\n\n<p>Takto vypadá <strong>velice zjednodušený</strong> layout.\n<code>${ChildOutput}</code> bude nahrazen obsahem jednotlivých view.</p>\n\n<h3 id=\"controller\">Controler</h3>\n\n<p>Kontroler spojuje svět View se světem Modelu. Řídí činnost view mění\nstavy Modelu. Je to <em>to</em>, co dělá aplikaci aplikací.</p>\n\n<pre\n><code class=\"language-csharp\">[Scaffolding(typeof(User))]\npublic class UsersController : Controller {\n}</code></pre>\n\n<p>Teď když zadáme něco jako\n<code>http://localhost:12345/users/new.rails</code> tak dostaneme formulář pro\nzadávání nových uživatelů. (V případě, že doimplementujeme třídu\n<code>User</code>, aby měla všechny potřebné vlastnosti).</p>\n\n<p>Pro dnešek bych tedy ukončil první představovací článek a\nv příštích spotech bychom se mohli podívat na tuto zajímavou technologii\ntrošku blíž…</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:26:34.250-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Začínáme s jednokolejkou",
  :published #inst "2007-08-14T16:10:57.470-00:00",
  :url "zaciname-s-jednokolejkou",
  :category-url "asp-net-2-0.aspx",
  :id 219,
  :description
  "Nultý díl připravovaného seriálu o velice zajímavém frameworku pro tvvorbu webu. Chcete jednoduchost Ruby on Rails, výkon ASP.NET, volnost a modularitu? Tak nasedejte...",
  :category "ASP.NET 2.0",
  :tags ["castle" "monorail" "activerecord" "mvc" "brail"]},
 :439-coderush-editor-na-steroidech.aspx
 {:html
  "\n<p>V čem <a\nhref=\"http://devblog.cz/2013/02/co-mi-vadi-na-visual-studiu/\">musím s Borkem\nsouhlasit</a> je, že Visual Studio má opravdu debilní editor kódu. Jenže je\nto věc, kterou si uvědomuju pouze ve chvílích, kdy sedím před studiem,\nkteré nemá nainstalovaný <a\nhref=\"http://www.devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/index.xml\">CodeRush</a>.</p>\n\n<p>CodeRush toho podobně jako ořezávátko umí celkem hodně, ale v čem\nopravdu vyniká je editace kódu.</p>\n\n<p>K Borkovým bodům:</p>\n\n<ul>\n\t<li><code>Shift+Enter</code> duplikuje řádky a navíc skočí na symbol,\n\tkterý je aktuálně v rozporu a je třeba ho upravit.</li>\n\n\t<li>samotná reindentace je pro mě jen poloviční řešení, používám vždy\n\treformát <code>Ctrl+K,D</code>, abych udržoval kód konzistentní s coding\n\tstandardem.</li>\n\n\t<li>na přesouvání řádku <a\n\thref=\"http://code.google.com/p/dxcorecommunityplugins/wiki/DX_MoveCode\">existuje\n\tplugin</a>, nepoužívám.</li>\n\n\t<li><a\n\thref=\"http://www.devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/clipboard_tools.xml\">Smart\n\tCopy</a>, řeší odsazování i formátování, navíc má kontextovou\n\tcitlivost. Když zkopíruju deklaraci fieldu a vložím ji do konstruktoru,\n\tvloží se jeho inicializace apod.</li>\n\n\t<li>mazání řádků funguje přes <code>Shift+Delete</code></li>\n\n\t<li><code>Ctrl+click</code> je značně neefektivní způsob navigace. VS umí\n\t<code>F12</code> pro skok na deklaraci, CR přidává <code>Tab</code> pro\n\tnavigaci po symbolech, <code>Shift+F12</code> pro seznam všech referencí\n\tv solution a <code>Ctrl+Alt+N</code> pro kontextovou navigaci (potomci,\n\tpředkové, implementace, přetížení…).</li>\n\n\t<li>Na místo poslední editace mě přenese <code>Esc</code> (pakliže\n\trefactoring zanechal značku nebo jsem si značku vložil sám pomocí\n\t<code>Alt+Home</code>). Značky fungují na principu zásobníku. Přidávat lze\n\ti permanentní značky pod číslem, pakliže někam skáčete pravidelně.\n\t(<code>Ctrl+Alt+číslo</code> pro vložení značky, <code>Atl+číslo</code>\n\tpro skok na značku.</li>\n\n\t<li>přehledy brzdí, důležitá je <a\n\thref=\"http://www.devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/navigation_tools.xml\">rychlá\n\tkontextová navigace</a>. <code>Ctrl+Alt+F</code> pro soubory,\n\t<code>Ctrl+Alt+.</code> pro naposledy použité soubory a\n\t<code>Ctrl+Shift+Q</code> pro navigaci po memberech.</li>\n</ul>\n\n<p>Něco na víc:</p>\n\n<ul>\n\t<li><code>Alt+←/→</code> funguje podobně jako <code>Ctrl+←/→</code>\n\takorát i po jednotlivých slovech v camel/PascalCase symbolech. Stejně tak\n\tfunguje <code>Alt</code> ve spojení s klávesami <code>Shift</code> a\n\t<code>Delete</code> pro výběr, či smazáni textu.</li>\n\n\t<li><code>Ctrl+</code><code>`</code> pro refactoring.</li>\n\n\t<li><code>F2</code> neskutečně rychlý inline Rename.</li>\n\n\t<li>historie schránky</li>\n\n\t<li><a\n\thref=\"http://www.devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/automatic_code_generation.xml\">inteligentní\n\tšablony</a></li>\n\n\t<li>smart semicolon</li>\n\n\t<li>zen coding</li>\n</ul>\n\n<p>…a spousta dalších věcí, ke kterým se dostanem třeba jindy.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-02-15T16:22:58.790-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "CodeRush - editor na steroidech",
  :published #inst "2013-02-15T10:18:53.813-00:00",
  :url "coderush-editor-na-steroidech",
  :category-url "moje-prace.aspx",
  :id 439,
  :description
  "Borek měl pár pěkných výtek, k editoru kódu ve Visual Studiu. Jsou to veci nepříjemné, ale já si je díky CodeRushi neuvědomuju. Proč? Čtěte dál.",
  :category "Moje práce",
  :tags ["CodeRush"]},
 :378-facebook-connect-na-trop-cz.aspx
 {:html
  "\n<p>Po delší době přicházíme s dalším buildem Tropu, který je\ntentokrát ve znamení Facebook Connect. Od dnešního dne se můžete na <a\nhref=\"http://www.trop.cz/\">Trop.cz</a> přihlašovat pomocí vašeho Facebook\núčtu. Facebook se tak zařadil mezi Seznam, Google, Twitter a další OpenId\nposkytovatele přihlašování, kteří už na Tropu jsou.</p>\n\n<h3 id=\"toc-facebook-connect\">Facebook Connect</h3>\n\n<h4 id=\"toc-stavajici-uzivatele\">Stávající uživatelé</h4>\n\n<p>Stávající uživatelé si mohou svůj účet <a\nhref=\"http://www.trop.cz/users/edit#accounts\">propojit s Facebookem v editaci\nprofilu</a>. Jak na to, se můžete podívat v následujícím krátkém videu:\n<a href=\"http://screencast.com/t/OTBjMWYy\">Jak propojit účet\ns Facebookem</a>.</p>\n\n<p>Můžete si všimnout, že jsem potvrzoval práva na publikování. To proto,\nže Trop nyní umí <strong>posílat vaše recenze na zeď</strong>. Pokud při\npropojování s facebookem potvrdíte publikování, budou se vaše nové\nrecenze posílat i na Facebook. Nemusíte psát, že se vám někde\nlíbilo/nelíbilo dvakrát, stačí to napsat na Trop a vaši přátelé se\no tom dozvědí.</p>\n\n<h4 id=\"toc-novi-uzivatele\">Noví uživatelé</h4>\n\n<p>Noví, ještě neregistrovaní uživatelé mají nyní další možnost, jak\n<a href=\"http://www.trop.cz/registrace#facebook\">se snadno na trop\nzaregistrovat</a> a nezatěžovat se s vyplňováním profilu. Vše potřebné\nse vyplní z Facebooku.</p>\n\n<h3 id=\"toc-recenze\">Recenze</h3>\n\n<p>Dalších změn se dočkaly recenze. Nyní konečně můžete vaši recenzi\nzpětně upravit včetně tagů a rozšířených hodnocení. Textové pole pro\neditaci je nyní větší a úprava je mnohem pohodlnější. Další z novinek\nje <strong>hodnocení recenzí</strong>. Pokud se vám něčí recenze líbí,\nmůžete jí posunout nahoru svým hlasem. Samozřejmě můžete poslat dolu\ni recenze, které nemají žádnou užitnou hodnotu. Každý registrovaný\nuživatel má právo jednou zahlasovat k recenzi někoho druhého.</p>\n\n<p>Tlačítka pro editaci a hlasování najdete v pravém horním rohu po\nnajetí na recenzi.</p>\n\n<h3 id=\"toc-twitter\">Twitter</h3>\n\n<p>Ode dneška můžete sledovat, co se o Tropu štěbetá na Twitteru. Na\ndomovské stránce máme nyní widget s Twitterem. Podobně přibyl widget\ns Twitterem na profilové stránky uživatelů, kteří mají svůj Twitter\nspojený s Tropem. Můžete tam snadno vidět, čím se tropáci zabývají\ni mimo psaní zajímavých recenzí. :) Pokud chcete vědět, co <a\nhref=\"http://www.twitter.com/tropcz/\">štěbetá Trop</a>, můžete ho sledovat\ntaké. Najdete zde mimo jiné i seriál tipů na zajímavá místa.</p>\n\n<h3 id=\"toc-prani-a-oprava-bugu\">Přání a oprava bugů</h3>\n\n<p>Snažili jsme se splnit vaše přání, která nám můžete posílat (a\nposíláte) na náš <a href=\"http://trop.uservoice.com/\">uservoice</a>.\nNěkteré z nich jsem již zmínil výše, mezi dalšími je oprava hledání,\nnyní opět můžete hledat i mimo Prahu. Byl vylepšen <a\nhref=\"/weblog/374-osetreni-chybovych-stavu-v-asp-net-mvc.aspx\">způsob jakým se\nposílají chybové stránky</a>, nyní už by měly být jednotné a brzy\ni o něco použitelnější.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-02-01T20:03:50.693-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Facebook Connect na Trop.cz",
  :published #inst "2010-02-01T20:00:51.753-00:00",
  :url "facebook-connect-na-trop-cz",
  :category-url "webdesign.aspx",
  :id 378,
  :description
  "Po delší době přicházíme s dalším buildem Tropu, který je tentokrát ve znamení Facebook Connect. ",
  :category "Webdesign",
  :tags ["trop" "facebook" "connect" "openid"]},
 :247-validace-v-nforms-pro-asp-net.aspx
 {:html
  "\n<p>Oproti původnímu očekávání, jsem za uplynulý týden na <a\nhref=\"/weblog/245-nforms-pro-asp-net.aspx\">NForms</a> skoro nešáhl. Chtělo by\nse říci naštěstí, protože jsem se věnoval jiným aktivitám,\nnepočítačovým. :) Ale asi z toho bude <del>z</del>páteční projekt. Po\ntýdnu jsem to tedy znovu otevřel a včera dopsal získávání hodnot\nformuláře a na dnešek zbylo začít validační vrstvu.</p>\n\n<p>Validaci jsem započal jednoduchým pravidlem <code>PredicateRule</code>.\nOtázka je, jestli je to dobrý krok. Proto vlastně tento spot píšu. :)\nPredikátová pravidla vznikají zápisem lambda výrazů, což je sám o sobě\nmocný nástroj a dalo by se s ním hodně vyhrát. Ovšem naráží to pár\npřekážek. Například typovost hodnot formulářových prvků.</p>\n\n<p>Když jsem psal tu část NForms, která získává poslaná data, vytvořil\njsem generickou metodu\n<code>GetValue&lt;T&gt;(Converter&lt;string,T&gt;)</code>. Tato metoda získá\nhodnotu v požadovaném typu. Pro převod na základní datové typy\nz textového řetězce se dají použít předpřipravené metody třídy\n`System.Convert `, pro vlastní struktury stačí předat delegát na vlastní\nconverter a mělo by to fungovat… Jenže jak se validátor dozví, jaký typ\nzvolit?</p>\n\n<p>Znamená to asi jediné, musím napsat ještě generické ekvivalenty\nformulářových prvků. Na jednu stranu to znamená docela víc práce, než\njsem čekal :) a na druhou mnohem větší komfort při tvorbě formulářů a\nvalidačních pravidel. Díky tomu, že je celý framework určen pro verzi 3.5,\nmůžu využít lambda výrazy ke generování JScriptových pravidel. Tedy\ndoufám, že to půjde. Validační kód by pak mohl vypadat nějak tak:</p>\n\n<pre\n><code class=\"language-csharp\">Form.AddRule(\"age\", age =&gt; age &gt; 18, \"Uživatel musí být plnoletý\");</code></pre>\n\n<p>Co myslíte? Mám se vydat touto cestou, nebo je to moc odvážné? :)</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a href=\"/weblog/245-nforms-pro-asp-net.aspx\">NForms pro ASP.NET</a></li>\n\n\t\t<li><a href=\"/weblog/242-redakcni-system-na-asp-net-mvc.aspx\">Redakční systém\n\t\tna ASP.NET MVC</a></li>\n\n\t\t<li><a href=\"/weblog/238-cekani-na-asp-net-extensions.aspx\">Čekání na ASP.NET\n\t\tExtensions</a></li>\n\t</ul>\n</div>\n\n<p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/nforms\">NForms</a>, <a\nrel=\"tag\" href=\"http://technorati.com/tag/lambda\">lambda</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/aspnetmvc\">aspnetmvc</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:44:47.333-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Validace v NForms pro ASP.NET",
  :published #inst "2008-01-04T16:09:37.467-00:00",
  :url "validace-v-nforms-pro-asp-net",
  :category-url "asp-net-2-0.aspx",
  :id 247,
  :description
  "Oproti původnímu očekávání, jsem za uplynulý týden na NForms skoro nešáhl. Chtělo by se říci naštěstí, protože jsem se věnoval jiným aktivitám, nepočítačovým. :) Ale asi z toho bude (z)páteční projekt. Po týdnu jsem to tedy znovu otevřel a včera dopsal zí",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "nforms" "lambda"]},
 :106-samanismus-v-asp-net-2-0.aspx
 {:html
  "\n<p>Nebojte se, tento článek nebude o&#160;pokoutných praktikách a užití\nmagie v&#160;této velice zajímavé webové technologii, nýbrž\no&#160;nových ovládacích prvcích, které slouží jako průvodci, známí\nz&#160;Windows. Každý může mít svůj názor na jejich opodstatnění na\nwebu, ale v&#160;některých scénářích jsou k&#160;nezaplacení a\nusnadňují vývoj.</p>\n\n<p>Asi první šaman, na kterého narazíte je\n<code>asp:CreateUserWizard</code>, který je součástí Membership API. Tento\nšaman slouží, jak už název napovídá, k&#160;vytváření nových\nuživatelů aplikace. Tento šaman má implementované dva kroky:</p>\n\n<ol>\n\t<li><code>asp:CreateUserWizardStep</code> &#8211; Zadání požadovaných\n\túdajů, potřebných k&#160;vytvoření nového uživatele.</li>\n\n\t<li><code>asp:CompleteWizardStep</code> &#8211; Hláška o&#160;úspěšném\n\tdokončení vytváření uživatele.</li>\n</ol>\n\n<p>Krom těchto dvou si můžete přidat libovolné množství vlastních\nkroků, například krok, ve kterém přidělíme uživateli jeho Role. Každý\nkontrol, který je odvozený od třídy <code>Wizard</code> má vlastnost\n<code>WizardSteps</code>, kam můžete přidávat vlastní kroky šamana.\nTakže následující kus kódu představuje šamana na vytvoření uživatele\ns&#160;přidělením uživatelské role.</p>\n\n<pre><code class=\"language-markup\">&lt;asp:CreateUserWizard ID=\"NovyUzivatelWizard\" runat=\"server\" LoginCreatedUser=\"false\" OnActiveStepChanged=\"NovyUzivatelWizard_ActiveStepChanged\" OnContinueButtonClick=\"NovyUzivatelWizard_ContinueButtonClick\"&gt;\n    &lt;WizardSteps&gt;\n        &lt;asp:CreateUserWizardStep ID=\"CreateUserWizardStep1\" runat=\"server\"                         Title=\"Vytvořen&amp;#237; nov&amp;#233;ho uživatele\"&gt;&lt;/asp:CreateUserWizardStep&gt;\n        &lt;asp:WizardStep ID=\"WizardStep1\" runat=\"server\" AllowReturn=\"False\"                                     EnableTheming=\"True\" StepType=\"Step\" Title=\"Role nov&amp;#233;ho uživatele\"&gt;\n            Role nového uživatele&lt;br /&gt;\n            &lt;asp:CheckBoxList ID=\"UzivatelskeRoleList\" runat=\"server\"&gt;&lt;/asp:CheckBoxList&gt;\n        &lt;/asp:WizardStep&gt;\n        &lt;asp:CompleteWizardStep ID=\"CompleteWizardStep1\" runat=\"server\"                                    Title=\"Hotovo\"&gt;&lt;asp:CompleteWizardStep&gt;\n    &lt;/WizardSteps&gt;\n&lt;/asp:CreateUserWizard&gt;</code></pre>\n\n<p>Jak vidíte, implementace vlastních kroků v&#160;designové části není\nmoc náročná. Krom přidělení ovladačů událostí pro přechod mezi\njednotlivými kroky, jsem přidal vlastnost, která ošetřuje „podivné\nchování“, kdy se po vytvoření uživatele dojde k&#160;jeho automatickému\nnalogování. Takže pokud se divíte, že po vytvoření nového uživatele\njste ve vaší aplikaci někým jiným, nastavte vlastnost\n<code>LoginCreatedUser</code> na <code>false</code>.</p>\n\n<p>Pokud měníte kolekci <em>WizardSteps</em>, nezapomeňte na původní kroky,\nto jen tak pro jistotu :). A&#160;nyní přistoupíme k&#160;programové\nčásti šamana. Zde musíme ošetřit chování jednotlivých kroků\nv&#160;ovladačích událostí <code>OnActiveStepChanged</code> a\n<code>OnContinueButtonClick</code>.</p>\n\n<pre><code class=\"language-csharp\">protected void NovyUzivatelWizard_ActiveStepChanged(object sender, EventArgs e)\n{\n        // pokud je aktivní krok pro výběr rolí\n        if (NovyUzivatelWizard.ActiveStepIndex == 1) {\n                // načteme všechny uživatelské role a  svážeme je s datovým prvkem\n                UzivatelskeRoleList.DataSource = Roles.GetAllRoles();\n                UzivatelskeRoleList.DataBind();\n        }\n}\nprotected void NovyUzivatelWizard_ContinueButtonClick(object sender, EventArgs e)\n{\n        // pokud je aktivní krok pro výběr rolí\n        if (NovyUzivatelWizard.ActiveStepIndex == 1) {\n                StringBuilder sb = new StringBuilder();\n                // projedeme pole checkboxů\n                for (int i = 0; i &lt; UzivatelskeRoleList.Items.Count; i++) {\n                        // pokud je vybraná role\n                        if (UzivatelskeRoleList.Items[i].Selected) {\n                                // přidáme její název do kolekce\n                                sb.Append(UzivatelskeRoleList.Items[i].Text + \",\");\n                        }\n                }\n                // přiřadíme novému uživateli jeho role\n                Roles.AddUserToRoles(NovyUzivatelWizard.UserName, sb.ToString().Split(','));\n        }\n}</code></pre>\n\n<p>Na kódu asi není nic zvláštního, důležité je zjišťování\naktivního kroku šamana pomocí vlastnosti <code>ActiveStepIndex</code>.\nZbytek kódu se věnuje načtení kolekce uživatelských rolí do\nCheckBoxListu a pak přiřazení vybraných rolí nově vytvořenému\nuživateli.</p>\n\n<p>Toto byla ukázka funkčnosti konkrétního šamana, ale vy si můžete\npomocí toho konceptu vytvořit vlastní šamany postavené na ovládacím\nprvku <code>asp:Wizard</code>. Nazapomeňtě, že se třída Wizard **renderuje\ndo tabulky **, což zhoršuje její přístupnost, ale i&#160;to se dá obejít\n– téma na další pokračování. Toť vše, drazí čtenáři, doufám, že\njsem vám alespoň trochu pomohl s&#160;pronikáním do tajů ASP.NET 2.0.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-02-06T18:49:16.187-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Šamanismus v ASP.NET 2.0",
  :published #inst "2006-02-05T14:07:40.617-00:00",
  :url "samanismus-v-asp-net-2-0",
  :category-url "asp-net-2-0.aspx",
  :id 106,
  :description "Zasvědcení do tajů ASP.NET 2.0...",
  :category "ASP.NET 2.0",
  :tags []},
 :179-moje-prvni-zkusenosti-s-vistou.aspx
 {:html
  "\n<p>Konečně jsem se dostal k dlouho očekávanému vyzkoušení Windows Vista\na jsem kupodivu spokojen :)</p>\n\n<p>Předběžné ohlasy z betafáze byli většinou se smíšenými pocity.\nPřesto jsem si zaregistroval jedno licenční číslo k Beta 2 a chystal se\njí instalovat na nový komp, ale do VirtualPC se mi instalace nezdařila, tak\njsem od toho na nějaký čas upustil. Když se teď začaly na blozích\noběvovat celkem kladné ohlasy na první Release Candidate verzi, začal jsem\no Vistě znovu uvažovat, nakonec mě přesvědčili screenshoty od ScottaGu,\nkde mu běželo ve Vistách Visual Studio :) V tom nenasytném systému? No,\nšak víme.</p>\n\n<p>V práci jsem si tedy stáhl image Vista RC1, rozdělil disk na dvě\npartition (dualboot se po ředchozích zkušenostech zdál přece jen\nschůdnější variantou), a vložil instalační DVD do mechaniky. Autorun mi\nnabídl možnost otestovat kompatibilitu s novým systémem. Pár věcí\nvypadalo, že asi ve Vistách po upgradu nepůjde, ale upgrade jsem stejně\nv úmyslu neměl :) Restartoval jsem počítač, v bootmenu jsem vybral DVD\nmechaniku a… nic. „Že by ta image nebyla bootovatelná? To snad ne!“\nVyndal jsem DVD oprášil ho (ikdyž bylo čerstvě vypálený) a zkusil to\nznovu. Instalátor se už tentokrát chytl.</p>\n\n<p>Instalace se vás nazačátku zeptá na to jaké chcete používat\nprostředí, vybral jsem si české (pozor neplést s češtinou ;)), nastavil\nsi svoji oblíbenou Czech (QWERTY) klávesnici. Pak jsem zadal svoje beta\nlicenční číslo, vybral cílovou partition a jelo to. Docela svižně,\nakorát deformace obrazu na mém wide screenu byla trochu nepříjemná. :) Po\nzkopírování systémových souborů do počítače došlo k restartu a\nk dokončení instalace. Založení uživatelského účtu už bylo ve\nsprávně rozpoznaném rozlišení a dostal jsem na výběr i pěknou sadu\npozadí pro wide screeny :) Pěkně, na detaily je dbáno už od začátku.</p>\n\n<p>Po přihlášení na mě čekalo Aero a Startup Manager, efekty běhaly\nplynule. Windows Experience Index 2,0. Není to moc (stahuje to dolu nVidia\nGrafika) :D Zapnul jsem WiFi kartu, u hodin se zobrazil ukazatel signálu jako\nna mobilu a zachvilku i bublia hlásící nalezené sítě. Pohoda, zatim jsem\nnepotřeboval instalovat jedinej ovladač a všechno funguje bez sebemenších\nproblémů. Spustil jsem si Task Manager, zjišťuje něco kolem 470 MiB\nzabrané paměti systémem. Pro někoho je to hodně, ale s trochou\nmatematické analýzy zjistíte, že jde o nepatrně vyšší číslo něž\nu Windows XP s nainstalovaným Windows Desktop Search, Windows Defenderem a\ns ovladačemi pro nejrůznější zařízení, která skrývá můj notebook ve\nsvých útrobách.</p>\n\n<p>Každého programátora zajímá jestli jdou ty barvičky (Aero) vypnout. Ano\njdou. To je ale asi očekávaná odpověď vždyť tu mám ještě Vista Basic\nrežim. Docela rozšířeným mýtem je, že Vista Basic je nejvíce easy\nrežim, kterej jde ve Vistě zapnout. Dobrá zpráva pro ortodoxní šediváky\nje, že režimy Windows Classic a Windows Standars známé z WinXP, zůstaly.\nNo ale stejně jsem si zase vrátil Aero…</p>\n\n<p>První věc, kterou jsem doinstaloval, byla betaverze 2007 Microsoft Office\nSystem, jak jinak. Krásná grafitová barva se nastavila ve Vistě automaticky,\ncož mi ulehčilo prácí s přenastavováním z azurové příšerky :)\nTakže Office je bez problémů. Další věcí, která mě zajímala, bylo jak\nse Vista popere s Visual Studiem. Musím říct, že bez problémů, dokonce mi\nsubjektivně přišlo, že Studio běhá rychleji :D</p>\n\n<p>Tak to jsou mé první dojmy z Visty. V testování a přípravě na\npřechod budu určitě pokračovat a snad si i najdu chvilku na napsání pár\nřádků o zkušenostech s IIS7 a dalších vývojářských novinkách\nve Vistě.</p>\n\n<p>Test proběhl na stroji Dell Latitude D620, Intel Core Duo T2300, 1 GiB RAM,\nnVidia Quadro NVS 110M 256 MiB.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:17:33.470-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Moje první zkušenosti s Vistou",
  :published #inst "2006-09-11T10:05:50.207-00:00",
  :url "moje-prvni-zkusenosti-s-vistou",
  :category-url "jen-tak.aspx",
  :id 179,
  :description
  "Konečně jsem se dostal k dlouho očekávanému vyzkoušení Windows Vista a jsem kupodivu spokojen :) ",
  :category "Jen tak",
  :tags ["windows" "vista"]},
 :183-prohlaseni-uzivatelu-marknet-cz.aspx
 {:html
  "\n<p>My, uživatelé serveru <a href=\"http://marknet.cz\">Marknet.cz</a>\nprostřednictvím své odborové organizace, vyzýváme touto cestou majitele a\nveřejného zástupce tohoto serveru, pana Radima Hasalíka, aby se vzdal\nvšech svých funkcí na Marknet.cz a doménu i&#160;se všemi závazky\nbezplatně předal do rukou pana Matěje Nováka ze společnosti Ataxo s.r.o.\nTento svůj požadavek odůvodňujeme odstrašujícícm chováním pana\nHasalíka v&#160;posledních dnech, kterým způsobil značné poškození\nslužby a urážku jejich uživatelů.</p>\n\n<p>Pan Matěj Novák opakovaně <a\nhref=\"http://pressportal.cz/pachollini/tz/1635-marknet-cz-a-marknet-eu-nemusi-zaniknout/\">veřejně\nnabídnul</a> možnost osobního převzetí služby a pokračování\nv&#160;jejím provozu bez podobných nestandardních výpadů, jaké\npředvádí pan Hasalík. Podle vyádření provozovatelů <a\nhref=\"http://weblogy.cz\">Weblogy.cz</a>, kteří pro Marknet.cz dodávají\ntechnické řešení, je z&#160;jejich hlediska tato cesta velmi dobře\nshůdná.</p>\n\n<p>Tuto výzvu činíme klidnou nerevoluční cestou a proto věříme, že pan\nRadim Hasalík přistoupí na naši odborovou diskusi a dojdeme společného\nřešení skrze pana Matěje Nováka. Děkujeme za pozornost a nyní se\nmůžeme vrátit zpět k&#160;plnění našich společných úkolů.</p>\n\n<p>Pro nezasvěcené: <a href=\"http://www.weblogy.cz/hledat/?q=marknet\">Co vše\nse o&#160;Marknet.cz napsalo</a> (články z&#160;Weblogy.cz)</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-10-11T11:53:59.330-00:00",
  :is-published true,
  :author "leopold",
  :title "Prohlášení uživatelů Marknet.cz",
  :published #inst "2006-10-11T10:38:18.237-00:00",
  :url "prohlaseni-uzivatelu-marknet-cz",
  :category-url "webdesign.aspx",
  :id 183,
  :description
  "Uživatelé Marknet.cz vyzývají majitele pana Radima Hasalíka, aby se služby vzdal ve prospěch pana Matěje Nováka. ",
  :category "Webdesign",
  :tags []},
 :185-format-opensearch-dil-1.aspx
 {:html
  "\n<p>O formát OpenSearch jsem se začal zajímat někdy najaře letošního roku\nz velmi prostého důvodu – lze v něm snadno definovat vlastní\nvyhledávací modul pro Internet Explorer 7.0 a Firefox 2.0. To však není\nvše, co tento formát umí a k čemu je určený.</p>\n\n<h3 id=\"toc-definice-vyhledavaciho-modulu\">Definice vyhledávacího modulu</h3>\n\n<p>Pokud máte na svém webu implementováno vyhledávání, můžete svým\nnávštěvníkům zkrátit cestu přidáním vlastního modulu, který se\npřidá do seznamu vyhledávacích strojů ve vašem prohlížeči. Jak na to\nvám vysvětlí následující odstavce :)</p>\n\n<p>Nejprve je nutné napsat OpenSearch Description dokument s definicí vašeho\nmodulu. Malá ukázka:</p>\n\n<pre\n><code class=\"language-markup\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;OpenSearchDescription xmlns=\"http://a9.com/-/spec/opensearch/1.1/\"&gt;\n  &lt;ShortName&gt;Web Search&lt;/ShortName&gt;\n  &lt;Description&gt;Use Example.com to search the Web.&lt;/Description&gt;\n  &lt;Tags&gt;example web&lt;/Tags&gt;\n  &lt;Contact&gt;admin@example.com&lt;/Contact&gt;\n  &lt;Url type=\"text/html\"\n       template=\"http://example.com/?q={searchTerms} \"/&gt;\n  &lt;Url type=\"application/rss+xml\"\n       template=\"http://example.com/?q={searchTerms}&amp;amp;amp;format=rss\"/&gt;\n&lt;/OpenSearchDescription&gt;</code></pre>\n\n<p>Ukázka popisuje fiktivní vyhledávač, který poskytuje výsledky hledání\nve formě HTML a RSS (dva elementy <code>Url</code> s definovaným\ncontent-typem), důležitým parametrem je <code>{searchTerms}</code>, který\nklient (např. prohlížeč) nahradí svým dotazem, <a\nhref=\"http://www.opensearch.org/Specifications/OpenSearch/1.1#OpenSearch_1.1_parameters\">další\nparametry</a> . Obsah elementu <code>ShortName</code> určuje název\nvyhledávacího stroje – tento se bude zobrazovat v seznamu vyhledávacích\nmodulů. Další elementy jen přidávají další metadata pro\nautodiscovery.</p>\n\n<p>Pak stačí přidat do vašich stránek element <code>link</code>, který\nodkazuje na soubor vytvořený v předešlém kroku. Připojení je obdobné\ns připojováním RSS nebo Atom kanálu. Příklad:</p>\n\n<pre\n><code class=\"language-markup\">&lt;link rel=\"Search\"\n      href=\"http://www.example.com/opensearch.xml\"\n      type=\"application/opensearchdescription+xml\"\n      title=\"Example Search\" /&gt;</code></pre>\n\n<p><img src=\"/data/obrazky/search.png\" class=\"right\"\nalt=\"rozsvícené tlačítko\" /> Pokud pak navštívíte takovou stránku,\nprohlížeč vám dá vědět, že našel modul rozsvícením tlačítka pro\nvýběr modulu.</p>\n\n<p>Další možností, jak modul vytvořit je použít <a\nhref=\"http://www.searchplugins.net/generate.aspx\">generátor</a>.</p>\n\n<h3 id=\"toc-souvisejici\">Související</h3>\n\n<ul>\n\t<li><a href=\"http://www.opensearch.org/\">OpenSearch.org</a></li>\n\n\t<li><a href=\"http://www.searchplugins.net/\">Search Plugins</a></li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:08:55.387-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Formát OpenSearch – díl 1.",
  :published #inst "2006-10-24T11:36:42.163-00:00",
  :url "format-opensearch-dil-1",
  :category-url "webdesign.aspx",
  :id 185,
  :description
  "Formát OpenSearch je zajímavou XML implementací. Pojďme se na něj podívat trochu blíž. V tomto díle se podíváme na to, jak implementovat vlastní vyhledávací plug-in do Internet Exploreru 7.0 a Firefoxu 2.0.",
  :category "Webdesign",
  :tags ["rss" "opensearch" "ie7" "firefox"]},
 :121-atlas-go-live.aspx
 {:html
  "\n<p>Ano, konečně je to tady. Microsoft dnes (se zahájením konference MIX'06)\nuvolnil novou verzi <a href=\"http://atlas.asp.net/\">ASP.NET\n&#8218;Atlas&#8216;</a> s&#160;licencí k&#160;ostrému provozu. Nyní tedy\nmůže být Atlas zařazen do produkčních produktů :)</p>\n\n<ul>\n\t<li><a\n\thref=\"http://weblogs.asp.net/atlas/archive/2006/03/20/440631.aspx\">Detaily\n\treleasu</a></li>\n\n\t<li><a href=\"mms://wm.microsoft.com/ms/uifx/asp_net_atlas.wmv\">Video\n\ts&#160;ukázkou vývoje v&#160;Atlasu</a></li>\n</ul>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-21T14:04:52.720-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Atlas go Live",
  :published #inst "2006-03-20T21:17:06.707-00:00",
  :url "atlas-go-live",
  :category-url "asp-net-2-0.aspx",
  :id 121,
  :description "S chutí do života.",
  :category "ASP.NET 2.0",
  :tags []},
 :445-asynchronni-vs-paralelni-zpracovani-uloh.aspx
 {:html
  "\n<p>S příchodem <code>async/await</code> do C# 5.0 se nám v různých APIs\nobjevily asynchronní metody, které vracejí <code>Task</code> nebo\n<code>Task&lt;T&gt;</code> a jejich název je vybaven kouzelným postfixem\n<code>Async</code>. Jde o takzvaný <a\nhref=\"http://msdn.microsoft.com/en-us/library/hh873175.aspx\">Task-based\nAsynchronous Pattern (TAP)</a>. A protože je postavený na datové struktuře\n<code>Task</code> může svádět k vlastním implementacím, které nejsou tak\nříkajíc <em>zrovna optimální</em>.</p>\n\n<blockquote class=\"twitter-tweet\">\n\t<p>That's an <a href=\"https://twitter.com/search/%23async\">#async</a>\n\timplementation! Not! <a href=\"http://t.co/sHBSxhfthj\"\n\ttitle=\"http://ow.ly/jjzrf\">ow.ly/jjzrf</a> <a\n\thref=\"https://twitter.com/search/%23sqlite\">#sqlite</a></p>\n\t— Jiri Cincura (@cincura_net) <a\n\thref=\"https://twitter.com/cincura_net/status/315067029021413376\">March 22,\n\t2013</a></blockquote>\n\n<p>Začneme malou ukázkou z praxe. V předchozím tweetu Jirka ukazuje na\n„asynchronní“ implementaci metody <code>ToFirstAsync()</code> ze\nSQLite:</p>\n\n<pre\n><code class=\"language-csharp\">public Task&lt;T&gt; ToFirstAsync ()\n{\n  return Task&lt;T&gt;.Factory.StartNew(() =&gt; {\n    using (((SQLiteConnectionWithLock)_innerQuery.Connection).Lock ()) {\n      return _innerQuery.ToFirst ();\n    }\n  });\n}</code></pre>\n\n<p>Co je na ní špatného?</p>\n\n<p>Když pominu maďarské podtržítko, mezery před závorkama, zbytečné\nsložené závorky a vůbec… Zkrátka vidíme ukázkový pokus o implementaci\nTAP pomocí <a href=\"http://msdn.microsoft.com/en-us/library/dd460717.aspx\">Task\nParallel Library (TPL)</a>. A to je <strong>špatně</strong>. Ve skutečnosti\nnejde o asynchronní operaci, ale o operaci odpálenou na jiném threadu.</p>\n\n<h3 id=\"toc-asynchronni-vs-paralelni\">Asynchronní vs. paralelní</h3>\n\n<p>Nejprve bychom si asi měli ujasnit, jaký rozdíl je mezi asynchronním a\nparalelním zpracováním, protože to stále většině lidí není jasné.\nAno, i já se v tom občas ztrácím, ale snažím se. :)</p>\n\n<p>Představte si dlouhotrvajících operaci. Řekněme takovou, která není\npřímo spojená s výpočtem (CPU-bounded), ale takovou, která si šahá na\nněkteré ze vstupně/výstupních zařízení (IO-bounded). Tak tedy vězte,\nže asynchronní operace je taková, která běží v tomto zařízení. Pokud\ntřeba čteme z disku, databáze nebo z cloudu, pošleme požadavek na\nzařízení a <strong>nečekáme na odpověď</strong> přímo, ale necháme\nzařízení <strong>ať se nám ozve samo</strong>, až bude jeho odpověď\npřipravená. Mezi tím se může aplikace věnovat jiným úlohám. Žádná\nvlákna zde není třeba zmiňovat.</p>\n\n<p>Pokud zadáme úlohu ke zpracování jinému vláknu, zavádíme konkurenci.\nUkázka výše odstartuje nový Task, který se s největší\npravděpodobností spustí na jiném threadu a záhy ho zamkne. Sice neblokuje\nvlákno, ze kterého operaci voláme, ale blokujeme vlákno jiné. Jaký je\núčel? A náklady na synchronizaci?</p>\n\n<p>Paralelizace je vhodná tam, kde máme <strong>výpočetně náročné\noperace</strong> a dají se rozdělit na několik kroků, které mohou běžet\nkonkurenčně. Tj. nesdílí stav a slouží třeba jako mezivýsledky\nv nějakém větším výpočtu. Typickým příkladem může být Map/Reduce.\nMapování může běžet paralelně, redukce pak proběhne po doběhnutí\nmapování, případně může také probíhat paralelně v nějakých\nclusterech dat.</p>\n\n<p>Tak, snad je to už jasné. :)</p>\n\n<p>Dalším velkým rozdílem je, že paralelizace zpracování je\nimplementační detail, a ten by jako takový neměl prosakovat do APIs. Pokud\ntedy uvidíte metodu, která vrací <code>Task</code> nebo\n<code>Task&lt;T&gt;</code> a v její implementaci je <code>Task.Run</code>\npotažmo starší verze <code>Task.Factory.StartNew</code>, považujte to\nza smell.</p>\n\n<h3 id=\"toc-taky-jsem-ji-mel\">Taky jsem ji měl</h3>\n\n<p>Popravdě, taky jsem takovou metodu měl. Zjednodušeně vypadala asi\nnějak tak:</p>\n\n<pre\n><code class=\"language-csharp\">class Client : ConsumerOf&lt;Message&gt; {\n  readonly ManualResetEvent sync = new ManualResetEvent(false);\n\n  public Task&lt;Result&gt; QueryAsync(Request request) {\n    return Task.Factory.StartNew(() =&gt; {\n      SendQuery(request.ToQuery());\n      sync.Wait();\n      return Result;\n    });\n  }\n\n  public void Consume(Message msg) {\n    sync.Set();\n    Result = msg.ToResult();\n  }\n}</code></pre>\n\n<p>Jak vidíte, spouští se tu nový Task, který odešle dotaz a čeká na\nodpověď. Dotaz i odpověď jsou zprávy cestující po service busu.\nVšimněte si <em>synchronizace</em> (sic!) pomocí signální události.\nNavenek se to tváří jako asynchronní, ale je to celkem pěkně drahá\nsranda. Jak to udělat opravdu asynchronně?</p>\n\n<h3 id=\"toc-lepsi-reseni\">Lepší řešení</h3>\n\n<p>Klíčem k úspěchu je využití třídy\n<code>TaskCompletionSource</code>:</p>\n\n<pre\n><code class=\"language-csharp\">class Client : ConsumerOf&lt;Message&gt; {\n  readonly TaskCompletionSource tcs = new TaskCompletionSource();\n\n  public Task&lt;Result&gt; QueryAsync(Request request) {\n    SendQuery(request.ToQuery());\n    return tcs.Task;\n  }\n\n  public void Consume(Message msg) {\n    tcs.TrySetResult(msg.ToResult());\n  }\n}</code></pre>\n\n<p>Task nevytváříme pomocí <code>TaskScheduler</code>u, který ho alokuje\nněkde na ThreadPoolu, ale pomocí <code>TaskCompletionSource</code>. Result se\nnastaví ve chvíli, kdy přijde odpověď. Nepotřebujeme žádné semafory,\nvše funguje pěkně asynchronně. Můžeme snadno přidat řešení chybových\nstavů, timeout nebo cancellation. Dle potřeb a celkem levně.</p>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p>Asynchronní APIs má cenu vystavovat pouze u IO operací. Výpočetně\nnáročné operace můžeme vnitřně paralelizovat, ale nikdy tento detail\nnezveřejňujeme v APIs. Pro asynchronní operace nepoužíváme\n<code>TaskFactory</code> ani synchronizační objekty, ale\n<code>TaskCompletionSource</code>. Já už si to budu pamatovat. Doufám, že\ni vy. :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-03-26T16:35:46.720-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Asynchronní vs. paralelní zpracování úloh",
  :published #inst "2013-03-26T12:42:52.607-00:00",
  :url "asynchronni-vs-paralelni-zpracovani-uloh",
  :category-url "moje-prace.aspx",
  :id 445,
  :description
  "Dnes se podíváme na zoubek asynchronnímu a paralelnímu zpracování.",
  :category "Moje práce",
  :tags ["async"]},
 :245-nforms-pro-asp-net.aspx
 {:html
  "\n<p>Do vydání kompletního frameworku Nette je ještě asi daleko, ale to\nnevadí. My na ASP.NET bychom z něj stejně žádný užitek neměli. Tedy\nvlastně, proč by ne?</p>\n\n<p>Vždyť <a href=\"http://nettephp.com\">Nette</a> je protkáno spoustou\nskvělých nápadů. A když jde o skvělé nápady proč je nezhmotnit že?\n:) Ukradl jsem Davidovo mentální bohatství a jal se implementovat NForms\nv C#. Jako inspirace mi sloužila skvělá <a\nhref=\"http://www.avc-cvut.cz/avc.php?id=5258\">přednáška o Nette\nframeworku</a>. Zatím jsem ve fázi (po dvou dnech koukání na přednášku a\npřerušovaného psaní), kdy se formuláře hezky generují. To je tak\nčtvrtina úspěšné cesty, doufám.</p>\n\n<h3 id=\"toc-nahlizime-pod-poklicku\">Nahlížíme pod pokličku</h3>\n\n<p>Základem je něco, jako NHtml, třída <code>HtmlElement</code>, která se\nstará o generování kódu. Syntaxe částečně vychází z NHtml, ale\nvzhledem k rozdílnosti jazyků, jsem některé věci musel řešit odlišně.\nV podstatě jsem zde narážel na limity C# jako staticky typovaného\njazyka.</p>\n\n<pre\n><code class=\"language-csharp\">var input = new HtmlElement(\n  \"input\",\n  new { Name = \"name\", Id = \"nameInput\", Type = InputType.Text },\n  HtmlElement.SelfClosing\n);</code></pre>\n\n<p>V ukázce je vytvoření elementu <code>input</code> včetně některých\natributů. Atributy se předávají pomocí vlastností anonymní třídy.\nVygenerovaný kód vypadá následovně:</p>\n\n<pre\n><code class=\"language-markup\">&lt;input name=\"name\" id=\"nameInput\" type=\"Text\" /&gt;</code></pre>\n\n<p>Další vlastnosti lze nastavovat přes indexer následujícím\nzpůsobem:</p>\n\n<pre><code class=\"language-csharp\">input[\"MaxLength\"] = 25;</code></pre>\n\n<p>Dále pak má metody pro přidávání potomků, nastavování textu nebo\nHTML, přidávání/odebírání CSS třídy a samotné renderování.</p>\n\n<p>Na tomto základě pak vyrůstá formulářová nadstavba. Snažil jsem se co\nnejvíce přiblížit API PHPčkovému vzoru, ale práce je v tomto směru\nvelice těžká. Zlatej Microsoft a OpenXML ;) Vzorem je pár zachycených\nřádků na přednášce (David pekelně rychle mačká PgDown/PgUp) a vlastní\nfantazie ohledně zbytku.</p>\n\n<p>No prozatím jsem se dostal do následujícího stavu. Následná akce\nřadiče:</p>\n\n<pre\n><code class=\"language-csharp\">[ControllerAction]\npublic void Index() {\n  var genres = new ListItem[] {\n    new ListItem { Text = \"muž\", Value = 1 },\n    new ListItem { Text = \"žena\", Value = 2 }\n  };\n\n  Form form = new Form();\n  form.AddText(\"name\", \"Jméno:\", 20, 50);\n  form.AddText(\"email\", \"E-mail\", 20, 255);\n  form.AddHidden(\"skryte\").SetValue(\"nějaká hodnota - skrytá\");\n  form.AddRadio(\"pohlavi\", \"Pohlaví:\", genres);\n  form.AddButton(\"submit\", \"Odeslat\");\n  Form = form;\n  RenderView(\"Index\");\n}</code></pre>\n\n<p>ve spojení se šablonou v pohledu:</p>\n\n<pre\n><code class=\"language-markup\">&lt;form method=\"post\" action=\"\"&gt;\n&lt;div style=\"display:none\"&gt;&lt;%=Form[\"skryte\"].Control %&gt;&lt;/div&gt;\n&lt;fieldset&gt;\n  &lt;legend&gt;Osobní údaje&lt;/legend&gt;\n&lt;table&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;%=Form[\"name\"].Label %&gt;&lt;/td&gt;\n  &lt;td&gt;&lt;%=Form[\"name\"].Control %&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;%=Form[\"email\"].Label %&gt;&lt;/td&gt;\n  &lt;td&gt;&lt;%=Form[\"email\"].Control %&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;%=Form[\"pohlavi\"].Label %&gt;&lt;/td&gt;\n  &lt;td&gt;&lt;%=Form[\"pohlavi\"].Control %&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;/td&gt;\n  &lt;td&gt;&lt;%=Form[\"submit\"].Control %&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/fieldset&gt;\n&lt;/form&gt;</code></pre>\n\n<p>Vygeneruje následující kód:</p>\n\n<pre\n><code class=\"language-markup\">&lt;form method=\"post\" action=\"\"&gt;\n&lt;div style=\"display:none\"&gt;\n&lt;input name=\"skryte\" type=\"Hidden\" value=\"nějaká hodnota - skrytá\" /&gt;\n&lt;/div&gt;\n&lt;fieldset&gt;\n  &lt;legend&gt;Osobní údaje&lt;/legend&gt;\n&lt;table&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;label for=\"name\"&gt;Jméno:&lt;/label&gt;&lt;/td&gt;\n  &lt;td&gt;&lt;input name=\"name\" id=\"name\" type=\"Text\" size=\"20\" maxlength=\"50\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;label for=\"email\"&gt;E-mail&lt;/label&gt;&lt;/td&gt;\n  &lt;td&gt;&lt;input name=\"email\" id=\"email\" type=\"Text\" size=\"20\" maxlength=\"255\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;label&gt;Pohlaví:&lt;/label&gt;&lt;/td&gt;\n  &lt;td&gt;\n    &lt;input name=\"pohlavi\" id=\"pohlavi0\" type=\"Radio\" value=\"1\" /&gt;\n    &lt;label for=\"pohlavi0\"&gt;muž&lt;/label&gt;&lt;br /&gt;\n    &lt;input name=\"pohlavi\" id=\"pohlavi1\" type=\"Radio\" value=\"2\" /&gt;\n    &lt;label for=\"pohlavi1\"&gt;žena&lt;/label&gt;&lt;br /&gt;\n  &lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n  &lt;td&gt;&lt;/td&gt;\n  &lt;td&gt;&lt;input name=\"submit\" type=\"Button\" value=\"Odeslat\" /&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n&lt;/fieldset&gt;\n&lt;/form&gt;</code></pre>\n\n<p>A to je zatím vše. A proč to vlastně dělám a nepokračuju v <a\nhref=\"/weblog/242-redakcni-system-na-asp-net-mvc.aspx\">seriálu\no Gryphoonu</a>? Inu, vlastně pokračuju, pokračuju…</p>\n\n<p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/gryphoon\">Gryphoon</a>, <a\nrel=\"tag\" href=\"http://technorati.com/tag/nforms\">NForms</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/aspnetmvc\">aspnetmvc</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:47:08.790-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "NForms pro ASP.NET",
  :published #inst "2007-12-28T18:15:57.157-00:00",
  :url "nforms-pro-asp-net",
  :category-url "asp-net-2-0.aspx",
  :id 245,
  :description
  "Do vydání kompletního frameworku Nette je ještě asi daleko, ale to nevadí. My na ASP.NET bychom z něj stejně žádný užitek neměli. Tedy vlastně, proč by ne?",
  :category "ASP.NET 2.0",
  :tags ["nforms" "aspnet"]},
 :232-alessio-busta-toca-apocalypsa.aspx
 {:html
  "\n<ol>\n\t<li>Pryda – Balaton</li>\n\n\t<li>Fragma – Toca Me (Inpetto Remix)</li>\n\n\t<li>Gat Decor – Passion (Dave Spoon Mix)</li>\n\n\t<li>Arno Cost &amp; Norman Doray – Apocalypse</li>\n\n\t<li>John Shelvin – In My Eyes (Funkagenda's Sha­kin' Malcom Mix)</li>\n\n\t<li>Splittr – All Alone (Michael Gray Remix)</li>\n\n\t<li>D.O.N.S. &amp; DBN feat. Kadoc – The Nighttrain (Original Mix)</li>\n\n\t<li>Hardsoul – Self Religion (Believe In Me) (Mark Knight Remix)</li>\n\n\t<li>Toby Montana &amp; Lützenkirchen – Last Night In Vegas (Paolo\n\tMojo Mix)</li>\n\n\t<li>Axwell feat. Charles Salter – I Found U (Dubfire's Summer of\n\tDub Remix)</li>\n\n\t<li>Laidback Luke – Down With The Mustard (Original Mix)</li>\n</ol>\n\n<p>Ke stažení <a\nhref=\"http://rarousmusic.com/mp3/alessio_busta_-_toca_apocalypsa-rm.mp3\"\nonclick=\"javascript:_gat._getTracker(\">Alessio Busta – Toca Apocalypsa</a>\n(MP3 128 kbps; 72,1 MiB)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T14:11:51.977-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Alessio Busta - Toca Apocalypsa",
  :published #inst "2007-11-22T10:52:15.713-00:00",
  :url "alessio-busta-toca-apocalypsa",
  :category-url "muzika.aspx",
  :id 232,
  :description "Po delší době zase nějaký setík od Alessia.",
  :category "Muzika",
  :tags []},
 :371-tropnete-si-o-sud-piva.aspx
 {:html
  "\n<p>Na Tropu už máme přes šestset recenzí a to díky vám! Za poslední\ntýden se počet recenzí takřka zdvojnásobil. To mě velice těší, protože\nTrop tak začíná mít smysl. Líbí se mi, že začali psát i další lidé\na hlavně kvalitní recenze. Moc se mi líbí <a\nhref=\"http://www.trop.cz/lide/dero/recenze\">recenze od Dera</a>, jsou snad\nještě lepší, než jeho titulky na HIMYM. ;) Za zmínku stojí také <a\nhref=\"http://www.trop.cz/lide/slovodaloslovo/recenze\">recenze\nslovodaloslovo</a>, což je profesionální copywriterka. :) Napsala o nás\ntaky <a\nhref=\"http://slovodaloslovo.cz/blog/trop-cz-vymenujte-si-sve-zkusenosti-z-ruznych-mist/\"\ntitle=\"Trop.cz – vyměňujte si své zkušenosti z různých míst\">jeden\nspot</a>. Děkujeme.</p>\n\n<p>Každý má svůj osobitý styl a to je super. Jen tak dál! :)</p>\n\n<h3 id=\"toc-proc-psat-na-trop\">Proč psát na Trop?</h3>\n\n<p>Možná si říkáte, „proč bych na Trop měl psát?“ Jedním\nz důvodů může být to, že se procvičíte v psaní jako takovém. Navíc\ntim můžete někomu pomoci se rozhodnout, zda má cenu neznámé místo\nnavštívit. A v neposlední řadě <strong>probíhá soutěž!</strong> Máte\nještě deset dní na to se umístit na čelních pozicích a <a\nhref=\"http://www.trop.cz/soutez\">vyhrát některou z cen</a>. Osobně pochybuju\no tom, že ještě někdo dokáže dohnat <a\nhref=\"http://www.trop.cz/lide/voy/recenze\">voytu</a>, který žebříček táhne\na jde si pro svůj sud piva, ale nemožné to je! Třeba mu ten sud ještě\nněkdo vyfoukne. ;)</p>\n\n<p>Takže <a href=\"http://www.trop.cz/\">Tropujte</a>!</p>\n\n<h3 id=\"toc-souvisejici\">Související</h3>\n\n<ul>\n\t<li><a rel=\"bookmark\" title=\"Seznamte se s Tropem\"\n\thref=\"/weblog/368-seznamte-se-s-tropem.aspx\">Seznamte se s Tropem</a></li>\n\n\t<li><a\n\thref=\"http://slovodaloslovo.cz/blog/trop-cz-vymenujte-si-sve-zkusenosti-z-ruznych-mist/\"\n\ttitle=\"Trop.cz – vyměňujte si své zkušenosti z různých míst\">Trop.cz –\n\tvyměňujte si své zkušenosti z různých míst</a></li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-11-20T15:26:38.037-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Tropněte si o sud piva",
  :published #inst "2009-11-20T15:12:06.313-00:00",
  :url "tropnete-si-o-sud-piva",
  :category-url "webdesign.aspx",
  :id 371,
  :description
  "Lidé začínají Trop používat, recenze přibývají a já jsem rád. A víte proč to dělají? Protože mohou vyhrát třeba sud piva. A nebo proto, že je to baví. Možná :)",
  :category "Webdesign",
  :tags ["trop"]},
 :272-mereni-uzivatelu-kanalu-jinak-a-lepe.aspx
 {:html
  "\n<p>Na blogu OVX píšou: <a\nhref=\"http://www.ovx.cz/cz/polibek-story.php?zprava=111&amp;rubrika=2\">Kdopak\nspadl do kanálu?</a> A popisují jak měřit stahovanost RSS kanálu pomocí\n<a href=\"http://analytics.google.com/\">Google Analytics</a>. Nápad to není\nšpatný, ale měřené výsledky jsou celkem zavádějící – měří se\nkaždý hit na feed.</p>\n\n<p>Pro měření oblíbenosti vašich feedů je tu mnohem lepší služba –\n<a href=\"http://www.feedburner.com/\">FeedBurner</a>. Kdysi placená služba je\nuž nějaký ten pátek bezplatná. Co všechno tato služba nabízí?</p>\n\n<ol>\n\t<li>Mirorování vašeho feedu – snížíte si trafik a zátěž\n\tserveru.</li>\n\n\t<li>Měření počtu odběratelů.</li>\n\n\t<li>Měření prokliku z feedu na vaše stránky.</li>\n\n\t<li>Monetizaci pomocí reklam.</li>\n\n\t<li>Mnoho dlaších služeb, které vám usnadní a zpříjemní práci\n\ts vašimi feedy.</li>\n</ol>\n\n<div class=\"image\"><img src=\"/data/obrazky/feedburner.png\"\nalt=\"Statistiky ve FeedBurneru\" /></div>\n\n<p>Nevýhodou takového řešení je, že musíte změnit URL adresu feedu. Mně\nkonverze uživatelů na novou adresu trvala asi dva až tři měsíce. Ale zas\ntolik jich nemám. Problém byl v tom, že jsem musel uživatele přimět\nk tomu, aby si URL feedu změnili sami, protože jsem z technických důvodů\nnemohl feed přesměrovávat na novou adresu. Ale lze docílit i hladkého\npřechodu pomocí trvalého přesměrování.</p>\n\n<p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/rss\">RSS</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/feedburner\">FeedBurner</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/analytics\">Analytics</a></p>\n\n<!-- by Texy2! -->",
  :keywords "RSS Analytics FeedBurner",
  :edited #inst "2008-06-16T18:47:52.840-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Měření uživatelů kanálů jinak a lépe",
  :published #inst "2008-05-22T08:10:27.480-00:00",
  :url "mereni-uzivatelu-kanalu-jinak-a-lepe",
  :category-url "webdesign.aspx",
  :id 272,
  :description
  "Na blogu OVX píšou: Kdopak spadl do kanálu? A popisují jak měřit stahovanost RSS kanálu pomocí Google Analytics. Nápad to není špatný, ale na měření oblíbenosti vašich feedu je tu lepší služba.",
  :category "Webdesign",
  :tags []},
 :117-o-znasilnovani-typu-dokumentu.aspx
 {:html
  "\n<p>Čas od času si prohlížím zdrojové kódy stránek, které si zrovna\nčtu. Jen tak pro inspiraci, či ze zvědavosti, je to taková profesní\ndeformace :) Všiml jsem si, že často používaným typem dokumentu je na\nčeských blozích <em>XHTML 1.0&#160;Strict</em>. Jo to beru, lidi se chtěj\ndržet standardů nebo chtěj být prostě IN. Je to chvály hodné, ale\nvětšina asi netuší proč to dělá, že to dělají chybně. Pokud máte\ndokument XHTML 1.0&#160;Strict, <strong>musíte</strong> ho servírovat\ns&#160;mime-typem <code>application/xhtml+xml</code> nebo\n<code>text/xml</code>, ale rozhodně ne jako <code>text/html</code>, který je\nurčen jen a pouze pro HTML, s&#160;drobnou výjimkou XHTML\n1.0&#160;Transitional, kde je to tolerováno.</p>\n\n<p>Z&#160;mého soukromého bádání na malém vzorku vychází, že to\nobrovská majorita dělá <strong>blbě</strong>. Najdou se světlé výjimky\npostavené na <a href=\"http://www.blogcms.org/\">Blog:CMS</a>, které,\nposílají správný mime-type <code>application/xhtml+xml</code> pro klienty,\nkteré ho znají, ale pokud narazí na klienta, který XHTML nezná, posílají\nmu mime-type <code>text/html</code>, což je blbě :)</p>\n\n<p>Teď si tu udělám malé promo, protože Gryphoon je jediný redakční\nsystém, který znám, který už v&#160;základu posílá nejen správný\nmime-type, ale i&#160;typ dokumentu pro prohlížeče, které neznají XHTML.\nNavíc jde ještě o&#160;kousek dál. Díky ASP.NET 2.0, která má\nv&#160;konfigurační souboru možnost <a\nhref=\"/clanek/78-jak-na-validator-w3c.aspx\">nastavit způsob výstupu</a>,\ngryphoon se chová i&#160;podle toho. Takže, pokud je v&#160;konfiguraci\nnastaven režim <em>Strict</em> posílá se na výstup plně validní XHTML\n1.1&#160;s&#160;mime-typem <code>application/xhtml+xml</code>, nebo HTML\n4.01&#160;Strict pro prohlížeče, které neznají XHTML. V&#160;režimu\n<em>Transitional</em> jde na výstup XHTML 1.0&#160;Transitional opět\ns&#160;patřičným mime-typem a v&#160;režimu <em>Legacy</em> vyjedou takové\nty divné věci, co jako HTML vypadají. Ovšem nekončí to jen u&#160;typu\ndokumentu, ale pokračuje to i&#160;správným výstupem. Upravují se scripty,\nformuláře a vůbec celý výsledný kód.</p>\n\n<p>Na závěr ještě taková perlička. W3C , které vydává webová\ndoporučení a podle kterých se Gryphoon řídí, se samo svými\ndoporučeními neřídí :)</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-12T11:10:44.640-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "O znásilňování typu dokumentu",
  :published #inst "2006-03-12T11:10:44.533-00:00",
  :url "o-znasilnovani-typu-dokumentu",
  :category-url "webdesign.aspx",
  :id 117,
  :description
  "Víte o tom, že když si myslíte, že děláte něco dobře, memusí to dobré být?",
  :category "Webdesign",
  :tags []},
 :77-redesign.aspx
 {:html
  "\n<p>S&#160;příchodem listopadu přicházím s&#160;novým vzhledem stránek a\ndalšíma vychytávkama. Protože jsem zprovoznil plugin do Gryphoonu, který\ngeneruje galerie fotografií z&#160;<acronym\ntitle=\"Extensible Markup Language\">XML</acronym> exportu <a\nhref=\"http://picasa.google.com\">Picasy</a>, musel jsem rozšířit design, aby\nse do něj vešly fotky o&#160;rozměru 640px. Vzal jsem to z&#160;gruntu a\nudělal novej design &#8211; tedy jen StyleSheet. Zatim není úplně dopsaný,\nproto není nasazený na celém webu, ale během několika následujících\ndnů ho pustim i&#160;do blogu. Je to práce za dnešní odpolede, proto\npotřebuje ještě trochu doladit. Prosím pište mi chyby nebo názory co\nještě dodělat ;) Moc díky&#8230;</p>\n\n<p>PS: Pravděpodobně to tu zejtra začne blikat, jak budu za pochodu upravovat\nstyl :)</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Redesign",
  :published #inst "2005-11-01T20:28:32.050-00:00",
  :url "redesign",
  :category-url "webdesign.aspx",
  :id 77,
  :description "Když je to tu jaro, teda vlastně pozdim...",
  :category "Webdesign",
  :tags []},
 :145-php-brzda-internetu.aspx
 {:html
  "\n<p>Nechci tímto článkem rozpoutávat flamewar, ani polemiky, zda je lepší\nPHP nebo ASP.NET – každé má své využití v&#160;odlišných\nscénářích. To jen tak pro začátek. Tenhle článek se pozastavuje nad\ntím, jak jsou některé věci (PHP) znásilňovány k&#160;jiným věcem, na\nkteré nejsou vhodné (SOAP služby).</p>\n\n<p>Kolega Filip – ten, díky němuž jsem šel na školení :) – řeší\nzajímavý problém. V&#160;rámci spolupráce s&#160;jednou firmou (není\npodstatné s&#160;jakou) potřebuje vzdáleně volat jejich API a to je\nposkytnuto pomocí webové služby na protokolu SOAP. To je super. Háček je\nv&#160;tom, že zase tak super to není, protože vzdálená implementace\nnerespektuje standardy. A&#160;to navíc standardy, které osobně považuji za\nmnohem důležitější než (X)HTML a CSS – modly spousty webdesignérů.\nKonkrétně jde o&#160;WSDL. WSDL je formát, který formálně popisuje\nrozhraní služby, struktury využívané při vzdálené komunikaci a datové\ntypy vlastností struktur. Podle tohoto popisu můžete nechat vygenerovat\nProxy třídy pro komunikaci se službou, tak že se služba chová jako jedna\nz&#160;tříd vašeho projektu. A&#160;pomalu se dostáváme k&#160;nadpisu :)\nJelikož PHP formálně nezná datové typy – je typované dynamicky –\nnedochází ke správné interpretaci typů vlastností struktur. To by zase\ntak úplně nevadilo, že místo Integerů a Booleanů vám choděj Stringy, to\nse dá přežít, ale horší je, že PHP přidává do SOAP zpráv elementy,\nkteré nejsou ve WSDL popsány a tudíž se s&#160;nimi nepopere parser.</p>\n\n<p>Můj odhad je, že služba je napsaná v&#160;PHP 5, které má podporu\nSOAPu, vlastní zkušenosti s&#160;tím ale nemám. Na PHP 4&#160;jsem zkoušel\nframework nuSOAP, který má trochu odlišné výstupy než zmiňovaná\nslužba. PHP 5, tedy přináší možnost vytvářet a konzumovat webové\nslužby běžící na protokolu SOAP, ale jeho výstupy si pravděpodobně\nneodpovídají. WSDL by totiž měl popisovat, jak bude výsledná SOAP zpráva\nvypadat a konzument se na to spoléhá, ale výstupní zpráva má úplně\njiný formát. To pěkně děkuju. To si mám napsat vlastní WSDLko, abych\nmohl konzumovat cizí službu, na kterou se nemohu spolehnout, nebo ručně\nparsovat hodnoty z&#160;příchozích zpráv a skládat zprávy odchozí?\nA&#160;co když se za čas služba pozmění? Bodejď by pak WS nebyly\npovažovány za další webovou bublinu, s&#160;tímhle přístupem to ani\njinak nejde…</p>\n\n<h3>Slovníček</h3>\n\n<dl>\n\t<dt><a href=\"http://www.w3.org/TR/soap12-part0/\">SOAP</a></dt>\n\n\t<dd>Simple Object Access Protocol</dd>\n\n\t<dd>XML protokol pro podporu komunikace webových služeb nejen přes HTTP</dd>\n\n\t<dt><a href=\"http://www.w3.org/TR/wsdl20-primer/\">WSDL</a></dt>\n\n\t<dd>Web Service Description Language</dd>\n\n\t<dd>XML jazyk, využívající XSD k&#160;formálnímu popisu rozhraní\n\twebových služeb</dd>\n</dl>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-05-09T20:59:25.220-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "PHP, brzda internetu?",
  :published #inst "2006-05-09T20:59:25.223-00:00",
  :url "php-brzda-internetu",
  :category-url "webdesign.aspx",
  :id 145,
  :description
  "Proč se PHP nasazuje do scénářů, pro které není evidentně určeno?",
  :category "Webdesign",
  :tags []},
 :429-test-driven-development-pribeh-nezbedneho-vyvojare.aspx
 {:html
  "\n<p>Lukáš napsal spot <a\nhref=\"http://blog.krecan.net/2012/10/04/pokud-jde-kod-spatne-otestovat-je-spatne-navrzeny/\">Pokud\njde kód špatně otestovat, je špatně navržený</a>, který mě donutil se\nzamyslet (<a href=\"http://rarous.net/clanek/413-k-cemu-vlastne-tdd.aspx\">občas\nto dělám</a>). Zmyslet se nad tím, proč je u nás málo článků o TDD.\nJe to věc, která souvisí s přesvědčením. Obecně panuje přesvědčení,\nže psaní testů je práce navíc, že to prodlužuje dobu dodání, že je to\npeklo a nuda. Takové přesvědčení je hluboce zakořeněné a je velmi\nnebezpečné.</p>\n\n<p>V podstatě to vypovídá o povaze takových stoupenců. Jsou to lidé,\nkteří jsou spokojení s tím co dělají, jsou to dříči. Nevadí jim\nopakovat dokola stále stejné chyby. Nevadí jim sedět v práci dlouho do\nnoci, dělat víkendy nebo si tahat práci domů. Práce, kterou dělají je\nsložitá a oni za to dostávají slušně zaplaceno. Tak to je. Proč něco\nměnit? Upřímně, já nevím.</p>\n\n<p>Netvrdím, že všechen kód píšu tak, že si na něj nejdřív vytvořím\ntesty. On je to i nesmysl. Někteří považují za <a\nhref=\"http://rarous.net/clanek/415-tri-prikazani-tdd.aspx\">TDD</a> to, že\nnapíšou 100 testů a k nim kód a mají hotovo. Blbost. Tohle je stejně\nšpatný přístup jako nakreslit si to nejdřív v UML. Potřeba tvořit\nvelkolepá díla do našeho řemesla nepatří. Musíme se naučit spokojit\ns málem. Pak možná zjistíme, že ty malé kousky, které dávají smysl, se\ndají <a\nhref=\"http://rarous.net/clanek/428-inversion-of-control.aspx\">zázračně\npropojit</a> a najednou máme velký celek, který je často kvalitnější a\nfunguje.</p>\n\n<p>Nedílnou součástí dobrého návrhu je i prototypování. <a\nhref=\"http://rarous.net/clanek/422-je-povoleno-psat-kod-dvakrat.aspx\">Prototypování\nje cesta</a> jak prozkoumávat průchozí uličky. Důležité u prototypu je,\nže ten nikdy nejde do produkce. <strong>Nikdy!</strong> Ano, stálo to čas,\nale získali jsme cenné zkušenosti. Teď je na čase sepsat si itinerář\nbodů, které chceme na cestě potkat a podle něj začít psát první testy a\nimplementovat kód, který jimi prochází. <a\nhref=\"http://blog.kolman.cz/2012/04/tdd-as-if-you-meant-it.html\">Po malých\nkrůčcích.</a> Kochat se a hlavně uklízet za sebou. Na <a\nhref=\"http://rarous.net/clanek/406-refaktoring.aspx\">refactoring</a> je čas\nv každém okamžiku. A vězte, že i když nevidíte, že by se něco dalo\nrefactorovat, neznamená to, že by to nešlo.</p>\n\n<p>Je důležité mít každou chvilku funkční kód. Je to neskutečně\npovzbuzující a člověk nepropadá často zoufalství. Má to obrovský dopad\nna produktivitu. Zoufalí lidé dělají zoufalé věci. Uchylují se pak snadno\nk prasečinkám a celé snažení posílají v prdel. Neježe pak nestíhají\ntermíny, ale dodávají nekvalitní produkty. Spirála smrti. To, že\nchvátáte, neznamená, že jdete rychle. Určitě ne k cíli. Věřte mi, sám\njsem si to několikrát prožil.</p>\n\n<h3 id=\"toc-muj-pribeh\">Můj příběh</h3>\n\n<p>Můj kód není dokonalý. Obsahuje chyby. Do produkce jsem hodněkrát\nnechal nasadit nefungující kód. Neotestovaný kód. V důsledku toho se\ntřeba na celém Atlase ztratily všechny obrázky u zpráv. To není malá\nchyba. Je to celkem průser a taky nálepka, která se špatně strhává. To\nbyl pro mne bod zlomu. Začal jsem se zajímat o to, jak něčemu takovému\npředejít. Hehe, ale pak přišla registrace do Atlasu Firem. Měl jsem měsíc\nna to, abych udělal nad technologií, která byla teprve v plenkách, produkt.\nTo byla obrovská bolest. Neskutečné záseky. Jednou jsme se Steidou seděli\nnad pomalejma javascriptama do dvou do rána v kanclu. A zase to byl fail.\nSice se to stihlo a běželo to, ale byly tam chyby a s tím kódem se nedalo\ndělat vůbec nic. Tam probíhala magie.</p>\n\n<p>V podstatě stejný kus kódu jsem za nedlouho psal znovu – registrace\nodkazů do katalogu. Tentokrát řízený pomocí testů. Trvalo to asi stejně,\nmožná o týden o dva dýl (testovat jsem se teprve učil, s tím\ni inversion of control a MVP pattern). Kód obsahoval asi jednu chybu. A <a\nhref=\"https://gist.github.com/2836140\">za výsledek se ani po pěti letech\nnestydím</a>. Mám k němu spousty výhrad, to ano, ale byl to dobrý kód.\nPak jsem pomocí TDD psal i novou prezentační část, která tahala data jak\nze starého katalogu, tak z nové technologie a věci, které jsem se na\nregistraci naučil se mi náramně hodili.</p>\n\n<p>Pak jsem trochu ztratil důslednost a začal testovat až potom. Byl jsem\npřesvědčenej, že dokážu dělat dobrej testovatelnej design i bez psaní\ntestů předem. Taky jsem nechtěl nejdřív vytvářet ty šílený mocky.\nHloupý jsem byl. Ano, testování je práce navíc a trvá to dýl. S tímhle\npřístupem rozhodně.</p>\n\n<p>Přeskočím šedé období zamazané popelem a nedůsledností, přeskočím\nčtyři roky až do Hradeckého <a href=\"http://coderetreat.cz\">Code\nRetreatu</a>. To byl můj první Code Retreat, kde jsem byl jako plnohodnotný\núčastník. Už na GDCR jsem si <a\nhref=\"https://gist.github.com/3897226\">pěkně zapároval s Danem Kolmanem\nv F#</a>. Tam jsem zjistil, jak může vést TDD k zajímavému poznání a\nnaučit se jazyk, který ještě moc neovládám. Zpátky do Hradce. Měl jsem\ntu možnost dělat dvě session v páru s Marianem. První session jsem byl\ndost mimo a docela ztracenej, ale pomalu se mi začínalo otevírat myšlení.\nDruhá session už byla fajn a celkem nám to šlo.</p>\n\n<p>Pak jsem se rozhodl, že se musím vrátit k počátkům a přečetl si <a\nhref=\"http://www.amazon.com/Test-Driven-Development-By-Example/dp/0321146530\">TDD\nby Example od Kenta Becka</a>. Najednou jsem viděl, kde jsme s Marianem\ndělali chyby, naučil jsem se mnoha triků a hlavně osvobodil svou mysl.\nPřístupů k TDD existuje mnoho a každý z nich může být vhodný na jiný\nproblém. Někdy je dobré držet se malých krůčků a být v krátké\nsmyčce zpětné vazby (no to je dobré pořád), někdy ale můžu být ty\nkrůčky klidně větší, ale až když se naučíte dělat ty malé. To máte\njako když se učíte násobit.</p>\n\n<p>Dneska píšu službu, která nemá zatím klienta. Skládá se z několika\nsubsystémů a já vím že funguje, ikdyž jsem to zatím pořádně\nnezkoušel. :) Tuhle důvěru mi ale dodává 250 unit testů a\n60 integračních testů. Volím různé strategie. Někdy píšu čistě TDD,\nněkdy prototypuju. Prototyp mi pak slouží jako vzor pro TDD, protože už\nvím, co chci udělat. Díky unit testům mám zhruba 90% code coverage. Je to\ndíky filtrům. Protože mám z CC vyloučené věci jako adaptery kódu\ntřetí strany, composition rooty a podobné. To jsou věci, který mi pokrývaj\nIntegrační testy nebo jdou ověřit spuštěním služby.</p>\n\n<p>Jsem v celkem raný fázi vývoje a tohle mi umožňuje věci měnit. Testy\nse mi neboří, protože nejsou zaměřený na detaily, ale na chování. Proto\nmůžu věci měnit a hned (do 10 sekund) vím, jestli jsem něco nepodělal.\nJeště před pár týdny jsem měl CC kolem 40 %. A tak jsem začal kód\npřestrukturovávat tak, aby se coverage zvedla. Žádná honba za spoustou\ntestů. Tímhle způsobem jsem se dostal na 60 %. Pak jsem začal dopisovat\ntesty tam, kde chyběly. Bylo potřeba upravit návrh, protože ty věci nešly\nmoc dobře otestovat. Samozřejmě jsem odhalil několik chyb a vyloženejch\nblbostí. Ale teď mám 90% CC, méně chyb, lepší návrh a mnohem větší\nsebevědomí a vůli věci měnit.</p>\n\n<p>Dopřejte to i sobě. Zasloužíte si to!</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-10-16T07:16:15.023-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Test Driven Development - příběh nezbedného vývojáře",
  :published #inst "2012-10-06T08:52:31.963-00:00",
  :url "test-driven-development-pribeh-nezbedneho-vyvojare",
  :category-url "moje-prace.aspx",
  :id 429,
  :description "Uff to jsem se zas rozepsal. :)",
  :category "Moje práce",
  :tags ["tdd"]},
 :296-url-routing-v-asp-net-cast-prvni.aspx
 {:html
  "\n<p>První vlašťovkou z hnízda MVC frameworku, která se objevila\nv produkční verzi .net frameworku, je knihovna\n<code>System.Web.Routing</code>. Objevila se s příchodem SP1 verze 3.5 a to\nproto, že jí využívají ASP.NET Dynamic Data, které jsou taktéž novinkou\nservice packu. No a protože routing je důležitou součástí ASP.NET MVC a\njeho výhod lze využít i v klasickém ASP.NET, pojďme se na něj podívat\ntrochu blíž.</p>\n\n<h3 id=\"toc-jak-to-funguje\">Jak to funguje</h3>\n\n<p>Základem routingu je <code>HttpModul</code>, který vezme URL adresu\npožadavku a snaží se ho napárovat na některou z rout, které se\nregistrují při startu aplikace. Pokud najde, získá z adresy požadované\nparametry a předá zpracování patřičnému <em>RouteHandleru</em>, který\nmá za úkol vytvořit <code>HttpHandler</code> a předat mu získaná data.\nV případě MVC se vytvoří <code>MvcHttpHandler</code> a data se\npřidávají kontextu, v klasickém ASP.NET je to jen na vás.</p>\n\n<p>Routovací handler pro WebForms může vypadat třeba následovně:</p>\n\n<pre\n><code class=\"language-csharp\">public class WebFormRouteHandler&lt;T&gt; : IRouteHandler where T : IHttpHandler, new() {\n  public string VirtualPath { get; set; }\n\n  public WebFormRouteHandler(string virtualPath) {\n    VirtualPath = virtualPath;\n  }\n  public IHttpHandler GetHttpHandler( RequestContext requestContext ) {\n    foreach (var value in requestContext.RouteData.Values) {\n      requestContext.HttpContext.Items[value.Key] = value.Value;\n    }\n\n    return (VirtualPath != null)\n      ? (IHttpHandler)BuildManager.CreateInstanceFromVirtualPath(VirtualPath, typeof(T))\n      : new T();\n  }\n}</code></pre>\n\n<p>Routovací handler projde kolekci dat získaných z aktuální URL\npožadavku, nacpe je do kontextu a nakonec vytvoří a vrátí\n<code>IHttpHandler</code>.</p>\n\n<h3 id=\"toc-routovaci-tabulky\">Routovací tabulky</h3>\n\n<p>Pro naše aplikace je asi nejdůležitější nadefinovat routovací tabulky.\nDefinice tabulky se vytváří při startu aplikace, tudíž využijeme\nudálosti <code>Application_Start</code> v Global.asax nebo vlastním\nHttpModulu.</p>\n\n<pre\n><code class=\"language-csharp\">public class MvcApplication : System.Web.HttpApplication {\n  public static void RegisterRoutes(RouteCollection routes) {\n    routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n    routes.MapRoute(\n        \"Default\",                                              // Route name\n        \"{controller}/{action}/{id}\",                           // URL with parameters\n        new { controller = \"Home\", action = \"Index\", id = \"\" }  // Parameter defaults\n    );\n  }\n  protected void Application_Start() {\n    RegisterRoutes(RouteTable.Routes);\n  }\n}</code></pre>\n\n<p>Ukázka tvorby routovací tabulky při startu webové aplikace. Metoda\n<code>MapRoute</code> je extension metodou z MVC frameworku, která za nás\nvytvoří <code>MvcHttpHandler</code>, který bude požadavek zpracovávat.\nZískané parametry z routy jsou: název řadiče, který přebere řízení,\njeho akce, která požadavek zpracuje a dále pak parametr id.</p>\n\n<p>U WebForms by routovací tabulka např. pro můj blog mohla vypadat\nnásledovně:</p>\n\n<pre\n><code class=\"language-csharp\">public class Global : System.Web.HttpApplication {\n  public static void RegisterRoutes(RouteCollection routes) {\n    var routeHandler = new WebFormRouteHandler&lt;Page&gt;(\"~/Weblog/Article.aspx\");\n    var route = new Route(\"weblog/{id}-{url}.aspx\", routeHandler) {\n      Constraints = new RouteValueDictionary {\n       {\"id\", \"\\d{1-3}\"}\n     }\n    };\n    routes.Add(route);\n  }\n  protected void Application_Start(object sender, EventArgs e) {\n    RegisterRoutes(RouteTable.Routes);\n  }\n}</code></pre>\n\n<p>Zaregistroval jsem do tabulky routu, která bere URL ve tvaru\n<code>weblog/{id}-{url}.aspx</code> a ověřuje se, že <code>id</code> je jedno\naž tříciferné číslo.</p>\n\n<h3 id=\"toc-shrnuti\">Shrnutí</h3>\n\n<blockquote cite=\" http://www.youtube.com/watch?v=cZtC6LLimF4\">\n\t<p>„Pane Aloisi, když dovolíte, já bych si to v závěru celé\n\tshrnul.“</p>\n\n\t<p>„Tak, jestli vám to udělá dobře, tak si to celý schrntě.“</p>\n</blockquote>\n\n<p>Tak tedy, tento spotík se snažil nastínit jak funguje routing v ASP.NET,\njak si zaregistrovat routy a jak z nich získávat data. Mohlo by se zdát, že\nto je vše čeho jsme schopní dosáhnout, ale není tomu tak. Routing je\nv ASP.NET dvoucestný, ale cestu zpět si ukážeme zas někdy příště…\nTřeba na <a rel=\"bookmark\"\nhref=\"/weblog/295-povidani-o-asp-net-na-webexpu.aspx\">WebExpu</a>!</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a\n\t\thref=\"http://haacked.com/archive/2008/03/11/using-routing-with-webforms.aspx\">Phil\n\t\tHaack – Using Routing with WebForms</a></li>\n\n\t\t<li><a\n\t\thref=\"http://chriscavanagh.wordpress.com/2008/04/25/systemwebrouting-with-webforms-sample/\">Chris\n\t\tCavanagh – System.Web.Routing with WebForms sample</a></li>\n\n\t\t<li><a rel=\"bookmark\"\n\t\thref=\"/weblog/295-povidani-o-asp-net-na-webexpu.aspx\">Povídání o ASP.NET na\n\t\tWebExpu</a></li>\n\n\t\t<li><a rel=\"bookmark\" href=\"/weblog/220-jak-funguje-monorail.aspx\">Jak funuje\n\t\tMonoRail</a></li>\n\t</ul>\n</div>\n\n<p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/aspnet\">ASP.NET</a>, <a\nrel=\"tag\" href=\"http://technorati.com/tag/aspnetmvc\">ASP.NET MVC</a>, <a\nrel=\"tag\" href=\"http://technorati.com/tag/Routing\">Routing</a></p>\n\n<!-- by Texy2! -->",
  :keywords "asp.net mvc routing",
  :edited #inst "2008-09-13T11:07:56.237-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "URL Routing v ASP.NET – část první",
  :published #inst "2008-09-07T10:56:59.537-00:00",
  :url "url-routing-v-asp-net-cast-prvni",
  :category-url "webdesign.aspx",
  :id 296,
  :description
  "Důležitou novinkou v ASP.NET 3.5 SP1 je URL Routing, který je základním kamenem nejen MVC frameworku. Jak funguje a jak ho využít ve WebForms? ",
  :category "Webdesign",
  :tags ["aspnet" "mvc" "routing" "webexpo"]},
 :174-par-tipu-pro-vyvojare-.aspx
 {:html
  "\n<p>Microsoft vydal <a\nhref=\"http://www.microsoft.com/downloads/details.aspx?FamilyID=69d2219f-ce82-46a5-8aec-072bd4bb955e&amp;DisplayLang=en\">service\npack 1 pro Visual Studio 2003</a> a do konce roku by snad mohl vyjít service\npack i pro Visual Studio 2005.</p>\n\n<p>Sháníte source control? Ale nechce se vám složitě instalovat Subversion.\nDoporučuji <a href=\"http://www.purecm.com\">PureCM</a>. Instalace je velice\njednoduchá a pokud vám budou stačit dvě současná připojení v jedné\nhodině, je i zcela zdarma. Ideální řešení pro jednotlivce i malé týmy.\nMy ho v práci používáme už několik měsíců a i díky našemu feedbacku\nse produkt posunul o dost dopředu a odchytalo se i několik chyb. :)</p>\n\n<p>Znáte <a\nhref=\"http://www.devexpress.com/Downloads/NET/IDETools/DXCore/\">DXCore</a>? Ne?\nŠkoda :) DXCore je framework integrující se do Visual Studia a poskytující\nAPI pro práci s kódem. Na DXCore jsou postaveny placené produkty CodeRush a\nRefactor!. Mě se docela zalíbil plug-in na <a\nhref=\"http://joel.fjorden.se/static.php?page=CodeStyleEnforcer\">kotrolu\ndodržování konvencí</a> pro psaní kódu. Další zajímavé pluginy se <a\nhref=\"http://del.icio.us/AndrewConnell/%22DXCore+Plugins%22\">dají najít</a> a\nnebo dopsat :)</p>\n\n<p>Už jste zkoušeli <a\nhref=\"https://blogs.msdn.com/sandcastle/\">Sandcastle</a>? Jde o kompilátor\ndokumentace k dotnetovým assembly. Bohužel jeho použití není\nnejtriviálnější (zlatej nDoc). Naštěstí se našlo několik lidiček,\nkteří napsali shellové skripty, <a\nhref=\"http://www.codeproject.com/useritems/SandcastleCreateBat.asp\">baťáky</a>\na podobně, ale i to se mi nelíbí :) Nejelegantnějším řešením se mi\nzdá být MSBuild target a <a\nhref=\"http://blog.ljusberg.com/2006/08/sandcastle-visual-studio-project.html\">Dokumentační\nprojekt integrovaný přímo do Visual Studia</a>.</p>\n\n<p>Doufám, že aspoň něco zužitkujete ;)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:21:08.567-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pár tipů pro vývojáře.",
  :published #inst "2006-08-16T20:37:56.367-00:00",
  :url "par-tipu-pro-vyvojare-",
  :category-url "asp-net-2-0.aspx",
  :id 174,
  :description
  "Několik novinek na poli Visual Studia a vývojových nástrojů za posledni dobu.",
  :category "ASP.NET 2.0",
  :tags
  ["vs"
   "vs2003"
   "purecm"
   "vcs"
   "coderush"
   "refactor"
   "msbuild"
   "sandcastle"]},
 :380-linq-a-lenive-vyhodnocovani.aspx
 {:html
  "\n<p>Občas není na škodu být lenivý, mnohdy se to vyplatí! To platí\ni o našich programech, zejména o těch, které zpracovávají veliké\nmnožství dat. Jistě si říkáte, jak může být můj program lenivý, já\npřeci chci, aby byl co nejvýkonnější. Ano, to se nevylučuje, právě\nnaopak! :)</p>\n\n<p>Když jsem nedávno psal o tom, že <a rel=\"bookmark\"\ntitle=\"Vracet list je špatné\"\nhref=\"/weblog/359-vracet-list-je-spatne.aspx\">Vracet list je špatné</a>,\nneshledal jsem se s velikým porozuměním. Tento článek byl o návrhu\nrozhraní našich tříd. Dneska se podíváme na implementační detaily a\nvýhody plynoucí z vracení (zvracení?) <code>IEnumerable&lt;&gt;</code>.</p>\n\n<h3 id=\"toc-linq2sql-a-metoda-tolist\">LINQ2SQL a metoda ToList()</h3>\n\n<p>Začněme tedy u nevýhod užívání generického listu v LINQu. Vsadím\nse, že většina z vás pro vykonání LINQového dotazu do databáze zavolá\nmetodu <code>ToList()</code>. Okamžitě se tím vykoná dotaz a jeho výsledek\nje natažen do paměti, konkrétně jako položky generického listu. Jistě se\ntím zvýší výkon při iteraci přes výslednou kolekci. To je super, ale pro\npro výpis používat velice drahý obal v podobě listu? List umožňuje\nkolekce snadno modifikovat, to je jistě skvělá vlastnost, ale také sebou\nnese zbytečně alokovanou paměť navíc.</p>\n\n<p>Mnohem výhodnější je volat metodu <code>ToArray()</code>, která vykoná\ndotaz úplně stejným způsobem, ale vezme si jen tolik paměti, kolik opravdu\npotřebuje, nehledě na to, že samotný .net runtime je na práci s\n<code>Array</code> optimalizovaný. Jednoduchou změnou můžeme ušetřit\nspoustu paměti a zlepšit tak výkon naší aplikace. Pokud jsme však do\nnašich rozhraní zanesli <code>IList&lt;&gt;</code>, musíme teď měnit\nspoustu kódu, protože náš původní návrh byl krátkozraký.</p>\n\n<h3 id=\"toc-zpatky-k-lenivosti\">Zpátky k lenivosti</h3>\n\n<p>To, co jsme si popsali v předchozích řádcích, nemá s lenivostí\nstále nic společného, jde jen o malou optimalizaci dychtivého přístupu\nk datům (eager loading). Ten samozřejmě nemusí být z principu špatný,\nale hodí se pouze pro data omezeného rozsahu. Pokud zpracováváme velké nebo\npředem neznámé množství dat je lepší zlenivět. Tím se opět vracíme k\n<code>IEnumerable&lt;&gt;</code>.</p>\n\n<p>Vezměme si hypotetický příklad že náš program bude zpracovávat\nnekonečný zdroj pravdy:</p>\n\n<pre\n><code class=\"language-csharp\">static IEnumerable&lt;Boolean&gt; GetInfinityTruth() {\n  while (true) {\n    yield return true;\n  }\n}</code></pre>\n\n<p>Fůj, napsal jsem nekonečnou smyčku. Hele, ale jak jinak byste chtěli\nudělat nekonečný zdroj pravdy? Pomocí listu? Těžko. ;) Takovýhle kód je\nzcela validní a bezproblémový. Tedy do doby, než se najde někdo šikovný,\nkomu se hodí list, a nad <code>GetInfinityTruth()</code> zavolá\n<code>ToList()</code>. Asi nám vyskočí\n<code>OutOfMemoryException</code>. :)</p>\n\n<p>Vážně, výhodou tohoto kódu je, že (teoreticky) vrací nekonečné\nmnožství dat a přesto se s ním dá v klidu pracovat, aniž by nám\nsežralo adekvátní množství paměti (opět nekonečné). A to díky\nlenivosti! S takovýmto přístupem se nám totiž vyhodnocuje vždy jen jeden\nprvek z kolekce a to až v případě, že je opravdu potřeba. Oddalujeme\nnačítání prvku do doby, kdy s ním opravdu budeme něco dělat.</p>\n\n<p>Další výhodou je, že zcela bez problémů, můžeme celou tu nekonečnou\npravdu popřít:</p>\n\n<pre\n><code class=\"language-csharp\">static IEnumerable&lt;Boolean&gt; Disclaim(this IEnumerable&lt;Boolean&gt; source) {\n  return source.Select(value =&gt; !value);\n}</code></pre>\n\n<p>Samozřejmě bych to mohl napsat i takhle:</p>\n\n<pre\n><code class=\"language-csharp\">static IEnumerable&lt;Boolean&gt; Disclaim(this IEnumerable&lt;Boolean&gt; source) {\n  foreach(bool value in source) {\n    yield return !value;\n  }\n}</code></pre>\n\n<p>Ale to je příliš mnoho psaní. <a rel=\"bookmark\"\ntitle=\"Nepište zbytečný kód\"\nhref=\"/weblog/361-nepiste-zbytecny-kod.aspx\">Nepište zbytečný kód</a>!</p>\n\n<p>Teďka, když zavolám <code>GetInfinityTruth().Disclaim()</code>, dostanu\nnekonečný zdroj nepravdy, tedy samé lži. :) Opět to funguje tak, že je\npopřen každý konkrétní prvek, až když na něj dojde, ne všechny\nnajednou, to by bylo moc práce. On se totiž příjemce naší nekonečné\npravdy může kdykoli rozhodnout, že už ho to nebaví. A co my pak s tím,\nže jsme mu dopředu připravili krásné lži? Nic. Byla to zbytečná práce.\nV tomto případě se lenivost vyplatila.</p>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p>„Poslouchaj Roubíček, oni jsou nejspíš blázen. Nás tu krměj\no nekonečné pravdě, co my s tím?“ No, je to určitá abstrakce. ;)</p>\n\n<h3 id=\"toc-souvisejici\">Související</h3>\n\n<ul>\n\t<li><a\n\thref=\"http://www.vyvojar.cz/Articles/599-lazy-eager-explicit-loading-o-co-jde.aspx\">Lazy,\n\teager, explicit loading – o co jde?</a></li>\n\n\t<li><a href=\"http://en.wikipedia.org/wiki/Lazy_evaluation\">Lazy\n\tevaluation</a></li>\n\n\t<li><a\n\thref=\"http://blogs.msdn.com/ericwhite/pages/Lazy-Evaluation-_2800_and-in-contrast_2C00_-Eager-Evaluation_2900_.aspx\">Lazy\n\tevaluation (and in contrast, eager evaluation)</a></li>\n\n\t<li><a\n\thref=\"http://odetocode.com/Blogs/scott/archive/2008/10/01/lazy-linq-and-enumerable-objects.aspx\">Lazy\n\tLINQ and Enumerable Objects</a></li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-02-21T09:49:01.387-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "LINQ a lenivé vyhodnocování",
  :published #inst "2010-02-21T08:02:56.270-00:00",
  :url "linq-a-lenive-vyhodnocovani",
  :category-url "asp-net-2-0.aspx",
  :id 380,
  :description
  "Občas není na škodu být lenivý, mnohdy se to vyplatí! To platí i o našich programech, zejména o těch, které zpracovávají veliké množství dat.",
  :category "ASP.NET 2.0",
  :tags ["ling" "lazy" "ienumerable"]},
 :3-mimoradna-schuze.aspx
 {:html
  "\n<p>Tak jsem dneska pořádal Mimořádnou členskou schůzi SDH jehož jsem\njednatelem. Podle očekávání skoro nikdo nepřišel. Sešlo se nás jen\npět. Vymysleli jsme aspoň předběžné datum, kdy budeme pořádat\nvýroční soutěž, když slavíme těch <strong>140 let</strong> od\nzaložení.</p>\n\n<p>Snad se mi příští schůze povede lépe, doufejme že taky někdo\npřijde.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Mimořádná schůze",
  :published #inst "2004-02-14T18:00:00.000-00:00",
  :url "mimoradna-schuze",
  :category-url "jen-tak.aspx",
  :id 3,
  :description "Výsledky mimořádné schůze SDH Druzcov.",
  :category "Jen tak",
  :tags []},
 :249-vizualizace-vlastnich-typu-v-debuggeru.aspx
 {:html
  "\n<p>Jistě všichni znáte možnost jak přepsat výchozí zobrazování\nvlastního typu v debuggeru VS pomocí přepsání metody\n<code>ToString()</code>. Ovšem někdy je tato metoda velice užitečná i na\njiné účely, co potom s tím?</p>\n\n<p>Když debuguje ve VS vlastní typy ve watches se vám u proměnné zobrazuje\ncelý název typu, např. <code>Rarous.NForms.TextItem</code>. Pokud chcete\nv debuggeru vidět užitečnější informace, zpravidla přepíšete metodu\n<code>ToString()</code>, kterou má každý objekt, tak, aby vypisovala to, co\nchcete. Např.:</p>\n\n<pre\n><code class=\"language-csharp\">public override string ToString() {\n  return \"\\\"\" + Control.Name + \"\\\", Value=\" + Control.GetValue();\n}</code></pre>\n\n<p>Při debutování by se nám pak mohlo zobrazovat něco jako <code>\"email\",\nValue=frantisek.koudelka@sts-chvojkovice.cz</code>. Jenže. Teď chci, aby se mi\nv šabloně při zápisu <code>&lt;%=Form[\"email\"]%&gt;</code> vypsal kód\nformulářového prvku a jeho labelu. Jak to udělat, aby se zachovalo pěkné\ndebugování a přibyla nová a ještě lepší funkčnost?</p>\n\n<p>Naštěstí existuje jiné řešení, jak debugovací informace zobrazovat.\nTroufnu si tvrdit, že i mnohem čistší. V .net frameworku existuje atribut\n<code>System.Diagnostics.DebuggerDisplayAttribute</code>, který je určen,\nprávě k zobrazování informací v debuggeru. Jeho užití je\nnásledující:</p>\n\n<pre\n><code class=\"language-csharp\">[DebuggerDisplay(\"{Control.Name}, Value={Control.GetValue(),nq}\")]\npublic class TextItem : FormItem {\n  // implementace třídy...\n\n  public override string ToString() {\n    return Label + \" \" + Control;\n  }\n}</code></pre>\n\n<p>Tímto jsme dosáhli, nové funkčnosti metody <code>ToString()</code> a\nzachovali jsme vlastní informace zobrazované v debuggeru. Více informaci\no atributu <a\nhref=\"http://msdn2.microsoft.com/en-us/library/x810d419.aspx\">DebuggerDisplay</a>,\nnajdete v MSDN.</p>\n\n<p>Tagy: <a href=\"http://technorati.com/tag/c%23\">C#</a>, <a\nhref=\"http://technorati.com/tag/debugger\">debugger</a>, <a\nhref=\"http://technorati.com/tag/nforms\">NForms</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:43:04.960-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vizualizace vlastních typů v debuggeru",
  :published #inst "2008-01-16T07:54:41.473-00:00",
  :url "vizualizace-vlastnich-typu-v-debuggeru",
  :category-url "asp-net-2-0.aspx",
  :id 249,
  :description
  "Jistě všichni znáte možnost jak přepsat defaultní zobrazování vlastního typu v debuggeru VS pomocí přepsání metody `ToString()`. Ovšem někdy je tato metoda velice užitečná i na jiné účely, co potom s tím?",
  :category "ASP.NET 2.0",
  :tags ["debugerdisplay" "csharp" "nforms"]},
 :428-inversion-of-control.aspx
 {:html
  "\n<p>Inversion of Control je princip, který při psaní svých softwérů\nuplatňuji zhruba 5 let. Nikdy o něm nějak do hloubky neuvažuju, prostě je\nto způsob jakým software píšu. Nepotřebuju nikoho přesvědčovat, že\nzrovna ten můj způsob je nejlepší. Poznají to sami. :) Na začátku jsem\npouze potřeboval opustit svou komfotní zónu a přestat být\ncontrol freak.</p>\n\n<p>Je úžasný, že umíte injektovat závislosti, ale k čemu je vám to\ndobrý, když netušíte, k čemu je vám to dobrý? ;) Když používáte DI,\nříká vám něco vzor dekorátor, strategy nebo třeba adaptér? Jestli ne\nnebo ano, ale nepoužíváte je, serte na DI. „Testovatelnost!“ říkáte?\nHmm, existují i jiné techniky a třeba vás ani nebudou tak bolet.</p>\n\n<h3 id=\"toc-vitejte-ve-svete-za-zrcadlem\">Vítejte ve světě za zrcadlem</h3>\n\n<p>Důležité je udělat ten první krok. Obrátit své myšlení naruby. Pak\npřestat řešit detaily. Pro to, abych udělal tohle potřebuju něco, co umí\ntohle a tohle. Jak to dělá? Koho to zajímá? Jak se to ke mně dostane? Koho\nto zajímá? Je to opravdu důležité? Ne, neni. Důležité je, co dělá\nváš kus kódu, jakou má business value. Čím víc se snaží menežovat,\nmísto aby něco dělal, tím horší ten kód je. To je fakt. Smiřte se\ns tím.</p>\n\n<p>Moje práce spočívá v tom, že vytvářím různobarvené kousíčky\nlega. Pak přiložím návod. Ne nějak přesný (zapomeňte na XML, NEON, YAML,\nJSON a já nevím co ještě), jen řeknu, že červené dvouřadové lištičky\njsou támhle v té krabičce, popřípadě se některé můžou ještě válet\npod postelí. Nechme stroj ať nás překvapí. Stroj netrpí přehnanou\npotřebou se kreativně vyjádřit a umí táhnout na branku. Většinou má\nlepší výsledky než lidi.</p>\n\n<p>A když mu něco chybí, nebojí se ozvat, nesnaží se to nějak\nzaplácnout něčím, co tam nepatří. Nebojí se ranit mé city a řekne,\n„tohle jsi posral.“ Cajk. Můžeme jít dál. :) Abyste mohli dosáhnou\nnirvány, potřebujete dobrý type systém, nebo Ruby. Všechno ostatní je jen\nnepovedené napodobování, jak Dan rád říká <em>Cargo Cult</em>.</p>\n\n<p><em>Metafora s legem patří @renestein, já si jí jen drze\nukradl.</em></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-09-27T13:37:31.560-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Inversion of Control",
  :published #inst "2012-09-27T11:29:29.253-00:00",
  :url "inversion-of-control",
  :category-url "moje-prace.aspx",
  :id 428,
  :description
  "Zapomeňte na Dependency injection, osvoboďte svou mysl od nepodstatných detailů a ochutnejte nirvánu v podobě IoC.",
  :category "Moje práce",
  :tags ["ioc"]},
 :341-oprava-predchozich-clanku.aspx
 {:html
  "\n<p>Nikdo není neomylný, i já dělam chyby. A poměrně často. Bohužel\ni ve svých článcích. Proto jsem se jal revidovat sérii předchozích\nčlánků o ASP.NET MVC a znovu si prošel jejich kód a ověřil, že\nfunguje.</p>\n\n<p>Prošel jsem tedy následující články:</p>\n\n<ul>\n\t<li><a rel=\"bookmark\" title=\"URL Routing v ASP.NET – část první\"\n\thref=\"/weblog/296-url-routing-v-asp-net-cast-prvni.aspx\">URL Routing\n\tv ASP.NET – část první</a></li>\n\n\t<li><a rel=\"bookmark\" title=\"REST aplikace pomocí ASP.NET MVC\"\n\thref=\"/weblog/329-rest-aplikace-pomoci-asp-net-mvc.aspx\">REST aplikace pomocí\n\tASP.NET MVC</a></li>\n\n\t<li><a rel=\"bookmark\" title=\"Inversion of Control v ASP.NET MVC\"\n\thref=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">Inversion of Control\n\tv ASP.NET MVC</a></li>\n\n\t<li><a rel=\"bookmark\" title=\"Model binders v ASP.NET MVC\"\n\thref=\"/weblog/336-model-binders-v-asp-net-mvc.aspx\">Model binders v ASP.NET\n\tMVC</a></li>\n\n\t<li><a rel=\"bookmark\" title=\"DSL pro konfiguraci URL Routingu v ASP.NET MVC\"\n\thref=\"/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx\">DSL pro\n\tkonfiguraci URL Routingu v ASP.NET MVC</a></li>\n\n\t<li><a rel=\"bookmark\" title=\"Pojmenované routy v ASP.NET MVC\"\n\thref=\"/weblog/340-pojmenovane-routy-v-asp-net-mvc.aspx\">Pojmenované routy\n\tv ASP.NET MVC</a></li>\n</ul>\n\n<h3 id=\"toc-doplneni-rest\">Doplnění REST</h3>\n\n<p>V článku <a rel=\"bookmark\" title=\"REST aplikace pomocí ASP.NET MVC\"\nhref=\"/weblog/329-rest-aplikace-pomoci-asp-net-mvc.aspx\">REST aplikace pomocí\nASP.NET MVC</a> jsem nastínil, jak vytvořit RESTful přístup k entitám\npomocí filtrů akcí. Výslednou ukázku jsem doplnil o výstupy akce.\nV komentářích padlo několik dotazů, jak vlastně REST služby volat,\nprotože zatím žádný prohlížeč neumí formulář odeslat jinou metodou\nnež POST nebo GET.</p>\n\n<p>Jediným řešením, jak ze stránek REST používat je AJAX. Proto akce\nvrací JSON. V pohledech pak postačí následující kód:</p>\n\n<pre\n><code class=\"language-markup\">&lt;% using (Ajax.BeginForm(\"REST\", \"Customers\", new AjaxOptions { HttpMethod = \"POST\" })) {%&gt;\n  &lt;input type=\"submit\" value=\"Create New\" /&gt;\n&lt;% } %&gt;\n\n&lt;% using (Ajax.BeginForm(\"REST\", \"Customers\", new AjaxOptions { HttpMethod = \"PUT\" })) {%&gt;\n  &lt;input type=\"submit\" value=\"Update\" /&gt;\n  &lt;input type=\"hidden\" name=\"id\" value=\"10\" /&gt;\n&lt;% } %&gt;\n\n&lt;% using (Ajax.BeginForm(\"REST\", \"Customers\", new AjaxOptions { HttpMethod = \"DELETE\" })) {%&gt;\n  &lt;input type=\"submit\" value=\"Delete\" /&gt;\n  &lt;input type=\"hidden\" name=\"id\" value=\"10\" /&gt;\n&lt;% } %&gt;\n\n&lt;script src=\"/Scripts/MicrosoftAjax.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"/Scripts/MicrosoftMvcAjax.js\" type=\"text/javascript\"&gt;&lt;/script&gt;</code></pre>\n\n<h3 id=\"toc-vylepsena-verze-model-binderu\">Vylepšená verze model binderu</h3>\n\n<p>V článku <a rel=\"bookmark\" title=\"Model binders v ASP.NET MVC\"\nhref=\"/weblog/336-model-binders-v-asp-net-mvc.aspx\">Model binders v ASP.NET\nMVC</a> jsem ukazoval jak si napsat vlastní model binder. Taky jsem psal že\nuvedený postup není moc dobrý. Tady je tedy lepší verze:</p>\n\n<pre\n><code class=\"language-csharp\">public class AddressBinder : BinderBase&lt;Address&gt; {\n  public override ModelBinderResult BindModel(ModelBindingContext bindingContext) {\n\n    IValueProvider valueProvider = bindingContext.ValueProvider;\n    Address address = bindingContext.Model as Address ?? new Address();\n\n    address.Street = GetSafeStringValue(valueProvider, \"address_street\");\n    address.StreetNumber = GetSafeStringValue(valueProvider, \"address_street_number\");\n    address.PostalCode = GetSafeStringValue(valueProvider, \"address_postal_code\");\n    address.Town = GetSafeStringValue(valueProvider, \"address_town\");\n\n    return new ModelBinderResult(address);\n  }\n}</code></pre>\n\n<p>K tomu je ale ještě potřeba rozšířit bázovou třídu binderu:</p>\n\n<pre\n><code class=\"language-csharp\">using System;\nusing System.Web.Mvc;\n\npublic abstract class BinderBase&lt;T&gt; : IModelBinder {\n\n  protected static string GetSafeStringValue(IValueProvider valueProvider, string key) {\n    ValueProviderResult value = valueProvider.GetValue(key);\n\n    if (value != null) {\n      return value.AttemptedValue.Trim();\n    }\n\n    return String.Empty;\n  }\n\n  protected static bool GetSafeBooleanValue(IValueProvider valueProvider, string key) {\n    ValueProviderResult value = valueProvider.GetValue(key);\n\n    return value != null;\n  }\n\n  public Type ModelType {\n    get {\n      return typeof(T);\n    }\n  }\n\n  public abstract ModelBinderResult BindModel(ModelBindingContext bindingContext);\n}</code></pre>\n\n<p>Tím jsme se zbavili závislosti na <code>HttpContext</code>u, binder je\nlépe testovatelný a hlavně se dá použít i v metodě\n<code>UpdateModel</code>.</p>\n\n<h3 id=\"toc-oprava-integrace-ioc-kontejneru-do-asp-net-mvc\">Oprava integrace IoC\nkontejneru do ASP.NET MVC</h3>\n\n<p>V ukázkových kódech článku <a rel=\"bookmark\"\ntitle=\"Inversion of Control v ASP.NET MVC\"\nhref=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">Inversion of Control\nv ASP.NET MVC</a> bylo několik chybek, chyběly usingy a některé věci jsem\ntrošku refaktoroval.</p>\n\n<h3 id=\"toc-nova-verze-routingmacros-boo\">Nová verze RoutingMacros.boo</h3>\n\n<p>V článku <a rel=\"bookmark\"\ntitle=\"DSL pro konfiguraci URL Routingu v ASP.NET MVC\"\nhref=\"/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx\">DSL pro\nkonfiguraci URL Routingu v ASP.NET MVC</a> jsem měl jedno makro nedopsané.\nV nové verzi jsem přidal sekci <code>constraints</code> k makru\n<code>ignore_route</code> a provedl lehký refaktoring. Plně\nfunkční kód:</p>\n\n<pre\n><code class=\"language-boo\">import Boo.Lang.Extensions\nimport Boo.Lang.Compiler\nimport Boo.Lang.Compiler.Ast\nimport Boo.Lang.Compiler.Ast.Visitors\n\nimport System.Web\nimport System.Web.Routing\n\nclass IgnoreRouteInternal(Route):\n  def constructor(url as string):\n    super(url, StopRoutingHandler())\n\n  override def GetVirtualPath(requestContext as RequestContext, values as RouteValueDictionary):\n    return null as VirtualPathData\n\ndef apply_constraints(block as Block, constraints as MacroStatement):\n  assert block\n  return if not constraints\n\n  block.Add([| route.Constraints = RouteValueDictionary() |])\n\n  for exp as ExpressionStatement in constraints.Block.Statements:\n    binary = exp.Expression as BinaryExpression\n    block.Add([| route.Constraints.Add($(binary.Left.ToString()), $(binary.Right)) |])\n\ndef apply_defaults(block as Block, defaults as MacroStatement):\n  assert block\n  return if not defaults\n\n  block.Add([| route.Defaults = RouteValueDictionary() |])\n\n  for exp as ExpressionStatement in defaults.Block.Statements:\n    binary = exp.Expression as BinaryExpression\n    block.Add([| route.Defaults.Add($(binary.Left.ToString()), $(binary.Right)) |])\n\nmacro ignore_route:\n  path, = ignore_route.Arguments\n  constraints = ignore_route[\"constraints\"] as MacroStatement\n\n  block = Block()\n  block.Add([| route = IgnoreRouteInternal($path) |])\n  apply_constraints(block, constraints)\n  block.Add([| RouteTable.Routes.Add(route) |])\n\n  return block\n\nmacro map_route:\n  name, path = map_route.Arguments\n  defaults = map_route[\"defaults\"] as MacroStatement\n  constraints = map_route[\"constraints\"] as MacroStatement\n\n  block = Block()\n  block.Add([| route = Route($path, MvcRouteHandler()) |])\n  apply_defaults(block, defaults)\n  apply_constraints(block, constraints)\n  block.Add([| RouteTable.Routes.Add($name, route) |])\n\n  return block\n\nmacro defaults:\n  allowedParents as List = [ \"map_route\" ]\n  parent as MacroStatement = defaults.GetAncestor(NodeType.MacroStatement)\n  assert allowedParents.Contains(parent.Name)\n\n  parent[\"defaults\"] = defaults\n\nmacro constraints:\n  allowedParents as List = [ \"map_route\", \"ignore_route\" ]\n  parent as MacroStatement = constraints.GetAncestor(NodeType.MacroStatement)\n  assert allowedParents.Contains(parent.Name)\n\n  parent[\"constraints\"] = constraints</code></pre>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-14T16:41:47.950-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Oprava předchozích článků",
  :published #inst "2009-01-04T11:10:58.343-00:00",
  :url "oprava-predchozich-clanku",
  :category-url "webdesign.aspx",
  :id 341,
  :description
  "Trošku jsem zrevidoval kód předchozích článků, opravil některé chyby a refaktoroval makra pro routování. A taky tady přináším nějaká doplnění.",
  :category "Webdesign",
  :tags ["aspnet" "mvc" "binsor" "rest" "binders"]},
 :7-zkousky.aspx
 {:html
  "\n<p>Konečně mám za sebou zkoušky, v&#160;pondělí jsem udělal obávané\nmateriály za tři. No skoro jsem dostal za dvě, ale nevzpomněl jsem si, co\nje BHmax.</p>\n\n<p>Taky už jsem konečně dostal bydlení na koleji – na Orlíku.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zkoušky",
  :published #inst "2004-02-28T09:00:00.000-00:00",
  :url "zkousky",
  :category-url "skola.aspx",
  :id 7,
  :description "Výsledek mých zkoušek.",
  :category "Škola",
  :tags []},
 :328-k-webexpu-jeste-jednou-a-poradne.aspx
 {:html
  "\n<p>Už je to týden, co nám skončila <a\nhref=\"http://webexpo.cz/prednaska/asp-net/\">přednáška o ASP.NET 3.5 /\nfutures</a> na konferenci <a href=\"http://www.webexpo.cz/\">WebExpo 2008</a>.\nRád bych se k této konferenci ještě ohlédl.</p>\n\n<h3 id=\"toc-moje-prezentace\">Moje prezentace</h3>\n\n<p>Když mě začátkem léta oslovil <a rel=\"friend met\"\nhref=\"http://www.dvanula.cz/\">Vašek Stoupa</a>, jestli nechci přednášet\no <strong>ASP.NET MVC</strong> na WebExpu, měl jsem zprvu strach. Nikdy jsem\nveřejně nepřednášel a z malých slideshow, které jsem dělal pro kolegy\nnebo ve škole, jsem si byl jistý, že mé prezentační schopnosti nejsou\nskoro žádné. Ale pak jsem si řekl, že zkusit bych to mohl, přinejmenším\nje to dobrá zkušenost a raději jsem požádal <a rel=\"friend met\"\nhref=\"http://www.borber.com/\">Borka</a>, aby se ke mně přidal. Proč? Protože\nuž jsem ho viděl přednášet na WebCampu a bylo to dobré.</p>\n\n<p>Takže jsme se domluvili, že přednáška bude mít trochu širší záběr\nnež jen ASP.NET MVC, které v té době bylo pouze v ukázkových verzích.\nV průběhu září jsme vymysleli <a\nhref=\"/weblog/295-povidani-o-asp-net-na-webexpu.aspx\">nějakou osnovu</a>, Borek\nzaložil SVN repository a začali jsme připravovat prezentaci.</p>\n\n<p>Nejprve jsem udělal ukázku na využití <a\nhref=\"http://msdn.microsoft.com/en-us/data/bb931106.aspx\">ADO.NET Data\nServices</a> ve spolupráci s <a href=\"http://asp.net/ajax/\">ASP.NET AJAX</a>\n(tu najdete přibalenou). Krom toho, že ukazuje základy konzumace RESTových\nData Services, tak je i hezkou ukázkou toho, jak takové služby stavět nejen\nnad <a href=\"http://msdn.microsoft.com/en-us/library/bb399572.aspx\">Entity\nFrameworkem</a>, ale i nad <a\nhref=\"http://www.castleproject.org/activerecord/index.html\">ActiveRecord</a>/<a\nhref=\"http://www.hibernate.org/343.html\">NHi­bernate</a>. No, ukázka není\núplně dokončená, protože jsem se jí přestal věnovat a už jsem nenašel\nchuť jí dokončit, ale základní koncepce je snad pochopitelná – snažil\njsem se vše okomentovat.</p>\n\n<p>Osobně nemám rád psaní zbytečného kódu. Nejsem zastáncem zbytečných\nukázkových aplikací, testovacích utilitek a tak. Takže už jsem žádné\ndalší ukázkové aplikace nepsal a rozhodl se další možnosti ASP.NET\nukázat na již hotových aplikacích, se kterými mám něco společného.</p>\n\n<p>Základní koncept komponent a Master pages jsem se tedy rozhodl ukázat –\nať nechodíme daleko – na šabloně <a href=\"/weblog/\">tohoto blogu</a>.\nO něco pokročilejší komponentový framework jsem pak ukazoval na šabloně\n<a href=\"http://obchody.atlas.cz/\">obchody.atlas.cz</a>. Tahle jedna šablona je\nv podstatě celý web. Bez knihovny je sice mrtvá a ještě chyběj pravidla\nURL rewritingu, ale jinak je tam vše. Tyhle dvě ukázky najdete taktéž\npřibalené.</p>\n\n<p>Poslední mou ukázkou byla aplikace, kterou jsem psal kvůli potřebě\nnaučit se <a href=\"http://asp.net/mvc/\">ASP.NET MVC</a> a <a\nhref=\"http://msdn.microsoft.com/en-us/data/bb931106.aspx\">ADO.NET Data\nServices</a> prakticky ještě před konferencí a zároveň abychom se\nv práci zbavili nutnosti zapisovat si příchody někam na papír (formulář)\na pak na konci měsíce počítat, kolik kdo dostane stravenek :). Tak vznikla\n<em>docházka</em> a taky <em>rozcestník projektů</em> a tím pádem základ\n<strong>Twareg.Intranet</strong>. Shodou okolností to možná bude i naše\nprvní komerčně prodávaná aplikace. Hezký osud bokovky…</p>\n\n<p>Takže na tomto webu jsem se pokusil ukázat, jak se dělá routing, jak je\nten systém modulární. Jak deklarativně pomocí atributů nastavit autorizaci\nk akcím a jak akce snadno přejmenovat. Na víc už moc nezbýval čas. Tahle\nukázka přibalená není. Namísto ní najdete Borkovy REST služby postavené\nnad ASP.NET MVC, které jsme bohužel nestihli ukázat.</p>\n\n<p>Co se týče mého vystoupení, tak moc spokojený nejsem, vůbec se to\nnedostalo ani na spodní hranici mých představ o dobré přednášce –\nnaštěstí tam byl Borek, aby to zachránil.</p>\n<!--[if !IE]> -->\n \t\t\t<object type=\"application/x-shockwave-flash\"\ndata=\"http://www.authorstream.com/player.swf?p=99567_633604576063437500\"\nwidth=\"520\" height=\"434\">\n \t\t\t<!-- <![endif]-->\n \t\t\t<!--[if IE]>\n\t\t\t<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"\n\t\t\t  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\"\n\t\t\t  width=\"520\" height=\"434\">\n\t\t\t  <param name=\"movie\" value=\"http://www.authorstream.com/player.swf?p=99567_633604576063437500\" />\n\t\t\t<!--><!--dgx-->\n<param name=\"loop\" value=\"true\" />\n\n<param name=\"menu\" value=\"false\" />\n\n<param name=\"allowfullscreen\" value=\"true\" />\n\n<param name=\"flashvars\" value=\"\" />\n \t\t\t</object>\n \t\t\t<!-- <![endif]-->\n<p><a href=\"http://www.authorstream.com/\">Author Stream</a> ty slajdy trochu\nrozsypal, ale lepší než nic. Jinak pokud si chcete slajdy nebo ukázky\nstáhnout, pokračujte na <a\nhref=\"/weblog/326-slajdy-a-ukazky-z-webexpa.aspx\">Slajdy a ukázky\nz WebExpa</a>. Pokud vás toto téma zajímá určitě najdete spoustu\nzajímavých <a href=\"http://www.codeplex.com/aspnet\">futures bits na\nCodeplexu</a>. Některá témata z přednášky bych rád rozebral podrobněji\ntady na blogu, ale až někdy jindy.</p>\n\n<h3 id=\"toc-shlednute-prezentace\">Shlédnuté prezentace</h3>\n\n<p>Na WebExpu jsem naštěstí nebyl jen jako pokus o přednášejícího, ale\ni jako divák. Oproti původnímu plánu jsem nakonec navštívil trochu jiné\npřednášky. Jako opravdu výbornou můžu označit <a\nhref=\"http://webexpo.cz/prednaska/adobe-flex-adobe-air/\">přednášku Juraje\nMichálka o Flexu</a>. Hodně dobrá byla nejspíš i <a\nhref=\"http://webexpo.cz/prednaska/efektivni-vyvoj-webovych-aplikaci-v-ruby-on-rails/\">Karmiho\npřednáška o Ruby on Rails</a>, ale zastihl jsem jen asi posledních 25 min.\n<a\nhref=\"http://webexpo.cz/prednaska/vyvoj-webovych-aplikaci-v-php-a-nette-framework/\">Přednáška\no Nette</a> z úst <a rel=\"friend met\"\nhref=\"http://davidgrudl.com/\">nejzasvěcenějšího</a> byla zábavná,\nnicméně s plánovaným <a href=\"http://www.skoleniphp.cz/\">školením PHP\nframeworky</a> na paměti značně zredukovaná.</p>\n\n<p>Mezi pro mě obsahově hodnotné a pořád dobře odprezentované bych\nještě rád zařadil <a\nhref=\"http://webexpo.cz/prednaska/spring-framework/\">Dagiho přednášku\no Springu</a>, <a\nhref=\"http://webexpo.cz/prednaska/architektura-aplikaci-v-seznamu/\">přednášku\nVlastimila Pečínky o architektuře v Seznamu</a> a <a\nhref=\"http://webexpo.cz/prednaska/sproutcore/\">přednášku o SproutCore od\nAntonína Hildebranda</a>. Sice jsem nedostal odpověď na otázku, jestli to\nfunguje i bez JavaScriptu, ale i tak přednášku hodnotím jako přínosnou a\nmůžu rubistům tiše závidět ;).</p>\n\n<h3 id=\"toc-socialni-vlivy\">Sociální vlivy</h3>\n\n<p>Na tuhle akci jsem nejvíc těšil hlavně kvůli lidem. Já moc na tydlety\nakce nechodím, ale jednou za čas se potkat s lidmi, které často čtu, není\nšpatné. Rád jsem osobně potkal i některé nové tváře, které jsem dosud\nnečetl a třeba to napravím…</p>\n\n<h3 id=\"toc-na-zaver\">Na závěr</h3>\n\n<p>Na závěr patří především <em>velíké díky</em> <a rel=\"friend met\"\nhref=\"http://www.dvanula.cz/\">Vaškovi</a>, za velikou zkušenost, za\nzorganizování téhle veliké party se spostou zajímavých osobností a se\nširokým záběrem témat. Je dobré když se člověk může podívat na to\njak to dělaj jinde a něčemu se třaba přiučit nebo prodiskutovat své\npohledy na věc. Ono táhnout konferenci až do první hodiny ranní není\nžádná sranda. Respekt!</p>\n\n<p>Jo a málem bych zapomněl, na LinkedIn jsem vytvořil k této konferenci\nskupinu, takže pokud jste se ještě do ní nepřidali, neváhejte a <a\nhref=\"http://www.linkedin.com/groups?gid=1077997&amp;trk=hb_side_g\">udělejte\nto</a> ještě teď. A pokud vás zajímají slajdy ostatních nebo chcte\nnasdílet své, využijte <a\nhref=\"http://www.slideshare.net/event/webexpo-2008-praha\">eventu na slide\nshare</a>.</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a href=\"/weblog/295-povidani-o-asp-net-na-webexpu.aspx\">Povídání\n\t\to ASP.NET na WebExpu</a></li>\n\n\t\t<li><a href=\"/weblog/326-slajdy-a-ukazky-z-webexpa.aspx\">Slajdy a ukázky\n\t\tz WebExpa</a></li>\n\n\t\t<li><a href=\"/weblog/327-webexpo-za-nami.aspx\">WebExpo za námi</a></li>\n\n\t\t<li><a href=\"http://www.misantrop.info/732022-webexpo-2008.php\">Martin Malý:\n\t\tWebExpo 2008</a></li>\n\n\t\t<li><a href=\"http://www.sindelka.cz/cz/ohlednuti-webexpo/\">Pavel Šindelka:\n\t\tOhlédnutí za konferencí WebExpo</a></li>\n\n\t\t<li><a href=\"http://myego.cz/item/webexpo-ohlednuti-za-konferenci\">Radek Hulán:\n\t\tWebExpo – ohlédnutí za konferencí</a></li>\n\n\t\t<li><a href=\"http://jankorbel.cz/2008/10/20/par-poznamek-k-webexpu/\">Jan Korbel:\n\t\tPár poznámek k WebExpu</a></li>\n\n\t\t<li><a href=\"http://zdrojak.root.cz/clanky/jake-bylo-webexpo-2008/\">Martin\n\t\tHassman: Jaké bylo WebExpo 2008</a></li>\n\n\t\t<li><a href=\"http://nikdo.cz/blog/webexpo-2008-den-prvni\">Radek Matěj: WebExpo\n\t\t2008 – den první</a></li>\n\n\t\t<li><a href=\"http://nikdo.cz/blog/webexpo-2008-den-druhy\">Radek Matěj: WebExpo\n\t\t2008 – den druhý</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-02T14:40:54.487-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "K WebExpu ještě jednou a pořádně",
  :published #inst "2008-10-25T16:19:27.570-00:00",
  :url "k-webexpu-jeste-jednou-a-poradne",
  :category-url "webdesign.aspx",
  :id 328,
  :description
  "Už je to týden, co nám skončila přednáška o ASP.NET 3.5 / futures na konferenci WebExpo 2008. Rád bych se k této konferenci ještě ohlédl.",
  :category "Webdesign",
  :tags
  ["webexpo"
   "aspnet"
   "mvc"
   "nhibernate"
   "activerecord"
   "nette"
   "spring"
   "ajax"
   "twareg"]},
 :394-continuous-delivery.aspx
 {:html
  "\n<p>Vloudil jsem se i na <a href=\"http://www.webexpo.cz/\">letošní WebExpo</a>\ns tématem <a href=\"http://www.webexpo.cz/program/sobota\">Continuous Delivery\naneb máme stále co nabídnout</a>. Přednáška o této poměrně nové\nagilní technice bude vycházet především ze starší techniky Continuous\nIntegration, na které tato nová staví.</p>\n\n<p>Témata, která by měla na přednášce zaznít, najdete <a\nhref=\"http://prezi.com/xsgqskjcce96/continuous-delivery\">v moji prezi</a>,\nkterá je je k nahlédnutí již nyní v její rané vývojové fázi. :)\nPřesně v agilním duchu Continuous Delivery.</p>\n\n<p>Samozřejmě jsem otevřen připomínkám a námětům, co by vás –\npřípadné účastníky – zajímalo.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-08-08T08:45:53.473-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Continuous Delivery",
  :published #inst "2010-08-08T08:45:53.350-00:00",
  :url "continuous-delivery",
  :category-url "webdesign.aspx",
  :id 394,
  :description "Pozvánka na WebExpo.",
  :category "Webdesign",
  :tags ["webexpo" "xp" "agile"]},
 :2-nikola-v-hegesi.aspx
 {:html
  "\n<p>Včera jsem po dlouhé době navštívil <a\nhref=\"http://www.discoheges.cz\">Hegeš</a>. Je to diskotéka Honzy Bažanta\nv&#160;Janově Dole. Hostem večera byla zpěvačka Nikola. Díky tomu tam bylo\ndocela narváno. Přišli i&#160;někteří spolužáci ze základky, a tak\njsme si docela dobře popovídali. Vždyť jsem je od července neviděl.</p>\n\n<p>Nikola mě docela překvapila, je to docela milá holka, a ani není tak\nvyzáblá jak to vypadá v&#160;televizi. Zazpívala asi šest písniček, pak\nudělala karaoke soutěž na píseň šedá. Byl to docela děs. Přihlásili\nse tři vožralí chlapci, kteří ani neznali slova a do melodie se vůbec\nnetrefili :) Bylo slyšet akorát jalové bučení &#8222;šedá, šš\nšedá&#8220;&#8230;</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nikola v Hegeši",
  :published #inst "2004-02-14T14:00:00.000-00:00",
  :url "nikola-v-hegesi",
  :category-url "muzika.aspx",
  :id 2,
  :description "Návštěva Hegeše se zdařila.",
  :category "Muzika",
  :tags []},
 :437-ci-tip-neocekavejte.aspx
 {:html
  "\n<p>Jednou z dobrých praktik v Continuous Integration je, nemít žádná\nočekávání. Repository musí obsahovat vše, co vývojář potřebuje\nk bezproblémovému vývoji. Ok, minimální subset jako OS a SDK\npředpokládat můžeme. Ale nic nám nebrání v tom, připravit script,\nkterý potřebná SDK a nástroje nainstaluje a nastaví.</p>\n\n<h3 id=\"toc-maly-priklad-z-praxe\">Malý příklad z praxe</h3>\n\n<p>Vezměme si reálný scénář. V teamu máme lokální nuget server, kde\njsou k dispozici balíčky s interními komponentami. Pro správný chod musí\nmít každý nastavenou adresu lokálního serveru ve zdrojích ve svém Visual\nStudiu, každý nový vývojář si to musí nastavit. Jinak se balíčky\nneaktualizují. Kde takovou informaci udržovat? Má být ve wiki, kterou nikdo\nnečte? Má být v <code>readme</code> souboru v repository? Nejlepší je\nnajít automatické řešení, na které už nikdo nemusí myslet!</p>\n\n<p>NuGet například umožňuje <a\nhref=\"http://blog.cincura.net/233131-using-per-solutionproject-nuget-package-sources-in-visual-studio/\">definovat\nvlastní zdroje v konfiguračním souboru</a>, který se vztahuje k projektu.\nJednou do repository přidáte tento soubor a máte vystaráno. Všichni kdo si\notevřou projekt mají již vlastní zdroj balíčků nakonfigurovaný, aniž by\nmuseli něco řešit. A to jen pro aktuální projekt. Takže je to řešení\nnejen nevyžadující aktivitu, ale je i celkem čisté. Win win situace.</p>\n\n<p>A navíc to funguje i na integračním serveru, protože ten je taky\nsoučástí teamu. ;)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-01-03T12:11:34.870-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "CI tip: Neočekávejte",
  :published #inst "2013-01-03T12:11:06.957-00:00",
  :url "ci-tip-neocekavejte",
  :category-url "moje-prace.aspx",
  :id 437,
  :description "Malá ukázka toho, jak si s CI usnadňovat život.",
  :category "Moje práce",
  :tags ["ci" "nuget"]},
 :198-prinasi-microsoft-novou-generaci-webu.aspx
 {:html
  "\n<p>Je tomu již pár týdnů, co Microsoft uvolnil první ukázkovou verzi\nzajímavé technologie pod krkolomným kódovým označením <a\nhref=\"http://msdn2.microsoft.com/en-us/asp.net/bb187358.aspx\">WPF/E</a>. Tato\ntechnologie si klade za cíl umožnit provozování technologie <acronym\ntitle=\"Windows Presentation Foundation\">WPF</acronym>, přesněji řečeno jeho\nomezenou část, i na systémech kde neběží <em>.NET Framework 3.0</em>,\njehož je WPF součástí.</p>\n\n<p>První komunitní preview (December CTP) funguje na Windows\nv prohlížečích Internet Explorer a Firefox a na OS X v Safari (a možná\ni ve Firefoxu). Podpora WPF/E je prohlížečích zajištěna pomocí 1MiB\nplug-inu, který zprostředkovává i podporu pro přehrávání <em>Windows\nMedia Audio &amp; Video</em>. V tom je prozatím také asi největší\nsíla WPF/E.</p>\n\n<h3 id=\"toc-o-co-tedy-jde\">O co tedy jde</h3>\n\n<p>WPF je technologií pro tvorbu tzv. <strong>rich UI</strong>, novou generací\nWinForms a podle Microsoftu i webu. A vlastně proč ne? Web, takový jaký ho\nznáme dnes, byl původně vytvořen pro hypertext, nad kterým se časem\nvybudovala nadstavba pro aplikace (WebForms, JavaScript, AJAX). Z jiného úhlu\npohledu se prostředí webu využívá jako transportní vrstva pro WebServices.\nA na to navazuje WPF. WPF přináší „rich“ aplikace chovající se\nstejně jako nativní aplikace v systému s možností přenosu přes web.\nVšechny prvky a chování je možno popsat v XML dialektu zvaném <acronym\ntitle=\"eXtensible Application Markup Language\">XAML</acronym>, složitější\nlogiku vykonává buďto nějaká webová služba nebo klientský kód napsaný\nv libovolném jazyce, který je podporovaný platformou\n<strong>.net</strong>.</p>\n\n<h3 id=\"toc-wpf-e-everywhere\">WPF/E =Everywhere</h3>\n\n<p>WPF/E bere určitou podmnožinu jazyka XAML a umožňuje jeho vykonání\nv okně prohlížeče. Prozatím se jedná o subset pro vykreslování\nvektorové grafiky, přehrávání multimédí a tvorbu animací. Podpora pro\nsložotější formaláře zatím chybí a je otázkou, zda bude doplněna. To\nWPF/E staví do role možné konkurence pro Flash. Vím, pravděpodobně\nk ohrožení pozice Flashe nedojde, ale mně se líbí možnost výběru,\nobvzlášť, když se jedná o XML, ke kterému mám jako programátor\nmnohem blíž.</p>\n\n<p>Co se týče aplikační logiky, ta je prozatím tvořena pomocí\nJavaScriptu, takže můžete plně využívat vašich AJAXových služeb a\nframeworků. V dalších verzích by se měla objevit i podpora pro dotnetí\njazyky.</p>\n\n<h3 id=\"toc-vyhody-a-nevyhody\">Výhody a nevýhody</h3>\n\n<p>Za hlavní výhodu, oproti Flashi, považuju, jak už jsem psal, že jde\no XML. To má nesporné výhody v možnosti editace, validace, transformace,\nale i s prací pomocí DOM. A protože se jedná o XML mohou být animované\nnebo antialisované texty indexovány vyhledávači (absence indexace je asi\nnejvětší slabina flashe na webu). Další výhodou je platformavá\nnezávislost (ikdyž zatím jde pouze o dva operační systémy a tři\nprohlížeče, oproti flashi nepatrný zlomek) a vkládání multimédií\npřímo do stránek. Nevýhodou může být to, že jde o technologii\nMicrosoftu, k němuž má značná část „odborné“ internetové populace\naverzi. Pro někoho může být nevýhodou i to, že se kdokoli může snadno\npodívat na zdrojáky vaší práce, což je u flashe kompilací značně\nstíženo. Další nevýhodou je, že zatím nejde o finální produkt, tudíž\njeho podpora, možnosti a rozšířenost jsou teprve na začátku.</p>\n\n<h3 id=\"toc-ukazky-pouziti\">Ukázky použití</h3>\n\n<p>Já jsem si při zkoušení možností WPF/E vytvořil <a\nhref=\"/ukazky/Player.aspx\">jednoduchý přehrávač</a> hudebních souborů.\nJeho výslednou podobu si můžete <a\nhref=\"/ukazky/Player.aspx\">prohlédnout</a>. Co umí? :) No, přehrává WMA\nsoubory a ukazuje názvy tracků, umí mezi stopami přeskakovat, pauzovat,\nzastavovat a znovu spouštět a ještě zobrazuje průběh přehrávání.\nChtěl jsem i zprovoznit přeskakování v rámci aktuální skladby, ale\nnakonec se mi nepodařilo donutit MediaElement ke změně pozice :( Ještě by\nšlo udělat změnu hlasitosti, zobrazování délky stopy i celý playlist,\nzobrazování progressu downloadu apod. To už si zkuste sami, pokud\nchcete…</p>\n\n<p>Celkem slušný přehled ukázek WPF/E najdete na stránce <a\nhref=\"http://weblogs.asp.net/mschwarz/archive/2006/12/14/a-short-list-of-wpf-e-exmaples.aspx\">A short\nlist of WPF/E examples</a>.</p>\n\n<p>Dokumentaci, pluginy a šablony do VisualStudia si <a\nhref=\"http://msdn2.microsoft.com/en-us/asp.net/bb187452.aspx\">stáhněte na\nMSDN</a>.</p>\n\n<h3 id=\"toc-souvisejici\">Související</h3>\n\n<ul>\n\t<li><a href=\"http://www.borber.com/blog/prvni-detaily-o-wpf-e\">Borek Bernard:\n\tPrvní detaily o WPF/E</a></li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:45:36.667-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Přínáší Microsoft novou generaci webu?",
  :published #inst "2006-12-23T17:46:09.140-00:00",
  :url "prinasi-microsoft-novou-generaci-webu",
  :category-url "webdesign.aspx",
  :id 198,
  :description
  "Je tomu již pár týdnů, co Microsoft uvolnil první ukázkovou verzi zajímavé technologie pod krkolomným kódovým označením WPF/E.",
  :category "Webdesign",
  :tags ["silverlight" "plugin" "wpf"]},
 :208-netscape-9-0-theme-pro-firefox.aspx
 {:html
  "\n<p>Netscape uvolnil pěkný minimalistický theme pro Firefox. Možná by se\nmohl líbit i vám (ve Vistách vypadá o hodně lépe než defaultní).</p>\n\n<p><a\nhref=\"http://blog.netscape.com/2007/04/10/netstripe-netscape-9s-theme-for-firefox/\">Stahujte</a>\nna stránkách Netscape blogu.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:38:26.850-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Netscape 9.0 theme pro Firefox",
  :published #inst "2007-05-07T20:05:35.193-00:00",
  :url "netscape-9-0-theme-pro-firefox",
  :category-url "tuning.aspx",
  :id 208,
  :description
  "Netscape uvolnil pěkný minimalistický theme pro Firefox.",
  :category "Tuning",
  :tags ["firefox" "netscape" "theme"]},
 :63-windows-vista.aspx
 {:html
  "\n<p>Microsoft konečně oznámil komerční název jeho <em>Longhornu</em>,\npříštího operačního systému z&#160;dílny <a\nhref=\"http://www.microsoft.com\">Microsoftu</a>. Byla oznámena i&#160;data\nvydání beta verzí a kandidátů na vydání. První beta verze vyjde 3.\nsrpna tohoto roku a měla by přinést hlavně nové prvky pro programátory,\nsouhrnně nazývané WinFX. Je to managed framevork, který by měl nahradit\nWin32, i&#160;když toto by mělo být zachováno.</p>\n\n<p>Důležitou částí WinFX bude Indigo, zajišťující volání\ndistribuovaných služeb, které staví na standardech WS-xxx, WSDL a SOAP\nz&#160;dílny <a href=\"http://www.w3.org\">W3C</a>. To by mělo zajistit, že\nv&#160;brzké budoucnosti se nebudou aplikace instalovat do počítače, ale\nbudete používat logiku, která je někde na nějaké adrese napsaná\nv&#160;nějakém jazyku běžícím na nějaké platformě… Doufám, že se\npodpora pro Webové služby dostane (na úrovni systémového API) i&#160;do\ndalších operačních systémů.</p>\n\n<p>Další důležitou částí je Avalon. Jedná se o&#160;API, díky kterému\nsi můžete libovolně hrát s&#160;<acronym title=\"Graphic User Interface\"\nlang=\"en\">GUI</acronym>. Popis GUI je ve formátu MS XAML, takže distribuce\nbudoucích aplikací na váš počítač bude zprostředkována pomocí XML a\nprotokolů, které jeho přenos podporují, především HTTP.</p>\n\n<p>Tohle jsou základní stavební kameny nového systému, na které se nejvíc\ntěším, protože to je problematika, která mě hodně zajímá a ve které\nse snažím získat co nejvíc zkušeností. V&#160;brzké době, bych se měl\nstát členem mini teamu, ve kterém budeme řešit dotazování do Foxovských\ndatabází z&#160;jedné stránky. Databáze je decentralizovaná a navíc\nnení přístupná z&#160;venku, ale pouze přes VPN. Jedním z&#160;řešení,\nna kterém budu dělat, je dotazování pomocí XML webových služeb.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Windows Vista",
  :published #inst "2005-07-24T00:00:00.000-00:00",
  :url "windows-vista",
  :category-url "tuning.aspx",
  :id 63,
  :description "",
  :category "Tuning",
  :tags []},
 :327-webexpo-za-nami.aspx
 {:html
  "\n<p>Tento víkend jsem strávil na největší oborové konferenci o webu\nu nás – na WebExpu 2008. Byla to konference, kde jste mohli potkat lid\nnejrůznějších povolání – od marketingu přes management až ke\nkodérům, programátorům a vývojářům. A samozřejmě jste nemohli minout\nbandičku elitářských blogerů, které jistě znáte z Weblogy.cz.</p>\n\n<p>Organizačně se mi konference líbila a poskytla mi i spoustu zajímavých\ntémat k poslechu, někdy až tolik, že jsem začal přemýšlet o tom, jak\nvyužít mé rozdvojené osobnosti k tomu, abych pokryl více přednášek\nnajednou. Nakonec tato metoda nezafungovala, takže jsem raději zaplul\ndo šenku…</p>\n\n<p>Nakonec jsem si odnesl spoustu zajímavých poznatků:</p>\n\n<ul>\n\t<li>Radek Hulán je v pohodě a líbí se mi jeho pohled na web vs. Microsoft a\n\t<strong>jeho hlas</strong></li>\n\n\t<li>Arthur Dent spal s Davídkem a velkým <strong>plyšovým\n\tpsem</strong></li>\n\n\t<li>Ruby je <strong>opravdu skvělé</strong></li>\n\n\t<li>rarouš je děsnej <strong>kořala</strong> a přednášení mu\n\tfakt nejde</li>\n\n\t<li>Davídek se ztratil</li>\n</ul>\n\n<p>Díky Vaškovi za skvělou konferenci a snad se brzy sejdeme na nějaké\ndalší ;)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-10-20T13:08:12.433-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "WebExpo za námi",
  :published #inst "2008-10-20T13:08:12.420-00:00",
  :url "webexpo-za-nami",
  :category-url "webdesign.aspx",
  :id 327,
  :description
  "Tento víkend jsem strávil na největší oborové konferenci o webu u nás – na WebExpu 2008.",
  :category "Webdesign",
  :tags ["webexpo"]},
 :132-zaciname-s-atlasem-2.aspx
 {:html
  "\n<p><img style=\"float:right\" src=\"/data/obrazky/atlas_server.png\"\nalt=\"Diagram serverové části Atlasu\" /> V&#160;<a\nhref=\"http://rarous.net/clanek/129-zaciname-s-atlasem.aspx\">minulém díle</a>\njsme si představili, co to Atlas je, jakou má zhruba strukturu a k&#160;čemu\nse hodí. Jak jsem slíbil budeme se dnes věnovat serverové části Atlasu a\nukážeme si, jak jednoduše přetvořit stávající ASP.NET 2.0&#160;aplikaci\nna AJAXovou. Tak s&#160;chutí do toho :)</p>\n\n<p>V&#160;minulém díle jsem popsal, jakou má strukturu klientská část\nAtlasu, v&#160;tomto se podíváme na zoubek té serverové. Součástí\nserverové části jsou komponenty – Extendery, které obohacují současné\nASP.NET komponenty o&#160;interaktivní chování podobné tomu, jak se\nchovají komponenty WinForms. Krom extenderů jsou zde ještě komponenty\n<code>ScriptManger</code> &#8211; popsaný v&#160;minulém díle &#8211;\n<code>UpdatePanel</code> a <code>UpdateProgress</code> zajišťující a\ninformující o&#160;průběhu komunikace klientského skriptu s&#160;aplikací\nna serveru.</p>\n\n<p><em>Teď trochu odbočím.</em> Možná si vzpomínáte na jednu\nz&#160;novinek ASP.NET, tzv. CallBacky. První zmínky vyvolaly bouřlivé\nreakce, ale posléze ticho po pěšině. <a\nhref=\"http://www.dotnetjunkies.com/Tutorial/E80EC96F-1C32-4855-85AE-9E30EECF13D7.dcik\">CallBack</a>\nje alternativou PostBacku, kdy se např. při stránkování v\n<code>GridView</code> nemusí reloadovat celá stránka, ale je využito\nobjektu XmlHTTPRequest k&#160;aktualizaci datové mřížky, čímž se\nsnižuje datový tok a nemusí se celá stránka přerenderovat. CallBack je\njistou formou AJAXu, ale většinou je potřeba psát ručně, kusy JavaScriptu\na ty registrovat na serveru a posléze je posílat. Tento způsob zdá se mi\nponěkud neohrabaným.</p>\n\n<p><em>Zpět k&#160;Atlasu.</em> Atlas myšlenku CallBacku dotahuje do\npoužitelné podoby a v&#160;poslední verzi dokáže díky CallBackům\nz&#160;obyčejné ASP.NET stránky udělat AJAXovou :) Nyní malá ukázka.\nMějme GridView s&#160;povoleným řazením podle libovolného sloupce a\nstránkování.</p>\n\n<pre><code class=\"language-markup\">&lt;asp:GridView ID=\"GridView1\" runat=\"server\" AllowPaging=\"true\" AllowSorting=\"true\"\n        AutoGenerateColumns=\"true\" DataSourceID=\"ZdrojDat\"&gt;\n&lt;/asp:GridView&gt;</code></pre>\n\n<p>Takováto mřížka při každém přechodu na další stránku nebo\nsrovnání podle určitého sloupce PostBackuje a překreslí se stránka\ns&#160;požadovaným pohledem. Nyní uděláme lehkou úpravu a\nk&#160;PostBackům docházet nebude, docílíme AJAXu :)</p>\n\n<pre><code class=\"language-markup\">&lt;atlas:ScriptManager ID=\"TheScriptManager\" EnablePartialRendering=\"true\" runat=\"server\" /&gt;\n&lt;atlas:UpdatePanel ID=\"GridUpdate\" runat=\"server\" Mode=\"Always\"&gt;\n        &lt;ContentTemplate&gt;\n                &lt;asp:GridView ID=\"DatovaMrizka\" runat=\"server\" AllowPaging=\"true\" AllowSorting=\"true\"\n                        AutoGenerateColumns=\"true\" DataSourceID=\"ZdrojDat\"&gt;\n                &lt;/asp:GridView&gt;\n        &lt;/ContentTemplate&gt;\n&lt;/atlas:UpdatePanel&gt;</code></pre>\n\n<p>Ano, to je skoro vše! Za předpokladu, že jste použili šablonu Atlas\nWebSite ve vašem Visual WebDeveloperu nebo Visual Studiu – to předpokládá\nnainstalovaný Atlas z&#160;<a href=\"http://atlas.asp.net/\">domovské\nstránky</a>. Nezapomeňte, že každá Atlasová serverová komponenta\npotřebuje mít ve stránce <code>ScriptManager</code> jinak nebude\nfungovat.</p>\n\n<p>Tak máme za sebou první ukázku kódu. Docela pohoda ne? :) No, serverový\nAtlas nejsou jen komponenty, ale také webové služby a bridže. Ono se totiž\ndá v&#160;Atlasu programovat minimálně podle dvou hlavních schémat.</p>\n\n<ol>\n\t<li>Serverovou stranu využijete pouze na krmení klientské strany daty pomocí\n\twebových služeb a na klientu pojedeme všechno v&#160;JavaScriptu,\n\tXML-Scriptu a XHTML šablonách.</li>\n\n\t<li>Využijeme podpory CallBacků u&#160;serverových komponent a použijeme\n\textendery na vylepšení uživatelského zážitku s&#160;klasickými\n\tkomponentami.</li>\n</ol>\n\n<p>Třetí možností je využití obou postupů, ale pak v&#160;tom asi bude\npěkný guláš. Druhou možnost jsme si už předvedli, povězme si něco\no&#160;té první. Tak tedy, Atlas pomocí HttpHandleru přebírá volání\nwebových služeb (ASMX) a přidává vytváření JavaScriptových proxy pro\nmetody služby. Pomocí těchto proxy funkcí komunikuje klientský Atlas\ns&#160;webovou službou. Tady v&#160;dřívějších verzích nastal problém,\nnešlo efektivně konzumovat služby třetích stran, které jsme nemohli\ndonutit, aby nám vracely požadované JS proxy.</p>\n\n<p>Poslední verze přichází s&#160;tzv. bridži. Bridž je handler, který\nkonzumuje služby třetí strany a vytváří k&#160;ní potřebné proxy\nfunkce. Klientská strana pak volá tento bridž namísto služby. Třetí\npodporovanou možností je konzumace služeb postavených na <acronym\ntitle=\"Windows Communication Fundation\">WCF</acronym> dříve známé jako\nIndigo. Další novinkou poslední verze je XmlDataSource pro klientskou\nstranu. Můžete konzumovat libovolný XML soubor, pohybovat se kouzlech\npomocí XPath a provádět transformace pomocí XSLT. Tak to by bylo ke\nzdrojům dat.</p>\n\n<p>Prozatím poslední ze serverových částí je možnost vytváření\nGadgets. <a href=\"http://microsoftgadgets.com/\">Gadgets</a> jsou kousky kódu\n– komponenty – určené pro začlenění na portál <a\nhref=\"http://www.live.com/\">Live.com</a> (popř. <a\nhref=\"http://www.start.com/\">Start.com</a>) a pravděpodobně půjdou tyto\nkomponenty integrovat i&#160;do chystaného Desktop Sidebaru ve <a\nhref=\"http://www.microsoft.com/windowsvista/\">Windows Vista</a>. Tímto bych\nzakončil druhý díl povídání o&#160;Atlasu a příště bychom si mohli\nvytvořit nějakou použitelnou aplikaci :)</p>\n\n<h3>Zajímavé odkazy</h3>\n\n<ul>\n\t<li><a href=\"http://blog.vyvojar.cz/mjurek/archive/2006/04/09/7852.aspx\">AJAX\n\tbublina nebo trend?</a></li>\n\n\t<li><a href=\"http://www.shankun.com/Default.aspx?categoryID=1\">Shanku\n\tNiyogi</a></li>\n\n\t<li><a href=\"http://www.wilcob.com/Wilco/Atlas.aspx\">Wilco Bauer</a></li>\n</ul>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-11T11:04:01.453-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Začínáme s Atlasem 2",
  :published #inst "2006-04-11T09:05:00.000-00:00",
  :url "zaciname-s-atlasem-2",
  :category-url "asp-net-2-0.aspx",
  :id 132,
  :description "Druhý díl seriálu o Atlasu.",
  :category "ASP.NET 2.0",
  :tags []},
 :399-pryc-se-stromecky-nyni-interaktivne.aspx
 {:html
  "\n<p>Včera jsme si <a rel=\"bookmark\" title=\"Pryč se stromečky!\"\nhref=\"/weblog/398-pryc-se-stromecky.aspx\">předvedli</a> jak pomocí několika\nzákladních refaktoringů snížit cyklomatickou komplexitu, zpřehlednit tak\nkód a snížit riziko výskytu chyb. Dnes se posuneme ještě o kousek dál a\nzbavíme se nadbytečného imperativního kódu.</p>\n\n<h3 id=\"toc-linquj-linquj\">LINQuj, LINQuj</h3>\n\n<p>Když jsem dorefaktoroval metodu <code>IterateMatchingPathGroups</code> do\nposlední verze s guardy, hned jsem viděl, že tohle je jasný LINQoký dotaz\npřepsaný imperativně. Původně jsem ho chtěl přidat do včerejšího\nčlánku, ale pak jsem zjistil, že nejde úplně o triviální dotaz a že to\nnechám na pozorném čtenáři na rozvinutí v komentářích.</p>\n\n<p>Netrvalo dlouho a na twitteru mi psal <a href=\"http://www.tomasp.net\">Tomáš\nPetříček</a>, že by tato metoda šla přepsat pomocí LINQu. Inu,\nfunkcionální srdcař se nezapře. :) Tak mi to nedalo a píšu tenhle\ndruhej díl.</p>\n\n<h3 id=\"toc-interaktivni-extenze-na-scenu\">Interaktivní extenze na scénu!</h3>\n\n<p>Jak už jsem psal, nejde o úplně triviální LINQ dotaz, protože tu\npotřebujeme mapovat dvě kolekce na sebe. Ve čtvrté verzi .net frameworku byl\npřidán kombinátor <code>Zip</code>, který dělá přesně to, co\npotřebujeme. (Pokud používáte .net 3.5, najdete tento v knihovně\nSystem.Interactive v rámci <a\nhref=\"http://msdn.microsoft.com/en-us/devlabs/ee794896\">Rx.net</a>.) Tady je\nvýsledný kód, který si popíšeme dále:</p>\n\n<pre\n><code class=\"language-csharp\">static void IterateMatchingGroups(Regex regex, Match match, RouteData data) {\n  GroupCollection groups = match.Groups;\n  string[] groupNames = regex.GetGroupNames();\n\n  groups.Cast&lt;Group&gt;().\n    Zip(groupNames, (group, name) =&gt; new {\n      Pair = new KeyValuePair&lt;string, string&gt;(name, group.Value),\n      IsMatch = group.Success,\n    }).\n    Where(x =&gt; x.IsMatch).\n    Select(x =&gt; x.Pair).\n    Where(IsNamedKey).\n    Where(IsNotEmptyValue).\n    Do(SetRouteData(data));\n}\n\nstatic bool IsNamedKey(KeyValuePair&lt;string, string&gt; pair) {\n  return !(string.IsNullOrEmpty(pair.Key) || char.IsNumber(pair.Key, 0));\n}\n\nstatic bool IsNotEmptyValue(KeyValuePair&lt;string, string&gt; pair) {\n  return !string.IsNullOrEmpty(pair.Value);\n}\n\nstatic Action&lt;KeyValuePair&lt;string, string&gt;&gt; SetRouteData(RouteData data) {\n  return pair =&gt; data.Values[pair.Key] = pair.Value;\n}</code></pre>\n\n<p>Nejprve si připravíme vstupní kolekce skupin a jejich názvů. Protože\n<code>GroupCollection</code> implementuje pouze negenerické\n<code>IEnumerable</code> použijeme extenzi <code>Cast&lt;TResult&gt;</code>,\nkterá vytvoří generickou kolekci, nad kterou už se dají použít LINQ\nkombinátory. Dále obě kolekce sezipujeme a vytvoříme si pomocný anonymní\nobjekt, který drží pár klíč-hodnota a informaci, zda byl\núspěšný match.</p>\n\n<p>Odfiltrujeme si neúspěšné matche a dál už potřebujeme jen pár\nklíč-hodnota, tak si ho vyselectujeme. Odfiltrujeme páry, které nemají\nklíč nebo je klíčem číslo, a pak ještě ty, které nemají hodnotu. Tím\njsme sémanticky nahradili guard podmínky z cyklu předchozí verze.\nA dostali jsme se k tomu, co vlastně chceme udělat, tj. přidat nalezené\nhodnoty do kolekce routovacích dat. K tomu slouží kombinátor\n<code>Do</code> z interaktivních extenzí.</p>\n\n<p>Pokud zrovna nechcete používat skvělou knihovnu Rx.net, můžete\nkombinátor <code>Do</code> nahradit zápisem <code>ToList().ForEach</code> nebo\n<code>AsParallel().ForAll</code> z <acronym\ntitle=\"Task Parallel Library\">TPL</acronym>.</p>\n\n<p>A to je pro dnešek vše. Nějaká dotazy, výtky a tak? :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-03-08T16:41:41.713-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pryč se stromečky! Nyní interaktivně.",
  :published #inst "2010-12-22T07:35:42.090-00:00",
  :url "pryc-se-stromecky-nyni-interaktivne",
  :category-url "asp-net-2-0.aspx",
  :id 399,
  :description
  "Včera jsme si předvedli jak pomocí několika základních refaktoringů snížit cyklomatickou komplexitu, zpřehlednit tak kód a snížit riziko výskytu chyb. Dnes se posuneme ještě o kousek dál a zbavíme se nadbytečného imperativního kódu.",
  :category "ASP.NET 2.0",
  :tags ["linq" "rx"]},
 :226-hradvkarpatech-v-rumunsku.aspx
 {:html
  "\n<p>Ano vážení <strong>hradvkarpatech v&#160;Rumunsku</strong> opravdu\nskrývá své překvapení, ale co bychom to byli za kamarádky, kdybychom\nnašemu <em>tölökö totok siu</em> kamardádovi Leopoldovi a jeho kamarádům\napačům nepomohli trochu zatopit :) A&#160;o tom, jak to celé funguje píše\nnáš milovaný <a\nhref=\"http://weblognicek.chvojka.cz/ruzne/hrajeme-si-378.aspx\"><strong>karpatos\nrumunos webos</strong></a>.</p>\n\n<p>Good luck!</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2007-10-04T13:28:57.173-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "hradvkarpatech v Rumunsku",
  :published #inst "2007-10-04T10:15:03.127-00:00",
  :url "hradvkarpatech-v-rumunsku",
  :category-url "webdesign.aspx",
  :id 226,
  :description
  "Jak dlouho to vydrží? Googluj googluj vykrůcaj? Tropické šílenství z mravenců přenosné i na člověka!!",
  :category "Webdesign",
  :tags []},
 :89-css-sablony-pro-vase-projekty.aspx
 {:html
  "\n<p>Na <a href=\"http://www.msdn.com\"><acronym\ntitle=\"Microsoft Developer Network\">MSDN</acronym></a> najdete <a\nhref=\"http://msdn.microsoft.com/asp.net/reference/design/templates/default.aspx\">několik\nCSS šablon</a> k&#160;volnému použití ve vašich ASP.NET projektech. Tyto\nbalíčky jsou zejména vhodné pro začátečníky, kteří ještě neumí\nudělat design v&#160;CSS sami.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "CSS šablony pro vaše projekty",
  :published #inst "2005-12-05T09:08:48.110-00:00",
  :url "css-sablony-pro-vase-projekty",
  :category-url "asp-net-2-0.aspx",
  :id 89,
  :description
  "Microsoft publikoval několik CSS layoutů k volnému použití.",
  :category "ASP.NET 2.0",
  :tags []},
 :210-audio-stack-ve-vistach.aspx
 {:html
  "\n<p>Jedna z věcí která mě na Vistách nejvíc štve je předělanej Audio\nstack. Jakou audiofila by mě to spíš mělo těšit, ale prozatím tomu\ntak není.</p>\n\n<ol>\n\t<li>Nefunguje mi externí zvukovka. Kvůli absenci ovladačů pro můj Conectiv\n\tdo Vist si musím na disku držet ještě pořád XPčka a když chci dělat se\n\tzvukem musím prostě přebootvat a řešit dilema, dneska večer programovat\n\tnebo míchat :) Doufám, že M-Audio brzy dodá funkční ovladače\n\ti pro Vistu.</li>\n\n\t<li>Když dojížděla mp3ka ve <acronym\n\ttitle=\"Windows Media Player\">WMP</acronym> ke konci tak asi 30 s před koncem\n\tzačala přeskakovat, a po skončení se celkem dlouho čekalo na natažení\n\tdalší skladby… Docela nepříjemná věc. Naštěstí na tuhle Issue\n\texistuje celkem snadné řešení.</li>\n</ol>\n\n<h3 id=\"toc-reseni-problemu-preskakujicich-skladeb-ve-windows-vista\">Řešení\nproblému přeskakujících skladeb ve Windows Vista</h3>\n\n<p>Nejjednodušší je asi si nainstalovat WinAMP, pro někoho dostačující\nřešení, ale mně WinAMP prostě nesedí.</p>\n\n<p>Druhou možností je navštívit <em>Control panel</em> &gt; <em>Sound</em>\npoklepete na repráčcích a přepnete se na kartu <em>Enhancements</em>. Zde\nzaškrtnete volbu <strong>Disable all enhancements</strong>. A je to\nv cajku…</p>\n\n<div><img src=\"/data/obrazky/vista-sound.png\" alt=\"\" /></div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:35:54.283-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Audio stack ve Vistách",
  :published #inst "2007-05-25T20:03:07.143-00:00",
  :url "audio-stack-ve-vistach",
  :category-url "tuning.aspx",
  :id 210,
  :description
  "Visty maj novej audio stack, ale ne vždy jsou změny k lepšímu. Jak řešit některé problémy možná napoví tento článek.",
  :category "Tuning",
  :tags ["windows" "vista" "audio"]},
 :231-jak-na-php-ve-viste.aspx
 {:html
  "\n<p>Možná už jste přešli na Vistu, nebo o tom přemýšlíte, a chtěli\nbyste si zprovoznit PHP. Samozřejmě je tu možnost použít bundle s Apachem\n(neověřeno), ale tento článek bude o tom, jak to udělat na IIS 7.</p>\n\n<p><strong>Upozornění:</strong> Následující postup vám <em>nebude\nfungovat</em> na <strong>Home Basic</strong> edici Windows Vista, protože její\nsoučástí je pouze omezené <acronym\ntitle=\"Internet Information Services\">IIS</acronym> pro provoz <acronym\ntitle=\"Windows Communication Foundation\">WCF</acronym>.</p>\n\n<p>Microsoft a Zend nedávno podepsali dohodu o vzájemné podpoře, výsledkem\nje nový FastCGI modul pro IIS, na kterém by mělo PHP běžet stejně, ne-li\nlépe než na Apache. Na druhou stranu je tu podpora MS SQL pro PHP. Takže\nprvní plody tu máme a myslím, že k oboustranné spokojenosti.</p>\n\n<h3 id=\"toc-instalace-iis\">Instalace IIS</h3>\n\n<p>Pokud ještě nemáte na Vistě IIS nainstalované, je tu vhodná chvíle to\nnapravit. Otevřete si <em>Control panel</em> \\ <em>Programs</em> a v sekci\n<em>Program and Features</em> klikněte na <strong>Turn Windows features on or\noff</strong>. Otevře se vám následující okno, kde zaškrtnete podporu CGI\n(není od věci si zapnout i ASP.NET, když už jsme tady).</p>\n\n<div><img src=\"/data/obrazky/iis_features.gif\" alt=\"nastavení komponent\"\n/></div>\n\n<p>Pokud chcete konzolu pro správu IIS najdete ji ve <em>Web Management\nTools</em>, je tam jak stará šestková, tak nová sedmičková. Ale pro náši\npotřebu není bezpodmínečně nut­ná.</p>\n\n<p>Po odkliknutí tlačítka <strong>OK</strong> budete pravděpodobně vyzváni\nk restartu systému.</p>\n\n<h3 id=\"toc-instalace-php\">Instalace PHP</h3>\n\n<p>Pokud tedy máme IIS nainstalováno, přejdeme k instalaci PHP.</p>\n\n<ol>\n\t<li><a href=\"http://www.php.net/downloads.php\">Stáhněte</a> si zip balíček\n\t<em>Non-thread-safe Win32 binaries</em>.</li>\n\n\t<li>Balíček rozbalte např. do <code>C:\\PHP</code>.</li>\n\n\t<li>Přejmenujte soubor <code>php.ini-recommended</code> na\n\t<code>php.ini</code>.</li>\n\n\t<li>Upravte následující klíče:\n\t\t<ul>\n\t\t\t<li><code>register_long_arrays = on</code></li>\n\n\t\t\t<li><code>extension_dir = \"C:\\PHP\\ext\"</code></li>\n\t\t</ul>\n\t</li>\n\n\t<li>Soubor uložte.</li>\n</ol>\n\n<h3 id=\"toc-instalace-fastcgi\">Instalace FastCGI</h3>\n\n<p>FastCGI je novinkou IIS7, ale není ještě ve Vistě (bude až\nv 2008 Serveru a možná i v Service Packu pro Vistu, který by měl vyjít\nsoučasně se serverem), proto je nutné ho doinstalovat.</p>\n\n<ol>\n\t<li>Stáhněte si zip balíček pro <a\n\thref=\"http://www.iis.net/default.aspx?tabid=1000052\">x86</a> nebo <a\n\thref=\"http://www.iis.net/default.aspx?tabid=1000055\">x64</a> podle toho na jaké\n\tjste platformě.</li>\n\n\t<li>Rozblate ho např. do <code>C:\\PHP\\FastCGI\\</code></li>\n\n\t<li>Otevřete si příkazovou řádku (Win+“cmd“).</li>\n\n\t<li>Pokračujte následovně:</li>\n</ol>\n\n<pre\nclass=\"console\"><code>C:\\Users\\rarous\\Downloads&gt;cd c:\\php\\fastcgi\n\nc:\\php\\FastCGI&gt;fcgisetup /install\nStopping IIS services ...\nCopied files\nRegistered FastCGI configuration section\nInstalled FastCGI module\nStarting IIS services ...\nSuccess: Installation completed succesfully\n\nc:\\php\\FastCGI&gt;fcgisetup /add c:\\php\\php-cgi.exe PHP\nConfigured FastCGI pool\nCreated handler mappings\nSuccess: Installation completed succesfully</code></pre>\n\n<p>Tím by mělo být hotovo. Pro ověření funkčnosti si vytvořte v\n<code>c:\\inetpub\\wwwroot\\</code> soubor <code>index.php</code> do kterého\nzadáte následující kód:</p>\n\n<pre><code class=\"language-php\">&lt;?php phpinfo(); ?&gt;</code></pre>\n\n<p>Uložíte a do browseru zadáte adresu\n<code>http://localhost/index.php</code>. Měla by se objevit standardní\nstránka s výpisem konfigurace PHP. Pro dnešek vše :)</p>\n\n<p>PS. FastCGI se dá doinstalovat i do <a\nhref=\"http://www.iis.net/go/1521\">IIS 6</a> na Windows 2003.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:17:52.010-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak na PHP ve Vistě",
  :published #inst "2007-11-15T08:10:06.960-00:00",
  :url "jak-na-php-ve-viste",
  :category-url "webdesign.aspx",
  :id 231,
  :description
  "Možná už jste přešli na Vistu, nebo o tom přemýšlíte, a chtěli byste si zprovoznit PHP. Samozřejmě je tu možnost použít bundle s Apachem (neověřeno), ale tento článek bude o tom, jak to udělat na IIS 7.",
  :category "Webdesign",
  :tags ["php" "windows" "vista" "iis7" "tutorial" "fastcgi"]},
 :78-jak-na-validator-w3c.aspx
 {:html
  "\n<p>ASP.NET 2.0&#160;ve finální verzi produkuje kód podle <acronym\ntitle=\"Extensible Hypertext Markup Language\">XHTML</acronym>\n1.0&#160;Transitional, takže by měl validátorem bez problémů projít\n&#8211; teda pokud neděláte v&#160;kódu prasárny. Já osobně preferuji\nStrict mode, takže od dob beta2 jedou tyhle stránky s&#160;doctypem XHTML\n1.1, jenže generovaný kód už nedosahuje požadované kvality :) Naštěstí\nprogramátoři nezahodili striktní režim, ale pouze ho schovali za\npřepínač ve web.configu. Takže stačí přidat řádek\n<code>&lt;xhtmlConformance mode=\"Strict\" /&gt;</code> do sekce\n<code>&lt;system.web&gt;</code> a rázem bude výstup zase striktní! Ale\npozor, nezapomínejme na adaptivní rendering ASP.NET, který je dobrým\nsluhou, ale i&#160;zlým pánem.</p>\n\n<p>Striktní výstup dostanou pouze prohlížeče, které mu rozumí (tohle moc\nnechápu, ale budiž). Pokud dáte validovat takovou stránku W3C Validátoru,\ntak nepochodíte. Vyskočej na vás přinejmenším tři chyby (atribut name a\nformu a dva inputy, které nejsou v&#160;blokovém elementu), je to způsobeno\ntím, že ASP.NET nezná user-agenta validátoru. Náprava je naštěstí\njednoduchá, stačí si napsat vlastní <strong>browser definition\nfile</strong> a uložit jej do adresáře <em>App_Browsers</em>. No a protože\nnerad dělám něco, co už někdo udělal, našel jsem <a\nhref=\"http://idunno.org/misc/w3cvalidator.browser\">W3CValidator.brow&#173;ser</a>\nna stránkách <a href=\"http://idunno.org\">http://idunno.org</a> za což jim\nvelice děkuji. Teď už je zase výstup, jak má být, projde validací, a\nnepotřebuju k&#160;tomu ani žádné <a\nhref=\"http://www.aspnetresources.com/articles/HttpFilters.aspx\">OutputFiltry</a>\n:)</p>\n\n<h3>Update</h3>\n\n<p>Dneska jsem zjistil, že zdrojové stránky asi nefungují, proto tady\nuvádím zdrojový kód W3CValidator.brow&#173;ser:</p>\n\n<pre><code class=\"language-markup\">&lt;browsers&gt;\n    &lt;browser id=\"W3CValidator\" parentID=\"Mozilla\"&gt;\n        &lt;identification&gt;\n            &lt;userAgent match=\"W3C_Validator\" /&gt;\n        &lt;/identification&gt;\n\n        &lt;capabilities&gt;\n            &lt;capability name=\"tagwriter\" value=\"System.Web.UI.HtmlTextWriter\" /&gt;\n          &lt;capability name=\"ecmascriptversion\" value=\"1.5\" /&gt;\n          &lt;capability name=\"w3cdomversion\" value=\"1.0\" /&gt;\n          &lt;capability name=\"css1\" value=\"true\" /&gt;\n          &lt;capability name=\"css2\" value=\"true\" /&gt;\n        &lt;/capabilities&gt;\n      &lt;/browser&gt;\n\n    &lt;browser refID=\"Mozilla\"&gt;\n        &lt;capabilities&gt;\n            &lt;capability name=\"xml\" value=\"true\" /&gt;\n        &lt;/capabilities&gt;\n    &lt;/browser&gt;\n&lt;/browsers&gt;</code></pre>\n\n<!-- generated by Texy! -->",
  :keywords "strict validace asp.net 2 w3cvalidator.browser",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak na validátor W3C",
  :published #inst "2005-11-08T14:07:00.000-00:00",
  :url "jak-na-validator-w3c",
  :category-url "asp-net-2-0.aspx",
  :id 78,
  :description
  "Návod jak projít validací W3C Validatoru s&#160;ASP.NET 2.",
  :category "ASP.NET 2.0",
  :tags []},
 :153-steve-angello-poprve-v-praze.aspx
 {:html
  "\n<p>Už tento pátek přijeden jeden z&#160;mých nejoblíbenějších\nhouseových producentů &#8211; Steve Angello. Přijede společně s&#160;Paul\nvan Dykem do T-Mobile arény. Já jsem stihl lístky ještě za čtyři stovky,\nale na místě budou stát už kolem litříku.</p>\n\n<p>Určitě to bude skvělá pařba a už se moc těšim&#8230;</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-05-23T08:05:12.270-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Steve Angello poprvé v Praze",
  :published #inst "2006-05-23T12:00:00.000-00:00",
  :url "steve-angello-poprve-v-praze",
  :category-url "muzika.aspx",
  :id 153,
  :description
  "Kamarád Erica Prydze míří měsíc po Ericovi do Prahy a nebude sám.",
  :category "Muzika",
  :tags []},
 :172-alessio-busta-rainin-vibes.aspx
 {:html
  "\n<ol>\n\t<li>ATB – Let U Go (AT&amp;R Mix)</li>\n\n\t<li>Mason – Exeeder</li>\n\n\t<li>Ian Carey – Love Won't Wait (Original Mix)</li>\n\n\t<li>Buy Now – For Sale</li>\n\n\t<li>Buy Now – For Sale (Rude Mix Edit)</li>\n\n\t<li>Underworld – Born Slippy (Spacecab Remix)</li>\n\n\t<li>Bob Marley – Exodus (Joey Negro Club Mix)</li>\n\n\t<li>Bob Sinclar feat. The Hard Boys – Hard (Superchumbo Dub)</li>\n\n\t<li>Digitalism – Zdarlight (Axwell Bootleg)</li>\n\n\t<li>Yello – Oh Yeah Oh' Six (Booka Shade Remix)</li>\n\n\t<li>Ndea Davenport – One Day My Love (D Ramirez Vocal)</li>\n\n\t<li>Menace &amp; Adam – Rockin' (Original Mix)</li>\n\n\t<li>DJ Disciple – Yes (Ian Carey Dub)</li>\n</ol>\n\n<p>Ke stažení <a href=\"/files/alessio_busta_-_rainin_vibes.wma\"\nonclick=\"javascript:_gat._getTracker(\">Alessio Busta – Rainin' Vibes</a> (WMA\n96 kbps; 47,6 MiB)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T15:11:08.050-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Alessio Busta - Rainin' Vibes",
  :published #inst "2006-08-01T09:58:49.433-00:00",
  :url "alessio-busta-rainin-vibes",
  :category-url "muzika.aspx",
  :id 172,
  :description "Další houseový kousek v podání Alessia Busty.",
  :category "Muzika",
  :tags []},
 :278-genericky-kontejner-a-repeater.aspx
 {:html
  "\n<p>Zrovna předevčírem jsem měl v plánu napsat tenhle článek, ráno jsem\nsi napsal ukázkovou třídu, kterou najdete níže, a pak šel do práce.\nPřipravoval jsem dva celkem důležité stagingy a nakonec ještě ta Havana\nParty. No, a když jsem se vrátil z nákupu, zastihl jsem přímý přenos ze\nspouštění <a href=\"http://www.latrine.cz/\">La Trine</a>. A bylo po článku.\nTeda jen dočasně, protože i včera jsem měl nějakou snahu, tak jsem napsal\nprvní půlku článku.</p>\n\n<p>Někdy před rokem jsem publikoval ukázku, jak si vytvořit vlastní kontrol\ns <a href=\"/weblog/213-layout-template.aspx\">Layout Template</a>. Před pár\ntýdny zase pomocníka na <a\nhref=\"/weblog/268-vyhledavani-komponent-v-asp-net-strance.aspx\">vyhledávání\nkomponent ve stránce i mimo jmenný kontejner</a>. To jsou takoví pomocníci,\nkteří mi usnadňují tvorbu serverových ovládacích prvků. A dneska si\nukážeme jejich dalšího bratříčka – <strong>generický\nkontejner</strong>.</p>\n\n<h3 id=\"toc-kontejner\">Kontejner</h3>\n\n<p>Kontenery se používají u šablonovaných prvků svázaných s daty.\nSlouží jako držitel dat pro konkrétní instanci šablony. Jistě jste se\nsetkali s <strong>Eval</strong>ováním, když jste prováděli databinding.\nProblém je v tom, že s sebou přináší značnou režii spojenou\ns boxingem. Výhodnější je používat plně typový kontejner. Zvýšíte\ntím nejen výkon stránky, ale i zístkáte vyšší komfort v podobě\nIntellisense v šabloně.</p>\n\n<p>Já jako základ takových kontejnerů používám generický kontejner,\nkterý má následující rozhraní.</p>\n\n<pre\n><code class=\"language-csharp\">public interface IGenericContainer&lt;T&gt; : INamingContainer {\n  T DataItem { get; }\n}</code></pre>\n\n<p>Toto rozhraní pak implementuju následovně:</p>\n\n<pre\n><code class=\"language-csharp\">public class GenericContainer&lt;T&gt; : Control, IGenericContainer&lt;T&gt; {\n  public GenericContainer&lt;T&gt;(T dataItem) {\n    DataItem = dataItem;\n  }\n  public T DataItem { get; priváte set; }\n}</code></pre>\n\n<p>Dalším vhodným kontejnerem je prázdný kontejner:</p>\n\n<pre\n><code class=\"language-csharp\">public class EmptyContainer : Control, INamingContainer {\n}</code></pre>\n\n<p>S těmito kontejnery se dá pokrýt obrovské množství potřeb. Jak je\nvyužít v praxi si ukážeme v následující čás­ti.</p>\n\n<h3 id=\"toc-genericky-repeater\">Generický repeater</h3>\n\n<p>Nyní vezmu kostičky naší stavebnice a postavím z nich základ pro\nvypisovače silně typových dat.</p>\n\n<pre\n><code class=\"language-csharp\">using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Web.UI;\nusing System.Web.UI.WebControls;\n\nnamespace Rarous.Web.UI {\n  [ParseChildren(true)]\n  public abstract class GenericRepeaterBase&lt;T&gt; : CompositeControl, ILayoutTemplateable {\n\n    protected bool IsBound { get; set; }\n\n    public IEnumerable&lt;T&gt; DataItem { get; set; }\n\n    public abstract ITemplate ItemTemplate { get; set; }\n\n    public abstract ITemplate AlternatingItemTemplate { get; set; }\n\n    [DefaultValue(typeof(ITemplate), \"\")]\n    [PersistenceMode(PersistenceMode.InnerProperty)]\n    [TemplateContainer(typeof(INamingContainer))]\n    [TemplateInstance(TemplateInstance.Multiple)]\n    public ITemplate SeparatorTemplate { get; set; }\n\n    #region ILayoutTemplateable Members\n    [PersistenceMode(PersistenceMode.Attribute)]\n    public string LayoutContainerId { get; set; }\n\n    [DefaultValue(typeof(ITemplate), \"\")]\n    [PersistenceMode(PersistenceMode.InnerProperty)]\n    [TemplateContainer(typeof(INamingContainer))]\n    [TemplateInstance(TemplateInstance.Single)]\n    public ITemplate LayoutTemplate { get; set; }\n    #endregion\n\n    #region CompositeControl Members\n    protected override void CreateChildControls() {\n      Control container = TemplatingHelper.CreateLayoutContainer(this, this);\n\n      bool alternate = false;\n      foreach (T item in DataItem) {\n        ITemplate template = alternate ? AlternatingItemTemplate ?? ItemTemplate : ItemTemplate;\n        TemplatingHelper.Instantiate(new GenericContainer&lt;T&gt;(item), template, container);\n        TemplatingHelper.Instantiate(new EmptyContainer(), SeparatorTemplate, container);\n        alternate = !alternate;\n      }\n    }\n    public override void DataBind() {\n        base.DataBind();\n        IsBound = true;\n    }\n    protected override void OnInit(EventArgs e) {\n      EnableViewState = false;\n      base.OnInit(e);\n    }\n    protected override void OnPreRender(EventArgs e) {\n      if (IsBound == false) {\n        DataBind();\n      }\n      base.OnPreRender(e);\n    }\n    protected override void Render(HtmlTextWriter writer) {\n      base.RenderContents(writer);\n    }\n    #endregion\n  }\n}</code></pre>\n\n<p>Na takovémto základě se dá stavět už slušná řada konkrétních\novládacích prvků, kde už jen doplníme šablonový typ a můžeme přidat\ndalší vlastnosti dle potřeby.</p>\n\n<p>V ukázce si můžete povšimnout, že jako typ kontejneru šablony uvádím\npouze rozhraní. Dělám to kvůli zpřehlednění IntelliSense. Když pak\npoužívám výraz pro svázání s daty v šabloně, dostanu pouze vlastnosti\na metody kontejneru, které jsou definovány rozhraním, nikoli spoustu\nzbytečných vlastností a metod, které sebou nese třída <code>Control</code>\nze které musí být kontejner poděděný.</p>\n\n<p>Doufám, že se bude hodit a pokud najdete nějakou chybu, neváhejte a\nreportujte :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-02-22T07:16:44.337-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Generický kontejner a repeater",
  :published #inst "2008-05-31T11:55:54.243-00:00",
  :url "genericky-kontejner-a-repeater",
  :category-url "asp-net-2-0.aspx",
  :id 278,
  :description
  "V několika předchozích článcích jsem prezentoval některé ponocníky pro tvorbu serverovývh ovládacích prvků. Dnes si ukážeme jejich bratříčka - generický kontejner",
  :category "ASP.NET 2.0",
  :tags ["genericcontainer" "repeater" "aspnet"]},
 :13-maturitni-ples-sps-se.aspx
 {:html
  "\n<p>26. března jsme byli na plese SPŠ SE v&#160;Liberci, jako její absolventi\njsme se tam po roce opět sešli a to docela v&#160;hojném počtu. Nálada\nbyla, myslím, skvělá a určitě jsme si to užili mnohem lépe než\nloni.</p>\n\n<p>Pro ty, co tam nebyli, tu mám nějaký <a\nhref=\"http://www.pslib.cz/podrobne.php?id=237\">fotky na serveru prumky</a> a na\n<a\nhref=\"http://pluto.pslib.cz/malym/fotky/spsse/?show=2004-03-maturitak04\">Mikově\nwebu</a>.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Maturitní ples SPŠ SE",
  :published #inst "2004-04-20T10:00:00.000-00:00",
  :url "maturitni-ples-sps-se",
  :category-url "skola.aspx",
  :id 13,
  :description "Report z akce.",
  :category "Škola",
  :tags []},
 :91-aktualne.aspx
 {:html
  "\n<p>Dneska, ačkoliv nemám žádnou školu, mám docela našlapáno. Ráno jsem\nzkoumal statistiky na Google Analytics a byl to šok. Za včerejšek nárůst\nnávštěvnosti o&#160;1&#160;200%. Důvodem je již zmiňovaná účast\nv&#160;soutěži. jsem rád, že se sem tolik lidí podívalo, ale nikdo sem\nnenapsal ani čárku :( Škoda. Nemyslim si že píšu o&#160;tak\nnezajímavých tématech. No nic, třeba se časem moje články zalíbí nebo\nnaopak a nějakou odezvu mi zanechá.</p>\n\n<p>Konečně jsem dostal od <a href=\"http://mikemaly.net\">mika</a> <a\nhref=\"/galerie.aspx?show=2005-12-03_Heges\">fotky z&#160;páteční akce\nv&#160;Hegeši</a>, takže jsem se konečně dokopal k&#160;tomu abych dopsal\ndalší kus Gryphoonu, tentokrát pro upload souborů na server. Upload je\ndoplněn o&#160;možnost nahrávání zazipovaných složek s&#160;jejich\nautomatickou dekompresí na server. Tohle jsem potřeboval kvůli uploadu\ngalerií na web. Na našem Wifi prostě nedostanu přes FTP soubor velikosti\nfotky, ani kdybych se zbláznil. Teď si export z&#160;<a\nhref=\"http://picasa.google.com\">Picasy</a> zabalím, přes Gryphoona nahraju a\nuž vše běhá tak, jak má.</p>\n\n<p>Kromě programových změn, jsem pročistil kategorie a některé přidal\ntak, aby byla navigace trochu přehlednější &#8211; sám jsem se v&#160;tom\nobčas ztrácel :) No a to je asi pro dnešek všechno, protože musim udělat\nprojekt na Ekonomiku pro podnikatele a domácí úkol na Architekturu\npočítačových systémů.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Aktuálně",
  :published #inst "2005-12-06T15:26:48.510-00:00",
  :url "aktualne",
  :category-url "jen-tak.aspx",
  :id 91,
  :description "Co se dneska událo.",
  :category "Jen tak",
  :tags []},
 :193-team-building.aspx
 {:html
  "\n<p>Před chvílí jsme dorazili busem před budovu Atlasu. Dojeli jsme se\nznačným zpožděním, kvůli neschopnosti dopravce dostavit funkční autobus.\nOn už pak ani autobus potřeba nebyl, páč nás tam zbylo jen osm, sic přijel\n(dřív než jsme se vydali na vlak).</p>\n\n<p>Cestou Filip, Honza a Radek dospávali spánkový deficit – málo komu se\npodařilo proflámovat celou noc – vyjímkou byl Marek, který v buse nespal\n(spí až teď za kompem v kanclu :D ). Cestou jsme dopíjeli výhry – proto\nomluvte případný vyšší výskyt pravopisných chyb, než je obvyklé.</p>\n\n<p>Jako, tým jsme stmelili výborně, alespoň nás posledních osm :D Zbytek\nakce byl taky dobrý. Po příjezdu na místo (sorry, teď si nevybavím\nnázev), jsme se ubytovali a šli prozkoumat terén. Zakésli jsme na <span\ntitle=\"ovšem né stolním\">fotbálku</span>, kdy jsme nejprve hráli ve třech\na pak dva na dva. Vydejchali jsme se a pak se šlo na oběd. Z oběda bylo asi\nnejlepší Kamikaze, které jsme pili už během přednášek našich\nnadřízených. Po hovězí polívce, se dostavil Kamikaze efekt a bylo. Na\nsvíčkovou už se nedostalo :)</p>\n\n<p>Po obědě do dostavily teamové hry. V teamu jsem byl mimo jiné s Petrem\nŠnajdrem. Nejdřív jsem stavěli ze špaget a maršmelounů nejvyšší\nstavbu – nepovedlo se. Potom pokračovala orientační část, při které\njsme dostali čtyři body na GPSce a čtyři na mapě, kde měly být údajně\nobálky s úkoly a bonusy, které se pak započítaly do skore týmu.</p>\n\n<p>V teamu nás bylo osm, takže jsme se rozdělili do dvojic. To, že <span\ntitle=\"na mapě\">bodů</span> bylo celkem osm, jsem se dozvěděl až po\nsoutěži :). Já s kolegou jsme nakonec na požadované místo vůbec\nnedorazili, ale dobrý – mapu jsem jen zběžne skoukl a řekl si „ok,\njdeme.“ A šli jsme – úplně jinam :D. To Petr byl mnohem\núspěšnější. Mapu si nafotil do mobilu, takže věděl kam jít a dokonce\nnašel :)</p>\n\n<p>Neúspěch v orientační části jsme nikterak nevylepšili v dalších\ndisciplínách – holt teamovou spolupráci si, jako vývojář, představuji\nnějak jinak. Závěrečná disciplína byla o skládání slov z písmen\nz nalezených obálek. Ani tu jsme nevyhráli. Stejně nezáleží na tom\nvyhrát, ale <span title=\"dělení  o výhru\">zúčastnit se</span>. Pak\npokračovala volná zábava doprovázená úchylnou diskotékou, cassinem a\nlogickými hrami, což byla pro nás programátory výzva :D. Dobře jsem si\npokecal s naším produktovým ředitelem Petrem Šnajdrem, čekejte nějaké\nfotky <a href=\"http://management.blog.lupa.cz/\">na jeho blogu</a>,\ns generálním DDem a mnoha dalšími :) No prostě skvělá zábava. Mezi tím\nsi Honza „Mravenec“ Bien vyškemral funkci zástupce ředitele, tak jsem\nzvědav, jak se s tím chlapec popere…</p>\n\n<p>PS: Ve výtězném týmu, nebyl nikdo jiný než Honza Mravenec. Cituji:\n„Já jsem vyhrál!“</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:43:50.323-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Team Building",
  :published #inst "2006-11-11T13:37:05.750-00:00",
  :url "team-building",
  :category-url "jen-tak.aspx",
  :id 193,
  :description
  "Můje první team bulding akce v Atlasu. Opravdu stála za to.",
  :category "Jen tak",
  :tags ["atlas"]},
 :66-gryphoon-verze-1-5.aspx
 {:html
  "\n<p>Po delší odmlce je tu další příspěvek o&#160;úpravách Gryphoonu.\nNepsal jsem proto, že jsem značně upravil databázi a změny jsem prováděl\npouze v&#160;prezentační části. Dneska jsem dostal editor do stavu, kdy už\nje schopnej publikovat, ale ještě neni zcela dopsaný. Po dokončení úprav\nadministrace dojde k&#160;povýšení Gryphoonu na verzi 1.6. Dalšim krokem\nk&#160;plánované verzi 2.0&#160;bude verze 1.7&#160;s&#160;funkčním\nRewritingem adres. Verze 1.8&#160;bude již konečně pracovat\nu&#160;uživatelskými rolemi. Finální 2.0&#160;bude podporovat více blogů\na odolnější spamfiltering a tu pravděpodobně uvolnim pod GPL.</p>\n\n<h3>Novinky v&#160;současné verzi</h3>\n\n<ul>\n\t<li>Syndikační služba s&#160;podporou RSS 2.0, Atom 1.0&#160;a Google\n\tSiteMap</li>\n\n\t<li>TrackBack systém</li>\n\n\t<li>Implementovaná Texy! jak v&#160;Administračním rozhranní, tak pro\n\tzadávání komentářů.</li>\n\n\t<li>Zvýrazňování syntaxe</li>\n\n\t<li>Převedení výkonného kódu aplikace do Assembly, SQL dotazy převedeny na\n\tuložené procedury</li>\n\n\t<li>a další, na které si teď zrovna nevzpomenu</li>\n</ul>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Gryphoon verze 1.5",
  :published #inst "2005-08-24T18:10:31.000-00:00",
  :url "gryphoon-verze-1-5",
  :category-url "gryphoon.aspx",
  :id 66,
  :description "Pokusný příspěvek, po změnách v Gryphoonu.",
  :category "Gryphoon",
  :tags []},
 :369-odpalovani-akci-menicich-data-odkazem.aspx
 {:html
  "\n<p>V RESTové architektuře webu byste neměli odpalovat akce, které mění\ndata, pomocí odkazů. Měli byste tak činit pomocí sloves HTTP protokolu\n(<code>PUT</code>, <code>POST</code>, <code>DELETE</code>). Přejdu fakt, že\ndnešní prohlížeče znají jen sloveso <code>POST</code> a ostatní musíte\nsimulovat pomocí <acronym title=\"XML HTTP Request\">XHR</acronym>. Stejně se\ndostanete do situací, kdy potřebujete nějakou akci měnící data odpalít\nodkazem.</p>\n\n<p>Abych pro příklad nemusel chodit daleko, vezmu si hlasování k akcím na\n<a href=\"http://www.trop.cz/\">Tropu</a>. U každé akce se můžete vyjádřit\nk tomu, zda na akci <em>půjdete</em>, <em>možná se ukážete</em> nebo\n<em>nepůjdete</em>. Pokud je uživatel nepřihlášený, vidí pod názvem akce\ntři ikonky s počtem hlasů. Po přihlášení se stanou aktivními a lze\ns nimi hlasovat. Původně byla tato „tlačítka“ pouhými odkazy na akci,\nkterá hlasování zpracovávala. Jenže po tom, co jsem pouštěl některé\nspidery, začaly přibývat hlasy.</p>\n\n<p>Tím se dostáváme k praktickému důsledku porušení doporučení\nz prvního odstavce. Problém jsem nakonec vyřešil následujícím vzorem: Do\nstránky jsem přidal formuláře, které bezpečným způsobem odpalují akce\nměnící data. Každý formulář má své <code>id</code>. Odkazy, které\npůvodně vedly na akce měnící data, nyní odkazují na id jednotlivých\nformulářů a mají třídu <code>form-submit</code>. Jednoduchý jQuery kód\npak projde tyto odkazy a na <code>click</code> jim naváže <code>submit</code>\nodkazovaného formuláře a ten pak schová.</p>\n\n<p>Stránka vypadá pořád stejně, chová se stejně, ale dělá to\n<em>jinak</em>. Pokud nemá uživatel povolený JavaScript, tak se po kliknutí\nna ikonku dostane na správný formulář, který musí odeslat stiskem\ntlačítka submit. Funkčnost tak zůstává přístupná i bez JavaScriptu.\nZároveň nehrozí, že by došlo k nechtěné aktivaci akce nějakým\nspiderem, který si ošahává odkazy na stránce.</p>\n\n<p>Snad se bude hodit i vám.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-11-16T09:29:26.240-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Odpalování akcí měnících data odkazem",
  :published #inst "2009-11-16T09:29:26.230-00:00",
  :url "odpalovani-akci-menicich-data-odkazem",
  :category-url "webdesign.aspx",
  :id 369,
  :description
  "Jak volat serverové akce, které jsou potenciálně nebezpečné (mění data), odkazem, se dozvíte možná v tomto spotu.",
  :category "Webdesign",
  :tags ["jquery" "trop" "rest" "form"]},
 :186-vyhledavac-ve-zdrojich-o-dotnetu.aspx
 {:html
  "\n<p>Možná už víte o možnosti postavit si vlastní vyhledávač postavený\nna Googlu. Tuto možnost nabízí Google v rámci projektu <a\nhref=\"http://www.google.com/coop/\">Google Co-op</a>. Díky rychlé reakci dotnet\nkomunity máme nyní možnost vyhledávat potřebné informace na speciálím <a\nhref=\"http://www.google.com/coop/cse?cx=014414512506709758688%3Alw8tquo75fu\">.net\nSearch</a> enginu a navíc si ho můžete <a\nhref=\"javascript:window.external.AddSearchProvider('http://static.dotnetkicks.com/tools/search/dotnetsearch.xml')\">integrovat</a>\ndo vašeho oblíbeného prohlížeče…</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:09:17.403-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vyhledávač ve zdrojích o dotnetu",
  :published #inst "2006-10-26T13:31:18.580-00:00",
  :url "vyhledavac-ve-zdrojich-o-dotnetu",
  :category-url "asp-net-2-0.aspx",
  :id 186,
  :description
  "Vyhledávejte ve zdrojích o dotnetu pomocí perzonalizovaného vyhledávání Googlu.",
  :category "ASP.NET 2.0",
  :tags ["google" "search" "dotnet"]},
 :285-alessio-busta-seven.aspx
 {:html
  "\n<div class=\"haudio\">\n\t<ol>\n\t\t<li class=\"item\"><span class=\"contributor\">Dubfire</span>  – <span\n\t\tclass=\"title\">Emissions</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Steve Angello</span>  – <span\n\t\tclass=\"title\">Trix</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Delete</span>  – <span\n\t\tclass=\"title\">Flight Schedule</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Gui Borato</span>  – <span\n\t\tclass=\"title\">The Rivington</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Lutzenkirchen</span>  – <span\n\t\tclass=\"title\">Kobalt</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Solaris Heights</span>  – <span\n\t\tclass=\"title\">No Trance</span> (Popof Remix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">System 7</span>  – <span\n\t\tclass=\"title\">Space Bird</span> (Dubfire Remix)</li>\n\t</ol>\n\n\t<p>Ke stažení <span class=\"category\">dj set</span> <a rel=\"enclosure\"\n\thref=\"http://rarousmusic.com/mp3/alessio_busta_-_seven-rm.mp3\"><span\n\tclass=\"contributor\">Alessio Busta</span> – <span\n\tclass=\"title\">Seven</span></a> (MP3 128 kbps; 36,4 MiB)</p>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-24T09:20:42.390-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Alessio Busta - Seven",
  :published #inst "2008-06-23T14:24:55.203-00:00",
  :url "alessio-busta-seven",
  :category-url "muzika.aspx",
  :id 285,
  :description
  "Nějaký minimal techno na začátek léta. Ačkoli už je staršího daty výroby :)",
  :category "Muzika",
  :tags []},
 :62-top-albums.aspx
 {:html
  "\n<ol>\n\t<li>Dave Clarke &#8211; World Service 2</li>\n\n\t<li>Elektrofon Compilation #1</li>\n\n\t<li>Subliminal Sessions 8</li>\n\n\t<li>Funky House Sessions</li>\n\n\t<li>Felix Da Housecat &#8211; Devine Dazzel &amp; The Neon Fever</li>\n</ol>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Top albums",
  :published #inst "2005-07-04T00:00:00.000-00:00",
  :url "top-albums",
  :category-url "muzika.aspx",
  :id 62,
  :description "Moje oblíbená alba za poslední dobu",
  :category "Muzika",
  :tags []},
 :189-format-opensearch-dil-2.aspx
 {:html
  "\n<p>OpenSearch je otevřený formát založený na XML, jehož vývoj iniciovala\na podporuje firma Amazon. V současné době existuje Draft 3 verze 1.1,\nkterou implementují i nejnovější verze oblíbených prohlížečů <a\nhref=\"http://www.microsoft.com/cze/windows/ie/default.mspx\">Internet Explorer\n7</a> a <a href=\"http://www.firefox.cz/\">Firefox 2.0</a> nebo vyhledávač <a\nhref=\"http://www.a9.com\">A9</a> právě od Amazonu. OpenSearch je sada\nspecifikací z nichž nejdůležitější jsou formáty OpenSearch Description\na OpenSearch Response. Tyto formáty jsou určeny k popisu vyhledávaciho\nstroje a popisu nalezených výsledků.</p>\n\n<h3 id=\"toc-opensearch-description\">OpenSearch Description</h3>\n\n<p>Tento formát je, jak už název napovídá, určen k popisu vyhledávacího\nstroje. Základní elementy patří do jmenného prostoru\n<code>http://a9.com/-/spec/opensearch/1.1/</code> a kořenovou značkou je\n<code>OpenSearchDescription</code>. Tato obsahuje následující\nsubelementy:</p>\n\n<dl>\n\t<dt>ShortName</dt>\n\n\t<dd>Název vyhledávacího stroje</dd>\n\n\t<dd>Musí být v dokumentu právě jednou a jeho obsah je omezen na 16 znaků\n\tčistého textu.</dd>\n\n\t<dt>Description</dt>\n\n\t<dd>Popis vyhledávacího stroje</dd>\n\n\t<dd>Musí být v dokumentu právě jednou a jeho obsah je omezen na\n\t1024 znaků čistého textu.</dd>\n\n\t<dt>Url</dt>\n\n\t<dd>URL hledaného datazu</dd>\n\n\t<dd>Musí být v dokumentu alespoň jednou, nejedná se o párovou značku,\n\tobsah je definován následujícímí atributy.</dd>\n\n\t<dd>povinný atribut <em>template</em> definuje šablonu url datazu, šablona je\n\tparametrizována pomocí <a href=\"#template\">OpenSearch URL template\n\tsyntaxe</a>, povinný je parametr <code>{searchTerms}</code>, který je\n\tnahrazován hledanou frází</dd>\n\n\t<dd>povinný atribut <em>type</em> určuje MIME typ výstupu hledání</dd>\n\n\t<dd>nepovinné atriuty <em>indexOffset</em> a <em>pageOffset</em> slouží\n\tk posunutí indexu prvního výsledku nebo první stránky, oba jsou\n\tpřednastaveny na jedničku. Ovlivňují počítání nepovinných parametrů\n\t<code>{startIndex?}</code> a <code>{startPage?}</code>.</dd>\n\n\t<dt>Contact</dt>\n\n\t<dd>Nepovinný element definující kontakt na adminstrátorara. Element může\n\tobsahovat pouze e-mailovou adresu a v dokumentu se může vyskytovat\n\tmaximálně jednou.</dd>\n\n\t<dt>Tags</dt>\n\n\t<dd>Nepovinný element obasující klíčová slova oddělená mezerou. Délka\n\tje omezena na 255 znaků a element se může v dokumentu vyskytovat\n\tmaximálně jednou.</dd>\n\n\t<dt>LongName</dt>\n\n\t<dd>Název vyhledávacího stroje ve formě čitelné pro lidi</dd>\n\n\t<dd>Může se v dokumentu vyskytovat maximálně jednou a měl by být\n\tpreferovaný pro zobrazování před ShortName. Délka je omezena na\n\t48 znak.</dd>\n\n\t<dt>Image</dt>\n\n\t<dd>Ubsahuje URL obrázku, grafické ikonky, spojené s vyhledávačem.</dd>\n\n\t<dd>Počet výskytů není omezen, jednotlivé obrázky se mohou lišit ve\n\tvelikosti a MIME typu, které jsou specifikovány následujícími volitelnými\n\tatributy.</dd>\n\n\t<dd>Atribut <em>width</em> určuje šířku obrázku</dd>\n\n\t<dd>Atribut <em>height</em> určuje šířku obrázku</dd>\n\n\t<dd>Atribut <em>type</em> určuje MIME typ obrázku</dd>\n\n\t<dt>Language</dt>\n\n\t<dd>Definuje jazyk výsledku hledání, obsah může obsahovat pouze zkratku\n\tjazyka podle XML nebo asterix (*) pro všechny jazyky.</dd>\n\n\t<dt>InputEncoding</dt>\n\n\t<dd>Znaková sada přijímaná vyhledávacím strojem. Pokud nejí určeno\n\tpoužije se UTF-8 kódování.</dd>\n\n\t<dt>OutputEncoding</dt>\n\n\t<dd>Znaková sada výstupu hledání.</dd>\n</dl>\n\n<p>Sepecifikace definuje ještě několik dalších elementů pro definici práv\nk dokumentu, ochrana mladistvích apod. které se používají ve specifických\npřípadech a jejich použití není zas tak běžné. Nyní si ještě\ndoplníme výčet URL parametru.</p>\n\n<h3 id=\"template\">OpenSearch URL parameters</h3>\n\n<p>Parametry se používají v atributu <code>template</code> značky\n<code>Url</code> a jsou nahrazovány konkrétními daty dotazu. Syntaxe\nparametru je velice jednoduchá: název pramatru je uzavřen ve složených\nzávrokách a nepovinnost parametru je vyjádřena otazníkem před uzavírací\nzávorkou. Příklad: <code>{povinnyParametr}</code> a\n<code>{nepovinnyParametr?}</code>. Parametry mohou být rozšířeny o vlastní\nsady pomocí XML jmenných prostorů. Ukázka <code>&lt;Url\nxmlns:moje=\"urn:moje-rozsireni\"\ntemplate=\"http://example.com/?q={searchTerms}&amp;amp;neco={moje:neco}\"\n...</code>.</p>\n\n<dl>\n\t<dt>searchTerms</dt>\n\n\t<dd>Parametr je nahrazen hledanou frází</dd>\n\n\t<dt>count</dt>\n\n\t<dd>Parametr je nahrazen počtem výsledků na stránku</dd>\n\n\t<dt>startIndex</dt>\n\n\t<dd>Parametr je nahrazen indexem výsledku</dd>\n\n\t<dt>startPage</dt>\n\n\t<dd>Parametr je nahrazen číslem stránky</dd>\n\n\t<dt>language</dt>\n\n\t<dd>Parametr je nahrazen jazykem</dd>\n\n\t<dt>inputEncoding</dt>\n\n\t<dd>Parametr je nahrazen vstupním kódováním</dd>\n\n\t<dt>outputEncoding</dt>\n\n\t<dd>Parametr je nahrazen výstupním kódováním</dd>\n</dl>\n\n<p>Ukázku kódu najdete v <a\nhref=\"/clanek/185-format-opensearch-dil-1.aspx\">prvním díle</a> této mini\nsérie. Tímto bych ukončil popis formátu OpenSearch Description a příště\nbych rád něco o formátu OpenSearch Response.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:07:22.713-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Formát OpenSearch – díl 2.",
  :published #inst "2006-10-29T12:01:14.770-00:00",
  :url "format-opensearch-dil-2",
  :category-url "webdesign.aspx",
  :id 189,
  :description
  "Po úvodním dílu, který nám ukázal jak si přidat vlastní vyhledávací modul do prohlížeče, si probereme formát OpenSearch Description trochu podrobněji.",
  :category "Webdesign",
  :tags ["rss" "opensearch" "ie7" "firefox"]},
 :58-bezpecnejsi-brouzdani.aspx
 {:html
  "\n<p>Dnes vám poradím, jak zbezpečnit brouzdání po stránkách Internetu, kde\nna vás čekají nejrůznější bezpečnostní nástrahy. Předem upozorňuji,\nže provedené změny v&#160;systému děláte na vlastní nebezpečí.</p>\n\n<p>Pokud používáte systém Windows 2000&#160;nebo XP a brouzdáte Internetem\nv&#160;uživatelské roli Administrátor, zakládáte si na pěkný malér,\nneboť všechny aplikace mají přístup do systémových složek a registrů,\nkde je systém nejzranitelnější. Já vám přináším řešení, kterým\nmůžete omezit práva vybraným aplikacím.</p>\n\n<p>Nejprve si vytvořte soubor <strong>prava.reg</strong> a do něho vložte\nnásledující řádky:</p>\n\n<pre><code>[HKEY_LOCAL_MACHINE\\SOFTWARE\\Policies\\Microsoft\\Windows\\Safer\\CodeIdentifiers]\n\"Levels\"=dword:00020000</code></pre>\n\n<p>Uložte ho a potom ho spusťte – zanesete tím novou položku do registrů.\nTato položka vám umožní omezit práva některých aplikací.\nV&#160;dalším kroku si spusťte <strong>Místní zásady\nzabezpečení</strong> (najdete ho v &#8218;Ovládací panely &gt; Nástroje\npro správu&#8216;).</p>\n\n<p>Zde si otevřete složku <strong>Zásady omezení softwaru</strong> a\nv&#160;ní <strong>Další pravidla</strong>. Nyní klepněte na menu\n<strong>Akce</strong> a vyberte <strong>Nové pravidlo cesty</strong>. Nyní se\nvám otevře dialog, kde si vyberete soubor kterému chcete omezit oprávnění\n(např. &#8218;C:\\Program Files\\Mozilla Firefox\\firefox&#173;.exe&#8216;) a\n<em>Úroveň zabezpečení</em> nastavíte na <strong>Běžný\nuživatel</strong> &#8211; tato položka přibyla po aplikaci souboru\n<em>prava.reg</em>.</p>\n\n<p>Osobně doporučuji snížit takto práva všem aplikacím, které\npřistupují na Internet a mohou přijímat škodlivý software. Na tomto\nmístě můžete také některé aplikace úplně zakázat. Stačí nastavit\núroveň zabezpečení na <strong>Nepovoleno</strong> a milá aplikace pouze\nvyhodí chybovou hlášku a konec.</p>\n\n<p>Na závěr ještě návod, jak vše vrátit. Postup je stejný, jen úroveň\noprávnění nastavíte na <strong>Bez omezení</strong>. Toť vše\npřátelé.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Bezpečnější brouzdání",
  :published #inst "2005-05-09T00:00:00.000-00:00",
  :url "bezpecnejsi-brouzdani",
  :category-url "tuning.aspx",
  :id 58,
  :description "Návod na to, jak brouzdat bezpečněji.",
  :category "Tuning",
  :tags []},
 :253-jak-je-to-s-tim-serialem.aspx
 {:html
  "\n<p>Před Vánocema jsem slíbil seriál o tom, jak napsat <a\nhref=\"/weblog/242-redakcni-system-na-asp-net-mvc.aspx\">redakční systém nad\nASP.NET <acronym title=\"Model View Controller\">MVC</acronym></a> pomocí\n<acronym title=\"Test Driven Development\">TDD</acronym>. Mám pár dílů na\ndisku, tak proč nejsou venku?</p>\n\n<p>No při psaní jsem narazil na pár problémů, ať je to ještě nezralost\nASP.NET MVC, nedostatek času a tak. Rozhodně však nejde o další mrtvý\nprojekt. Pokusím se ho dopsat společně s návazností na <a\nhref=\"/weblog/245-nforms-pro-asp-net.aspx\">NForms</a> a <a\nhref=\"/weblog/250-cssx.aspx\">CSSX</a>, protože to jsou věci, od kterých si\nslibuju mnohem jednodušší a rychleší tvorbu webíků.</p>\n\n<p>Ale psát kód a zároveň tvořit článek, kterému by rozuměl i macík,\nje dost časově náročné. A protože musim chodit občas pařit, nebou\nskouknout nějakej ten film a nebo prostě jenom relaxovat, tak asi blognu až\njenom finál…</p>\n\n<p>Přišli jste sem z RSS čtečky? Zkontrolujte si prosím, zda máte\nsprávnou URL feedu <a\nhref=\"http://feeds.feedburner.com/rarous-weblog\">http://feeds.feedburner.com/rarous-weblog</a>. Děkuji</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:39:58.283-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak je to s tím seriálem?",
  :published #inst "2008-02-02T09:58:46.227-00:00",
  :url "jak-je-to-s-tim-serialem",
  :category-url "asp-net-2-0.aspx",
  :id 253,
  :description
  "Před Vánocema jsem slíbil seriál o tom, jak napsat redakční systém nad ASP.NET MVC pomocí TDD. Mám pár dílů na disku, tak proč nejsou venku?",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "mvc" "cssx" "nforms"]},
 :19-gigis-good-night.aspx
 {:html
  "\n<p>Pravě se mi do rukou dostal noví singl od <a\nhref=\"http://www.ggdag.com/\">Gigiho</a>, spolupracoval na něm s&#160;<a\nhref=\"http://www.angelopandolfi.com/\">Pandolfim</a>. Je to opravdu výborná\npráce, starej dobrej Gigi v&#160;novým soundu. Do toho ještě perfektní\nsamply <em>Eins, Zwei Polizei</em> a nádherný vokály. Prostě super. Tohle\nmusíte slyšet!</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Gigi's Good Night",
  :published #inst "2004-05-01T19:13:00.000-00:00",
  :url "gigis-good-night",
  :category-url "muzika.aspx",
  :id 19,
  :description "Nový Gigiho singl.",
  :category "Muzika",
  :tags []},
 :251-holland-trip.aspx
 {:html
  "\n<h3>Den první</h3>\n\n<p>Tak mám za sebou první den v Den Haagu. To je město, kde sídlí\nnizozemský parlament a mezinárodní soudní tribunál. Taky je to město, kde\nstuduje a žije moje sestřička Zuzka. Po půl roce, co tam bydlí, jsem se\nrozhodl, že jí navštívím a jela se mnou i naše kamarádka Evíka.</p>\n\n<p>Teda jela. Jako sedět v autobuse 16 hodin se mi opravdu nechtělo a\nraději jsem zvolil cestu leteckou. Sice cesta vyjde přibližně na jednou\ntakový peníze, ale zabere tak šestinu času. Nejhorší na tom bylo vstávat\nve čtvrt na pět, abych byl v půl šestý na letišti.</p>\n\n<p>Přestože byla celá Evropa pod mrakem a pršelo, tak to s letadlem ani moc\nneházelo. V Amsterdamu trochu zabrala cesta do místnosti se zavazadly, museli\njsme projít skoro celé letiště, které není tak malé jak v Praze. Prý\npáté největší v Evropě.</p>\n\n<p>V příletové hale na nás čekala Zuzka s Danem (to je její přítel).\nPo přivítání jsem si šel vybrat z bankomatu nějaký eura, páč se mi\nnechtělo lítat po Praze a hledat nejlepší kurz. Tahle jsem to nechal na\nmateřské bance… Pak jsme sedli na vlak (nádraží je součástí\nletištního komplexu) a vzali směr Den Haag. Cesta do samotného centra Háchu\ntrvala asi 20 min. Vlastně jsme jeli i šalinou, takže o něco víc.</p>\n\n<p>Cestou jsme se tedy zastavili na snídani v pasáži a pak jsme se vydali\nk Danovi do bytu. Tam jsme sbírali síly a vyprávěli si zážitky za dobu,\nco jsme se neviděli. Odpoledne jsme se pak jeli podívat na pobřeží, kde\npracuje Zuzka. Docela pěkný podnik. Dal jsem si tam Walkera, přišel právě\nvhod, a pak řecký salát, který byl skoro tak dobrý, jako dělám\njá… ;)</p>\n\n<p>Protože pršelo, tak nemělo cenu se někde dál courat, jeli jsme proto\nnazpět do bytu. Tam jsme si zapnuli bednu a sbírali síly na večerní akci.\nJá jsem to s tím regeneračním spánkem trochu přehnal a tak už jsem potom\nnikam nešel. Teda vlastně šel – do postele. Holky šly tedy\npařit samy.</p>\n<!--[if !IE]> -->\n \t\t\t<object type=\"application/x-shockwave-flash\"\ndata=\"http://picasaweb.google.cz/s/c/bin/slideshow.swf\" width=\"550\"\nheight=\"367\">\n \t\t\t<!-- <![endif]-->\n \t\t\t<!--[if IE]>\n\t\t\t<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"\n\t\t\t  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\"\n\t\t\t  width=\"550\" height=\"367\">\n\t\t\t  <param name=\"movie\" value=\"http://picasaweb.google.cz/s/c/bin/slideshow.swf\" />\n\t\t\t<!--><!--dgx-->\n<param name=\"loop\" value=\"true\" />\n\n<param name=\"menu\" value=\"false\" />\n\n<param name=\"flashvars\"\nvalue=\"host=picasaweb.google.cz&amp;RGB=0xF8F8FF&amp;feed=http%3A%2F%2Fpicasaweb.google.cz%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5157532442355930209%3Fkind%3Dphoto%26alt%3Drss\"\n/>\n \t\t\t</object>\n \t\t\t<!-- <![endif]-->\n<h3>Den druhý</h3>\n\n<p>Protože i v době psaní toho (11.44) ještě všichni vychrápávaj,\nsebral jsem se ráno na menší obchůzku po okolí. Vzal jsem si něčí\nklíče, zkusil, jestli pasují do zámku a vydal jsem se prohlídnout několik\nokolních vesniček. Tady za rohem šlo ještě pár lidí na ranní mši –\npřeci jen je neděle. Po krátké procházce jsem se rozhodl navštívit\nzdejšího Alberta a koupit si něco k snídani. Ceny tam jsou přibližně\npodobné jako u nás, možná o málo větší.</p>\n\n<p>Cestou z krámu jsem potkal spoustu lidí, asi šli z té ranní mše.</p>\n\n<p>Krátce po poledni došlo k procitnutí spícího království. Podívali\njsme se tedy společně na fotky a všichni se divili, co jsem toho už dneska\nstihnul… Po snídani jsme se vydali na cestu do Amsterdamu. Z nádraží jsme\nse dali cestou po nábřeží směrem ke královninu paláci. Na náměstí jsme\nsi udělali několik snímků a šli se mrknout na nějaký hadry do Magna\nPlaza. Nakonec jsme tam nic nepořídili, tak jsme zamířili do dalších\nnekonečných ulic plných nejrůznějších krámů a lidí.</p>\n\n<p>Po nějaký době jsme navštívili coffeeshop, kde jsme si dali nějaký\npití (zajímavý je, že takovej coffeshop je rozdělenej na dvě části,\nv jedný se nesmí prodávat alkohol a ve druhý drogy). Po drinku jsme se\nnasměrovali do „red lights“ – vyhlášené čtvrti. Pak už jsme\nmířili na vlak, protože nás čekali Danovi rodiče s večeří. Domů jsme\nse dostali až v jedenáct. Byl to celkem dlouhý den, plný chození,\ncourání a šmajdání.</p>\n<!--[if !IE]> -->\n \t\t\t<object type=\"application/x-shockwave-flash\"\ndata=\"http://picasaweb.google.cz/s/c/bin/slideshow.swf\" width=\"550\"\nheight=\"367\">\n \t\t\t<!-- <![endif]-->\n \t\t\t<!--[if IE]>\n\t\t\t<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"\n\t\t\t  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\"\n\t\t\t  width=\"550\" height=\"367\">\n\t\t\t  <param name=\"movie\" value=\"http://picasaweb.google.cz/s/c/bin/slideshow.swf\" />\n\t\t\t<!--><!--dgx-->\n<param name=\"loop\" value=\"true\" />\n\n<param name=\"menu\" value=\"false\" />\n\n<param name=\"flashvars\"\nvalue=\"host=picasaweb.google.cz&amp;RGB=0xF8F8FF&amp;feed=http%3A%2F%2Fpicasaweb.google.cz%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5157688362553677185%3Fkind%3Dphoto%26alt%3Drss\"\n/>\n \t\t\t</object>\n \t\t\t<!-- <![endif]-->\n<h3>Den třetí</h3>\n\n<p>Třetí den uběhl celkem rychle. Ráno jsme vstali kolem deváté, aby Zuzka\nstihla v deset školu. Dokonce jsme tak spěchali, že jsme ani nestihli koupit\nlístek na tramvaj a jeli jsme na černo. Naštěstí jsme na těch třech\nzastávkách nepotkali žádnou revizi. Takže ke škole jsme se dopravili\nv pořádku a Zuzka utíkala na hodinu. Já s Evčou jsme zatím šli do\nstudentské kavárny. Tam jsme si dali nějakou snídani a počkali až Zuzka\nskončí.</p>\n\n<p>Po škole jsme šli zpátky procházkou po zdejších uličkách, které\nnajednou byly plné nejrůznějších obchodů. Nejprve jsme zapluli do\nobchodního domu Bijenkorf. Tam jsme si se Zuzkou koupili dárky k Vánocům :)\nJá si tam navíc koupil nějaká trička a kalhoty. Pak jsme pokračovali\nhlouběji do města a procházeli víc a víc obchodů. Po jídle v Burger\nKingu jsme šli domů. Dan zrovna vstával…</p>\n\n<p>Trochu jsme dobyli baterky a chystali se na odpolední vycházku po\npamátkách a večeři. Nakonec to dopadlo všechno jinak. Když jsme vycházeli\nven, zrovna pěkně pršelo. Otevřeli jsme deštníky, ale foukal pěknej vítr\na Zuzce se deštník zlomil. :)</p>\n\n<p>Stejně jsme šli dál. Došli jsme k parlamentu, ten jsme si vyfotili,\nprošli jsme skrz a byli jsme tak zmoklí, že jsme museli najít nějakou\nkavárnu, kam zapadnout. Jednu jsme našli, dali jsme si něco teplého na\nzahřátí. Pak jsme si řekli, že ani na tu večeři nemá cenu chodit, že\nněco radši uděláme doma. Tak jsme se vydali nazpět. Holky se cestou stavili\nv Albertovi, aby koupili něco k večeři.</p>\n\n<p>Večer jsme pak koukali na nějaký filmy a Zuzka udělala výbornou\nvečeři.</p>\n<!--[if !IE]> -->\n \t\t\t<object type=\"application/x-shockwave-flash\"\ndata=\"http://picasaweb.google.cz/s/c/bin/slideshow.swf\" width=\"550\"\nheight=\"367\">\n \t\t\t<!-- <![endif]-->\n \t\t\t<!--[if IE]>\n\t\t\t<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"\n\t\t\t  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\"\n\t\t\t  width=\"550\" height=\"367\">\n\t\t\t  <param name=\"movie\" value=\"http://picasaweb.google.cz/s/c/bin/slideshow.swf\" />\n\t\t\t<!--><!--dgx-->\n<param name=\"loop\" value=\"true\" />\n\n<param name=\"menu\" value=\"false\" />\n\n<param name=\"flashvars\"\nvalue=\"host=picasaweb.google.cz&amp;RGB=0xF8F8FF&amp;feed=http%3A%2F%2Fpicasaweb.google.cz%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5158623435977852017%3Fkind%3Dphoto%26alt%3Drss\"\n/>\n \t\t\t</object>\n \t\t\t<!-- <![endif]-->\n<h3>Den čtvrtý</h3>\n\n<p>Původně jsme měli v plánu navštívit Amsterdam a projít si jeho\npamátky, ale protože se nezdařil včerejší výlet po památkách Haagu a\nnavíc svítilo sluníčko, rozhodli jsme se, že si projdeme konečně zbytek\nHaagu. Nějak po poledni jsme tedy vyrazili, po původní trase – tedy směr\nparlament. Po parlamentu jsme navštívili muzeum. Z muzea jsme pokračovali\ndál, až jsme došli k pracovnímu paláci královny.</p>\n\n<p>Asi jsme měli štěstí, protože před vchodem byla přistavená limuzína\na vypadalo to, že se asi někam královna chystá. Po nějaké době se před\npalácem nashromáždilo celkem dost lidí. Všichni byli zvědaví. Nakonec\nz paláce vylez princ a jeho choť, naskočili do limuzíny a odjeli pryč. :)\nA bylo po show.</p>\n\n<p>Zjistil jsem, že kousek od královského paláce je naše česká ambasáda.\nAsi je moc důležitá. Po této zkušenosti nám došlo, že jsme ještě\nnejedli a chtělo by to nějakou snídani. Tak jsme si na ní zašli. Po\nsnídani (dá-li se tomu tak ve dvě říkat) jsme zamířili k mezinárodnímu\nsoudnímu tribunálu, ale nakonec nás tam ale nechtěli, prý tam dneska měli\nnapilno a byla tam zvýšená možnost kriminality. Tak byly prohlídky\nzrušený.</p>\n\n<p>Poslední atrakcí na naší dlouhé cestě bylo Omniversum. Koupili jsme si\nlístky za €10 a hodinu koukali na kulatý plátno s filmem o mumiích.\nDocela dobrý, až na to, že sloupy se na bocích nereálně ohýbaly. To mi\nzkazilo celkový dojem. :) Po promítání jsme se vydali na šalinu a jeli\nzpátky k bytu. Holky se šly ještě podívat na hadry do Stingu a já\ns Danem do Alberta pro nějaký jídlo.</p>\n<!--[if !IE]> -->\n \t\t\t<object type=\"application/x-shockwave-flash\"\ndata=\"http://picasaweb.google.cz/s/c/bin/slideshow.swf\" width=\"550\"\nheight=\"367\">\n \t\t\t<!-- <![endif]-->\n \t\t\t<!--[if IE]>\n\t\t\t<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"\n\t\t\t  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\"\n\t\t\t  width=\"550\" height=\"367\">\n\t\t\t  <param name=\"movie\" value=\"http://picasaweb.google.cz/s/c/bin/slideshow.swf\" />\n\t\t\t<!--><!--dgx-->\n<param name=\"loop\" value=\"true\" />\n\n<param name=\"menu\" value=\"false\" />\n\n<param name=\"flashvars\"\nvalue=\"host=picasaweb.google.cz&amp;RGB=0xF8F8FF&amp;feed=http%3A%2F%2Fpicasaweb.google.cz%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5158622808912626401%3Fkind%3Dphoto%26alt%3Drss\"\n/>\n \t\t\t</object>\n \t\t\t<!-- <![endif]-->\n<h3>Fotky</h3>\n\n<ul>\n\t<li><a href=\"http://picasaweb.google.cz/rarous/DenHaag\">Fotky z Haagu</a> (1.\n\tden)</li>\n\n\t<li><a href=\"http://picasaweb.google.cz/rarous/Amsterdam\">Fotky\n\tz Amsterdamu</a> (2. den)</li>\n\n\t<li><a href=\"http://picasaweb.google.cz/rarous/DenHaag2\">Fotky z Haagu</a> (3.\n\tden)</li>\n\n\t<li><a href=\"http://picasaweb.google.cz/rarous/DenHaag3\">Fotky z Haagu</a> (4.\n\tden)</li>\n</ul>\n\n<p>Foceno Olympusem µ750.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-02-09T15:07:13.390-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Holland Trip",
  :published #inst "2008-01-20T13:26:07.627-00:00",
  :url "holland-trip",
  :category-url "kamaradi.aspx",
  :id 251,
  :description
  "Zápisky z výletu do holandska, budu postupně doplňovat.",
  :category "Kamarádi",
  :tags []},
 :430-continuous-delivery-cz-podcast-69.aspx
 {:html
  "\n<p>Když pár týdnů nazpět, vyhlásilo @czpodcast call to action na téma <a\nhref=\"http://java.cz/article/czpodcast-continuous-delivery\">continuous\ndelivery</a>, trapně jsem se obratem ozval. Rok se pomalu s rokem sešel a už\njsem zase seděl ve Vendavo s @_dagi a @jirifabian, bohužel nikdo další se\nasi nepřihlásil, tak jsme si dali 69 ve třech. Jak to nakonec dopadlo si\nmůžete <a\nhref=\"http://s3-eu-west-1.amazonaws.com/czpodcast-1/czpodcast69.mp3\">poslechnout</a> sami.</p>\n\n<p>Dost věcí, co jsme tam probírali jste si už tady na blogu mohli <a\nhref=\"http://rarous.net/weblog/405-nejsem-schopny-dopsat-clanek-o-continuous-integration.aspx\">trochu\npřečíst</a>. Nebo <a\nhref=\"http://rarous.net/weblog/394-continuous-delivery.aspx\">slyšet na\nWebExpu</a>. Samozřejmě jsem opět klouzal po povrchu.</p>\n\n<p>Pokud si myslíte, že je to nějak kontroverzní nebo nenasaditelná\npraktika, vězte, že většinu o čem jsem tam mluvil mám ověřenou\nv praxi. Ať už jde o mainline vývoj, automatizaci buildu, testování\ni deploymentu, včetně <a\nhref=\"http://rarous.net/weblog/404-prepinani-featur-a-vetveni-abstrakci.aspx\">feature\ntoggles a větvení abstrakcí</a>. To jsou věci, které nejen propaguju, ale\ni prakticku uplatňuju. ;)</p>\n\n<p>A vám v tom taky nic nebrání. Pouze lenost (pohodlnost to být\nnemůže). Tak šup, čím dneska začnete?</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-10-09T09:11:50.877-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Continuous Delivery - CZ podcast 69",
  :published #inst "2012-10-09T09:09:01.727-00:00",
  :url "continuous-delivery-cz-podcast-69",
  :category-url "moje-prace.aspx",
  :id 430,
  :description
  "Skoro po roce jsem byl opět hostem CZ podcastu. Tentokrát jsme se bavili o Continuous Delivery.",
  :category "Moje práce",
  :tags ["ci"]},
 :265-using-pattern.aspx
 {:html
  "\n<p>Je tomu již dlouhá doba, co jsem psal <a\nhref=\"/weblog/171-blok-using.aspx\">spotík o užívání bloku\n<code>using</code></a> v jazyce C# pro třídy implementující rozhranní\n<code>System.IDisposable</code>. Tohoto bloku se dá využít k logickému\nčlenění kódu do bloků a vytvořit tak syntax sugar na úrovni API.</p>\n\n<h3 id=\"toc-ukazky-uziti\">Ukázky užití</h3>\n\n<p>S using patternem se v moderních API dá potkat celkem často. První\nukázka je z mockovacího frameworku <a\nhref=\"http://www.ayende.com/projects/rhino-mocks/downloads.aspx\">Rhino\nMocks</a>. Používá se pro nahrávání a přehrávání chování\nmockovaného objektu.</p>\n\n<pre\n><code class=\"language-csharp\">MockRepository mocks = new MockRepository();\nIDependency dependency = mocks.CreateMock&lt;IDependency&gt;();\n\nusing(mocks.Record()) {\n    Expect.Call(dependency.GetSomething(\"parameter\")).Return(\"result\");\n    dependency.DoSomething();\n}\n\nusing(mocks.Playback()) {\n    Subject subject = new Subject(dependency);\n    subject.DoWork();\n}</code></pre>\n\n<p>Using pattern usnadňuje čtení takovéhoto kódu a hned je jasná\ni logická struktura.</p>\n\n<p>Další ukázka pochází z ASP.NET MVC frameworku, kde se using pattern\npoužívá v HTML helperu pro generování formuláře.</p>\n\n<pre><code>&lt;% using(Html.Form&lt;HomeController&gt;(action =&gt; action.Index())) { %&gt;\n...\n&lt;% } %&gt;</code></pre>\n\n<h3 id=\"toc-implementace\">Implementace</h3>\n\n<p>Základem, tedy, je blok <code>using</code>, který slouží k bezpečnému\nzavolání metody <code>Dispose</code> objektu implementujícího rozhranní\n<code>System.IDisposable</code>. Jak na to, když v using bloku předáváme\nmetodu a ne objekt? Jednoduše, musíme vrátit v metodě objekt, který se\no špinavou práci postará. V podstatě ani nemusí být nijak\ninteligentní.</p>\n\n<pre\n><code class=\"language-csharp\">public class UsingPattern : IDisposable {\n\n  private WorkerMethod _method;\n\n  public delegate void WorkerMethod();\n\n  public UsingPattern(WorkerMethod method) {\n    _method = method;\n  }\n\n  public void Dispose() {\n    _method();\n  }\n}</code></pre>\n\n<p>Užití v našem API je pak celkem triviální.</p>\n\n<pre\n><code class=\"language-csharp\">public class SomeClass {\n  public UsingPattern SomeMethod() {\n    Console.WriteLine(\"Zacatek bloku\");\n    return new UsingPattern(() =&gt; Console.WriteLine(\"Konec bloku\"));\n  }\n}\n\npublic class OtherClass {\n  public void Consumer() {\n    var some = new SomeClass();\n\n    using (some.SomeMethod()) {\n      Console.WriteLine(\"Blok\");\n    }\n  }\n}</code></pre>\n\n<p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/c%23\">c#</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/patterns\">patterns</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:38:14.650-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Using pattern",
  :published #inst "2008-04-14T15:32:14.900-00:00",
  :url "using-pattern",
  :category-url "asp-net-2-0.aspx",
  :id 265,
  :description
  "Dneska se podíváme na jeden zajímavý vzor v jazyce C#.",
  :category "ASP.NET 2.0",
  :tags ["patterns" "idisposable" "aspnet" "mvc" "rhinomocks"]},
 :441-jeden-balicek-na-vsechno.aspx
 {:html
  "\n<p>„Jak to vypadá s tím balíčkem pro Honzu?“ „V pohodě,\nv podstatě je připravenej, jen tam přidám, aby se generovala rovnou\ni databáze a nainstalovala windows service…“ Tak určitě. Já vůl.\nPrej jen…</p>\n\n<p>Nakonec to bylo o dost těžší než jsem čekal. Scénář, který jsem si\npředstavoval, zdál se být chvíli i nemožný. Ale vždyť to musí jít!\nWizard to dokáže, tak proč bych to neměl dokázat já? Zakopanej pes byl\nnakonec v neštědře zdokumentované featůře.</p>\n\n<p>Již pár let používám k deployování webových aplikací MsDeploy (aka\nWeb Deployment Tools). Většinou je peklo jen s tím, nastavit cílový\nserver, aby vše běhalo jak má. Tedy hlavně nastavení nejrůznějších\npráv. To už se naštěstí za tu dobu změnilo a stačí jen <a\nhref=\"http://www.iis.net/learn/publish/using-web-deploy/powershell-scripts-for-automating-web-deploy-setup\">spustit\npár PowerShellových scriptů</a>. Mám automatizovaný deploy jak webu,\ndatabáze, tak i instalaci windows služeb. Jinak mi to ani moje závislost na\nContinuous Delivery nedovolí.</p>\n\n<p>Jenže jedna věc je mít sadu scriptů pro stroj a druhá věc je mít\ninstalační balíček, který je bez problémů schopný nasadit člověk. Ano,\nmohl by dostat sadu scriptů a hromadu souborů, se kterýma ty scripty\npracují, ale potenciální možnost zanesení chyby je vysoká. A komfort\nvelmi nízký.</p>\n\n<h3 id=\"toc-prvni-pokus\">První pokus</h3>\n\n<p>Nejprve jsem se snažil nasynchronizovat jednotlivé kroky do cílového\nbalíčku. Nejprve jsem přes <code>MsBuild /t:Package</code> vytvořil\nbalíček s webem. Databázové schema verzujeme pomocí databázového\nprojektu ve Visual Studiu a tak pro deploy používám již zastaralý\n<code>dbSqlPackage</code> provider. Tak jsem se ho snažil <code>sync</code>nout\ndo balíčku. Povedlo se, ale manifest v balíčku obsahoval, jen deploy\ndatabáze. Uáááá. Už jsem pomalu propadal beznaději a přemýšlel o tom,\njak napíšu uživatelsky přívětivý script. To aby UX nepřišlo\nna úbytě.</p>\n\n<blockquote class=\"twitter-tweet\">\n\t<p>featury, který potřebuju, jsou vždycky nejmíň zdokumentovaný…</p>\n\t— Aleš Roubíček (@alesroubicek) <a\n\thref=\"https://twitter.com/alesroubicek/status/314035271136059392\">March 19,\n\t2013</a></blockquote>\n\n<p>Popravdě, koho z vás by napadlo, že <a\nhref=\"http://technet.microsoft.com/en-us/library/dd568976(v=ws.10).aspx\">tohleto\nmůže vést k cíli</a>? Mně to trvalo asi hodinu. A docvaklo mi to až\ndíky <a\nhref=\"http://stackoverflow.com/questions/5408585/msdeploy-remoting-executing-manifest-twice\">tomuhle\nnešťastníkovi</a>.</p>\n\n<blockquote class=\"twitter-tweet\">\n\t<p>Po tom, co už jsem skoro nedoufal, přišel malý aha moment a jsem zase na\n\tstopě… :)</p>\n\t— Aleš Roubíček (@alesroubicek) <a\n\thref=\"https://twitter.com/alesroubicek/status/314023743024418817\">March 19,\n\t2013</a></blockquote>\n\n<h3 id=\"toc-jak-na-to\">Jak na to?</h3>\n\n<p>Základem je nevytvářet balíček rovnou, ale vytvořit si nejprve\nmanifest, který obsahuje jednotlivé kroky deploymentu. Ten můj vypadá\nnějak tak:</p>\n\n<pre\n><code class=\"language-markup\">&lt;sitemanifest&gt;\n  &lt;dbDacFx path='$dbSource' /&gt;\n  &lt;runCommand path='$presync' waitInterval='30000'/&gt;\n  &lt;dirPath path='$winSource' /&gt;\n  &lt;runCommand path='$postsync' waitInterval='30000'/&gt;\n  &lt;IisApp path='$webSource' managedRuntimeVersion='v4.0'/&gt;\n  &lt;setAcl path='$webSource' setAclResourceType='Directory'/&gt;\n  &lt;setAcl path='$webSource' setAclResourceType='Directory' setAclUser='anonymousAuthenticationUser'/&gt;\n&lt;/sitemanifest&gt;</code></pre>\n\n<p>Můžete si povšimnout, že je parametrizovaný. To proto, že ho generuju\nv build scriptu pro konkrétní implementační projekt.</p>\n\n<p><code>$dbSource</code> je cesta k <code>dacpac</code> souboru, který je\nvýstupem databázového projektu.<br />\n<code>$winSource</code> je cesta k <code>bin</code> adresáři windows\nslužby.<br />\n<code>$webSource</code> je cesta k <code>PackageTmp</code> adresáři, kde je\npřipravená webová aplikace.</p>\n\n<p>A konečně <code>$presync</code> a <code>$postsync</code> jsou cesty\nk vygenerovaným <code>cmd</code> souborům, které se spustí na cílovém\nstroji. PreSync zastaví a odinstaluje již běžící službu:</p>\n\n<pre><code>net stop Svc_$instance\n$installUtil /u /name=Svc_$instance $destPath\\$instance\\Svc.exe</code></pre>\n\n<p>PostSync nainstaluje novou verzi a tu následně spustí:</p>\n\n<pre><code>$installUtil /name=Svc_$instance $destPath\\$instance\\Svc.exe\nnet start Svc_$instance</code></pre>\n\n<p>Opět jsou generované scriptem pro konkrétní instance.</p>\n\n<p>Tím mám připravený manifest a všechno, co potřebuju pro úspěšné\nvytvoření balíčku. Nyní už jen stačí balíček vygenerovat:</p>\n\n<pre\n><code class=\"language-powershell\">$source = \"manifest=$manifest\"\n$dest = \"package=$pkgLocation\"\n\nexec { msdeploy -verb:sync -source:$source -dest:$dest }</code></pre>\n\n<p>Kde <code>$manifest</code> je cesta k vygenerovanému manifestu a\n<code>$pkgLocation</code> je cesta, kde najdu vygenerovaný balíček. No a to\nje celá magie. Ani to moc nebolelo, když už se ví jak na to. :)</p>\n\n<p>Teď už jen zbývá umožnit Honzovi vyplnit konfigurační údaje pro\nkonkrétní servery…</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-03-20T10:34:45.227-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jeden balíček na všechno",
  :published #inst "2013-03-20T07:06:23.547-00:00",
  :url "jeden-balicek-na-vsechno",
  :category-url "moje-prace.aspx",
  :id 441,
  :description
  "Taková historka ze života, jak jsem potřeboval vytvořit WebDeploy balíček, kterej nedeployuje jen Web.",
  :category "Moje práce",
  :tags ["msdeploy"]},
 :177-internet-explorer-7-rc1-je-venku.aspx
 {:html
  "\n<p>Včera v pozdních večerních hodinách byl vypuštěn první kandidát na\nrelease Windows Internet Exploreru 7. Přináší hlavně zvýšení stability\na výkonu a opět opravu několika bugů, které byly nalezeny v betafázi.</p>\n\n<p>Vývojáři upozorňují, že byla přepracována architektura rozšíření\n(Add-ons) a proto některé němusí fungovat správně. Současná architektura\nby se však již do finální verze měnit neměla.</p>\n\n<p>Příjemnou novinkou je, že se instalátor umí vypořádat s předchozími\nbetaverzemi, takže je nemusíte odebírat ručně. Nicméně nepřijdete o dva\nnutné restarty (v případě upgradu z IE 6 jen jeden). Na první pohled asi\nžádné významné změny nepoznáte, možná rychlejší startování\nprohlížeče. Víc jsem toho ale otestovat nestihl. Další postřehy, pokud\nbudou čekejte v updatu článku :)</p>\n\n<p>Stahovat můžete za <a\nhref=\"http://www.microsoft.com/windows/ie/default.mspx\">stránek Internet\nExploreru</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:19:18.360-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Internet Explorer 7 RC1 je venku",
  :published #inst "2006-08-25T09:13:25.767-00:00",
  :url "internet-explorer-7-rc1-je-venku",
  :category-url "webdesign.aspx",
  :id 177,
  :description
  "Včera v pozdních večerních hodinách byl vypuštěn první kandidát na release Windows Internet Exploreru 7.",
  :category "Webdesign",
  :tags ["ie7"]},
 :60-top-6.aspx
 {:html
  "\n<ol>\n\t<li>Deep Dish &#8211; Stay Gold</li>\n\n\t<li>Dottor DAG &#8211; La Batteria della Mente</li>\n\n\t<li>Marcus Storc &amp; Eric Prydz &#8211; Bass-Ism</li>\n\n\t<li>P. Diddy &amp; Felix Da Housecat &#8211; Jack U</li>\n\n\t<li>Rockefeller &#8211; Do It 2&#160;Nite</li>\n\n\t<li>Steve Angello &amp; Sebastian Ingrosso &#8211; 82&#8211;83</li>\n</ol>\n\n<p>Pořadí je abecední.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Top 6",
  :published #inst "2005-06-09T00:00:00.000-00:00",
  :url "top-6",
  :category-url "muzika.aspx",
  :id 60,
  :description "Mých šest nejoblíbenějších písniček za poslední dobu.",
  :category "Muzika",
  :tags []},
 :372-jak-jsem-potkal-twitter.aspx
 {:html
  "\n<p>Znáte Twitter? Nejspíš ano, kdo by ho dnes neznal. Ale nebylo tomu\nvždycky tak.</p>\n\n<p>Budou tomu dva roky, co @mravenec přemýšlel jak vylepšit @weblogy.\n„Chtělo by to nějakej chat,“ povídá. A já si myslel, k čemu,\nnějakej jabber gadget? Pak úplně nesouvisle k tomu, jsem <a\nhref=\"/weblog/252-v-zajeti-socialnich-siti.aspx\">ve Flocku nastartoval\nTwitter</a>. Tehdy jsem to používal na broadcast. Ukázal jsem to pár\nkolegům, napsal jsem „jdeme vařit“ a za chvíli se zvedl @mravenec\ns hrnkem, následován @fromen a @macus a šli jsme navštívit naši Atlasí\nkuchyňku. V tomhle fungoval twitter skvěle. :)</p>\n\n<p>Pak se najednou nenápadně objevil takový malý box pod zprávičkama na\nW3B. Bylo tam tehdy asi šest účtů. Ono jich tehdy na českém štěbetáku\ntaky o moc víc nebylo. Ale začaly přibývat. :) A to celkem rychle. Ten box\nsi pomalu našel cestu nahoru. Možná se to spoustě lidí nelíbilo a\nkřičeli, ale nebyli vyslyšeni. Tehdy se objevila beta IE8 a @hassmanm\nabsolutně vytapetoval weblogy svou on-line reportáží z její instalace a\nprvních dojmů. Myslím, že byl za to na nějaký čas\nodfollowován… :)</p>\n\n<p>No a dneska je situace zcela jiná. Twitter už zná skoro každý, dokonce\nse o něm pořádají přednášky, jak na něj správně psát a jak na něm\ndělat marketing. Škoda, že jsme ty znalosti neměli už tehdy. Dneska jsme\nmohli bejt strašně bohatý. ;)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-11-25T06:00:15.883-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak jsem potkal Twitter",
  :published #inst "2009-11-25T05:59:13.973-00:00",
  :url "jak-jsem-potkal-twitter",
  :category-url "webdesign.aspx",
  :id 372,
  :description
  "Znáte Twitter? Nejspíš ano, kdo by ho dnes neznal. Ale nebylo tomu vždycky tak. Trošku nostalgické ohlédnutí za počátky štěbetání na W3B.",
  :category "Webdesign",
  :tags ["weblogy" "twitter" "social"]},
 :257-novy-rarous-net.aspx
 {:html
  "\n<p>Právě jsem spustil první beta verzi homepage <a\nhref=\"http://rarous.net/\">rarouš.net</a>. Po letech jsem se vrátil k homepagi\noddělené od blogu, když ne tak úplně. Nová verze by měla v krátkosti\ninformovat o mně. Je na ní <a rel=\"me\"\nhref=\"http://rarous.net/#kontakt\">kontakt</a>, poslední články z blogu,\nposlední alba na picase, poslední zápich z twittru, co zrovna poslouchám a\nco mě zaujalo ve čtečce.</p>\n\n<p>Všechny tyto informace jsou agregované a k jejich načítání používám\nnové třídy z .net frameworku 3.5 (LINQ to XML a Syndication services). Aby\nnedocházelo k přetěžování, tak jsou data cachována na 5min.</p>\n\n<p>Zajímavé je, že to málo mi zabralo celé tři dny práce – vymyšlení\nkonceptu, návrh grafiky, nakódování šablony a programování. Jenže\nzdaleka ještě nejsem hotov. :) Ještě mi zbývá přidat hledání, udělat\ncelou patičku a dovymyslet způsob agregování muziky z <a\nhref=\"http://rarousmusic.com/\">raroušmusic­.com</a>.</p>\n\n<p>No ještě je toho dost, ale teď je načase nejakej relax…</p>\n\n<h3>Update</h3>\n\n<p>Tak patička je snad hotová.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-02-17T18:30:15.930-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nový rarouš.net",
  :published #inst "2008-02-17T12:40:37.727-00:00",
  :url "novy-rarous-net",
  :category-url "moje-prace.aspx",
  :id 257,
  :description
  "Právě jsem spustil první beta verzi homepage rarouš.net. Po letech jsem se vrátil k homepagi oddělené od blogu, když ne tak úplně. Nová verze by měla v krátkosti informovat o mně.",
  :category "Moje práce",
  :tags []},
 :55-posledni-dobou.aspx
 {:html
  "\n<p>Poslední dobou jsem udělal několik webů. Po zprovoznění <a\nhref=\"http://ggdag.euweb.cz/\">Gigi D'Agostino Czech fan pages</a> jsem udělal\njednoduché stránky pro náš <a href=\"http://team.kvalitne.cz/\">projekt\nv předmětu Softwarové inženýrství</a>. Minulý víkend jsem udělal\nkompletní návrh webu pro <a href=\"http://www.inkasni.cz\">Inkasní\ndružstvo</a> a teď čekám, jak se k tomu vyjádří. Dále jsme s mikem\nkonečně zprovoznily jeho stránky, takže vás tímto <a\nhref=\"http://mikemaly.net/\">zvu na prohlídku…</a></p>\n\n<p><a href=\"http://www.microsoft.com\">Microsoft</a> konečně uvolnil druhou\nbetaverzi <a href=\"http://lab.msdn.microsoft.com/vs2005\">Visual Studia\n2005</a> a já se pomalu pouštím do rekonstrukce těchto stránek. Prvním\nkrokem bylo převedení frontendu blogu do Masteru. Taky jsem přidal do\npravého sloupce výpis mikových článků z jeho webu. Je to generovaný\nz RSS pomocí XSLT…</p>\n\n<p>Po dlouhé době vyšla <a href=\"http://my.opera.com/rarous/affiliate/\">nová\nverze Opery</a>, prvního prohlížeče s podporou SVG – vektorové grafiky\nzapisované v XML. Opera dělá promo akci, pokud přivedu 250 unikátních\nnávštěvníků na jejich stránky, dostanu registraci zdarma, tak prosím\nklikněte na banner v horní části stránky, naoplátku pro vás taky něco\nudělám. Dík, je to <a href=\"http://my.opera.com/rarous/affiliate/\">jenom\njedno kliknutí…</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T19:04:06.447-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Poslední dobou",
  :published #inst "2005-04-24T21:06:00.000-00:00",
  :url "posledni-dobou",
  :category-url "moje-prace.aspx",
  :id 55,
  :description "",
  :category "Moje práce",
  :tags []},
 :61-omluva.aspx
 {:html
  "\n<p>Omlouvám se všem, že mi přes týden nefungoval blog, ale vyskytl se\nproblém v&#160;databázi a dlouho mi trvalo, než jsem přišel na to, kde\npřesně chyba je. Teď už by mělo být vše v&#160;pořádku.\nV&#160;průběhu týdne se ale ještě bude měnit databázový stroj, takže\ndojde ještě k&#160;jednomu výpadku, ale ten snad nebude tak dlouhý.</p>\n\n<p>Jako satisfakci přijměte letecký snímek mého bydliště.</p>\n\n<div class=\"center image\"><img src=\"/images/druzcov.jpg\"\nalt=\"letecký snímek Druzcova\" />\n\t<p>foto &copy; ISR, T-Mapy spol. s&#160;r. o., GEODIS, EuroGraphisc 2005</p>\n</div>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Omluva",
  :published #inst "2005-06-25T00:00:00.000-00:00",
  :url "omluva",
  :category-url "jen-tak.aspx",
  :id 61,
  :description "Omluva za nefunkční stránky.",
  :category "Jen tak",
  :tags []},
 :53-luther-646.aspx
 {:html
  "\n<p>Oční kontakt. To se Lutherovi nikdy nelíbilo, když se snažili udržet\noční kontakt. Znamenalo to, že je vydíraný a nic s&#160;tím nemůže\nudělat.\n<br />3128&#160;1028&#160;1600 Parlament Spojené Země přijímá pořádkový\nzákon.\n<br />3128&#160;1111&#160;0800 65% obyvatelstva Spojené Země se bouří proti\npořádkovému zákonu.\n<br />Číslo dvacet sedm se na Luthera dlouze zadíval svýma temnýma očima a\nsnažil se něco říct, nemohl. Ne snad, že by mu to nějak ublížilo, nebo\nby mu to někdo zakázal, to ne. Nemohl, protože už mu někdo ublížil a on\nnemohl otevřít ústa, aby vypověděl, co zažil, co si myslí, nebo cokoliv\njiného. Navíc byl za plexisklem, takže by ho stejně nikdo neslyšel.\n<br />3128&#160;1112&#160;0800 V&#160;zemích Spojené Země začíná akce\nPořádek.\n<br />3128&#160;1112&#160;1200 81% obyvatelstva Spojené Země se bouří proti\npořádkovému zákonu.\n<br />Každý něco dělal. Číslo dvacet dva se strašlivě rozčilovala,\nčíslo patnáct nechápala, číslo dvě pomočil plexisklo ve výšce\nLutherova obličeje, číslo osmnáct omdlel, číslo dvacet sedm se snažil\nněco říct.\n<br />3128&#160;1119&#160;1815 Prezident Spojené Země ruší pořádkový\nzákon.\n<br />3128&#160;1120&#160;0800 Obyvatelstvo Spojené Země vyšlo slavit do\nulic.\n<br />Každý něco dělal, kromě čísla jedna. Číslo jedna přišel do\nbílé místnosti a posadil se na židli. Místnost byla bílá\ns&#160;kruhovým otvorem na východní stěně a stejným otvorem na západní\nstěně. V&#160;jižní stěně byly dveře, kudy všichni přicházeli a\nv&#160;severní stěně plexisklo, za kterým seděl Luther, se kterým se\nkaždý snažil o&#160;interakci. Každý kromě čísla jedna. Ten tam jen\nseděl na přišroubované kovové židli a vypadalo to, jako když pozoruje\nvzduch vzdálený třicet centimetrů od jeho očí. Občas se podrbal za\nuchem, ale jinak pokračoval v&#160;apatii.\n<br />3128&#160;1223&#160;2000 Prezident Spojené Země umírá.\n<br />3128&#160;1224&#160;0800 Parlament Spojené Země volí nového prezidenta\nSpojené Země.\n<br />Luther se potil a věděl moc dobře proč. Horkem to nebylo, ačkoliv za\nplexisklem byla co chvíli teplota přesahující patnáct tisíc stupňů\ncelsia, v&#160;jeho místnosti byl celkem příjemný chládek. To to\ntlačítko, v&#160;tom to bylo. Musel ho zmáčknout, nechtěl, ale musel.\nČíslo dvacet devět, třicet sedm, devadesát dva, sto patnáct. Každý\nunikátní a přitom nikdo jako jedna.\n<br />3128&#160;1224&#160;0815 Dvacátý pátý prezident Spojené Země\nnastupuje do funkce.\n<br />3129&#160;0101&#160;0800 Prezident Spojené Země zkritizoval politiku\ndvacátého čtvrtého prezidenta Spojené Země.\n<br />3129&#160;0101&#160;1000 Parlament Spojené Země přijímá pořádkový\nzákon.\n<br />Jednička Luthera děsila. Kdo určil, že jednička půjde jako první?\nKdo si dovolil tam jedničku vůbec přivést?\n<br />3129&#160;0102&#160;0800 85% obyvatelstva Spojené Země se bouří proti\npořádkovému zákonu.\n<br />3129&#160;0109&#160;1600 Parlament Spojené Země přijímá novelu\npořádkového zákona.\n<br />3129&#160;0201&#160;1200 V&#160;zemích Spojené Země údajně fungují\nskupiny na svržení systému.\n<br />Sto šedesát čtyři. Otevřené dveře. Dvě stě. Příchod. Dvě stě\ndvacet pět. Zavřené dveře. Dvě stě sedmdesát devět. Třicet vteřin.\nTři sta deset. Stisk tlačítka. Tři sta osmdesát jedna. Patnáct tisíc\nstupňů celsia. Pět set dva. Vyčištění. Šest set čtyřicet čtyři.\nDalší. Šest set čtyřicet pět.\n<br />3129&#160;0422&#160;1615 Bojovníci za Svobodu ukázali svou tvář.\n<br />3129&#160;1130&#160;1200 Po měsících strachu se situace zklidňuje.\n<br />Oheň hořel vždy pět vteřin. Smrt nastala okamžitě.\n<br />3129&#160;1202&#160;0800 Pořádková policie pochytala a uvěznila\nposlední členy Bojovníků za Svobodu.\n<br />Země Spojené Země jsou konečně opět bezpečné.\n<br />3129&#160;1202&#160;0801 Otci revoluce byl udělen nejvyšší trest.\n<br />Klik. Ozvalo se krátké zadunění a zabublání. V&#160;mžiku oka byla\nmístnost plná všepožírajících plamenů zkázy. Mělo to být vše, mělo\npřijít vyčištění a číslo dvě. Ale ještě předtím se\nu&#160;průhledné přepážky vynořila z&#160;plamenů zpuchýřovaná ruka a\nnapsala na sklo čtyři písmena, užívajíc sebe samé namísto inkoustu.\n<br />Luther se na nápis zadíval a pozpátku ho přečetl. Z&#160;oka mu\nvytekla jediná slza.\n<br />OTČE</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "dekan",
  :title "Luther 646",
  :published #inst "2005-03-10T08:17:20.000-00:00",
  :url "luther-646",
  :category-url "jen-tak.aspx",
  :id 53,
  :description "",
  :category "Jen tak",
  :tags []},
 :76-plny-dum.aspx
 {:html
  "\n<p>Již včera přijely přítelkyně – Monika a Tereza – mých\nspolubydlících k nám na návštěvu a usadily se tu na delší dobu, takže\ndnes nás spalo v jednom pokoji pět. Dnes večer se má dostavit další\nvárka lidí na oslavy narozenin několika byvalých spolubydlících. Takže tu\nbude v jeden čas něco okolo 15 až 20 lidí a to už stojí za to! Ještě\nže s přibývajícím množstvím lidí bude přibývat i alkoholu :o) jinak\nnevim jak bych to já, konzervativní a samotářský typ, zvládl…</p>\n\n<p>Včera jsme konečně naplno zprovoznili nový hosting a adresu stránek,\ntakže si prosim změňte záložky a <acronym\ntitle=\"Really Simple Syndication\">RSS</acronym> na novou adresu <a\nhref=\"http://www.rarous.net\">www.rarous.net</a>. Až se mi povede zbavit se\nzakésnuté dll na <a href=\"http://www.aspweb.cz/\">AspWebu</a>, budou fungovat\ni staré adresy na nové stránky. Tím bych měl mít vyřešeno i ono\nindexování vyhledávačema, protože to bude posílat HTTP 301 Moved\nPermanently :)</p>\n\n<p>No ještě bych zapoměl, <a\nhref=\"http://www.mikemaly.net/clanek/8-neni-tabletka-jako-tabletka.aspx\">mike se\nvčera skoro zabil</a>…</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T19:46:11.320-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Plný dům",
  :published #inst "2005-10-26T12:41:33.423-00:00",
  :url "plny-dum",
  :category-url "kamaradi.aspx",
  :id 76,
  :description "Aneb jak nacpat 20 lidí do 3+KK.",
  :category "Kamarádi",
  :tags []},
 :366-odsazovani-kodu-a-bloky.aspx
 {:html
  "\n<p>Konečně jsem se dostal k tomu, abych si otevřel knihu <a\nhref=\"http://knihy.cpress.cz/knihy/pocitacova-literatura/programovani/co-programatory-ve-skole-neuci-aneb-softwarove-inzenyrstvi-v-realne-praxi/\">Co\nprogramátory ve škole neučí</a>. Hezky shrnuje žalostný stav našeho\nškolství s ohledem na přípravu budoucích vývojářů. Dále zanáší\npravidla pro psaní přehlednějšího kódu. S mnoha pravidly, které autor\nzanáší, musím plně souhlasit. K některým mám výhrady a jedno bych teď\nchtěl doplnit.</p>\n\n<blockquote>\n\t<h3 id=\"toc-pravidlo-sedme\">Pravidlo sedmé</h3>\n\n\t<p>Kód musí obsahovat dostatek volných řádek oddělujících od sebe\n\tkrátké logické celky.</p>\n</blockquote>\n\n<p>Tohle pravidlo mi mluví z duše. Sám se vypořádávám s kódem kolegy,\nkterý o „odstavci“ v životě neslyšel. Číst monolitický text je\nvelice těžké a ještě těžší je mu porozumět. Pan Paleta (autor knihy)\ndále doporučuje:</p>\n\n<blockquote>\n\t<p>Zdrojový kód zpřehledňují prázdné řádky, které by podobně jako\n\ttačka za větou měly „ukončovat myšlenku.“ Nepřerušená sekvence\n\tpříkazů může být dlouhá asi tak dva až pět řádků, jen výjimečně\n\to něco více. <em>Někdy je vhodné jako první řádek sekvence uvést\n\tkrátký komentář…</em></p>\n</blockquote>\n\n<p>Schválně jsem zvýraznil poslední větu, protože to je ta část, ke\nkteré mám výhradu. Možná si vzpomenete, jak jsem minule psal: <a\nhref=\"/weblog/361-nepiste-zbytecny-kod.aspx\">Nepiště zbytečný kód</a>.\nKlidně takový kus kódu napiště. Ale ihned ho refaktorujte! Logický blok\nuvozený konetářem, je totiž ideální místo pro vytvoření metody. Název\ntéto metody je právě obsah komentáře a tělem následný\nlogický blok.</p>\n\n<p>Pokud máte <a\nhref=\"http://devexpress.com/Products/Visual_Studio_Add-in/Refactoring/\">Refactor!\nPro</a> od Developer Express, stačí onen blok označit a stisknout\n<code>Ctrl+;</code> (klávesa nad <code>Tab</code>) a vybrat <code>Extract\nmethod</code>. Tento refaktoring udělá přesně to, co jsem popsal v minulém\nodstavci.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-09-21T19:37:49.177-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Odsazování kódu a bloky",
  :published #inst "2009-09-20T20:42:31.070-00:00",
  :url "odsazovani-kodu-a-bloky",
  :category-url "asp-net-2-0.aspx",
  :id 366,
  :description
  "Jak zacházet s odsazováním kódu a komentáři, aby byl kód co nejčitelnější?",
  :category "ASP.NET 2.0",
  :tags []},
 :335-lehky-facelift.aspx
 {:html
  "\n<p>Dnes jsem zapracoval něktreté drobné změny designu, které jsem už\ndelší dobu připravoval. Hlavním cílem změny byla patička webu, protože\nna ní jsem se při původním návrhu moc nesoustředil.</p>\n\n<p>Nyní by měla být trochu uspořádanější. Styl jsem tak trochu opajcnul\nze slajdů PDC 2008. Homepage taky doznala lehké přeurovnání do mřížky.\nDalší změnou jsou fonty. V boxu s agregací blogu, by měl být styl více\npodobný tomu, co je na blogu. Trochu se změnil i hledací formulář, který\nteď kopíruje aktuální styl Live Search, který je pro zdejší hledání\npoužit.</p>\n\n<p>Změny to jsou jen kosmetické, ale i tak zabraly dost času. Každopádně\nto není ještě vše. Na blogu brzo přibude patičkový box pro agregaci.\nDalší EVO by pak měla mít jeden stylopis pro celý web. Že by dárek\nk pátým narozeninám?</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-12-07T17:05:26.297-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Lehký facelift",
  :published #inst "2008-12-07T17:04:54.673-00:00",
  :url "lehky-facelift",
  :category-url "moje-prace.aspx",
  :id 335,
  :description "Dnes jsem trochu faceliftoval tyhle strány.",
  :category "Moje práce",
  :tags ["design" "css"]},
 :49-valka-browseru-hlavne-bezpecne.aspx
 {:html
  "\n<p>Microsoft nedávno anoncoval vydání betaverze Internet Exploreru 7, které\nby mělo proběhnout někdy v&#160;létě. Spousta lidí to komentovala na\nsvých blozích, není třeba to rozebírat. Netscape dnes odložil vydání\nbetaverze Netscape Browseru 8.0&#160;na konec února. Netscape Browser má být\npostaven na Firefoxu, který si stáhlo již 25&#160;mil. lidí na světě. To\nje stručné vnesení do začínající druhé světové války prohlížečů\ninternetového obsahu.</p>\n\n<p>Připomeňme, že tu první světovou vyhrál Microsoft se svým Internet\nExplorerem. V&#160;první světové šlo hlavně o&#160;to, kdo dokáže\npřečíst větší kodérskou prasárnu a kdo má víc vlastních\ntechnologií, které jsou navzájem nekompatibilní. Vzešlo z&#160;toho\ni&#160;něco dobrého, uchytili se technologie jako JavaScript nebo kaskádní\nstyly, web v&#160;té době začal být dynamický.</p>\n\n<p>Po válce se sešly moudré hlavy, aby zjistily, že spoušť, kterou za\nsebou tahle válka nechala, je třeba uklidit. A&#160;tak začalo období\nevangelizace. V&#160;tomto období spousta tvůrců webu začala zjišťovat,\nže existují webové standardy &#8211; které vymyslely moudré hlavy &#8211;\na něketří je začali dodržovat. Bohužel Microsoftí Internet Explorer si\nse standardy zcela nerozumí a začíná pouštět vedle sebe pohrobka Netscape\nComunicatoru: Mozillu a Operu, prohlížeče, které standardům rozumí daleko\nvíc a navíc přinášejí rozšířenou funkcionalitu oproti\nzastarávajícímu Internet Exploreru.</p>\n\n<p>Jenže Mozilla je moc velká a práce s&#160;ní není zrovna\nnejjednodušší, proto nemůže konkurovat Internet Exploreru na poli\ndomácích uživatelů. Tak vznikl projekt Phoenix, později Firebird a dnes\nFirefox, který má přivést Mozillu do domácích počítačů. Vsází na\njednoduchost ovládání a podobný vzhled jako IE. Marketingově je jeho\nvypuštění zvládnuté na jedničku a dnes má Firefox skoro 10% podíl na\ntrhu. Jeho hlavním heslem je bezpečnost.</p>\n\n<p>Microsoft si jistě všiml, že z&#160;malého OpenSource projektu se stává\nvážná konkurence a proto vydal zprávu, že chystá nový browser, který\nbude zaměřen na bezpečnost, kdo by to byl řekl. Dnes měla vyjít betaverze\nNetscape Browseru 8.0&#160;a hádejte, proč byla odložena, protože hlavním\ncílem vývojářů je bezpečnost nového produktu. Proč to jen nikoho\nnenapadlo dřív?</p>\n\n<p>Odpověď je nasnadě. Dnes má k&#160;internetu přístup skoro každý\n&#8211; samozřejmě počítám lidi z &#8222;vyspělé části světa&#8220;\n&#8211; a s&#160;jeho masovostí a složitostí služeb jim zprostředkovaných\nroste i&#160;možnost útoků, podvodů, ztráty dat a jiných nepěkných\nvěcí. Toho, že je Internet Explorer nejrozšířenější, využívají\nlidé, kteří na vás chtějí zaútočit, můžou využít jednu díru nebo\ntechnologii k&#160;útoku s&#160;vysokou efektivitou.</p>\n\n<p>Firefox hlásá, že je bezpečnější než IE, ale zlatý oči. S&#160;tím\njak jeho popularita roste poroste i&#160;počet útoků na jeho uživatele.\nProto není obranou využívat slabin nepřítele ke svému posílení, ale\nsoustavná práce na prevenci a maximálním zabezpečení produktů. Nechme se\npřekvapit, co přinese jaro.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:54:57.660-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Válka browserů - hlavně bezpečně",
  :published #inst "2005-02-18T00:00:00.000-00:00",
  :url "valka-browseru-hlavne-bezpecne",
  :category-url "webdesign.aspx",
  :id 49,
  :description "",
  :category "Webdesign",
  :tags []},
 :45-mike-bloguje.aspx
 {:html
  "\n<p>Můj kamarád mike si konečně pořídil blog, ale není to blog obyčejný,\nale zcela vyjímečný. Je totiž věnován dění u nás na bytě a věřte\ntomu, že se tam toho neděje málo. ;) Zatim tam je informace o poslední\nakci, ale časem prý přibudou další, tak nezbývá než popřát hodně\ninformačního štěstí.</p>\n\n<h3>Update</h3>\n\n<p>Tenhle web dlouho nevydržel, protože jsme s mikem udělali ještě\nspeciálnější stránky <a href=\"http://mikemaly.net\">http://mikemaly.net</a>.\nLet's go!</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T19:01:31.367-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "mike bloguje",
  :published #inst "2005-01-30T00:00:00.000-00:00",
  :url "mike-bloguje",
  :category-url "kamaradi.aspx",
  :id 45,
  :description "",
  :category "Kamarádi",
  :tags []},
 :235-intellisense-javascriptu-ve-vs-2008.aspx
 {:html
  "\n<p>Jednou z novinek <a href=\"http://go.microsoft.com/?linkid=7729281\">nového\nVisual Studia</a> je nesrovnatelně lepší Intellisense pro psaní\nJavaScriptů. Pojďme si ji trochu přiblížit na následujících\nřádcích.</p>\n\n<p>Kdysi byl pro mě JavaScript odporným jazykem bez ladu a skladu.\nPřibližně před rokem, se začala psát nová verze <a\nhref=\"http://www.amapy.cz/\">AMap</a> postavená na <a\nhref=\"http://www.mapi.cz/\">API</a> a frameworku <a\nhref=\"http://www.mootools.net/\">Mootools</a>. V rámci interního\nvzdělávání nás Dan zasvětil do tajů JavaScriptu a já pomalu začal\nobjevovat jeho kouzlo. V průběh února jsem potřeboval psát nějaké\nAJAXové věci, a tak nastal čas se JavaScript naučit.</p>\n\n<p>Zjistil jsem, že s MooToolama je to celkem sranda a postupem času člověk\nzačne chápat víc a víc v různých souvislostech. Čím víc toho pak\npíše, začne se poohlížet po něčem, co by mu psaní ulehčilo. Zkoušel\njsem <a href=\"http://www.aptana.com/\">Aptanu</a>, ale ta mi moc nepomáhala,\nprotože MooTooly neuměla. Zkoušel jsem i beta verze Orcasu, ale stejně to\nnebylo ono, aspoň mi to teď tak připadá…</p>\n\n<p>Zkrátka, za poslední dva týdny jsem napsal JavaScriptu docela kopec, a\nposlední týden ve VS2008, takže můžu bezprostředně porovnat. No prostě\ns ním je to lepší. Konec románů a teď k věci.</p>\n\n<h3 id=\"toc-intellisense\">Intellisense</h3>\n\n<p>Intellisense se nově objevuje po prvním napsaném písmenku, ne až po\ntečce jako v předchozí verzi. Nabízí i klíčová slova, takže funguje\nmoje oblíbené <code>ret</code> mezera. Okénky intellisense jde\ni zprůhlednit, pokud potřebujete kouknout na kód, který je pod ním.\nStačí podržet klávesu <strong>CTRL</strong>.</p>\n\n<p>Intellisense je plněna parserem přilinkovaných JavaScriptů. Parser je\npodle mého názoru, ještě trošku v pubertě. Pokud píšete script,\ndokáže interpretovat, pouze to, co je před kurzorem. I když používá\nznačnou cache, nedokáže vám nabídnout funkce, které jsou až dál.</p>\n\n<p>Jelikož je JavaScript dynamicky typovaný, je tu občas problém, že parser\nnerozpozná aktuální typ a tak vám intellisense nenabídne nic. :) Toto\nchování by se dalo značně minimalizovat díky dokumentačním komentářům,\nkde se např. u parametrů dají nastavit datové typy. Snad\nv příští verzi.</p>\n\n<h3 id=\"toc-dokumentacni-komentare\">Dokumentační komentáře</h3>\n\n<p>Aby byla intellisense živena kvalitním obsahem, přichází nové studio\ns dokumentačními komentáři, ve stylu jak je známe v C#, také\nv JavaScriptu. Hlavní rozdíl je, že se komentáře píší do těla funkce,\nnikoli před ní. A je tu i další chybka parseru, nedokáže zobrazovat\nv intellisense obsah dokumentace ze stejného souboru.</p>\n\n<p>Jak tedy takové komentáře vypadají? Následovně:</p>\n\n<pre><code class=\"language-javascript\">function add(node) {\n  /// &lt;summary&gt;Přidá uzel do stromu.&lt;/summary&gt;\n  /// &lt;param name=\"node\" type=\"TreeNode\"&gt;Uzel.&lt;/param&gt;\n}</code></pre>\n\n<p>Dokumentační tag <code>summary</code> přidá popis funkce, v praxi to\nvypadá asi následovně:</p>\n\n<div><img src=\"/data/obrazky/vs_js_summary.png\" alt=\"\" /></div>\n\n<p>Tag <code>param</code> popisuje parametr funkce a v tomto případě i jeho\ntyp. Opět ukázka:</p>\n\n<div><img src=\"/data/obrazky/vs_js_param.png\" alt=\"\" /></div>\n\n<h3 id=\"toc-reference-na-scripty\">Reference na scripty</h3>\n\n<p>Pokud píšete něco většího, neobejdete se bez extrahování scriptů do\nsamostatných souborů. V tom případě, ale intellisense neví, co je\nv ostatních souborech, a moc nám toho neukáže. Naštěstí je tu\npseudodokumentační tag <code>reference</code> pomocí něhož se jde odkazovat\nna další scripty, jejichž kód využíváme (tradičně JS frameworky), nebo\ndokonce i na <code>ScriptService</code> v projektu. Užití může být\nnásledující:</p>\n\n<pre><code class=\"language-javascript\">/// &lt;reference path=\"mootools.js\" /&gt;\n/// &lt;reference path=\"/services/ajax.svc\" /&gt;</code></pre>\n\n<p>Tento kód napíšeme na začátku souboru a studio už bude vědět. Občas\nse mi ale stává, že pokud provedu změnu v referencovaném souboru, změna\nse v intellisense neprojeví. Za vinu to kladu cacheování. Zatím 100%\nřešením, zdá se, je soubor zavřít a znovu otevřít. Po přeparsování\nuž by měla být intellisense aktuální.</p>\n\n<h3 id=\"toc-uzaver\">Uzávěr</h3>\n\n<p>Jak už jsem psal na začátku, podpora JavaScriptu ve Visual Studiu\npokročila o pořádný kus dopředu, přesto má ale ještě pár much, které\nby stálo za to vychytat. S ohledem na to, jak Microsoft podporuje vývoj\ninterpretů a kompilátorů pro dynamické jazyky, doufám, že se jejich\npodpora ve VS ještě zlepší.</p>\n\n<h3 id=\"toc-souvisejici\">Související</h3>\n\n<ul>\n\t<li><a\n\thref=\"http://blogs.msdn.com/webdevtools/archive/2007/11/06/jscript-intellisense-a-reference-for-the-reference-tag.aspx\">JScript\n\tIntelliSense: A Reference for the “Reference” Tag</a></li>\n\n\t<li><a\n\thref=\"http://weblogs.asp.net/bleroy/archive/2007/04/23/the-format-for-javascript-doc-comments.aspx\">The\n\tformat for JavaScript doc comments</a></li>\n</ul>\n\n<p style=\"font-size:75%\">debuged by <a\nhref=\"http://www.mishak.net/\">MiSHAK</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:38:56.300-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Intellisense JavaScriptu ve VS 2008",
  :published #inst "2007-11-30T22:15:59.783-00:00",
  :url "intellisense-javascriptu-ve-vs-2008",
  :category-url "asp-net-2-0.aspx",
  :id 235,
  :description
  "Jednou z novinek nového Visual Studia je nesrovnatelně lepší Intellisense pro psaní JavaScriptů. Pojďme si ji trochu přiblížit na následujících řádcích.",
  :category "ASP.NET 2.0",
  :tags
  ["intellisense"
   "javascript"
   "vs"
   "vs2008"
   "mootools"
   "documentation"]},
 :205-mate-radi-sve-oci.aspx
 {:html
  "\n<p>Jako programátor koukám velkou část dne do monitoru, ztoho asi 70% času\ndo Visual Studia (VS). Problém je, že VS nemá ve výchozím nastavení zrovna\nnejergonomičtější barvy a fonty. Font je pravděpodobně věcí osobního\nvkusu a kvality zraku, ale obrovské bílé jasně svítící plochy nejsou pro\noči to nejslepší. Jednoho dne, kdy už jsem docela slzel a pálili mě oči,\njsem se rozhodl, že musím změnit theme :) A to nejlépe na nějaký málo\nkontrastní a nejlépe s tmavým pozadím.</p>\n\n<p>Přenesení themu není naštěstí ve VS2005 veliký problém a najít ten\nsprávný, již předpřipravený jistě ulehčí stránka <a\nhref=\"http://idehotornot.ning.com/\">Is your IDE hot or not?</a>. Mě osobně\nnejvíce sedí <a\nhref=\"http://idehotornot.ning.com/index.php/index/show?id=2046192\">oldschool\ntheme alá Turbo IDE</a> od Borlandu. A font? Do teď jsem používal\n<em>Fixedsys</em>, ale pro změnu jsem se vrátil ke <a\nhref=\"http://www.microsoft.com/downloads/details.aspx?familyid=22e69ae4-7e40-4807-8a86-b3d36fab68d3&amp;displaylang=en\">Consolasu</a>,\nkterý se na LCDčku s ClearTypem čte asi nejlépe.</p>\n\n<div><img src=\"/data/obrazky/code.png\" alt=\"ukázka tématu\" /></div>\n\n<h3 id=\"toc-jak-naimportovat-theme\">Jak naimportovat theme</h3>\n\n<p>Stáhněte si požadovaný theme. Rozbalte ho do adresáře s vašim\nnastavením pro VS2005 (obvykle <code>%My Documents%\\Visual Studio\n2005\\Settings</code>). Ve Studiu pak postupujete po ose <code>Tools &gt; Import\nand Export setting</code> <code>Next</code>, tady můžete zazálohovat své\naktuální nastavení nebo dát <em>No</em> a <code>Next</code>, vyberete\nv sekci <em>My Setting</em> stažený theme a <code>Finish</code>.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:42:49.680-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Máte rádi své oči?",
  :published #inst "2007-04-10T16:52:46.203-00:00",
  :url "mate-radi-sve-oci",
  :category-url "tuning.aspx",
  :id 205,
  :description
  "Návod jak si vylepšit pracovní prostředí Visual Studia, aby vás nebolela oka.",
  :category "Tuning",
  :tags ["vs" "theme" "cleartype"]},
 :358-tip-na-prehlednejsi-sablony.aspx
 {:html
  "\n<p>Zastávám názor, že šablona by měla být co nejvíce přehledná a\nobsahovat co nejméně programového kódu. Pojďme se podívat na některé\nkousky zasmrádlého kódu a jak se s nimi vypořádat.</p>\n\n<h3 id=\"toc-html-actionlink\">Html.ActionLink</h3>\n\n<p><code>Html.ActionLink</code> je pro mne jedním z prvních míst, kde\nzvednout ukazováček a říct: „takhle ne.“ Již <a rel=\"bookmark\"\ntitle=\"Pojmenované routy v ASP.NET MVC\"\nhref=\"/weblog/340-pojmenovane-routy-v-asp-net-mvc.aspx\">ve spotu o routingu</a>\njsem psal, že procházení routovací tabulky při hledání akce je\nvýpočetně náročné a pokud vaše tabulka obsahuje mnoho řádků, může\nbýt zdrojem nepříjemného zdržení. Mějme například helper odkaz na\ndetail zboží v jehož URL obsahuje informace o kategorii zboží, jeho id\na název:</p>\n\n<pre\n><code class=\"language-markup\">&lt;%= Html.ActionLink(Model.Name, \"Detail\", \"Goods\", new { id = Model.Id, name = Model.UrlName, category = Model.Category.UrlName }) %&gt;</code></pre>\n\n<p>Tohle rozhodně není přehledné, ani výkonné. Začněme tedy\nrefaktorovat. Nelíbí se mi, že tag odkazu je generovaný a že pořádně\nnetuším, jestli třeba nejsou parametry ve špatném pořadí. A co potom\ntakový kodér? Co když bude chtít přidat nějakou třídu, aby mohl tento\nkonkrétní odkaz lépe nastylovat nebo mu dát nějaký sémantický význam?\nPřejděme na <code>Url.Action</code>!</p>\n\n<pre\n><code class=\"language-markup\">&lt;a href=\"&lt;%= Url.Action(\"Detail\", \"Goods\", new { id = Model.Id, name = Model.UrlName, category = Model.Category.UrlName }) %&gt;\"&gt;&lt;%= Html.Encode(Model.Name) %&gt;&lt;/a&gt;</code></pre>\n\n<p>No moc jsme si nepomohli. Sice teď máme větší kontrolu nad generovaným\nkódem, ale kód je o dost delší a pořád pěkně „smrdí.“ Zbavme se\nteď kouzelných řetězců, ty mohou být zdrojem špatně\ndohledatelných chyb!</p>\n\n<pre\n><code class=\"language-markup\">&lt;a href=\"&lt;%= Url.RouteUrl(RouteTo.CommodityDetail, new { id = Model.Id, name = Model.UrlName, category = Model.Category.UrlName }) %&gt;\"&gt;&lt;%= Html.Encode(Model.Name) %&gt;&lt;/a&gt;</code></pre>\n\n<p>Zbavili jsme se možnosti udělat chybu v názvu akce nebo řadiče a navíc\nteď probíhá vyhledávání routy v tabulce podle klíče, tudíž mnohem\nefektivněji. Ale pořád mi tu něco smrdí. Ano je to ta anonymní třída,\ni tady je velká šance na vnesení chyby. Ačkoli to tak na první pohled\nnevypadá, názvy vlastností této třídy nejsou nic jiného než kouzelné\nřetězce, jen bez uvozovek. Na pozadí se totiž překládají jako klíče ve\nslovníku. Lék na to je jednoduchý. Vytvoříme si vlastní helper!</p>\n\n<pre\n><code class=\"language-markup\">&lt;a href=\"&lt;%= Url.CommodityDetail(Model) %&gt;\"&gt;&lt;%= Html.Encode(Model.Name) %&gt;&lt;/a&gt;</code></pre>\n\n<p>Zápis se rázem zpřehlednil, snížila se možnost zanesení chyby a\nmnožství opakovaného kódu.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-07-13T08:14:21.957-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Tip na přehlednější šablony",
  :published #inst "2009-07-12T09:25:30.993-00:00",
  :url "tip-na-prehlednejsi-sablony",
  :category-url "asp-net-2-0.aspx",
  :id 358,
  :description
  "Zastávám názor, že šablona by měla být co nejvíce přehledná a obsahovat co nejméně programového kódu. Pojďme se podívat na některé kousky zasmrádlého kódu a jak se s nimi vypořádat.",
  :category "ASP.NET 2.0",
  :tags ["routing" "aspnet" "mvc" "refactoring" "bestpractice"]},
 :412-trenujete-na-code-retreat.aspx
 {:html
  "\n<p>Již za týden se koná akce, do které jsem tak trochu namočený, Global\nDay of Code Retreat. My se snažíme připravit jedno <a\nhref=\"http://coderetreat.cz\">místečko v Praze</a>.</p>\n\n<p>Ačkoli má akce za cíl vás vytrénovat v lepší vývojáře, je dobré\nabyste na něj přišli trochu připravení. :) Určitě si přečtěte <a\nhref=\"http://en.wikipedia.org/wiki/Conway's_Game_of_Life\">pravidla\nproblému</a>, který se bude celý den znova a znova implementovat. Ale\nnezůstaňte pouze u čtení, zamyslete se nad tím, jak danou úlohu\nnaimplementovat. Nebojte se a jděte ještě dál a vážně tu vaši ideu\ni zhmotněte!</p>\n\n<p>Dalším krokem jak se na akci připravit, je zacvičit si nějakou tu katu\nv kódování. Zkuste třeba oblíbenou <a\nhref=\"http://codingdojo.org/cgi-bin/wiki.pl?KataBowling\">bowling game</a> nebo\n<a href=\"http://katas.softwarecraftsmanship.org/?p=80\">string calculator</a>.\nProcvičíte si tak TDD i nástroje, které budete používat.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-12-27T09:16:32.257-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Trénujete na Code Retreat?",
  :published #inst "2011-11-26T09:19:00.510-00:00",
  :url "trenujete-na-code-retreat",
  :category-url "moje-prace.aspx",
  :id 412,
  :description
  "Již za týden se koná první velký český Code Retreat v Praze. Je na čase trénovat!",
  :category "Moje práce",
  :tags ["coderetreat"]},
 :365-alessio-busta-waiting-fot-the-tram.aspx
 {:html
  "\n<p>Po roce odmlky, je tu set s minimálním setupem, progresivním soundem a…\nVšak uslyšíš.</p>\n\n<div class=\"haudio\">\n\t<ol>\n\t\t<li class=\"item\"><span class=\"contributor\">Pryda</span> – <span\n\t\tclass=\"title\">Waves</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Zoo Brazil</span> &amp; <span\n\t\tclass=\"contributor\">Nic Fanciulli</span> – <span\n\t\tclass=\"title\">Ide</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Paolo Mojo</span> – <span\n\t\tclass=\"title\">Oscilate</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Reset Robot</span> – <span\n\t\tclass=\"title\">Do the Slot</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Cirez D</span> – <span\n\t\tclass=\"title\">On/Off</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Sébastien Léger</span> – <span\n\t\tclass=\"title\">Bubbly</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Felix da Housecat</span> – <span\n\t\tclass=\"title\">Kickdrum</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Nick Fanciulli</span> – <span\n\t\tclass=\"title\">Green Tea</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Alex Neri</span> &amp; <span\n\t\tclass=\"contributor\">Federico Grazzini</span> – <span\n\t\tclass=\"title\">Habla</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Cirez D</span> – <span\n\t\tclass=\"title\">Raptor</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Deadmau5</span> – <span\n\t\tclass=\"title\">Lack of Better Name</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Inpetto</span> – <span\n\t\tclass=\"title\">The Milky Way</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Sébastien Léger</span> – <span\n\t\tclass=\"title\">Le Moustique</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Mark Knight</span> &amp; <span\n\t\tclass=\"contributor\">Funkagenda</span> – <span\n\t\tclass=\"title\">Good Times</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Steve Mac</span> &amp; <span\n\t\tclass=\"contributor\">Nic Fanciulli</span> – <span class=\"title\">20%</span>\n\t\t(140% fuck up)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Kim Fai</span> – <span\n\t\tclass=\"title\">Good Life</span></li>\n\t</ol>\n\n\t<p>Ke stažení <span class=\"category\">dj set</span> <a rel=\"enclosure\"\n\thref=\"http://rarousmusic.com/mp3/alessio_busta_-_waiting_for_the_tram-rm.mp3\"><span\n\tclass=\"contributor\">Alessio Busta</span> – <span class=\"title\">Waiting for\n\tthe Tram</span></a> (MP3 200 kbps VBR; 131 MiB)</p>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-09-10T09:41:21.030-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Alessio Busta - Waiting for the Tram",
  :published #inst "2009-09-10T07:24:13.610-00:00",
  :url "alessio-busta-waiting-fot-the-tram",
  :category-url "muzika.aspx",
  :id 365,
  :description "Set ke stažení.",
  :category "Muzika",
  :tags []},
 :259-www-spojeno-cz.aspx
 {:html
  "\n<p><a href=\"http://www.spojeno.cz/\">http://www.spojeno.cz/</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-02-26T10:57:18.940-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "www.spojeno.cz",
  :published #inst "2008-02-26T10:57:18.880-00:00",
  :url "www-spojeno-cz",
  :category-url "webdesign.aspx",
  :id 259,
  :description "no comment",
  :category "Webdesign",
  :tags []},
 :164-phunky-summer-beatz.aspx
 {:html
  "\n<ol>\n\t<li>Paolo Mojo – 1983 (Eric Prydz Remix)</li>\n\n\t<li>Pryda – Seadweller</li>\n\n\t<li>Phunk Investigation – You Don't Fool Me (Tali Freaks Remix)</li>\n\n\t<li>Retarded Funk – Venta</li>\n\n\t<li>Steve Angello – Teasing Mr. Charlie (Long Vesrion)</li>\n\n\t<li>Lorraine – Transatlantic Flight (Axwell Remix)</li>\n\n\t<li>Steve Angello &amp; Sebastian Ingrosso – Click</li>\n\n\t<li>Scrape feat. D Empress – Be My Friend (Ian Carey Dub Mix)</li>\n\n\t<li>Steve Angello &amp; Laidback Luke – Otherwize Then</li>\n\n\t<li>DJ Flex &amp; Sandy Wilhelm – Love For You (Steve Angello &amp; Sebastian\n\tIngrosso Remix)</li>\n\n\t<li>Lee Cabrera feat. Mim – I Watch You (Ian Carey Remix)</li>\n\n\t<li>Michael Gray – The Weekend (Ian Carey Remix)</li>\n</ol>\n\n<p>Ke stažení: <a href=\"/files/alessio_busta_-_phunky_summer_beatz.wma\"\nonclick=\"javascript:_gat._getTracker(\">Alessio Busta – Phunky Summer\nBeatz</a> (WMA 128kbps, 75 MiB)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T15:12:36.897-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Phunky Summer Beatz",
  :published #inst "2006-07-02T09:45:54.760-00:00",
  :url "phunky-summer-beatz",
  :category-url "muzika.aspx",
  :id 164,
  :description "Alessio Busta je zpět!",
  :category "Muzika",
  :tags []},
 :236-mvc-unit-testy.aspx
 {:html
  "\n<p>Již delší dobu jsem chtěl napsat článek o tom, proč je MonoRail\nlepší, když chceme, aby se projekt dal testovat. Jenže vždycky nějak nebyl\nčas. Navíc se blíží vypuštění ASP.NET MVC, takže nakonec z toho bude\ntrošku obecnější pojednání než jsem původně plánoval.</p>\n\n<h3 id=\"toc-webforms-testovani\">WebForms testování</h3>\n\n<p>Než si ukážeme jak snadné je testovat MVC, nejprve si povíme, že\ni WebForms se dají testovat. Ano, ale vyžaduje to větší kázeň a víc\npráce. :) Většinou stejně použijete MVP pattern nebo jeho blízké\npříbuzné. Pokud tedy nechcete psát testy, které simulují livecycle\nstránky a dekódují ViewState. (Ano, dotahuju to ad absurdum, ale i tak to\nmůže vypadat.)</p>\n\n<p>Aby se tedy kód dal snadno testovat, měl by se co nejvíce oddělit od\nstránky.</p>\n\n<p>Klasickým modelem tedy je využití MVP vzoru, kdy aspx stránka obsahuje\npouze logiku pro prezentaci dat a implementuje rozhranní View, přes které\nkomunikuje s Presenterem. Díky tomu, že Presenter obsahuje téměř veškerou\nlogiku, je ideálním místem pro zacílení našich testů. Pro účely testů\npak implementujeme stub nebo mock rozhranní view. Na něm pak sledujeme jak ho\nPresenter ovlivňuje.</p>\n\n<div><img src=\"/data/obrazky/mvp.png\" alt=\"\" /></div>\n\n<p>Předchozí diagram ukazuj, že Presenter zná rozhranní View. Stránka,\nkterá toto rozhranní implementuje, se však musí postarat o to, aby byl\npresenter ve správnou chvíli zavolán. Možný scénář zachycuje\nukázka kódu.</p>\n\n<pre\n><code class=\"language-csharp\">public class BlogViewPage : System.Web.UI.Page, IBlogView {\n  BlogPresenter presenter;\n\n  protected void Page_Init(object sender, EventArgs e) {\n    presenter = new BlogPresenter(this); // injekce View\n  }\n\n  protected void Page_Load(object sender, EventArgs e) {\n    presenter.LoadArticles();\n  }\n\n  // implementace IBlogView ...\n}</code></pre>\n\n<p>Na to, že to stránka udělá správně, se už musíme spolehnout.\nOtestovat i takto jednoduchý kód, je už trošku\nnáročnější práce…</p>\n\n<h3 id=\"toc-mvc-testovani\">MVC testování</h3>\n\n<p>MVC frameworky jako MonoRail nebo ASP.NET MVC, přicházejí s podobným\nschématem <strong>by default</strong>. V podstatě nás přímo nutí psát\nweb tak, aby se dal lépe testovat. :) Nebudu přehánět, když řeknu, že\nASP.NET MVC byl psán se zřetelí na velice snadné testování a obsahuje\ni sadu mock objektů (např. pro <code>HttpContext</code>). MonoRail dokonce\npřináší i Fixtures a Asserty pro snadnější testování – bohužel\njsou psané pouze pro NUnit, který nepoužívám.</p>\n\n<div><img src=\"/data/obrazky/mvc.png\" alt=\"\" /></div>\n\n<p>Tento diagram se od předchozího mírně liší. Controller např. netuší\njaké má View rozhranní, proto s ním nikterak nepracuje. Prostě zavolá\n<code>RenderView(*název*, *objekt s daty*)</code> a spoléhá se na ViewFactory\nže všechno zařídí. Navíc stránka do poslední chvíle netuší, jestli\nněco bude dělat. Tady totiž proces zpracování začíná u routingu, který\nvybere správný controller, viz <a\nhref=\"/weblog/220-jak-funguje-monorail.aspx\">předchozí díl</a>.</p>\n\n<p>Dostáváme se i k lepšímu objektovému návrhu, kde každá třída je\nzodpovědná za provedení pouze jednoho úkolu (stránka v MVP těch úkolů\nřeší hned několik). To se opět lépe testuje. Máme sadu několika\nkomponent s jednoduchými závislostmi a každá má na starosti pouze jednu\nčást z procesu.</p>\n\n<p>Pro dnešek to tady ukrouhnu. Bude-li nějaké příště, ukážeme si\nnějaké praktické ukázky. Možná :)</p>\n\n<h3 id=\"toc-souvisejici\">Související</h3>\n\n<ul>\n\t<li><a\n\thref=\"http://blog.vuscode.com/malovicn/archive/2007/10/25/model-view-presenter-mvp-design-pattern-close-look-part-1-passive-view.aspx\">Model\n\tView Presenter (MVP) design pattern close look – Part 1 (Supervising\n\tController)</a></li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:12:12.120-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "MVC na ASP.NET – Testování jednotek",
  :published #inst "2007-12-01T16:15:14.103-00:00",
  :url "mvc-unit-testy",
  :category-url "webdesign.aspx",
  :id 236,
  :description
  "Již delší dobu jsem chtěl napsat článek o tom, proč je MonoRail lepší, když chceme, aby se projekt dal testovat. Jenže vždycky nějak nebyl čas. Navíc se blíží vypuštění ASP.NET MVC, takže nakonec z toho bude trošku obecnější...",
  :category "Webdesign",
  :tags
  ["aspnet" "webforms" "mvc" "mvp" "unittesting" "monorail" "castle"]},
 :90-o-soutezi-lcd-za-web.aspx
 {:html
  "\n<p>Dnes mi přišel e-mail, že moje aplikace splnila podmínky pro přijetí do\nsoutěže <a href=\"http://www.lcdzaweb.cz/\">LCD za web</a>. E-mail po mně\npožaduje kontaktní údaje, pro poslání trička a knihy. To jsem rád. Jal\njsem se tedy prohlížet konkurenci v&#160;soutěži. Bohužel zajímavých\naplikací, ať už funkčností nebo designem, jsem moc nenašel. Pár výjimek\nse však najde, jejich autorům gratuluji k&#160;pěkné práci.</p>\n\n<p>Bohužel většina přihlášených aplikací je postavena na Starter Kitu\n<strong>Personal web page</strong> nebo jeho klubové variantě. To by mi ani\ntak nevadilo, ale spousta lidí si ani nedala tu práci, aby něco změnila,\ntřeba jenom text. Prostě si udělali nový projekt a uploadovali ho na\nserver. Škoda, myslel jsem, že potkám spoustu zajímavých stránek od\nlidí, kteří jsou podobně postiženi jako já ;)</p>\n\n<p>Další várka prací je pro změnu nedostupná, buď obsahuje nějakou chybu\n– většinou ConnectionString na <a href=\"http://www.aspweb.cz/\">ASPWEBu</a>\n– nebo aplikace není vůbec.</p>\n\n<p>Ještě si neodpustím trochu jedovatou poznámku na adresu jednoho\nnešťastníka, který mi vykrádá obsah. Není to poprvé ani naposledy, ale\nsmířit se s&#160;tím nehodlám. Psaní těch článků si vyžádalo\nnějaký můj čas i&#160;know-how a pak si je někdo zkopíruje, navíc\nještě zkrátí, a podepíše se pod to. Nakonec se s&#160;tím přihlásí do\nstejné soutěže jako já a myslí si, že si toho nevšimnu. Dotyčnému už\njsem napsal e-mail s&#160;<strong>prosbou o&#160;nápravu</strong>. Pokud tak\nv&#160;dohledné době neučiní, budu ho lynčovat po webovém způsobu…</p>\n\n<p>Ještě k&#160;mé účasti. Do soutěže jsem přihlásil svůj redakční\nsystém Gryphoon, jenže z&#160;pochopitelných důvodů nemůžu nechat lidi\nprocházet se v&#160;mojí administraci, ani kdybych jim ořezal práva. Proto\nbych hodnotící chtěl požádat, aby aplikaci hodnotili z&#160;frontendu,\ntedy takové věci, které mohou používat obyčejní čtenáři. Jsou tím\nnapříklad věci jako: Galerie, různé informační boxy, které se\nnačítají z&#160;různých XML zdrojů, syndikační služba a další\nkomponenty Gryphoonu. Děkuji za pochopení a držte mi palce, popřípadě <a\nhref=\"http://www.lcdzaweb.cz/hlasuj.aspx\">mi pošlete svůj hlas</a>, mé\nsoutěžní číslo je <strong>1025</strong>.</p>\n\n<!-- generated by Texy! -->",
  :keywords "LCD za web Gryphoon ASP.NET 2.0",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "O soutěži LCD za web",
  :published #inst "2005-12-05T14:49:56.323-00:00",
  :url "o-soutezi-lcd-za-web",
  :category-url "asp-net-2-0.aspx",
  :id 90,
  :description "Pár slov o soutěži LCD za web.",
  :category "ASP.NET 2.0",
  :tags []},
 :228-novy-unit-test-framework-pro-dotnet.aspx
 {:html
  "\n<p>Přibližně před dvěma týdny byla vypuštěna první beta verze nového\ntestovacího frameworku <a href=\"http://www.codeplex.com/xunit\">xUnit.net</a>.\nSpousta lidí si říká, k čemu další framework – vždyť tu máme\nNUnit, MbUnit, MsTest – a navíc syntakticky nekompatibilní?</p>\n\n<p>xUnit.net přináší eleganci, jednoduchost a zdravý rozum. Byly zrušeny\n<em>SetUp</em>y a <em>TearDown</em>y a nahrazuje je <strong>IDisposable pattern\na konstruktor</strong> (jednoduše elegantní), pro každý test je vždy\nvytvořena <strong>nová instance testovací třídy</strong>. <em>Assert</em>y\nbyly revidovány a duplicitní či zbytečné byly odebrány.</p>\n\n<p>Framework je navržen tak, aby byl snadno rozšiřitelný o vlastní\natributy, kterými můžete specifikovat vlastní akce (např. Authetifikaci)\nči požadavky. Součástí frameworku není žádný <em>mock</em>vací\nnástroj. K čemu také, když už tu máme skvělé <a\nhref=\"http://www.ayende.com/projects/rhino-mocks.aspx\">Rhino Mocks</a>?</p>\n\n<h3 id=\"toc-nove-moznosti\">Nové možnosti</h3>\n\n<p>Běžnou praxí je na testy zakládat samostatný projekt, takže jsou testy\nv samostatné assembly. Pokud jste chtěli mít testy společně v jednom\nprojektu s výkonným kódem mohli jste tak taktéž učinit. Jenže pořád je\ntu problém, pokud z nějakého důvodu potřebujete testovat privátní věci.\nSice to je ukázka toho, že něco smrdí, ale stejně se to občas\nmůže hodit.</p>\n\n<p>xUnit.net totiž ruší atribut <code>TestFixture/TestClass</code> a při\nspouštění test prohledává všechny třídy na přítomnost metod\ns atributem <code>Test</code>. To nám umožňuje mít testovací metody\nv jedné třídě společně s výkonným kódem a testovat tak privátní\nčleny bez nutnosti používat reflexi. Když už se k něčemu takovému\nrozhodnete je dobré ještě využít <code>partial class</code> a testy\npřesunout do samostatného souboru např. <code>Class.tests.cs</code></p>\n\n<p>Soubor SomeClass.cs:</p>\n\n<pre\n><code class=\"language-csharp\">public partial class SomeClass {\n  private bool _isDirty;\n  private string _someText;\n\n  public string SomeText {\n    set {\n      _isDirty = true;\n      _someText = value;\n    }\n  }\n}</code></pre>\n\n<p>Soubor SomeClass.tests.cs</p>\n\n<pre\n><code class=\"language-csharp\">public partial class SomeClass {\n  [Test]\n  private void SettingSomeTextMakesSomeClassDirty() {\n    var testInstance = new SomeCLass();\n    Assert.False(testInstance._isDirty);\n    testInstance.SomeTest = \"text\";\n    Assert.True(testInstance._isDirty);\n  }\n}</code></pre>\n\n<p>Také je celkem dobré nechat takové testovací metody skryté před\nvnějším světem, tak že jim nastavíme modifikátor viditelnosti na\n<code>private</code>. xUnit.net umí spouštět i privátní a interní metody\nza účelem testování (platí pro beta2 a novější).</p>\n\n<p>Osobně se mi tento framework velice líbí a už jsem na něj přepsal <a\nhref=\"http://www.codeplex.com/texynet/SourceControl/ListDownloadableCommits.aspx\">testy\npro Texy.net</a>.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:21:42.263-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nový Unit Test Framework pro dotnet",
  :published #inst "2007-10-07T19:35:28.923-00:00",
  :url "novy-unit-test-framework-pro-dotnet",
  :category-url "asp-net-2-0.aspx",
  :id 228,
  :description
  "Na půdě Microsoftu vzniká nový open source framework pro \"jednotkové testy.\" Díky jeho eleganci se dají dělat i některé dosud těžko proveditelné testy.",
  :category "ASP.NET 2.0",
  :tags ["xunit" "untitesting" "rhinomocks"]},
 :107-houselesson-vol-4.aspx
 {:html
  "\n<p>01. Cloud 9 – How shall I rock thee (Antoine Clamaran Remix) 02. The\nModern – Industry (Sebastian Ingrosso Mix) 03. Panjabi MC – Mundian to\nBach Ke (Tocadisco Mix) 04. Robbie Rivera – Bizzare Love Triangle (Original\nMix) 05. Who's Who? – Sexy Fuck 06. Basement Jaxx – Do You Thing\n(Robbie Rivera Mix) 07. Da Millo – Rockyabody 08. Dj DLG &amp; Laidback\nLuke – Ambition (Dj DLG Remix) 09. Cirez D – Copyrat 10. David\nCarretta – Lovely Toy (Electrosexual Remix) 11. Markus Stork &amp;\nSheridan – Deep Flavour 12. Dj Tonio &amp; Laurent Ho – Jocker (Henrik\nB Remix)</p>\n\n<p>Ke stažení <a href=\"/files/alessio_busta_-_houselesson_vol_4.wma\"\nonclick=\"javascript:_gat._getTracker(\">Alessio Busta presents HouseLesson vol.\n4</a> (WMA 96 kbps, 40,3 MiB)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T15:19:20.340-00:00",
  :is-published true,
  :author "alessio busta",
  :title "HouseLesson vol. 4",
  :published #inst "2006-02-09T12:48:32.460-00:00",
  :url "houselesson-vol-4",
  :category-url "muzika.aspx",
  :id 107,
  :description "Další set z rukou Alessia Busty.",
  :category "Muzika",
  :tags []},
 :434-technologicky-radar.aspx
 {:html
  "\n<p><a\nhref=\"http://devblog.cz/2012/10/thoughtworks-technology-radar-2012-10/\">Miro se\nna devblogu trošku rozepsal</a> o tom, co ho zaujalo <a\nhref=\"http://www.thoughtworks.com/articles/technology-radar-october-2012\">v poslední\nvydání Technology Radaru</a> a na závěr vyzval k reakci. Tož tady je\nta má.</p>\n\n<p>Technology radar sleduji již nějaký ten rok. Srovnávám si sním svůj\npohled na to, co vypadá perspektivně a co ne. Často se dost shodujeme, občas\nrozcházíme. Ale takový je život. Já tu vypíchnu věci, který mě\npřekvapily nebo zaskočily.</p>\n\n<h3 id=\"toc-nedelejte-feature-banching\">Nědělejte feature banching</h3>\n\n<p>S tímhle se ztotožňuji a preferuji chytřejší návrh, který umožňuje\npružné nasazování featur změnou konfigurace a podle potřeby i za běhu.\nU služeb nebo produktů se tedy branchování vyhýbejte. Ale jak už to tak\nbývá, existují výjimky, kde se tato praktika naopak hodí. Jednou z nich\njsou pull-requesty do OSS. Zde patří k etice odklonovat, odbranchovat a pak\naž dělat změny.</p>\n\n<h3 id=\"toc-micro-sluzby\">Micro služby</h3>\n\n<p>Tahle technika souvisí s předchozím bodem na úrovni komponent. Místo\nkomponent máme malé nezávislé služby, které spolu spolupracují.\nUmožňuje to rozpadnout velké aplikace na dílčí služby, které se samy\no sobě lépe udržují i vyvýjí. Zajímavé je, že ESB je naproti tomu\nv hold. Z mého pohledu micro služby s ESB souvisí a nebo jsem jen zatim\nnenašel lepší způsob provázání micro služeb.</p>\n\n<h3 id=\"toc-automatizace-vyvojarske-infrastruktury\">Automatizace vývojářské\ninfrastruktury</h3>\n\n<p>Tohle je technika, kterou mi přineslo Continuous delivery. Na Webmiu jsme ji\ncelkem slušně prověřili a dneska si bez ní nedovedu představit, že bych\nmohl pracovat. Rozhodně ne efektivně. Což pro změnu zase souvisí\ns následujícím bo­dem:</p>\n\n<h3 id=\"toc-rake-pro-automatizaci-java-i-net\">Rake pro automatizaci Java i\n.net</h3>\n\n<p>S tímhle bodem bych byl schopnej souhlasit u projektu, kde je zapotřebí\nbuildit i na jiných platformách, než jsou Windows. Jako mackař, bych občas\nuvítal, možnost dělat všechno v MacOS a nemuset do Parallels. Nadruhou\nstranu mi syntaxe Psake a fakt, že má za sebou kompletní PowerShell, vyhovuje\ntak, že to jsem schopný skousnout. :)</p>\n\n<p>Takže tady se držím Psake, s kterým automatizuju nejem integrační\nbuild, ale i vývojářskou infrastrukturu. Jednoduchá syntaxe, mocný shell,\nsnadná dokumentace scriptu, značná vyspělost tohoto nástroje a dostupnost\nna všech windows jsou pro mě jednoznačná plus.</p>\n\n<h3 id=\"toc-angular-a-knockout\">Angular a Knockout</h3>\n\n<p>U mě jasně hraje prim AngularJS. Můj přístup k vývoji aplikací je\ns ním velmi kompatibilní. Naproti tomu KO vychází ze zmetku MVVM, který\nvychází z nepochopení MVC/MVP. Dále je vidět, že autor je webem\nnepolíbený a všechno co dělá to akorát zdůrazňuje. Viz neprefixovaný\n<code>data-bind</code> atribut, syntaxe v něm použitá, vlastní\n„elementy“ definované pomocí komentářů a další podobná zvěrstva.\nJo, jsou to detaily, ale pro ortodoxního webaře nepřekonatelný. :)</p>\n\n<h3 id=\"toc-meteor-js-a-dart\">Meteor.js a Dart</h3>\n\n<p>Meteor je v sekci hold a s tím souhlasím. Zatím tento framework ve mně\nvyvolává spíš rozpaky než nadšení. Dart se taky drží v holdu. Mě Dart\nzajímá z pohledu language designu a iženýringu, proč, co a jak dělaj. Ale\nže bych ho v následujích letech měl používat si nedovedu\npředstavit…</p>\n\n<h3 id=\"toc-f\">F#</h3>\n\n<p>Bohužel F# se na radaru moc nepohnul (stále trial) a myslím, že je to\nškoda. Doufám, že se to do příště změní, přesto, že Microsoft má F#\nspíš jako inkubátor zajímavých věcí (generics, type inference, async,\ntype providers, immutable), který pak flákne do mainstreamových jazyků jako\nC# a VB. Mnozí si myslí, že jeho budoucnost a případné rozšíření je na\nMonu. MonoDevelop už má stabilní language binging, který si člověk nemusí\nručně buildit. Mono má <code>fsc</code> i <code>fsi</code> v základní\ndistribuci.</p>\n\n<p>F# je čistý jazyk, ve kterém jdou složité koncepty vyjadřovat\njednoduše. Netrpí obskurní alegorickou dekorativností a při blbé\ninicializaci fieldu přes kontruktor nemusím psát třikrát stejný kód (sice\nho za mě píše CodeRush, ale pořád je ve zdrojácích). V práci pořád\nC#, ale osobní projekty rozhodně v F#.</p>\n\n<h3 id=\"toc-nuget\">NuGet</h3>\n\n<p>Na předchozím projektu jsme NuGet používali pouze pro správu externích\nzávislostí. Aktuálně ho používám i interně pro balíčkování\nkomponent a tvorbu různých konfigurací produktu. K tomuhle tématu se snad\nještě vrátím v samostatném spo­tu.</p>\n\n<h3 id=\"toc-konfigurace-v-dns\">Konfigurace v DNS</h3>\n\n<p>Na tohle se musim podívat blíž. Mám tušení, že to brzy použiju a snad\nse k tomu vrátím i tady na blogu. :)</p>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p>Tak to je můj zkrácený pohled na technologický radar. Jak ho\nvidíte vy?</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-10-31T10:14:28.737-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Technologický radar",
  :published #inst "2012-10-31T10:07:08.620-00:00",
  :url "technologicky-radar",
  :category-url "moje-prace.aspx",
  :id 434,
  :description
  "Technology radar sleduji již nějaký ten rok. Srovnávám si sním svůj pohled na to, co vypadá perspektivně a co ne. Často se dost shodujeme, občas rozcházíme. Ale takový je život. Já tu vypíchnu věci, který mě překvapily nebo zaskočily.",
  :category "Moje práce",
  :tags []},
 :109-tohle-nechapu.aspx
 {:html
  "\n<p>Už je tomu více než rok, co jsem spokojeným uživatelem perfektní\nfreemailové služby z&#160;dílny Google &#8211; GMail. Asi tak půl roku\nexistuje Google Talk &#8211; instantní zprávař postavený na otevřených\nprotokolech Jabber. Pokud chcete používat Talk, musíte mít GMail, což neni\nasi nepotěšitelné omezení. Před asi týdnem došlo k&#160;integraci Talku\npřímo do GMailu. Můžete chatovat přímo z&#160;GMailu se svými Talkovými\na Jabber kontakty, historie zpráv se ukládá na serveru &#8211; další\npozitivum.</p>\n\n<p>Ale teď k&#160;tomu proč tenhle spot píšu. Nová funkčnost je prozatím\ndostupná pouze v&#160;angličtině (ok tu mám stejně nastavenou) a\nv&#160;prohlížečích Firefox a Internet Explorer. Tady jsem si taky řekl\n&#8222;ok&#8220;, používám Netscape Browser 8.1&#160;postavenej na obou\nzmiňovaných. Těšil jsem se, že už brzo budu moc Talkovat přímo\nz&#160;GMailu, ale ouha. Dnes jsem náhoudou na GMail koukal ve Firefoxu a Talk\nmám dávno integrovaný, rychle mrknu do Netscapu &#8211; NIC.</p>\n\n<p>Tohle <strong>opravdu nechápu</strong>.</p>\n\n<p>PS. pokud máte zájem si to zkusit a podpořit mě (a nejen mě)\nv&#160;přechodu z&#160;ICQ, nabízím vám pozvánky do GMailu, takže\nneváhejte a pokud ještě GMail nemáte a chcete ho, napište mi.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-02-16T19:31:39.347-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Tohle nechápu",
  :published #inst "2006-02-15T19:25:02.963-00:00",
  :url "tohle-nechapu",
  :category-url "webdesign.aspx",
  :id 109,
  :description "O mých zkušenostech s GMailem.",
  :category "Webdesign",
  :tags []},
 :427-deploytime-feature-toggles.aspx
 {:html
  "\n<p>Často se při vývoji setkáme s potřebou některé featury zapínat a\nvypínat dle potřeby. Pokud děláme službu, tak se jistě hodí zainvestovat\ndo systému <a\nhref=\"http://rarous.net/weblog/404-prepinani-featur-a-vetveni-abstrakci.aspx\">feature\ntoggles</a>, které jde zapínat/vypínat on-line nejlépe z administrativního\nrozhraní.</p>\n\n<p>Možnost výběru omezeného okruhu uživatelů a nebo vzorků podle\nnějakého kritéria jistě také není na škodu. Dá se tak dělat postupný\ndeployment a featuru testovat na omezeném vzorku uživatelů, ale taky se to\nmůže hodit při A/B testování. Možnost z produkce stáhnout\nnefunkční/spadlou featuru bez nutného redeploye také ocení asi každý.\nFeature toggles jsou dobro. :)</p>\n\n<p>Ale co my, co zrovna neděláme služby a deployujeme k různým\nzákazníkům, různé featury, nás se to netýká? Ale ano. Koukneme se na\njednu z možných technik deploytime feature toggles.</p>\n\n<p>Deploytime feature toggles jsou méně flexibilní, každá změna vyžaduje\nredeploy aplikace. Na druhou stranu nás můžou ochránit před nechtěným\nužíváním featur, které zákazník nemá zakoupené a náhodou objevil, jak\nse k nim dostat. Jak tedy na to?</p>\n\n<h3 id=\"toc-msdeploy\">MSDeploy</h3>\n\n<p>Začnu předpokladem, že deployment neděláte ručně přes FTP (SSH,\nVPN/RD) nebo E-mail. Teď neposlouchám…</p>\n\n<p>Ok. :) Dobře takže každý používá nějakou automatizaci deploye,\nnejlépe tu, kterou mu poskytuje jeho platforma. Ve Visual Studiu/IIS7 je\nnástroj zvaný MsDeploy, který slouží nejen k balíčkování, konfiguraci\na deploymentu na webový server. Umí toho celkem dost, ale nám bude zatím\nstačit schopnost vytvářet deployovací balíčky. Je to taková ta funkce,\nkterá se skrývá v kontextové nabídce webového projektu pod názvem\n<code>Build Deployment Package</code>.</p>\n\n<h3 id=\"toc-feature-toggles\">Feature Toggles</h3>\n\n<p>Pro deploytime feature toggles nebudeme vymýšlet nějaké složitosti a\nvyužijeme to, co nám platforma nabízí. Využijeme integraci s MsBuildem.\nJá vím, psát deployovací scripty v XML je špatné, ale tohle je tak\nsnadné, že to snad zvládne každý. Jdeme trošku pod povrch, takže\nzamávejte dialogům a GUI a zapněte si svůj oblíbený XML editor a otevřete\nsi projektový soubor webového projektu (nebo prostě dejte <code>Unload\nProject</code> a pak <code>Edit *FooBar*.csproj</code> přes kontextovou\nnabídku nad projektem). Taky vám začalo být srdce rychleji? :)</p>\n\n<p>Dalším předpokladem je, že vývojová verze obsahuje všechny featury a\ntoggles slouží jen k odebírání. Proto si nadefinujeme vlastnosti, které\nbudou sloužit jako příznak pro odebrání featury.</p>\n\n<pre\n><code class=\"language-markup\">&lt;PropertyGroup&gt;\n  &lt;RemoveFoo Condition=\" '$(RemoveFoo)'=='' \"&gt;false&lt;/RemoveFoo&gt;\n  &lt;RemoveBar Condition=\" '$(RemoveBar)'=='' \"&gt;false&lt;/RemoveBar&gt;\n&lt;/PropertyGroup&gt;</code></pre>\n\n<p>V aplikaci máme dvě featury <code>Foo</code> a <code>Bar</code>.\n<strong>Foo</strong> je featura, která je třeba jednou ASPX stránkou.\n<strong>Bar</strong> je pro změnu složena z controlleru a sady\njeho views.</p>\n\n<pre\n><code class=\"language-markup\">&lt;PropertyGroup&gt;\n  &lt;ExcludeFilesFromDeployment Condition=\" '$(RemoveFoo)' == 'true' \"&gt;\n      $(ExcludeFilesFromDeployment);Foo.aspx&lt;/ExcludeFilesFromDeployment&gt;\n  &lt;ExcludeFoldersFromDeployment Condition=\" '$(RemoveBar)' == 'true' \"&gt;\n      $(ExcludeFoldersFromDeployment);Views\\Bar&lt;/ExcludeFoldersFromDeployment&gt;\n&lt;/PropertyGroup&gt;</code></pre>\n\n<p><code>ExcludeFilesFromDeployment</code> a\n<code>ExcludeFoldersFromDeployment</code> jsou extension pointy pro\nbalíčkovací target, kde můžete říct, co nemá být součástí\nvýsledného balíčku. Můžete tak odebírat nejen stránky, ale i styly,\nscripty, assemblies… Prostě, co zrovna nepotřebujete. V ukázce používám\n<code>Conditional</code> atribut, kde se ptáme na hodnotu vlastností\ndefinovaných výše. Navíc, díky zanořené referenci\n<code>$(ExcludeFilesFromDeployment);</code> můžete mít takových toggles\nkolik potřebujete a hezky se poskládají podle konfigurace.</p>\n\n<p>Dost bylo hrabání se v XML a přejděme k té hezčí práci. :)\nK příkazové řádce.</p>\n\n<pre><code>msbuild FooBar.csproj /t:Package /p:RemoveFoo=true</code></pre>\n\n<p>Vypínání jednotlivých featur v balíčku řídíme pomocí parametrů\nMsBuildu, zde konkrétně máme vypnutou featuru <em>Foo</em>. S příchodem\ndeployovacích profilů ve VS 2012, to možná půjde udělat ještě líp, ale\nto jsem zatím nezkoumal.</p>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p>Tohle samozřejmě funguje jen na fyzické odebírání featur z aplikace.\nPokud potřebujete i logické odebírání, můžete k tomu využít třeba <a\nhref=\"http://rarous.net/weblog/424-vlastni-transformace-konfiguracnich-souboru.aspx\">vlastní\ntransformace konfigurace</a>.</p>\n\n<p>Příjemné deployování!</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-08-31T09:33:04.960-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Deploytime feature toggles",
  :published #inst "2012-08-30T12:38:43.723-00:00",
  :url "deploytime-feature-toggles",
  :category-url "moje-prace.aspx",
  :id 427,
  :description
  "Často se při vývoji setkáme s potřebou některé featury zapínat a vypínat dle potřeby. Malá ukázka, jak to vypínat featury při deployi.",
  :category "Moje práce",
  :tags ["deployment"]},
 :422-je-povoleno-psat-kod-dvakrat.aspx
 {:html
  "\n<p>Ve světe pragmatických programátorů vládné všudepřítomné sucho\n(<acronym title=\"Don't Repeat Yourself\">DRY</acronym>), které rozlévají, kam\naž oko dohlédne. Jenže aplikovat jakoukoli poučku bez rozmyslu je cesta do\nsraček. :)</p>\n\n<p>Již nějakou dobu si dopřávám odpočinku a mám dost času přemýšlet.\nPřemýšlím i tom, kde děláme jako vývojáři chybu. Proč je většina\nkódu špatná? Vždyť se snažíme ho udržovat čistý, trávíme týdny\nrefaktorováním, jen aby byl kód fit, a hlavně se neopakujeme! Ano,\nneopakujeme, neopakujeme, neopak…</p>\n\n<blockquote>\n\t<p>Repetitio mater studiorum</p>\n</blockquote>\n\n<p>Tak určitě a je v tom pěkný bordel.</p>\n\n<p>Už se vám určitě stalo, že jste celý den, dva něco psali, pak jste\no to blbou náhodou přišli. Zálohy žádný. Co teď? Musíte to napsat\nznovu. A najednou vám to zabere jen hodinu nebo tři, ale ne celý den.\nDokonce jste s výsledkem možná spokojenější. Čím to, sakra, je?</p>\n\n<p><a\nhref=\"http://blog.8thlight.com/dave-moore/2012/06/20/what-do-developers-do-all-day.html\">Vývojařina\nnení psaní kódu!</a> Jde o mix zkoumání problému, hledání jeho <span\ntitle=\"ano, více\">možných řešení</span>, návrh výsledného řešení,\nsamotná realizace a následné ověření. No, zní to trochu jako vodopád,\nale někteří lidé potřebují sekvenční schema. Jiní na poslední tři\n(někdy i na všechny) použijí <acronym\ntitle=\"Test Driven Development\">TDD</acronym>.</p>\n\n<p>Když, děláme <a href=\"http://coderetreat.cz/\">CodeReatreaty</a>, tak\nprvní session je určená právě na zkoumání problému a hledání možných\nřešení. Každý by se nad problémem měl zamyslet, dekomponovat ho na\npodproblémy a zkusit najít obrysy schůdné cesty. Na víc mu čas stejně\nnezbyde. Vzhledem k tomu, že je tam dalších 10, 15 lidí, kteří zkoumají\nten samý problém a každý má jiný pohled na věc, vznikne z toho\nzajímavý den, proplněný různými implementacemi stejného problému. Kód\nse za každou session zahazuje a začíná se vždy načisto. Nové nápady, jak\npsát lepší kód, nejsou zadušeny starou implementací.</p>\n\n<p>Důležité je se naučit zahazovat <span\ntitle=\"můj kód nemůže být nikdy špatný, vždyť jsem ho psal já\">špatný\nkód</span>. Opakovat se, psát ho znovu.</p>\n\n<p>Většina softwaru trpí tím, že programátoři jsou spokojeni, když\nnajdou jedno fungující řešení a jdou od válu. Celý den lepili kousíčky\nrůzně vygooglenýho kódu, aby vyřešili problém a teď by to měli\n<strong>zahodit? Ano!</strong> Víte, tohleto googlení a lepení je právě\n<strong>průzkumná fáze</strong>, kdy se tepreve učíte a <strong>nic\ndobrého z toho nevyleze</strong>. Pokud průzkumnou fází projdete\ns řešením, víte, že tudy cesta vede. Vraťte se na začátek a začněte\nse kochat. :) Sedněte si s někým do páru a použijte v klidu osvědčené\ntechniky.</p>\n\n<p>Kent Beck říká něco takového:</p>\n\n<blockquote>\n\t<p>Není nic špatného na tom psát kód sám a bez testů, pokud zrovna\n\tzkoumáte zajímavý problém a hledáte, zda má vůbec řešení. Jakmile to\n\třešení najdete, ok, víte, že cesta tudy vede. Smažte ten kód, sežente si\n\tpartnera a napište to společně pomocí TDD.</p>\n</blockquote>\n\n<p>A já s ním naprosto souhlasím.</p>\n\n<p>A vám, <span title=\"zdravím Dušane\">teď probliklo hlavou</span>, „ale\nmůj PM s tím souhlasit nebude. Vždyť všechno píšu dvakrát, sežere to\nmnohem víc času.“ Kdepak! Pokud se shodnem na tom, že když píšeme kód\npodruhé, píšeme ho rychleji a lépe, tak to znamená, že příští\nprůzkumničení bude díky menším překážkám rychlejší! Ve výsledku\nbudete trávit možná stejně času, možná o málo víc, nad stejnými\núkoly jako dřív, ale budete mít <em>mnohem</em> –\n<strong>mnohem</strong> – kvalitnější software. Nebo snad chcete dál\nodevzdávat makety a prototypy?</p>\n\n<p>Pište kód dvakrát, ale nezanechávejte duplicity!</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-06-25T12:05:56.167-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Je povoleno psát kód dvakrát",
  :published #inst "2012-06-25T10:52:22.627-00:00",
  :url "je-povoleno-psat-kod-dvakrat",
  :category-url "moje-prace.aspx",
  :id 422,
  :description
  "Ve světe pragmatických programátorů vládné všudepřítomné sucho. Někdy až příliš velké sucho.",
  :category "Moje práce",
  :tags ["xp" "tdd"]},
 :140-ie7-beta-2.aspx
 {:html
  "\n<p>Je tomu tak právě byla vydáná <strong>skutečná beta2</strong> IE7.\nVerze, které byly dosud, byly pouze Beta2 Preview. Dnešní release by měl\npřinést opravu, chyb které byly reportovány díky Preview verzím. Beta 2,\nbude uvolněna i&#160;v němčině, arabštině, japonštině a finštině :)\nČeština ve výčtu chybí ;) Dalšími důležitými releasy by měla být\nWinVi Beta 2, IE7 beta3, následovaná RCčkama a finální verze bychom se\nměli dočkat někdy v&#160;druhé půlce tohoto roku. (osobně tipuju konec\nlistopadu)</p>\n\n<p>Pokud se rozhodnete pro <a\nhref=\"http://www.microsoft.com/windows/ie/downloads/default.mspx\">instalaci\nIE7b2</a> nezpoměňte nejprve <a\nhref=\"http://www.dgx.cz/trine/item/jak-odinstalovat-ie7-beta/category/web-design\">odinstalovat\npředchozí IE7</a> verze! Pokud se vám to, stejně jako mně, nepovede\n&#8211; smazal jsem si restorepointy :D &#8211; dejte vědět, přes mail vám\nnapovím, jak na to ;)</p>\n\n<h3>Doplnění</h3>\n\n<p>Tak už jsem vyzkoušel a tady jsou mé postřehy:</p>\n\n<ul>\n\t<li>Lehká změna UI, nyní je decentnější, jemnější a konzistentnější,\n\tzměna neji nikterak markatní, ale je příjemná</li>\n\n\t<li>Renderovací chyby asi zůstaly : pořád se mi rozpadají kulaté rohy\n\tv&#160;<a href=\"http://www.gmail.com/\">GMailu</a>, floatování taky ještě\n\tneni OK (viz taby na <a href=\"http://www.atlas.cz/\">titulce Atlasu</a>)</li>\n\n\t<li>Pravděpodobně došlo k&#160;odstarnění některých chyb\n\tv&#160;JavaScriptu &#8211; začal mi fungovat <a\n\thref=\"http://reader.google.com/\">Google Reader</a>, který Preview verzi\n\tspolehlivě odstřelil.</li>\n</ul>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-25T09:57:17.910-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "IE7 beta 2",
  :published #inst "2006-04-25T09:55:00.000-00:00",
  :url "ie7-beta-2",
  :category-url "webdesign.aspx",
  :id 140,
  :description
  "Komentář k uvolnění skutečné Beta2 Internet Exploreru 7 s pár postřehy, co se změnilo.",
  :category "Webdesign",
  :tags []},
 :200-amapy-api-v-praxi.aspx
 {:html
  "\n<p>Udělal jsem dvě ukázky použití <a href=\"http://amapy.atlas.cz/api\">API\nnových Atlasích map</a>. První ukázkou je <a\nhref=\"http://rarous.net/weblogy/2.0-alfa2/georss-catcher.htm\">generátor GeoRSS\na GeoURL</a> tagů vybráním místa na mapě. Druhou ukázkou je budoucí\nmash-up Weblogy API a AMapy API, který zobrazuje <a\nhref=\"http://rarous.net/weblogy/2.0-alfa2/weblogy-map.htm\">mapu blogerů\nz Weblogy.cz</a>. Teď už možná chápete, k čem je první ukázka\ndobrá ;)</p>\n\n<p>Happy coding.</p>\n\n<h3 id=\"toc-update\">Update</h3>\n\n<p>Množí se případy s hláškou chybný GUID. Proto čtěte pozorně. :)\nPro to aby bylo možné API používat je nutné si <a\nhref=\"http://amapy.atlas.cz/api/registration.aspx\">vygenerovat GUID</a> pro\n„konkrétní URL“ na stránkách AMapy API. Pokud chcete použít ukázky\nu sebe, musíte si změnit GUID pro svoji URL. Děkuji za pochopení.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:41:20.493-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "AMapy API v praxi",
  :published #inst "2007-01-29T22:12:38.287-00:00",
  :url "amapy-api-v-praxi",
  :category-url "webdesign.aspx",
  :id 200,
  :description
  "Udělal jsem dvě ukázky použití API nových Atlasích map.",
  :category "Webdesign",
  :tags ["atlas" "amapy" "api"]},
 :370-mikroformaty-jako-datovy-model-stranky.aspx
 {:html
  "\n<p>Dříve, když jsem psal webové aplikace, kde bylo potřeba hodně\nJavaScriptu, aby se dosáhlo pohodlné práce, duplikoval jsem data. Ano, je to\ntak a stydím se za to. Většina dat, které se na stránce vypisovaly, byla\nduplicitní. Jednou byly v <acronym\ntitle=\"Hypertext Markup Language\">HTML</acronym> a podruhé v <acronym\ntitle=\"JavaScript Object Notation\">JSON</acronym>, aby se s nimi dalo snadno\npracovat v JavaScriptu. Jenže všichni víme, že duplikování je\nzlo. :)</p>\n\n<p>V <a href=\"http://www.trop.cz/\">Tropu</a> jsem se tomuto nešvaru snažil\nvyhnout. A tak je většina dat ve stránkách označena mikroformáty.\nVýhodou mikroformátů je, že jsou snadno strojově zpracovatené. Tudíž\ni JavaScriptem. Pokud se třeba podíváte na detail místa (např. <a\nhref=\"http://www.trop.cz/v/13\">The Pub na Staroměstské</a>) uvidíte mapku,\nkde je bublina s kontaktními údaji místa. Tato data nejsou v žádném JSON\nve stránce, ani se nestahují AJAXovým dotazem. Script jednoduše vezme data\nz mikroformátu <a href=\"http://microformats.org/wiki/hcard\">hCard</a> včetně\ngeo souřadnic, kde se má bublina vykreslit.</p>\n\n<p>Podobný model je aplikován na různých místech Tropu.</p>\n\n<h3 id=\"toc-mikroformaty-vs-rdfa\">Mikroformáty vs. RDFa</h3>\n\n<p>Myslím, že v tomto případě se i ukazuje, že mikroformáty jsou\nlepší než RDFa. Protože parsovat mikroformáty pomocí jQuery je mnohem\nsnažší a přehlednější. RDFa je možná flexibilnější v tom, kolik\ngramatik dokáže pojmout, ale to je i jeho zásadní slabinou. Mikroformáty\ndefinují jednoduché formáty, které staví na jednoduchém modelu HTML.\nExistují nástroje, díky nimž lze s nimi snadno pracovat.</p>\n\n<h3 id=\"toc-mikroformaty-a-asp-net-mvc\">Mikroformáty a ASP.NET MVC</h3>\n\n<p>Úžasnou novinkou ASP.NET MVC 2 bude extenze <code>Html.DisplayFor</code>,\nkde se vytvoří jediná šablona třeba s vizitkou uživatele a pak jí mužu\npoužívat všude, aniž bych někde na něco zapomněl nebo něco nabořil.\nDnes musím mít několik extenzí pro různé typy dat, kde mám navíc kód\npřímo v extenzi. Sice je jednoduchý, ale čím méně HTML v C# kódu, tím\nlépe. (On to tedy není přímo HTML kód, ale jeho objektová\nreprezentace.)</p>\n\n<p>Práce s mikroformáty tak bude mnohem jednodušší a\nucelenější. :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-11-18T12:51:04.070-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Mikroformáty jako datový model stránky",
  :published #inst "2009-11-18T12:47:56.843-00:00",
  :url "mikroformaty-jako-datovy-model-stranky",
  :category-url "webdesign.aspx",
  :id 370,
  :description
  "Dříve, když jsem psal webové aplikace, kde bylo potřeba hodně JavaScriptu, aby se dosáhlo pohodlné práce, duplikoval jsem data. Jenže všichni víme, že duplikování je zlo. :)",
  :category "Webdesign",
  :tags ["microformats" "aspnet" "mvc" "rdfa" "trop"]},
 :48-hlavne-diskretne.aspx
 {:html
  "\n<p>Včéra jsem podruhé absolvoval zkoušku z&#160;Diskrétní matematiky a\nlogiky. Nevím jestli jsem nebyl dostatečně diskrétní, ale v&#160;důsledku\njsem zase vyhořel :( což není moc povzbudivé. Obvzvlášť, když další\ntermíny jsou plně obsazené. Nu což čeká mě oprava v&#160;létě, do tý\ndoby všechno krásně zapomenu (otázkou je jestli je co zapomenout).</p>\n\n<p>Po písemné části jsem měl takový dobrý pocit, že už by to za tu\nlidovku mohlo být, ale paní prof. Demlová tento pocit nezdílela. Když jsme\nčekali na ústní část, dozvěděl jsem se od pár lidí, že už tam jsou\npotřetí, hmm.</p>\n\n<p>Pak přišla ona a začala číst jména, bylo jich hodně.\n&#8222;Aha,&#8220; říkal jsem si, &#8222;asi čte ty, co to dali.&#8220;\nPozorně jsem poslouchal a vtom uslyšel své jméno, ale nevěděl jsem\npřesně, co to znamená. Pak jsme se odebrali do místnosti, kde nám rozdala\npísemky. &#8222;Hmm, tak zase nic.&#8220; Na deskách se vyjímalo hodnocení\n1 1/4 bodu. Závěrem zbývá podotknout, že na zmánku <em>dobře</em> je\nzapotřebí zisku alespoň 3&#160;bodů.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:54:29.427-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Hlavně diskrétně",
  :published #inst "2005-02-17T00:00:00.000-00:00",
  :url "hlavne-diskretne",
  :category-url "skola.aspx",
  :id 48,
  :description "",
  :category "Škola",
  :tags []},
 :71-gigi-dagostino-v-hany-bany.aspx
 {:html
  "\n<p>Já a jsem vyzvedl Pira a Vendy na hl. nádraží kolem půl osmý a rovnou\njsme vyrazili směr Kongresové centrum. Na místě už bylo několik hloučků\nvyznavačů Gigiho muziky, byli mezi nimi a tací, kteří neměli ještě\nvstupenky :) Pozdravili jsme se s&#160;pár lidma a zamířili do hospody. Tam\njsme se trošku připravili na nenízké ceny v&#160;Hany Bany. Potkali jsme\ntam další dvě skupinky fanoušků&#8230;</p>\n\n<p>Asi v&#160;půl desátý jsme vyrazili do Hany. Před vstupem lehká fronta,\ntrapný vyhazovači, co nás hezky vošahali&#8230; utrhnout lístek a jsme\ntam. Piro s&#160;Vendy ještě skočili do šatny s&#160;věcma. Pak jsme\nzamířili k&#160;parketu, cestou nás zdravili lidi, o&#160;kterých dosud\nnevím co jsou zač, ale zdravil jsem je taky :) První cesta byla na záchod,\nta Plzeň byla celkem močopudná. Po návratu z&#160;WC zamířil Piro ke\nklukům z&#160;<a href=\"http://www.gigi.cz\">Gigi.cz</a> a za chvíli se\npřišli pozdravit i&#160;se mnou. Pak jsme tam nějak jako i&#160;tancovali.\nPak jsme potkali mášu.</p>\n\n<p>Zanedlouho jsme se přemístili k&#160;Gigi.cz, zapili jsme setkání a\nudělali <a href=\"http://forum.gigi.cz/uploads/gigicz.jpg\">společné foto</a>,\npak jsme si šly udělat místo na parketu, v&#160;první řadě, něco přes\nhodinu jsme tancovali a pak přišel <strong>on</strong>. Dav skandoval\n&#8222;Gi gi gi gi gi&#8230;&#8220;, na pódiu se objevila zpěvačka a\nsnažila se něco pěkného zazpívat, dav nepřeřvala&#8230; Gigi do jejího\nzpěvu začal pouštět muziku (nějakou klasiku), v&#160;davu to začalo\nvřít, každou změnu v&#160;rytmu, náležitě ocenil.</p>\n\n<p>Do klasiky začal přimíchávat svoji klasiku &#8211; Uomo Suono &#8211;\nPasso Passo :) nejdřív jen bassline a postupně i&#160;screamy, bomba! Pak\nPopcorn a už to jelo&#8230; <a\nhref=\"http://forum.gigi.cz/index.php?showtopic=42&amp;st=20#entry546\">Tracklist</a>\njsem už psal do fóra. Během vystoupení i&#160;okolo něj fotil Piro jako\nblázen (něco kolem 180&#160;fotek a pár videí), takže až je zpracuje,\nmůžete se na ně těšit v&#160;<a href=\"http://ggdag.euweb.cz/fotky\">nově\notevřené galerii</a>, kde už pár fotek z&#160;téhle akce je. Jestli někdo\nmáte zájem svoje fotky z&#160;<strong>mini tour</strong> u&#160;nás\nvystavit, neváhejte mě <a\nhref=\"mailto:rarous@seznam.cz?subject=fotky_z_akce\">kontaktovat</a>.</p>\n\n<!-- generated by Texy! -->",
  :keywords "Gigi D'Agostino Hany Bany Praha report",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Gigi D'Agostino v Hany Bany - report z akce",
  :published #inst "2005-09-26T17:17:29.000-00:00",
  :url "gigi-dagostino-v-hany-bany",
  :category-url "muzika.aspx",
  :id 71,
  :description
  "Gigi konečně přijel do Prahy, tady je report z průběhu akce.",
  :category "Muzika",
  :tags []},
 :151-intellisense-pro-sql.aspx
 {:html
  "\n<p>Red Gate vydali novou verzi <a\nhref=\"http://www.red-gate.com/products/sql_prompt/index.htm\">SQL Prompt</a>,\ncož je skvělá utilitka, schovaná v trayi, které rozpozná, když píšete\nSQL dotazy v jakémkoli editoru, a vyhodí vám nabídku Intellisense\ns možnými keywordy, tabulkami, sloupcemi apod. Umí dokonce formátovát\ndotazy, aby byly přehlednější. Tak na co ještě čekáte, když <a\nhref=\"http://www.red-gate.com/products/sql_prompt/index.htm\">je to\nzdarma</a>? :D</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:36:45.850-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Intellisense pro SQL",
  :published #inst "2006-05-22T19:32:24.163-00:00",
  :url "intellisense-pro-sql",
  :category-url "webdesign.aspx",
  :id 151,
  :description
  "Skvělá věc, kterou potřebuje každý vývojář, který pracuje s T-SQL.",
  :category "Webdesign",
  :tags ["intellisense" "sql"]},
 :255-method-chaining-vs-fluent-interface.aspx
 {:html
  "\n<p>Přes <a href=\"http://www.devlogy.cz/\">Devlogy.cz</a> jsem narazil na\nčlánek <a href=\"http://interval.cz/\">Intervalu</a> s názvem <a\nhref=\"http://php.interval.cz/clanky/fluent-interfaces/\">Fluent Interfaces</a>,\nve kterém autor popisuje <a\nhref=\"http://martinfowler.com/dslwip/MethodChaining.html\">Method Chaining</a>.\nKde udělal kolega Mrozek chybu?</p>\n\n<p>V definici vážení! :)</p>\n\n<blockquote>\n\t<p>Takzvané „Fluent Interface“ (česky též „plynulé rozhraní“ nebo\n\t„řetězcovité volání“) je způsob spojování metod <strong>jednoho\n\tobjektu</strong>, který usnadňuje předávání pracovního kontextu\n\tobjektu.</p>\n</blockquote>\n\n<p>Plynulé rozhraní totiž jde za hranice jednoho objektu. Umožňuje\nkontextově navazovat třeba celé API do jedné věty. Často se jako\nnávratový typ dané metody používá nějaké rozhraní. Důležité také\nje, že plynulá rozhraní se používají k tvorbě <acronym\ntitle=\"Domain Specific Language\">DSL</acronym>.</p>\n\n<p>To jsem dneska zase rozepsal…</p>\n\n<p>Přišli jste sem z RSS čtečky? Zkontrolujte si prosím, zda máte\nsprávnou URL feedu <a\nhref=\"http://feeds.feedburner.com/rarous-weblog\">http://feeds.feedburner.com/rarous-weblog</a>. Děkuji</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-02-03T11:25:49.487-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Method Chaining vs. Fluent Interface",
  :published #inst "2008-02-03T11:24:55.363-00:00",
  :url "method-chaining-vs-fluent-interface",
  :category-url "asp-net-2-0.aspx",
  :id 255,
  :description
  "Přes Devlogy jsem narazil na článek Intervalu s názvem Fluent Interfaces, ve kterém autor popisuje Method Chaining. Kde udělal kolega Mrozek chybu?",
  :category "ASP.NET 2.0",
  :tags []},
 :234-problem-se-sql-server-compact-edition.aspx
 {:html
  "\n<p>Píšu takovou malou aplikaci, která používá SQL Compact Edition pro\nukládání dat a Castle ActiveRecord jako persistenční vrstvu. Očekával\njsem, bezproblémové použití, ale chyba lávky. To bych přišel o námět\nna tenhle spot.</p>\n\n<p>Napoprvé jsem chtěl využít služeb LINQ to SQL, ale ten si s SQL CE moc\nnerozumí (tj. vůbec). Tak jsem tedy sáhl po ActiveRecord o kterém jsem\nčetl, že se SQL CE umí (díky NHibernatu). Přidal jsem DB do projektu,\nnastavil konfiguraci následujícně:</p>\n\n<pre\n><code class=\"language-markup\">&lt;activerecord&gt;\n  &lt;config&gt;\n    &lt;add key=\"hibernate.dialect\"\n         value=\"NHibernate.Dialect.MsSqlCeDialect\" /&gt;\n    &lt;add key=\"hibernate.connection.driver_class\"\n         value=\"NHibernate.Driver.SqlServerCeDriver\" /&gt;\n    &lt;add key=\"hibernate.connection.provider\"\n         value=\"NHibernate.Connection.DriverConnectionProvider\" /&gt;\n    &lt;add key=\"hibernate.connection.connection_string\"\n         value=\"Data Source=DbFile.sdf;\" /&gt;\n  &lt;/config&gt;\n&lt;/activerecord&gt;</code></pre>\n\n<p>Spustím testy. Nic, spadlo to na výjimce, že NHibernate nemůže vytvořit\nDriver pro SQL CE. Po chvilce hledání jsem našel, že se musí u reference\nna <code>Syste.Data.SqlServerCe</code> nastavit vlastnost <strong>Copy\nLocal</strong> na <em>True</em> a to i u testovacího projektu!</p>\n\n<p>Tak jsem zas o něco chytřejší :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:15:27.433-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Problem ActiveRecord se SQL CE",
  :published #inst "2007-11-27T20:17:43.537-00:00",
  :url "problem-se-sql-server-compact-edition",
  :category-url "asp-net-2-0.aspx",
  :id 234,
  :description
  "Píšu takovou malou aplikaci, která používá SQL Compact Edition pro ukládání dat a Castle ActiveRecord jako persistenční vrstvu. Očekával jsem, bezproblémové použití, ale chyba lávky. ",
  :category "ASP.NET 2.0",
  :tags ["castle" "activerecord" "sqlce" "sql"]},
 :206-nova-era-klientskeho-programovani.aspx
 {:html
  "\n<p>Ještě jsem se ani pořádně neohřál ve studených vodách JavaScriptu a\npřichází mi vysvobození! Microsoft konečně vypustil novou verzi <acronym\ntitle=\"Common Language Runtime\">CLR</acronym>, která je součástí plug-inu\nSilverlight (dříve známý pod kódovým označením „WPF/E“). Co je na\ntom tak vysvobozujícího?</p>\n\n<p>Microsoft vzal CLR 2.0, trochu ho přepracoval, přibyla nová vrstva\n<acronym title=\"Dynamic Language Runtime\">DLR</acronym>, která ulehčuje\nportaci dynamických jazyků (Python, Ruby, ECMA Script, VB Script) na platformu\ndotnet. K CLR přibalil základní knihovny .net frameworku, potažmo jejich\npodmnožinu, a zabalil to do plug-in o velikosti 4,5 MiB, který funguje\nv prohlížečích IE, Firefox a Safari a zanedlouho přibyde i podpora pro\nOperu. Pokud jste četli pozorně určitě jste si všimli <em>Safari</em>, ano\ntento plug-in funguje i na OS X! Odteď můžeme tedy psát klientské\n„skripty“ v C#, VB.NET nebo třeba v <a\nhref=\"http://www.codeplex.com/IronPython\">IronPythonu</a>. Brzy by měla\npřijít i podpora IronRuby, ECMA Scriptu 3.0 a VBx (VB Script).</p>\n\n<p><a href=\"http://www.silverlight.net/\">Silverlight</a> umožňuje psát\ngraficky zajímavé, interaktivní aplikace, které jsou součástí HTML\nstránky, stylem na který jste zvyklí při psaní serversidu nebo WPF.\nMůžete také použít stávající assembly i na klientovi, bez nutnosti\nrekompilace.</p>\n\n<p>Otázkou zůstává, zda-li se Silverlight dokáže prosadit na trhu, kde už\nvládne Flash/Flex…</p>\n\n<h3 id=\"toc-souvisejici\">Související</h3>\n\n<ul>\n\t<li><a href=\"/weblog/198-prinasi-microsoft-novou-generaci-webu.aspx\">Přináší\n\tMicrosoft novou generaci webu?</a></li>\n\n\t<li>Borek Bernard: <a\n\thref=\"http://www.borber.com/blog/prvni-detaily-o-wpf-e\">První detaily\n\to WPF/E</a></li>\n\n\t<li>Dev::Info: <a\n\thref=\"http://dev20.info/microsoft-silverlight-dal-i-do-ringu-k-adobe-flex\">Microsoft\n\tSilverlight – další do ringu k Adobe Flex</a></li>\n\n\t<li>Brad Abrams: <a\n\thref=\"http://blogs.msdn.com/brada/archive/2007/04/30/silverlight-poster.aspx\">Silverlight\n\tPoster…</a></li>\n\n\t<li>Jesse Ezell: <a\n\thref=\"http://weblogs.asp.net/jezell/archive/2007/05/03/silverlight-vs-flash-the-developer-story.aspx\">Silverlight\n\tvs. Flash: The Developer Story</a></li>\n\n\t<li>C|net News: <a\n\thref=\"http://news.com.com/8301-10784_3-9714669-7.html\">Silverlight on Linux?\n\tWe're in, says Mono founder</a></li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:40:33.427-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nová éra klientského programování",
  :published #inst "2007-05-03T07:35:44.970-00:00",
  :url "nova-era-klientskeho-programovani",
  :category-url "webdesign.aspx",
  :id 206,
  :description
  "Ještě jsem se ani pořádně neohřál ve studených vodách JavaScriptu a přichází mi vysvobození! Microsoft Silverlight.",
  :category "Webdesign",
  :tags ["dotnet" "silverlight" "plugin" "dlr"]},
 :9-nova-mobilmania.aspx
 {:html
  "\n<p>Po delší době jsem navštívil stránky <a\nhref=\"http://www.mobilmania.cz\">mobilmánie</a> a užasl jsem. Pravděpodobně\nje předělali do stylů, nebo co to mělo znamenat? Když pominu milion DIVů\na tabulkovou hlavičku, tak ten web hodně ztratil na přístupnosti. Ta\nminulá verze byla opravdu mnohem použitelnější a nejde jen o&#160;nezvyk.\nJestli se autoři snažili o&#160;něco, co se stalo na <a\nhref=\"http://mobil.idnes.cz\">Mobil.cz</a>, tak se jim to opravdu nepovedlo, to\nnemají na nějakého profíka? Znám plno amatérských webů, které, jsou na\nmnohem větší úrovni.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nová MobilMania",
  :published #inst "2004-03-04T10:00:00.000-00:00",
  :url "nova-mobilmania",
  :category-url "webdesign.aspx",
  :id 9,
  :description "Nepovedený redesign Mobilmánie.",
  :category "Webdesign",
  :tags []},
 :381-zalezi-na-jazyku.aspx
 {:html
  "\n<p>Považuji se za C# vývojáře, ale každý den používám spoustu dalších\njazyků. Je znalost jazyka opravdu to, co z nás dělá programátory?</p>\n\n<dl>\n\t<dt>C#</dt>\n\n\t<dd>Jazyk, který používám pro psaní serverových částí webových\n\taplikací, konzolových utilit a služeb. Imperativní objektový jazyk\n\ts funkcionálními vlastnostmi se hodí skoro na všechno.</dd>\n\n\t<dt>Boo</dt>\n\n\t<dd>Boo používám hlavně na části, které se mohou u aplikace měnit i po\n\tzkompilování aplikace. Jeho silnou vlastností je tvorba <acronym\n\ttitle=\"Domain Specific Language\">DSL</acronym> a díky tomu je konfigurace\n\taplikací příjemnou záležitostí.</dd>\n\n\t<dt>JavaScript</dt>\n\n\t<dd>Původně jsem se JavaScriptu vyhýbal a neměl jsem ho rád. Pak jsem mu\n\tale přišel na chuť a zjistil, jak moc pěkný jazyk to je a co všechno se\n\ts ním dá dělat. Používám výhradně na oživení webových stránek.</dd>\n\n\t<dt>PowerShell</dt>\n\n\t<dd>S tímto jazykem teprve začínám, ale některé jeho vlastnosti jsou\n\topravdu zajímavé. Snažím se v něm psát scripty pro automatizaci\n\tněkterých rutin na serverech.</dd>\n\n\t<dt>MSBuild</dt>\n\n\t<dd>XML jazyk, který používám pro build a deployment scripty. V nové verzi\n\tpodporuje i vkládání PowerShell scriptů a stává se tak ještě\n\tzajímavějším nástrojem.</dd>\n\n\t<dt>XHTML</dt>\n\n\t<dd>Další XML jazyk, který používám pro tvorbu prezentační části\n\twebových aplikací.</dd>\n\n\t<dt>CSS</dt>\n\n\t<dd>Ovládnutí tohoto jazyka může vypadat jako hračka, ale často rozeznáte\n\tmistry od obyčejných dělníků. Používám pro stylování prezentační\n\tčásti webových aplikací.</dd>\n\n\t<dt>T-SQL</dt>\n\n\t<dd>Dotazovací jazyk do databází není mojí nejsilnější zbraní, ale\n\tpřesto v něm dokážu napsat některé zajímavé věci. S tím, že\n\tpoužívám NHibernate, se mi nutnost jeho použití trochu snižuje, ale\n\tstejně člověk potřebuje občas udělat nějaké změny ve schematu nebo\n\tnějaký report.</dd>\n\n\t<dt>Texy!</dt>\n\n\t<dd>Tahle syntaxe mi pomáhá při psaní textů na web takřka denně.</dd>\n</dl>\n\n<p>Sešla se mi tu sbírka devíti jazyků, které používám takřka denně ke\nsvojí práci, a to jsem schválně opomněl všechny ty XML dialekty pro\nrůzné konfigurace. :)</p>\n\n<p>Jazyk je pouze nástroj a každý se hodí k jinému účelu. Stává se,\nže některé jazyky si najdou cestičku, jak se dostat do jiných a mnohdy je\nto výhoda. Obzvlášť, pokud oba známe. Samozřejmě je dobré mít\npovědomí i o jiných jazycích, jejichž myšlenky nás mohou obohatit\ni v našem oblíbeném jazyce.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-02-26T07:44:43.860-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Záleží na jazyku?",
  :published #inst "2010-02-26T07:43:23.513-00:00",
  :url "zalezi-na-jazyku",
  :category-url "jen-tak.aspx",
  :id 381,
  :description
  "Považuji se za C# vývojáře, ale každý den používám spoustu dalších jazyků. Je znalost jazyka opravdu to, co z nás dělá programátory?",
  :category "Jen tak",
  :tags []},
 :386-aktualizace-vypisu-na-strance-pomoci-rx.aspx
 {:html
  "\n<p>Včera jsem začal implementovat <a\nhref=\"/weblog/385-casovy-vypis-s-aktualizaci.aspx\">aktualizaci času na\nvýpisu</a> typu <em>friend feed</em>. Dnes se podíváme na to, jak si\nzjednodušit práci s asynchronním voláním na server. Samozřejmě opět\ns využitím jQuery a Reactive Extensions.</p>\n\n<h3 id=\"toc-asynchronni-volani\">Asynchronní volání</h3>\n\n<p>Asynchronní volání je z pohledu šetření zdroji výhodné, ovšem\nz hlediska psaní a údržby kódu už to taková sláva není. Proto nám na\npomoc přicházejí <acronym title=\"Reactive eXtensions\">Rx</acronym>, které\nasynchronní operace převádějí na neblokující lineární kód.</p>\n\n<p>Pojďme hned k dnešní ukázce, která bude o dost jednodušší než\nvčera. Ale použitá technika a principy zůstávají stejné:</p>\n\n<pre\n><code class=\"language-javascript\">Rx.Observable.\n  Interval(60000).\n  Select(getFeedUpdates).\n  Switch().\n  SelectMany(function(result) {\n    return $(result).find('.hentry').toArray().reverse().toObservable();\n  }).\n  Subscribe(function(entry) {\n    var feed = $('.hfeed')\n    feed.prepend(entry);\n    $('.hentry:last', feed).remove();\n  });</code></pre>\n\n<p>Opět vytvářím <code>Observable</code> objekt, který něco vystřelí\njednou za minutu. Tajemství funkce <code>getFeedUpdates</code> si nechám na\npozději. A rovnou se vrhnu na zpracování dorazivších výsledků.\nVýsledkem mého asynchronního volání je kus HTML kódu s vygenerovaným\nfeedem s novými příspěvky. Z tohohle kusu HTML si vyberu jen elementy\ns třídou <code>hentry</code>. Ty jsou seřazeny podle data sestupně, ale já\nchci feed aktualizovat postupně od nejstarších příspěvků\nk nejnovějším, takže je otočím funkcí <code>reverse</code> a pošlu je\ndo světa jako <code>Observable</code> objekty.</p>\n\n<p>Nakonec se přihlásím k odběru těchto jednotlivých příspěvků\npomocí operátoru <code>Subscribe</code>. Když mi nějaký příspěvek\npřilítne, tak ho vezmu a dám ho na začátek feedu a potom odeberu poslední\nzáznam, aby se nám feed na stránce nenatahoval. Takže jsme elegantně\nzvládli příjem nových příspěvků. A jak je vlastně načítáme?</p>\n\n<pre\n><code class=\"language-javascript\">function getLastActivityDate() {\n  return $('.hfeed&gt;.hentry .updated .value-title').first().attr('title');\n}\n\nfunction getFeedUpdates() {\n  var subject = new Rx.AsyncSubject();\n  var data = { lastActivity: getLastActivityDate() };\n\n  jQuery.post(\"url\", data, function(result, status) {\n    if (status == \"success\") {\n      subject.OnNext(result);\n      subject.OnCompleted();\n    }\n    else {\n      subject.OnError(result);\n    }\n  });\n\n  return subject.AsObservable();\n}</code></pre>\n\n<p>Funkce <code>getLastActivityDate</code> načte datum posledního zobrazeného\npříspěvku, které slouží k načtení novějších příspěvků ze\nserveru. Opět k tomu využívám mikroformátu <code>hAtom</code> a jeho\nkonkrétní implementaci v mé stránce.</p>\n\n<p>Podívejme se ale raději na další funkci. To je výše zmiňovaná\n<code>getFeedUpdates</code>, která nám transformuje asynchronní volání na\nobjekt <code>Observable</code> a to pomocí třídy <code>AsyncSubject</code>.\nPovšimněte si, že v callbacku asynchronního volání vrátím přes closure\ndata do subjektu, který už je tou dobou pozorován první ukázkou kódu.</p>\n\n<p>Když přijde odpověď od serveru, je zavolána metoda <code>OnNext</code>,\nkterá vyhodí přijatá data dál ke zpracování. A vzhledem k tomu, že na\njeden dotaz asi více odpovědí nepřijde, tak taky ukončíme vysílání\nvýsledků pomocí metody <code>OnComplete</code>. Kdyby náhodou něco na\nserveru selhalo, máme tu ještě metodu <code>OnError</code>, jejíž\nzpracování nikde neřeším. :)</p>\n\n<p>Ale vězte, že chyby můžete zpracovávat stejně snadno jako\nnormální data.</p>\n\n<p>No a to je pro dnešek vše. Tuhle ukázku si bohužel vyzkoušet nemůžete,\nprotože k ní už je zapotřebí i serverová část a ta ještě není\nvenku. Příště se možná podíváme, jak pomocí Rx snadno a rychle\nvytvořit poměrně sofistikovaný našeptávač.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-05-25T06:52:23.760-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Aktualizace výpisu na stránce pomocí Rx",
  :published #inst "2010-03-24T15:55:17.677-00:00",
  :url "aktualizace-vypisu-na-strance-pomoci-rx",
  :category-url "webdesign.aspx",
  :id 386,
  :description
  "Dnes se podíváme na to, jak si zjednodušit práci a asynchronním voláním na server. Budeme aktualizovat feed pomocí mikroformátu, jQuery a Rx.",
  :category "Webdesign",
  :tags ["javascript" "jquery" "rx" "trop" "microformats"]},
 :286-zapisujeme-mikroformaty-pomoci-texy.aspx
 {:html
  "\n<p>Mým oblíbeným značkovacím jazykem je <a href=\"http://texy.info/\"\ntitle=\"The best text  → HTML converter and formatter\">Texy!</a> Léta jsme na\nní zvyklý, ostatně používám ji i tady na blogu. Mikroformáty jsou téma,\nkteré mě zajímá v poslední době. Pojďme si přiblížit jejich užití\nv Texy!</p>\n\n<p>O tom, co jsou mikrofomáty se třeba dočtete na <a\nhref=\"http://www.microformats.cz/\">Microformats.cz</a>. Pokud se vám to nechce\ndohledávat, tak vězte, že jde o kusy (X)<acronym\ntitle=\"Hypertext Markup Language\">HTML</acronym> kódu, které mají vyšší\nsémantiku. Začněme tedy s jednoduchými ukázkami.</p>\n\n<h3 id=\"toc-rel-design-pattern\">rel-design-pattern</h3>\n\n<p>Jedním z nejjednodušších vzorů je užití atributu <code>rel</code>\nu odkazů. Tento atribut se používá k označení vztahu k odkazovanému\ndokumentu. Odkazy se dají v Texy zapsat několika způsoby, já s oblibou\nvyužívám reference, které vypisuju na konci dokumentu. Pro mne je to pak\nmnohem přehlednější, mít všechny odkazy na jednom místě.</p>\n\n<pre\nclass=\"texy\"><code>[rarous]: http://rarous.net/#kontakt Aleš Roubíček .{rel:me}\n[david]: http://davidgrudl.com/ David Grudl .{rel:friend met}\n[tag microformats]: http://technorati.com/tag/microformats Microformats .{rel:tag}\n[clanek(282)]: /weblog/282-mikroformaty-v-hledani-yahoo.aspx Mikroformáty v hledání Yahoo .{rel:bookmark}</code></pre>\n\n<p>V předchozí ukázce jsem použil <a\nhref=\"http://microformats.org/wiki/rel-design-pattern\">vzor rel</a> při\ndefinici mikroformátů <a href=\"http://gmpg.org/xfn\"><acronym\ntitle=\"XHTML Friends Network\">XFN</acronym></a>, <a\nhref=\"http://microformats.org/wiki/rel-tag\">rel-tag</a> a permalink\nz HTML4.</p>\n\n<h3 id=\"toc-vizitky-hcard\">vizitky hCard</h3>\n\n<p>O něco pokročilejším mikroformátem je <a\nhref=\"http://microformats.org/wiki/hcard\">hCard</a>.</p>\n\n<pre\nclass=\"texy\"><code>/--div .[vcard]\n==Aleš Roubíček .[fn]\nvývojář webových aplikací .[job]\n\nWeb:\n  - [rarous]\nE-mail:\n  - [email]\nTelefon:\n  - +420737461283 .[tel]\n\\--div\n\n[rarous]: http://rarous.net/ .[url]{rel:me}\n[email]: ales@roubicek.name .[email]</code></pre>\n\n<p>Takto nějak může být v Texy zapsaná vizitka – kontaktní informace.\nJe to zkrácená verze, toho co mám <a rel=\"me\"\nhref=\"/#kontakt\">v kontaktu</a> na titulce.</p>\n\n<h3 id=\"toc-tracklisty-haudio\">tracklisty hAudio</h3>\n\n<p>Dalším mikroformátem, který se může hodit je <a\nhref=\"http://microformats.org/wiki/haudio\">hAudio</a>, sloužící k popisu\nhudebních děl.</p>\n\n<pre\nclass=\"texy\"><code>/--div .[haudio]\n1. \"Dubfire .[contributor]\"  - \"Emissions .[title]\"  .[item]\n2. \"Steve Angello .[contributor]\"  - \"Trix .[title]\"  .[item]\n3. \"Delete .[contributor]\"  - \"Flight Schedule .[title]\"  .[item]\n4. \"Gui Borato .[contributor]\"  - \"The Rivington .[title]\"  .[item]\n5. \"Lutzenkirchen .[contributor]\"  - \"Kobalt .[title]\"  .[item]\n6. \"Solaris Heights .[contributor]\"  - \"No Trance .[title]\"  (Popof Remix) .[item]\n7. \"System 7 .[contributor]\"  - \"Space Bird .[title]\"  (Dubfire Remix) .[item]\n\nKe stažení \"dj set .[category]\" [download] (MP3 128 kbps; 36,4 MiB)\n\\--div\n\n[download]: http://rarousmusic.com/mp3/alessio_busta_-_seven-rm.mp3 \"Alessio Busta .[contributor]\" - \"Seven .[title]\" .{rel:enclosure}</code></pre>\n\n<p>Tohle je například živá ukázka ze včerejšího <a rel=\"bookmark\"\nhref=\"/weblog/285-alessio-busta-seven.aspx\">vydání setu Seven</a>.</p>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p>Doufám, že jsem předvedl pár praktických ukázek užití mikroformátů\nv Texy! Nejsem si jistý, zda lze syntaxí Texy pokrýt všechny možné nuance\nmikroformátu, ale ona k tomu ani není přímo určena. Každopádně mnohé\nlze užívat bez problémů. Zajímavým cvičením dnes pro mne bylo, jak\nv Texy zapisovat Texy :)</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a rel=\"bookmark\"\n\t\thref=\"/weblog/282-mikroformaty-v-hledani-yahoo.aspx\">Mikroformáty v hledání\n\t\tYahoo</a></li>\n\n\t\t<li><a rel=\"bookmark\"\n\t\thref=\"/weblog/267-vkladani-data-do-stranky.aspx\">Vkládání data do\n\t\tstránky</a></li>\n\n\t\t<li><a rel=\"bookmark\"\n\t\thref=\"/weblog/256-mikroformaty-duvod-proc-pouzivat-xhtml.aspx\">Mikroformáty –\n\t\tdůvod proč používat XHTML</a></li>\n\n\t\t<li><a href=\"http://www.microformats.cz/\">Microformats.cz</a></li>\n\t</ul>\n</div>\n\n<p>Tagy: <a rel=\"tag\"\nhref=\"http://technorati.com/tag/microformats\">Microformats</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/texy\">Texy!</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:15:39.257-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zapisujeme mikroformáty pomocí Texy!",
  :published #inst "2008-06-24T08:49:21.033-00:00",
  :url "zapisujeme-mikroformaty-pomoci-texy",
  :category-url "webdesign.aspx",
  :id 286,
  :description
  "Mým oblíbeným značkovacím jazykem je Texy! Léta jsme na ní zvyklý, ostatně používám ji i tady na blogu. Mikroformáty jsou téma, které mě zajímá v poslední době. Pojďme si přiblížit jejich užití v Texy!",
  :category "Webdesign",
  :tags ["microformats" "texy" "xfn" "rel-tag" "hcard" "haudio"]},
 :165-asynchronni-strankovani-v-asp-net.aspx
 {:html
  "\n<p>V jednom z komentářů k článku <a\nhref=\"/clanek/132-zaciname-s-atlasem-2.aspx\">Začínáme s Atlasem 2</a> se\nkomentující ptal na to, jak může docílit toho, aby se nenačítala\nMasterPage celá, ale pouze ContentPages. To jsem označil za nepochopení\nMasterPages, protože ty slouží pouze jako šablony společných prvků pro\nskupinu stránek. MasterPages slouží k udržení jednotného vzhledu a\nstruktury stránek a k pomyslnému oddělení obsahu a zbytku stránky\ndochází pouze na serveru. Na klienta se posílá pouze jedna jediná\nstránka – složená z mástru a obsahu. Je to zkrátka něco jako razítko\nna výkresu, jednotlivá políčka musíte vyplnit sami a výkres je také\nnedělitelný :).</p>\n\n<p>Tazatel však chtěl docílit efektu framů, kde by se načítal jen\nměnící se obsah a zbytek zůstal v prohlížeči. Jedním z možných\nřešení je využití ASP.NET komponenty <code>asp:MultiView</code> společně\ns ASP.NET ‚Atlas‘. To si nyní představíme podrobněji…</p>\n\n<p>Komponenta <em>MultiView</em> je novou kompozitní komponentou v ASP.NET\n2.0, která je přímou příbuznou <a\nhref=\"/clanek/106-samanismus-v-asp-net-2-0.aspx\"><em>Wizardů</em></a>.\nMultiView je elegantnějším řešením tam, kde se dříve využívali\nskrývané Panely a s množstvím různých panelů na stránce docházelo\nk velikému zmatku. Nesměli jste zapomenout jedny panely schovat a další\nzase naopak zobrazit. MultiView pouze zadáte index požadovaného pohledu,\nkterý se má zobrazit. Doporučení hodnou praktikou je si pro jednotlivé\npohledy vytvořit výčet (enumeraci). Kód pak získá větší přehlednost a\ni po několika týdnech budete vědět o jaký pohled šlo ;).</p>\n\n<p>Tak jsme si teoreticy probrali komponentu MultiView a nyní si ukážeme\npraktickou ukázku. Takže mějme následující MasterPage:</p>\n\n<pre\n><code class=\"language-markup\">&lt;%@ Master Language=\"C#\" %&gt;\n\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n        \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"cs\" xml:lang=\"cs\"&gt;\n&lt;head runat=\"server\"&gt;\n    &lt;title&gt;Ukázky s ASP.NET 'Atlas'&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"form1\" runat=\"server\"&gt;\n    &lt;div&gt;\n        &lt;h1&gt;Ukázky s ASP.NET 'Atlas'&lt;/h1&gt;\n        &lt;asp:contentplaceholder id=\"ContentPlaceHolder1\" runat=\"server\"&gt;\n        &lt;/asp:contentplaceholder&gt;\n        &lt;p&gt;&amp;copy;2006 Aleš Roubíček. Některá práva vyhrazena. creative commons&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n\n<p>K ní vytvoříme následující ContentPage:</p>\n\n<pre\n><code class=\"language-markup\">&lt;%@ Page Language=\"C#\" MasterPageFile=\"Atlas.master\" Title=\"Ukázka MultiView\" %&gt;\n\n&lt;script runat=\"server\"&gt;\n\n        enum PageViews\n        {\n                First = 0,\n                Second = 1\n        }\n\n        protected void FirstViewButton_Click(object sender, EventArgs e)\n        {\n                PagesMultiView.ActiveViewIndex = (int)PageViews.First;\n        }\n\n        protected void SecondViewButton_Click(object sender, EventArgs e)\n        {\n                PagesMultiView.ActiveViewIndex = (int)PageViews.Second;\n        }\n\n&lt;/script&gt;\n\n&lt;asp:Content ID=\"Content1\" ContentPlaceHolderID=\"ContentPlaceHolder1\" Runat=\"Server\"&gt;\n\n        &lt;asp:LinkButton ID=\"FirstViewButton\" runat=\"server\" Text=\"První stránka\"\n                        OnClick=\"FirstViewButton_Click\"&gt;&lt;/asp:LinkButton&gt;\n\n        &lt;asp:LinkButton ID=\"SecondViewButton\" runat=\"server\" Text=\"Druhá stránka\"\n                        OnClick=\"SecondViewButton_Click\"&gt;&lt;/asp:LinkButton&gt;\n\n        &lt;asp:MultiView ID=\"PagesMultiView\" runat=\"server\" ActiveViewIndex=\"0\"&gt;\n\n                &lt;asp:View ID=\"FirstView\" runat=\"server\"&gt;\n                        &lt;h2&gt;První stránka&lt;/h2&gt;\n                        &lt;p&gt;Obsah první stránky.&lt;/p&gt;\n                &lt;/asp:View&gt;\n\n                &lt;asp:View ID=\"SecondView\" runat=\"server\"&gt;\n                        &lt;h2&gt;Druhá stránka&lt;/h2&gt;\n                        &lt;p&gt;Obsah druhé stránky.&lt;/p&gt;\n                &lt;/asp:View&gt;\n\n        &lt;/asp:MultiView&gt;\n\n&lt;/asp:Content&gt;</code></pre>\n\n<p>Tato stránka obsahuje dvě tlačítka a jeden MultiView. Tlačítka mají\nnastarosti přepínat pohledy. Přepínání je prováděno v ovladačích\nudálosti <em>Click</em>. Prozatím nic úchvatného, máme stránku, která\numí přepínat svůj obsah, ale stejně se vždy musí poslat požadavek na\nserver, kde se přepne pohled a pak se odešle nová celá stránka. To\nneřeší náš problém :( Naštěstí konečné řešení je velice blízko :)\nStačí oživit stránku pomocí ASP.NET ‚Atlas‘. Výsledná ContentPage\nbude vypadat následujícně:</p>\n\n<pre\n><code class=\"language-markup\">&lt;%@ Page Language=\"C#\" MasterPageFile=\"Atlas.master\" Title=\"Ukázka MultiView\" %&gt;\n\n&lt;script runat=\"server\"&gt;\n\n        enum PageViews\n        {\n                First = 0,\n                Second = 1\n        }\n\n        protected void FirstViewButton_Click(object sender, EventArgs e)\n        {\n                PagesMultiView.ActiveViewIndex = (int)PageViews.First;\n        }\n\n        protected void SecondViewButton_Click(object sender, EventArgs e)\n        {\n                PagesMultiView.ActiveViewIndex = (int)PageViews.Second;\n        }\n\n&lt;/script&gt;\n\n&lt;asp:Content ID=\"Content1\" ContentPlaceHolderID=\"ContentPlaceHolder1\" Runat=\"Server\"&gt;\n\n        &lt;atlas:ScriptManager ID=\"ScriptManager1\" runat=\"server\" EnablePartialRendering=\"true\"&gt;\n        &lt;/atlas:ScriptManager&gt;\n\n        &lt;asp:LinkButton ID=\"FirstViewButton\" runat=\"server\" Text=\"První stránka\"\n                                        OnClick=\"FirstViewButton_Click\"&gt;&lt;/asp:LinkButton&gt;\n\n        &lt;asp:LinkButton ID=\"SecondViewButton\" runat=\"server\" Text=\"Druhá stránka\"\n                                        OnClick=\"SecondViewButton_Click\"&gt;&lt;/asp:LinkButton&gt;\n\n        &lt;atlas:UpdatePanel ID=\"ViewUpdate\" runat=\"server\" RenderMode=\"Block\"&gt;\n\n                &lt;ContentTemplate&gt;\n                        &lt;asp:MultiView ID=\"PagesMultiView\" runat=\"server\" ActiveViewIndex=\"0\"&gt;\n\n                                &lt;asp:View ID=\"FirstView\" runat=\"server\"&gt;\n                                        &lt;h2&gt;První stránka&lt;/h2&gt;\n                                        &lt;p&gt;Obsah první stránky.&lt;/p&gt;\n                                &lt;/asp:View&gt;\n\n                                &lt;asp:View ID=\"SecondView\" runat=\"server\"&gt;\n                                        &lt;h2&gt;Druhá stránka&lt;/h2&gt;\n                                        &lt;p&gt;Obsah druhé stránky.&lt;/p&gt;\n                                &lt;/asp:View&gt;\n\n                        &lt;/asp:MultiView&gt;\n                &lt;/ContentTemplate&gt;\n\n                &lt;Triggers&gt;\n                        &lt;atlas:ControlEventTrigger ControlID=\"FirstViewButton\" EventName=\"Click\" /&gt;\n                        &lt;atlas:ControlEventTrigger ControlID=\"SecondViewButton\" EventName=\"Click\" /&gt;\n                &lt;/Triggers&gt;\n\n        &lt;/atlas:UpdatePanel&gt;\n\n&lt;/asp:Content&gt;</code></pre>\n\n<p>Tímto máme hotovo. Při změně pohledu dojde k asynchronnímu načtení\npouze vnitřku stránky a zbytek MasterPage zůstane v prohlížeči.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:27:14.550-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Asynchronní stránkování v ASP.NET",
  :published #inst "2006-07-04T21:05:53.947-00:00",
  :url "asynchronni-strankovani-v-asp-net",
  :category-url "asp-net-2-0.aspx",
  :id 165,
  :description
  "Ukázka využití komponenty MultiView s ASP.NET 'Atlas' k asynchronnímu stránkování prezentovaných dat.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "ajax"]},
 :138-prvni-prakticka-ukazka-pouziti-atlasu.aspx
 {:html
  "\n<p>Když už jsem v&#160;<a\nhref=\"/clanek/136-texy-rpc-wrapper-pro-dotnet.aspx\">minulém spotu</a> napsal\ntakovou pěknou webovou službu, proč ji nevyužít k&#160;praktické ukázce\nvyužití Atlasu :) Následůjící kód převádí zadaný text v&#160;Texy\nsyntaxu na XHTML a zobrazí ho do stránky s&#160;polečně s&#160;výpisem\nzískaného kódu.</p>\n\n<pre><code class=\"language-markup\">&lt;%@ Page Language=\"C#\" %&gt;\n\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"\n     \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head id=\"Head1\" runat=\"server\"&gt;\n    &lt;title&gt;Texy Converter v Atlasu&lt;/title&gt;\n    &lt;style type=\"text/css\"&gt;\n        .bordered {border:3px double #CCC;}\n        .pre {font-family:monospace;}\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"form1\" runat=\"server\"&gt;\n        &lt;atlas:ScriptManager ID=\"ScriptManager1\" runat=\"server\" /&gt;\n\n        &lt;div&gt;\n            &lt;fieldset&gt;\n                &lt;legend&gt;Převést Texy! do XHTML&lt;/legend&gt;\n                &lt;label for=\"texyInput\"&gt;Texy kód&lt;/label&gt;\n                &lt;br /&gt;\n                &lt;textarea id=\"texyInput\" cols=\"80\" rows=\"12\"&gt;\n                ukázkový kód v \"Texy!\":[http://www.texy.info]\n                &lt;/textarea&gt;\n                &lt;br /&gt;\n                &lt;input type=\"button\" id=\"convertButton\" value=\"Převeď\" /&gt;\n            &lt;/fieldset&gt;\n\n            &lt;!-- Zprava behem nacitani dat --&gt;\n            &lt;div id=\"progress\"&gt;Načítám data...&lt;/div&gt;\n\n            &lt;!-- Placeholder pro vystup --&gt;\n            &lt;div id=\"output\"&gt;\n                &lt;h2&gt;Formátovaný text&lt;/h2&gt;\n                &lt;div id=\"xhtmlOutput\" class=\"bordered\"&gt;&lt;/div&gt;\n                &lt;h2&gt;XHTML kód&lt;/h2&gt;\n                &lt;div id=\"textOutput\" class=\"bordered pre\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n\n    &lt;script type=\"text/xml-script\"&gt;\n        &lt;page xmlns:script=\"http://schemas.microsoft.com/xml-script/2005\"&gt;\n            &lt;components&gt;\n                &lt;control id=\"output\" visible=\"false\" /&gt;\n                &lt;control id=\"progress\" visible=\"false\" /&gt;\n\n                &lt;label id=\"xhtmlOutput\"&gt;\n                  &lt;bindings&gt;\n                    &lt;binding id=\"resultsBinding1\" dataContext=\"texyService\"\n                             dataPath=\"result\" property=\"text\" automatic=\"false\" /&gt;\n                  &lt;/bindings&gt;\n                &lt;/label&gt;\n\n                &lt;label id=\"textOutput\" htmlEncode=\"true\"&gt;\n                  &lt;bindings&gt;\n                    &lt;binding id=\"resultsBinding2\" dataContext=\"texyService\"\n                             dataPath=\"result\" property=\"text\" automatic=\"false\" /&gt;\n                  &lt;/bindings&gt;\n                &lt;/label&gt;\n\n                &lt;textBox id=\"texyInput\" /&gt;\n\n                &lt;button id=\"convertButton\"&gt;\n                  &lt;click&gt;\n                    &lt;invokeMethod target=\"texyService\" method=\"invoke\" /&gt;\n                    &lt;setProperty target=\"progress\" property=\"visible\" value=\"true\" /&gt;\n                  &lt;/click&gt;\n                &lt;/button&gt;\n\n                &lt;serviceMethod id=\"texyService\" methodName=\"ConvertToXhtml\"\n                               url=\"/ws/TexyService.asmx\"&gt;\n                  &lt;bindings&gt;\n                    &lt;binding property=\"parameters\" propertyKey=\"text\"\n                             dataContext=\"texyInput\" dataPath=\"text\" /&gt;\n                  &lt;/bindings&gt;\n                  &lt;completed&gt;\n                    &lt;invokeMethod target=\"resultsBinding1\" method=\"evaluateIn\" /&gt;\n                    &lt;invokeMethod target=\"resultsBinding2\" method=\"evaluateIn\" /&gt;\n                    &lt;setProperty target=\"output\" property=\"visible\" value=\"true\" /&gt;\n                    &lt;setProperty target=\"progress\" property=\"visible\" value=\"false\" /&gt;\n                  &lt;/completed&gt;\n                &lt;/serviceMethod&gt;\n            &lt;/components&gt;\n        &lt;/page&gt;\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n\n<p>Celá ukázka se obešla bez napsání jediného řádku JS kódu &#8211;\nbyla použita deklarativní metoda :) Na ukázce neni moc zvláštností. Jde\no&#160;standardní ASP.NET stránku s&#160;přidaným\n<code>ScriptManagerem</code>, formulářem pro zadávání textu a placeholdery\npro vypsání výsledku. Následuje <strong>XML-Script</strong> a tomu se\npodíváme na zoubek.</p>\n\n<p>Prvním krokem je přidání komponent &#8211; navázání HTML prvků\ns&#160;objektovým modelem Atlasu. Přidal jsem <code>output</code> a\nzneviditelnil ho, aby se neukazovaly prázdné divy a nadpisy před příchodem\ndat. Přidal jsem další dva divy jako <code>label</code>y, které načítají\ndata z&#160;webové služby, a ten druhý encoduje HTML na entity.</p>\n\n<p>Přidání <code>textBox</code>u&#160;pro vstup je samozřejmostí :)\nOdesílacímu tlačítku přiřadíme ovladač události <code>click</code> a\nnastavíme, aby odeslal data webové službě a zobrazil box s&#160;výsledkem.\nPoslední komponentou je samotná služba. Ta má pouze jeden vstupní parametr\n<code>text</code>, který je svázaný s&#160;hodnotou vstupního\npolíčka.</p>\n\n<p>A&#160;pokud proběhla komunikace se službou v&#160;pořádku a máme\nvýsledek, svážeme ho s&#160;výstupními placeholdery. A&#160;to je pro\ndnešek vše, přátelé. Na případné dotazy rád odpovím\nv&#160;komentářích.</p>\n\n<h3>Doplnění</h3>\n\n<p>Díky věcné <a\nhref=\"/clanek/138-prvni-prakticka-ukazka-pouziti-atlasu.aspx#km144\">připomínce</a>\nPetra v&#160;komentářích jsem doplnil zobrazení zprávy o&#160;průběhu\nakce při probíhající komunikaci se službou. Díky ;)</p>\n\n<p><a href=\"http://rarous.net/ukazky/texy-atlas.aspx\">Ukázka aplikace</a></p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-26T10:30:58.243-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "První praktická ukázka použití Atlasu",
  :published #inst "2006-04-25T21:46:00.000-00:00",
  :url "prvni-prakticka-ukazka-pouziti-atlasu",
  :category-url "asp-net-2-0.aspx",
  :id 138,
  :description
  "Další díl seriálu o Atlas frameworku, tentokrát praktická ukázka. (Rozšířeno o Progress)",
  :category "ASP.NET 2.0",
  :tags []},
 :254-david-se-vrhl-na-goliase-xhtml.aspx
 {:html
  "\n<p>DGX se rozhodl vydat článek s titulkem <a\nhref=\"http://latrine.dgx.cz/konecne-pravda-o-xhtml-a-html\">Konečně pravda\no XHTML a HTML</a> a moudře zakázal komentáře, protože toto je stále\ntéma, které dokáže pěkně blafnout. Díky tomu můžu napsat svůj\nkomentář u sebe.</p>\n\n<ol>\n\t<li>Dovolil bych si nesouhlasit s následujícím tím, úryvkem, z části <a\n\thref=\"http://latrine.dgx.cz/konecne-pravda-o-xhtml-a-html#toc-mytus-html-dovoluje-prasarny-ktere-vam-v-xhtml-neprojdou\">Prasárny</a>.\n\t\t<blockquote>\n\t\t\t<p>XHTML kód zase třeba používáním řetězců abc, AbC, aBC pro\n\t\t\trůzné třídy.</p>\n\t\t</blockquote>\n\n\t\t<p>Hodnoty atributů <code>class</code> a <code>id</code> jsou stejně\n\t\tcase-sensitive jak v HTML, tak v XHTML. Pokud se tak nechoval např. Netscape\n\t\t6-, byla to chyba jeho interpreteru CSS.</p>\n\t</li>\n\n\t<li>Můj názor na DTD v XHTML je již nějakou dobu celkem jasný –\n\tpřináší jen problémy, stěžuje rozšiřitelnost. Užívejme raději\n\tschéma a jmenné prostory. Jediný důvod k použití DTD v XHTML je,\n\tbohužel, přepínání prohlížeče do standard modu.</li>\n\n\t<li>Dle mého názoru je velkou výhodou XHTML v čisté podobě to, že je\n\tlépe čitelné pro lidského čtenáře, protože se může lépe orientovat\n\t(vizuálně), kde daný element končí a kde začíná.</li>\n</ol>\n\n<p>Největším problémem bezesporu je XML samotné. Jeho striktnost a\njednoznačnost vyvolává v kreativní části lidstva ranní nevolnost. Jak\njinak si vysvětlit, že ani relativně velké firmy nejsou schopné dodávat\ndobře sestavené dokumenty?</p>\n\n<p>Tagy: <a href=\"http://technorati.com/tag/xhtml\">XHTML</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:46:37.923-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "David se vrhl na Goliáše XHTML",
  :published #inst "2008-02-03T09:08:10.667-00:00",
  :url "david-se-vrhl-na-goliase-xhtml",
  :category-url "webdesign.aspx",
  :id 254,
  :description
  "Z titulku můžete vyčíst tajnou šifru DGX. Snad jsem toho neprozradil moc... Aneb moje reakce na článek „Konečně pravda o XHTML a HTML.“",
  :category "Webdesign",
  :tags ["xhtml"]},
 :233-chyba-v-kompilatoru-csharp30.aspx
 {:html
  "\n<p>Po prvních dnech s novým Visual Studiem 2008 jsem narazil na menší\nproblém v kompilátoru C# 3.0. Když jsem si v práci otevřel náš Opus,\nnešel zkompilovat, ačkoli v 2005 je vše ok. Problém byl v tom, že nový\nkompilátor má problémy rozpoznat plné nesystémové namespacy a tak např.\nzápis <code>Atlas.Web...</code> chápe jako\n<code>Atlas.Opus.Atlas.Web...</code>. Takový namespace neexistuje a pak nejde\nkód zkompilovat.</p>\n\n<p>Ukázka zkráceného kódu, kde může nastat chyba:</p>\n\n<pre\n><code class=\"language-csharp\">namespace Atlas.Opus.Web {\n  public class SomeClass {\n    // nejaky kod tridy\n    var value = Atlas.Web.Utils.Config.GetInt32(\"key\"); // tady\n    // dalsi kod tridy\n  }\n}</code></pre>\n\n<p>Řešení se nabízejí přinejmenším dvě.</p>\n\n<ol>\n\t<li>Použít globální identifikátor např. <code>global::Atlas.Web...</code>,\n\tčímž se problém vyřeší, ale zápis je ještě o kousek delší, než by\n\tmusel být.</li>\n\n\t<li>Tam, kde to jde, použít <code>using</code> namespace.</li>\n\n\t<li>Tam, kde hrozí kolize názvů tříd, použít aliasy pomocí klíčového\n\tslova <code>using</code> např. <code>using utils = Atlas.Web.Utils;</code> a\n\tv kódu pak upravit volání na <code>utils::Config...</code>.</li>\n</ol>\n\n<p>Je to docela zajímavá vlastnost, že nová verze kompilátoru interpretuje\nnamespacy jinak než předchozí verze. Naneštěstí je to vlastnost nepěkná\na přináší v některých případech práci navíc.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:16:13.870-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Chyba v kompilátoru C# 3.0",
  :published #inst "2007-11-27T11:28:04.070-00:00",
  :url "chyba-v-kompilatoru-csharp30",
  :category-url "asp-net-2-0.aspx",
  :id 233,
  :description
  "Po prvních dnech s novým Visual Studiem 2008 jsem narazil na menší problém v kompilátoru C# 3.0.",
  :category "ASP.NET 2.0",
  :tags ["csharp" "compilator"]},
 :291-nforms-na-codeplexu.aspx
 {:html
  "\n<p>Na Codeplexu se objevil nový opensource projekt a není to nic menšího\nnež <a href=\"http://www.codeplex.com/nforms\">NForms</a>. Zatím jste se o nich\nmohli jen dočíst u mě na blogu a prakticky vyzkoušet taktéž tady –\npřidávání komentářů frčí na NForms. Nyní však máte jedinečnou\nmožnost stáhnout si zdrojáky, poučit se z nich, <a\nhref=\"http://www.codeplex.com/nforms/WorkItem/List.aspx\">nahlásit chyby</a>\nnebo <a href=\"http://www.codeplex.com/nforms/Thread/List.aspx\">diskutovat</a>\nnáměty na vylepšení, zkompilovat, spustit testy a konečně nasadit a\npoužívat ve vlastních projektech.</p>\n\n<p>No není to skvělé?</p>\n\n<h3 id=\"toc-k-cemu-je-to-dobre\">K čemu je to dobré?</h3>\n\n<p>NForm jsem napsal jako programátorské cvičení. Líbila se mi <a\nhref=\"http://davidgrudl.com/\">Davidova</a> myšlenka, chtěl jsem napsat něco\nv C# 3.0… Jenže je to taky docela užitečná věc. Daj se pomocí toho\nsnadno vytvářet znovupoužitelné formuláře nezávislé na infrastruktuře.\nMůžete je používat jak v klasickém <a href=\"http://asp.net/\">ASP.NET</a>\nmodelu (můžete použít více než jeden formulář na stránce), tak v <a\nhref=\"http://asp.net/mvc\">MVC</a> nebo <a\nhref=\"http://www.codeplex.com/websf/Release/ProjectReleases.aspx?ReleaseId=8812\">MVP</a>\nmodelu.</p>\n\n<h3 id=\"toc-dalsi-vyvoj\">Další vývoj</h3>\n\n<p>Aktuálně připravuju podrobnější <a\nhref=\"http://www.codeplex.com/nforms\">dokumentaci na wiki</a>, ale pro začátek\njistě bude stačit pár mých spotíků tady na blogu, příklady užití\nnajdete v Unit Testech, popřípadě další moudra najdete v nedokonalých\nXML komentářích v samotném kódu.</p>\n\n<p>Při psaní wiki jsem už našel nějaké možnosti pro vylepšení, tak až\nbude připraveno, hodím je zase na Codeplex. Stay tuned…</p>\n\n<p>Časem bych chtěl přidat podporu validace na straně klienta. Zatím se\ngenerují jen některé třídy, na které lze napojit vlastní implementace\nv JavaScriptu, ale není to nic pro složitější validaci…</p>\n\n<h3 id=\"toc-credits\">Credits</h3>\n\n<p>Musím <a\nhref=\"http://www.latrine.cz/vyzva-udelejme-davidkovi-radost\">poděkovat\nDavidovi</a> za inspiraci, NForms jsou značně obšlehnuté od <a\nhref=\"http://nettephp.com/\">Nette::Forms</a> (dříve známé jako NForms),\ntrochu inspirace jsem pobral i u <a\nhref=\"http://www.djangoproject.com/documentation/forms/\">New Forms\nz djanga</a>, některé zajímavé nápady, jak využít novinky C# 3.0 pro\nzměnu z <a href=\"http://asp.net/mvc\">ASP.NET MVC</a>. Takže díky!</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a rel=\"bookmark\" href=\"/weblog/245-nforms-pro-asp-net.aspx\">NForms pro\n\t\tASP.NET</a></li>\n\n\t\t<li><a rel=\"bookmark\"\n\t\thref=\"/weblog/247-validace-v-nforms-pro-asp-net.aspx\">Validace v NForms pro\n\t\tASP.NET</a></li>\n\n\t\t<li><a rel=\"bookmark\"\n\t\thref=\"/weblog/284-temer-novy-rarous-weblog.aspx#toc-nforms-v-akci\">NForms\n\t\tv akci</a></li>\n\n\t\t<li><a href=\"http://nettephp.com/\">PHP framework Nette</a></li>\n\n\t\t<li><a href=\"http://www.djangoproject.com/documentation/forms/\">django New\n\t\tForms</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:11:31.113-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "NForms na Codeplexu",
  :published #inst "2008-08-16T13:59:02.903-00:00",
  :url "nforms-na-codeplexu",
  :category-url "asp-net-2-0.aspx",
  :id 291,
  :description
  "Vydal jsem první veřejnou verzi zdrojových kódů formulářového pomocníka NForms pro ASP.NET. Najdete ji na Codeplexu.",
  :category "ASP.NET 2.0",
  :tags ["codeplex" "nforms"]},
 :417-texy-js-prvni-dojmy.aspx
 {:html
  "\n<p>Posledních pár týdnů jsem koketoval s myšlenkou zase se pokusit\no vlastní implementaci Texy!, abych jí mohl pohodlnějš používat na svých\nprojektech. <a href=\"http://texynet.codeplex.com/\">Texy.net</a> sice funguje,\nale má své neduhy. <a\nhref=\"http://rarous.net/weblog/64-texy-web-service-ws.aspx\">Texy WS</a> jsem\npoužíval na několika projektech, ale zas jí chybí pořádné API. Proto\njsem chtěl něco nativního. Portovat to ale do C# už se mi nechtělo.\nRozhodoval jsem se mezi implementací v F# nebo v JavaScriptu.</p>\n\n<h3 id=\"toc-vyhral-javascript\">Vyhrál JavaScript</h3>\n\n<p>JavaScript je dneska všude a ať budu svůj další projekt chtít psát\nv čemkoli je velká pravděpodobnost, že <a\nhref=\"https://github.com/rarous/Texy.js\">Texy.js</a> využiju. Tak, jako před\nlety bylo pro původní Texy! PHP jasnou volbou – PHP bylo na většině\nserverů, dnes je jasnou volbou JavaScript. Běží jak v browseru, což může\nmnoho věcí, co se dají s Texy! dělat, zpříjemnit, tak na serverech –\nať už v podobě Node.js nebo implementací pro VM.</p>\n\n<p>JavaScript je navíc jazyk, který dokáže psát/číst kde kdo. Je velká\nšance, že se do <a href=\"https://github.com/rarous/Texy.js\">otevřeného\nvývoje</a> zapojí další lidé, kteří nejsou nutně sběhlí v F# nebo\ndotnetu. Navíc je JavaScript celkem pěkným jazykem, ikdyž si to lidé často\nnemyslí. Rozhodl jsem se psát to v ECMA Scriptu 5, řídit vývoj pomocí TDD\na držet čistý kód. Zároveň se nebojím toho, že někdo objeví moji\nchybu, proto když píšu tak i často pushuju. Čím dřív někdo chybu\nobjeví, tím líp. Chyby děláme všichni, důležité je na to přijít co\nnejdříve.</p>\n\n<p>JavaScript není objektovým jazykem, ale zato je slušným funkcionálním\njazykem, proto v kódu zatím moc typů nenajdete, spíš hodně funkcí. Měla\nby to být taková skládačka jednoduchých a čistých funkcí. Texy.js chce\nbýt minimalistická a neexpanzivní.</p>\n\n<h3 id=\"toc-borkuv-boj\">Borkův boj</h3>\n\n<p>Od začátku dostávám od @borekb spoustu dotazů, ale vzhledem k našim\nopačným biorytmům se moc nestřetáváme, abych mohli vést kvalitní dialog.\n:) Tady se pokusím osvětlit několik jeho dotazů.</p>\n\n<p>Texy.js píšu ve <a href=\"http://www.jetbrains.com/webstorm/\">WebStormu</a>\na pro běh testů požívám <a\nhref=\"http://code.google.com/p/js-test-driver/\">JsTestDriver</a>, který je\nsoučástí poslední verze. Projekt zatím není moc contributors friendly,\nprotože jsem na něm trávil zatím jen pár hodin minulý víkend. A v tomto\nomezeném čase jsem chtěl mít připravenou nějakou funkčnost nad kterou se\ndá dál stavět a nezaobírat se věcma, jako je chybějící README s návody\njak si pustit testy. IMO by toho měl být každý vývojář schopnej –\nGoogle je náš kamarád. Časem, až bude projekt víc stable, se tyhle věci\njistě doplní. Už jsem se zmiňoval, že přijímám příspěvky? ;) Ano\ni README je hodnotným příspěvkem!</p>\n\n<p>Texy.js píšu tak, že si čtu <a href=\"https://github.com/dg/texy\">Texy! na\ngithubu</a> a přemýšlím, co tím chtěl básník říct. Když na něco\npříjdu, napíšu na to test a snažím se ho naimplementovat. Ikdyž mám\njiný názor na to, jak by měl vypadat srozumitelný kód a jak dělat návrh,\nsnažím se držet původních myšlenek a produkovat na 99,999 % stejné\nvýsledky. Ta mírná odchylka není zaokrouhlovací chybou, jen se mi tam\nnechce cpát ten reklamní komentář.</p>\n\n<p>Texy! vnitřně pracuje s UTF-8, využívá speciální znaky apod. Chci co\nnejvíc použít myšlenky (a někdy i kód) z původní implementace, proto\nTexy.js taky vnitřně pracuje v UTF-8. JavaScript nic pořádnýho na práci\ns různými kódováními nemá, proto jsem zaintegroval kus chytrého kódu,\nkterý převádí UTF-16 na UTF-8 a zase zpátky. Jo, není to moc clean code.\nJe to dost low level, ale taková už práce s kódováním je…</p>\n\n<p>Odpověď na otázku, proč Texy.js nahrazuje A se stříškou je snadná:\nSoft Hyphen (alias <code>&amp;shy;</code>) se v UTF-16 zapisuje jako\n<code>\\u00AD</code>, ale v UTF-8 jsou to dva byty <code>\\xC2\\xAD</code>.</p>\n\n<p>To je prozatím odemě vše. Pokud máte dotazy nebo názory, nebojte se je\nnapsat do komentářů. Pokud máte nápady na vylepšení, nebojte se udělat\nfork a poslat pull-request. Pokud bude dobrý, zaintegrujeme. Pokud ne, určitě\nvám napíšu, co se mi nezdálo. :) Pokud máte zájem o nějakou featuru,\npošlete pull-request s padajícím testem.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-03-11T09:45:24.913-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Texy.js - první dojmy",
  :published #inst "2012-03-11T09:37:51.527-00:00",
  :url "texy-js-prvni-dojmy",
  :category-url "moje-prace.aspx",
  :id 417,
  :description "První dojmy a reakce na čerstvě rozběhnutý projekt.",
  :category "Moje práce",
  :tags ["texy" "js"]},
 :59-now-playing-na-strankach.aspx
 {:html
  "\n<p>Dnes jsem přidal další box do pravého panelu. Jmenuje se <strong>Právě\nposlouchám</strong> a zobrazuje aktuální přehrávanou písničku nebo video\nv&#160;mém počítači. Funguje to díky plug-inu <a\nhref=\"/files/SongWriter.zip\"\ntitle=\"stáhnout archív s instalací plug-inu\">SongWriter</a> pro <a\nhref=\"http://www.windowsmedia.com/\">Windows Media Player</a> 9&#160;a\nnovější, ten uploaduje přes FTP XML s&#160;požadovanými informacemi, a\nvlastnímu controlu pro výpis těchto informací.</p>\n\n<h3>Jak na to</h3>\n\n<p>Nejprve je nutné si nainstalovat plugin SongWriter a nastavit si co a kam se\nmá generovat. Okno s&#160;nastavením na vás vyskočí po instalaci pluginu a\nzapnutí Media Playeru. Pokud by nevyskočilo najdete ho v&#160;menu Možnosti\n\\ Nastavení \\ Moduly Plug-in, Kategorie: Pozadí, SongWriter Plugin,\nVlastnosti. Tady si navolíte vlastnosti, které chcete zobrazit, zvolíte\nformát XML a nastavíte vlastnosti FTP připojení (cesta nesmí končit\nlomítkem).</p>\n\n<p>Zkuzte, jestli je vše správně nakonfigurováno, nejlépe testem přímo na\nserveru, soubor se jmenuje <strong>songout.xml</strong>. Pro ty, co jsou ve\nzpracování XML, zde článek končí, neboť si data zpracují sami :)\nOstatní nechť směle pokračují ve čtení.</p>\n\n<p>Nyní přistoupíme k&#160;tvorbě controlu. Předem upozorňuju, že je\nnapsanej v&#160;ASP.NET 2 (beta 2), takže nemusí a ani nebude fungovat ve\nstarších verzích.</p>\n\n<pre><code class=\"language-csharp\">using System;\nusing System.Data;\nusing System.Configuration;\nusing System.Collections;\nusing System.IO;\nusing System.Web;\nusing System.Web.Security;\nusing System.Web.UI;\nusing System.Web.UI.WebControls;\nusing System.Web.UI.WebControls.WebParts;\nusing System.Web.UI.HtmlControls;\nusing System.Xml;\n\npublic partial class NowPlaying : System.Web.UI.UserControl\n{\n  public string Src\n  {\n    set\n    {\n      ViewState[\"nowplayingsrc\"] = value;\n    }\n    get\n    {\n      return ViewState[\"nowplayingsrc\"].ToString();\n    }\n  }\n\n  protected void Page_Load(object sender, EventArgs e)\n  {\n    NactiData();\n  }\n\n  protected void NactiData()\n  {\n    string path = Server.MapPath(Src);\n    XmlDocument doc = new XmlDocument();\n    doc.Load(path);\n\n    XmlNodeList media = doc.GetElementsByTagName(\"media\");\n    XmlNode posledni = media[0];\n    XmlNode autor = posledni.SelectSingleNode(\"artist\");\n    XmlNode pisen = posledni.SelectSingleNode(\"title\");\n    XmlNode album = posledni.SelectSingleNode(\"album\");\n\n    if (autor != null) {\n      if (autor.InnerText.ToLower() == \"stopped\") {\n        NowPlayingOut.Text = \"&lt;p&gt;Zrovna nic.&lt;/p&gt;\";\n      } else {\n        if ((pisen != null) &amp;&amp; (album != null))\n          NowPlayingOut.Text = String.Format(\"&lt;dl&gt;&lt;dt&gt;Autor&lt;/dt&gt;&lt;dd&gt;{0}&lt;/dd&gt;&lt;dt&gt;Píseň&lt;/dt&gt;&lt;dd&gt;{1}&lt;/dd&gt;&lt;dt&gt;Album&lt;/dt&gt;&lt;dd&gt;{2}&lt;/dd&gt;&lt;/dl&gt;\", autor.InnerText, pisen.InnerText, album.InnerText);\n        else if ((pisen != null))\n          NowPlayingOut.Text = String.Format(\"&lt;dl&gt;&lt;dt&gt;Autor&lt;/dt&gt;&lt;dd&gt;{0}&lt;/dd&gt;&lt;dt&gt;Píseň&lt;/dt&gt;&lt;dd&gt;{1}&lt;/dd&gt;&lt;/dl&gt;\", autor.InnerText, pisen.InnerText);\n      }\n    } else {\n      if ((pisen != null))\n        NowPlayingOut.Text = String.Format(\"&lt;p&gt;{0}&lt;/p&gt;\", pisen.InnerText.Replace('_',' '));\n    }\n  }\n}</code></pre>\n\n<p>No a teď prezentační část.</p>\n\n<pre><code class=\"language-markup\">&lt;%@ Control Language=\"C#\" AutoEventWireup=\"true\" CodeFile=\"NowPlaying.ascx.cs\" Inherits=\"NowPlaying\"&gt;\n&lt;div class=\"box nowplaying\"&gt;\n&lt;h2&gt;Právě poslouchám&lt;/h2&gt;\n&lt;asp:Literal ID=\"NowPlayingOut\" runat=\"server\"&gt;&lt;/asp:Literal&gt;\n&lt;/div&gt;</code></pre>\n\n<p>Přeju hodně zábavy.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Now Playing na stránkách",
  :published #inst "2005-06-01T20:32:00.000-00:00",
  :url "now-playing-na-strankach",
  :category-url "webove-sluzby.aspx",
  :id 59,
  :description "",
  :category "Webové služby",
  :tags []},
 :196-texy-net-release-candidate.aspx
 {:html
  "\n<p>Po delší odmlce přicházím opět s dotnetovou implementací <a\nhref=\"/data/projekty/Texy-net-1.0.RC1.zip\"\nonclick=\"javascript:urchinTracker('/data/projekty/Texy-net-1.0.RC1.zip');\">Texy!\nXML-RPC</a> klienta. Přesto, že jsem nedostal žádnou odezvu, jsem odchytal\npár bugů z předešlé verze, ale hlavně došlo k rozšíření o podporu\ndeklarativní konfigurace.</p>\n\n<p>Dosud se musela Texy.net konfigurovat pokaždé zvlášť v kódu ve kterém\nbyla volána. Nová verze přináší možnost konfigurace pomocí vlastní\nsekce ve <code>web.config</code> souboru. Vytvořil jsem jak vlastní handler\npro načítání konfigurace, tak i <a href=\"/data/projekty/GryphoonConfig.xsd\"\nonclick=\"javascript:urchinTracker('/data/projekty/GryphoonConfig.xsd ');\">schéma</a>\npro snadnější editaci konfigurace. Schéma si zkopírujte do adresáře\n<code>C:\\Program Files\\Microsoft Visual Studio 8\\Xml\\Schemas\\Custom\\</code> a do\nsouboru <code>C:\\Program Files\\Microsoft Visual Studio\n8\\Xml\\Schemas\\DotNetConfig.xsd</code> přidejte následující kód:<br />\n<code>&lt;xs:include schemaLocation=\"Custom/GryphoonConfig.xsd\"\n/&gt;</code>.</p>\n\n<h3 id=\"toc-ukazka-pouziti\">Ukázka použití</h3>\n\n<p><strong>web.config</strong></p>\n\n<pre\n><code class=\"language-markup\">&lt;?xml version=\"1.0\" ?&gt;\n&lt;configuration&gt;\n  &lt;configSections&gt;\n    &lt;section name=\"rarous.texy\"\n      type=\"Rarous.Texy.Configuration.ConfigSectionHandler, Rarous.Texy\"\n      allowLocation=\"true\" allowDefinition=\"Everywhere\" /&gt;\n  &lt;/configSections&gt;\n\n  &lt;rarous.texy&gt;\n    &lt;formatterModule indent=\"false\" lineWrap=\"255\" /&gt;\n    &lt;headingModule top=\"2\" /&gt;\n  &lt;/rarous.texy&gt;\n\n...\n\n&lt;/configuration&gt;</code></pre>\n\n<p>Ukázka výše má za následek, že výstupní kód nebude odsazován a bude\nzalamován po 255 znacích. Dále je nastaven nadpis <code>h2</code> jako\nnejvyšší možný. Následuje obligátní ukázka požití v kódu.</p>\n\n<pre\n><code class=\"language-csharp\">string input = \"nějaký text.\"; // vstupní text\n// načteme konfiguraci\nRarous.Texy.Configuration.ConfigSectionHandler handler =\n    (Rarous.Texy.Configuration.ConfigSectionHandler)\n    ConfigurationManager.GetSection(\"rarous.texy\");\n// vytvoříme instanci Texy!\nRarous.Texy.Texy texy = new Rarous.Texy.Texy(input, handler);\n// překonvertujeme na XHTML s pomocí konfigurace\nstring output = texy.ToXhtml(true);</code></pre>\n\n<p>Tímto však možnosti nekončí. Já například zmiňovaný handler\npoužívám v připravovaném redakčním systému Gryphoon2 pro konfiguraci\npro články a pro komentáře. TexyProcessor se pak stará o načítání\nkonfigurace pro aktuální potřebu.</p>\n\n<p>No a protože tohle není úplně nejjednodušší ukázka kódu, máme tu\nještě takové usnadnění :) Nejjednodušší možnost použití Texy\ntedy je:</p>\n\n<pre\n><code class=\"language-csharp\">string html = Rarous.Texy.Texy.Process(\"Hello World!\");</code></pre>\n\n<p>Doufám, že alespoň někomu to pomůže k snadnějšímu používání\nTexy! na dotnetu. Závěrem bych vás chtěl poprosit, pokud najdete nějakou\nchybku, neváhejte a sdělte mi ji, ať už v komentářích, nebo na <a\nhref=\"mailto:rarous+texy&#64;gmail.com\">e-mail</a>. Za každý feedback budu\nrád. :)</p>\n\n<h3 id=\"toc-ke-stazeni\">Ke stažení</h3>\n\n<ul>\n\t<li><a href=\"/data/projekty/Texy-net-1.0.RC1.zip\"\n\tonclick=\"javascript:urchinTracker('/data/projekty/Texy-net-1.0.RC1.zip');\">Texy.net\n\tRC1</a></li>\n\n\t<li><a href=\"/data/projekty/GryphoonConfig.xsd\"\n\tonclick=\"javascript:urchinTracker('/data/projekty/GryphoonConfig.xsd ');\">Schéma\n\tdo Visual Studia</a></li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:46:11.340-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Texy.net release candidate",
  :published #inst "2006-11-30T22:40:40.677-00:00",
  :url "texy-net-release-candidate",
  :category-url "webdesign.aspx",
  :id 196,
  :description
  "Použití Texy! na dotnetu nebylo nikdy předtím jednodušší!",
  :category "Webdesign",
  :tags ["texynet"]},
 :421-pravidla-jednoducheho-navrhu.aspx
 {:html
  "\n<p>Volně přeloženo z knihy <a\nhref=\"http://www.amazon.com/Extreme-Programming-Explained-Embrace-Change/dp/0201616416\">Extreme\nProgramming Explained</a></p>\n\n<ol>\n\t<li>Systém (kód i testy) musí jasně vyjadřoval všechny vaše\n\tzáměry.</li>\n\n\t<li>Systém nesmí obsahovat duplicitní kód.</li>\n\n\t<li>Systém by měl mít nejmenší možný počet tříd.</li>\n\n\t<li>Systém by měl mít nejmenší možný počet metod.</li>\n</ol>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-06-09T12:59:55.573-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pravidla jednoduchého návrhu",
  :published #inst "2012-06-09T12:59:32.310-00:00",
  :url "pravidla-jednoducheho-navrhu",
  :category-url "moje-prace.aspx",
  :id 421,
  :description "Čtyři pravidla jednoduché návrhu.",
  :category "Moje práce",
  :tags ["xp" "design"]},
 :75-dalsi-omluva-za-vypadek.aspx
 {:html
  "\n<p>Chtěl bych se všem čtenářům omluvit za výpade těchto stránek. Na\nvině bylo nekvalitní <acronym title=\"File Transfer Protocol\">FTP</acronym>\npřipojení a podivné chování <acronym\ntitle=\"Internet Information Service\">IIS</acronym>, kdy se mi nepovedlo\nuploadovat aktualizovanou verzi assembly na server a IIS mi pak nechtělo\npovolit tu assembly smazat nebo přepsat. Když admin tento problém vyřešil\ntak se mi to povedlo znovu :) Bohužel zrovna nefungovalo forum, kde bych\nproblém nahlásil, proto takové zdržení…</p>\n\n<p>V současné době připravujeme přechod na profi hosting, kde bude lepší\ntechnická podpora. Taky jsem zakoupil <a href=\"http://rarous.net\">novou\ndoménu</a> a budu muset znovu budovat svoje pozice ve vyhledávačích :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T19:43:54.870-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Další omluva za výpadek",
  :published #inst "2005-10-23T21:24:20.000-00:00",
  :url "dalsi-omluva-za-vypadek",
  :category-url "moje-prace.aspx",
  :id 75,
  :description "Omlouvám se za dlouhý výpadek stránek.",
  :category "Moje práce",
  :tags []},
 :387-dupacky.aspx
 {:html
  "\n<p>Nejprve pozvánka. Ve čtvrtek <a\nhref=\"http://www.facebook.com/event.php?eid=113003785377204\">8.4.2010 budou\nv klubu Touster další Dupačky</a>, které pořádá <a\nhref=\"http://www.idj.cz/pepe/\">Peter Pea</a>. Jeho hostem nebude nikdo jiný,\nnež <a href=\"http://www.idj.cz/alessiobusta/\">moje maličkost</a>. Pokud si\nchcete zadupat na groovy techno nebo se nechat unášet na progressivních\nvlnách housu, jistě si přijdete na své.</p>\n\n<p>Jako malou návnadu přikládám reprýzu první hodiny setu z únorových\nDupaček. Tech House přesunující se do Techna… :)</p>\n<!--[if !IE]> -->\n \t\t\t<object type=\"application/x-shockwave-flash\"\ndata=\"http://player.soundcloud.com/player.swf?url=http%3A%2F%2Fsoundcloud.com%2Falessio-busta%2Fdupacky-iv-reprise\"\nwidth=\"100%\" height=\"81\">\n \t\t\t<!-- <![endif]-->\n \t\t\t<!--[if IE]>\n\t\t\t<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"\n\t\t\t  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\"\n\t\t\t  width=\"100%\" height=\"81\">\n\t\t\t  <param name=\"movie\" value=\"http://player.soundcloud.com/player.swf?url=http%3A%2F%2Fsoundcloud.com%2Falessio-busta%2Fdupacky-iv-reprise\" />\n\t\t\t<!--><!--dgx-->\n<param name=\"loop\" value=\"true\" />\n\n<param name=\"menu\" value=\"false\" />\n\n<param name=\"allowfullscreen\" value=\"true\" />\n\n<param name=\"flashvars\" value=\"\" />\n \t\t\t</object>\n \t\t\t<!-- <![endif]-->\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-04-06T14:31:09.760-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Dupačky!",
  :published #inst "2010-04-06T14:24:34.267-00:00",
  :url "dupacky",
  :category-url "muzika.aspx",
  :id 387,
  :description
  "Záznam první hodiny setu z Dupaček IV a pozvánka na Dupačky VI. ",
  :category "Muzika",
  :tags []},
 :336-model-binders-v-asp-net-mvc.aspx
 {:html
  "\n<p>Jednou z pěkných vlastností ASP.NET MVC je, že data která posíláte\nakci, můžete v kódu získávat přes silně typové parametry metody (akce).\nPokud dostatečně dodržujete dané konvence, můžete takto získat i třeba\nkomplexní typy.</p>\n\n<p>To je zařízeno něčím, co se jmenuje <strong>model binders</strong>.\nZákladem je <code>DefaultModelBinder</code>, který implementuje rozhranní\n<code>IModelBinder</code>. Dále pak atributy <code>BindAttribute</code> a jeho\nbratříček k psaní vlastních atributů\n<code>CustomModelBinderAttribute</code> a v neposlední řadě metody řadiče\n<code>UpdateModel</code> a <code>TryUpdateModel</code>.</p>\n\n<p>O tom jak používat <code>DefaultModelBinder</code>, si můžete <a\nhref=\"http://weblogs.asp.net/scottgu/archive/2008/10/16/asp-net-mvc-beta-released.aspx#four\">přečíst\ntřeba u ScottaGu</a>. Já bych se spíš chtěl zaměřit na možnosti\nrozšíření, které nám infrastruktura model binders přináší.</p>\n\n<p>Velkou slabinou konvenčního <code>DefaultModelBinder</code>u je, že ve\nview musíte dodržovat jmenné konvence vašeho modelu. Sice to může\npřinést spoustu benefitů, ale i problémů.</p>\n\n<h3 id=\"toc-moznosti\">Možnosti</h3>\n\n<p>Možností, jak bindery používat, je mnoho. Můžete si třeba <a\nhref=\"http://www.aboutcode.net/2008/12/08/Model+Binders+For+HttpCookie+And+AppSetting.aspx\">bindovat\nz AppSettings nebo z třeba z cookie</a>. I to je pomocí model binders\nmožné. Pojďme se ale podívat na to, jak bindovat váš model na data\nodeslaná z view s odlišnou jmennou konvencí…</p>\n\n<h3 id=\"toc-zaklady\">Základy</h3>\n\n<p>Vlastní bindery můžeme vytvořit tak, že implementuje rozhraní\n<code>IModelBinder</code>. Hotovou implementaci pak musíme zaregistrovat při\nstartu aplikace. Pro ukázku si uděláme velice jednoduchý příklad\nnačítání adresy z <code>FormsCollection</code>. Mějme datovou třídu\nadresa:</p>\n\n<pre\n><code class=\"language-csharp\">public class Address {\n    public string Street { get; set; }\n    public string StreetNumber { get; set; }\n    public string Town { get; set; }\n    public string PostalCode { get; set; }\n}</code></pre>\n\n<p>K ní si vytvoříme model binder:</p>\n\n<pre\n><code class=\"language-csharp\">public class AddressBinder : IModelBinder {\n  public ModelBinderResult BindModel(ModelBindingContext bindingContext) {\n    var address = new Address {\n      Street = bindingContext.HttpContext.Request[\"address_street\"].Trim(),\n      StreetNumber = bindingContext.HttpContext.Request[\"address_street_number\"].Trim(),\n      PostalCode = bindingContext.HttpContext.Request[\"address_postal_code\"].Trim(),\n      Town = bindingContext.HttpContext.Request[\"address_town\"].Trim(),\n    };\n\n    return new ModelBinderResult(address);\n  }\n}</code></pre>\n\n<p>Který nakonec zaregistrujeme v <code>Global.asax</code>:</p>\n\n<pre\n><code class=\"language-csharp\">protected void Application_Start() {\n  ModelBinders.Binders[typeof(Address)] = new AddressBinder();\n}</code></pre>\n\n<p>Když teď akci předáme parametr typu <code>Address</code>, bude\nautomaticky vázán pomocí <code>AddressBinder</code>u. Stejně tak,\npoužijeme-li metodu <code>UpdateModel</code>. V některých scénářích\nzjistíte, že výše uvedený binder, není úplně skvělý, ba co víc, že\nje v podstatě dost k ničemu. Navíc taky přijdete na to, že když váš\nmodel bude trochu bohatší, tak se váš <code>Global.asax</code> pěkně\nnatáhne, navíc pokud budou mít vaše bindery závislosti na jiných\nslužbách, začne v tom být pěkný bordel…</p>\n\n<h3 id=\"toc-binsor-na-scenu\">Binsor na scénu</h3>\n\n<p>Minule jsme si ukázali, <a rel=\"bookmark\"\ntitle=\"Inversion of Control v ASP.NET MVC\"\nhref=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">jak propojit ASP.NET\nMVC s IoC kontejnerem</a> a dnes ho využijeme a trochu si ulehčíme práci…\nJak jsem již psal, všechny model bindery implementují rozhranní\n<code>IModelBinder</code> a toho můžeme využít pro jejich registraci do\nkontejneru, přidáním následujících řádků do souboru\n<code>Windsor.boo</code>:</p>\n\n<pre\n><code class=\"language-boo\">for binder in AllTypesBased of IModelBinder(\"&lt;nazev assembly s Model Bindery&gt;\"):\n  component binder.Name.ToLower(), IModelBinder, binder</code></pre>\n\n<p>Máme je zaregistrované v kontejneru, ale potřeby psát něco do\n<code>Global.asax</code> jsme se nezbavili. To je pravda, ale vzápětí to\nnapravíme. Budeme ještě potřebovat generickou bázovou třídu. Proč\ngerenerickou? No, je v tom takovej fígl – ten prozradím až za chvíli. :)\nTeď k věci:</p>\n\n<pre\n><code class=\"language-csharp\">public abstract class ModelBinderBase&lt;T&gt; : IModelBinder {\n  public Type ModelType {\n    get { return typeof(T); }\n  }\n  public abstract ModelBinderResult BindModel(ModelBindingContext bindingContext);\n}</code></pre>\n\n<p>V podstatě jsme rozšířili rozhraní <code>IModelBinder</code> o znalost\ntypu datového objektu se kterým pracuje. Proč? Vzpomeňte si na registraci\nbinderu, kde je klíčem ve slovníku binderů typ datového objektu. Ano, to\nje on!</p>\n\n<p>Jěště trochu poupravíme náš <code>AddressBinder</code>:</p>\n\n<pre\n><code class=\"language-csharp\">public class AddressBinder : ModelBinderBase&lt;Address&gt; {\n  public override ModelBinderResult BindModel(ModelBindingContext bindingContext) {\n    var address = new Address {\n      Street = bindingContext.HttpContext.Request[\"address_street\"].Trim(),\n      StreetNumber = bindingContext.HttpContext.Request[\"address_street_number\"].Trim(),\n      PostalCode = bindingContext.HttpContext.Request[\"address_postal_code\"].Trim(),\n      Town = bindingContext.HttpContext.Request[\"address_town\"].Trim(),\n    };\n\n    return new ModelBinderResult(address);\n  }\n}</code></pre>\n\n<p>Pořád tu zůstává ta nepěkná závislost na <code>HttpRequestu</code>,\nje snadno řešitelná, ale našemu příkladu nevadí a vypořádáme se s ní\nněkdy jindy… Takže vraťme se zase k <code>Windsor.boo</code> a na jeho\nkonec přidejme následující řádky:</p>\n\n<pre\n><code class=\"language-boo\">for modelBinder as duck in IoC.Container.ResolveAll of IModelBinder():\n  ModelBinders.Binders[modelBinder.ModelType] = modelBinder</code></pre>\n\n<p>Upozorňuji, že tyto řádky <strong>musí být až na konci</strong>\nsouboru. Musí se volat, až po tom, co se zaregistrují všechny komponenty,\nprotože tady si vyzvedáváme již hotové bindery z kontejneru a registrujeme\nje do ASP.NET MVC.</p>\n\n<p>Možná jste si povšimli formulky <code>as duck</code>. <a\nhref=\"http://boo.codehaus.org/\">Boo</a> je staticky typovaný jazyk, stejně\njako C#, jen využívá implicitního typování. V tomto případě nám\ngenerická metoda <code>ResolveAll</code> vrací hotové instance, které\nimplementují rozhranní <code>IModelBinder</code> a taky mají tento silný\ntyp. A toto rozhraní neví nic o tom s jakým typem modelu je svázáno.</p>\n\n<p>Naštěstí Boo podporuje <a\nhref=\"http://en.wikipedia.org/wiki/Duck_typing\">duck typing</a>, což nám\npřidává tak trochu dynamičnost – pozdní vazbu. Já vím, že všechny\nmoje bindery dědí z bázové třídy, která má vlastnost\n<code>ModelType</code> a s použítím <code>as duck</code> jí můžu zavolat.\nTohle je vlastnost, kterou bude C# umět až ve verzi 4.0, do té doby je\nv něm toto velice těžko řešitelné (osobně jsem se o to ani nepokoušel,\nale nejspíš nějak přes reflexi by to jít mělo).</p>\n\n<p>Tím jsme se zbavili nutnosti registrovat každý model binder zvlášť.</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a rel=\"bookmark\" title=\"Inversion of Control v ASP.NET MVC\"\n\t\thref=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">Inversion of Control\n\t\tv ASP.NET MVC</a></li>\n\n\t\t<li><a\n\t\thref=\"http://weblogs.asp.net/scottgu/archive/2008/10/16/asp-net-mvc-beta-released.aspx#four\">Refactored\n\t\tModel Binder Infrastructure</a></li>\n\n\t\t<li><a\n\t\thref=\"http://www.aboutcode.net/2008/12/08/Model+Binders+For+HttpCookie+And+AppSetting.aspx\">Model\n\t\tBinders for HttpCookie and AppSetting</a></li>\n\n\t\t<li><a href=\"http://en.wikipedia.org/wiki/Duck_typing\">Duck typing</a></li>\n\n\t\t<li><a href=\"http://boo.codehaus.org/\">Jazyk Boo</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-12-18T07:08:43.490-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Model binders v ASP.NET MVC",
  :published #inst "2008-12-13T20:15:00.427-00:00",
  :url "model-binders-v-asp-net-mvc",
  :category-url "asp-net-2-0.aspx",
  :id 336,
  :description
  "Jednou z pěkných vlastností ASP.NET MVC je, že data která posíláte akci, můžete v kódu získávat přes silně typové parametry metody (akce). Pokud dostatečně dodržujete dané konvence, můžete takto získat i třeba komplexní typy.",
  :category "ASP.NET 2.0",
  :tags
  ["aspnet" "mvc" "boo" "binsor" "windsor" "ioc" "imodelbinder"]},
 :128-zase-klacky-pod-nohama.aspx
 {:html
  "\n<p>Možná jste si již <a\nhref=\"http://blog.filosof.biz/microsoft-active-x/\">všimli</a>, že díky\nskvělé patentové politice USA dojde k&#160;<a\nhref=\"http://www.dgx.cz/trine/item/patent-co-polozi-pulku-webu\">znefunkčnění\nActiveX prvků</a> vkládaných do HTML stránek pomocí tagů\n<code>object</code> a <code>embed</code>. Tuto metodu má totiž patentovanou\nfirma Eolas. Za dva měsíce bude nutné nejprve na takový prvek kliknout, aby\nse zobrazil. To je velice špatná zpráva pro servery, které se živí\nflashovou reklamou. První obětí je Microsoft, který zaplatil půl miliardy\nUSD a musí předělat IE, tak aby splňovalo požadavky.</p>\n\n<p>Když už jsme u&#160;této problematiky. Konečně se někdo začne zabývat\ntímhle nesmyslem, kdy se do hypertextu vkládají aktivní objekty – kusy\naplikací. Podle mě je to nešťastné řešení a mělo by se to řešit\npomocí ECMAScriptu. Bohužel podpora ze strany prohlížečů je špatná.\nNedávno jsem řešil, jak do stránky dynamicky vložit přehrávač zvuku\n(MediaPlayer) a ovládat ho pomocí skriptů. To jsem narazil. Mozilla\nv&#160;defaultu ActiveX nepodporuje a je potřeba nejprve nainstalovat ActiveX\nPlug-In, který je zdá se nestabilní a ne vždy funkční – alespoň\nv&#160;tomto případě se mine nepodařilo zprovoznit. Díky tomu nemáte\nšanci se dostat k&#160;vlastnostem a metodám takové prvku a ve stránce je\nzbytečný.</p>\n\n<p>Myslím, že je čas, aby se sešla rada pro výrobu webových\nprohlížečů, a vymysleli nějaký pořádný způsob, jak do stránek\nvkládat programové objekty pomocí JS a zároveň se ujednotily na nějakém\nzpůsoby zpřístupnění API takových objektů pro scriptování. Když\nžijeme v&#160;době, kdy se hlásí o&#160;slovo AJAX a nové webové aplikace\nsi bez JS stejně neškrtnou, tak proč ne?</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-03T20:30:31.270-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zase klacky pod nohama",
  :published #inst "2006-04-03T17:17:40.253-00:00",
  :url "zase-klacky-pod-nohama",
  :category-url "webdesign.aspx",
  :id 128,
  :description
  "Jak nám zákony mohou pomoci k větším penězům? Přidají nám práci na víc ;)",
  :category "Webdesign",
  :tags []},
 :269-hlavicka-pragma-a-jeji-misto-v-html.aspx
 {:html
  "\n<p>Velmi často se ve zdrojových kódech HTML stránek potkávám se\nzajímavým mýtem a to s následujícím ta­gem:</p>\n\n<pre\n><code class=\"language-markup\">&lt;meta http-equiv=\"pragma\" content=\"no-cache\"&gt;</code></pre>\n\n<p>Autor se tím pravděpodobně pokouší docílit toho, aby se jeho stránka\nnecachovala. Přejdu-li to, že vypnutí cachování je nesmysl už z pohledu\nškálování výkonu webové aplikace, tak stejně užití pragmy nemá\nhlubšího významu.</p>\n\n<h3 id=\"toc-proc-je-pouziti-pragma-no-cache-nesmysl\">Proč je použití\nPragma:no-cache nesmysl</h3>\n\n<ol>\n\t<li>Hlavička <code>Pragma</code> s hodnotou <code>no-cache</code> je <a\n\thref=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.32\">součástí\n\tspecifikace HTTP 1.1</a> z <strong>historic­kých důvodů</strong> a je dnes\n\tplně nahrazena hlavičkou <code>Cache-Control</code>.</li>\n\n\t<li>Hlavička <code>Pragma</code> je <strong>pouze hlavičkou\n\tpožadavku</strong> a v odpovědi nemá opodstatnění.</li>\n</ol>\n\n<p>Hlavičku Pragma:no-cache posílali klienti HTTP/1.0 když nechtěli dostat\ncachovanou odpověď z lokální nebo proxy cache, ale přímo od serveru,\nkterý volali. Posílat ji tedy v odpovědi (natož v HTML) nemá žádný\nvýznam. Někdo by mohl podotknout, že mu to funguje. <a\nhref=\"http://support.microsoft.com/kb/222064\">Mícrosoft na to říká</a>:\nstrkejte si pragmu do HTML, ale my vás stejně budem cachovat. Mozilla raději\nřídí <a\nhref=\"http://www.mozilla.org/projects/netlib/http/http-caching-faq.html\">cachování\npomocí HTTP hlaviček</a> a tento tag také ignoruje.</p>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p>Nejprve si rozmyslete, zda je pro vás zakázání cachování opravdu\npřínosné – v 99% případů nebude. Pokud stejně nebudete chtít\ncachovat (každý požadavek bude váš server muset vždy zpracovat, bude muset\nprotéct po vaší lince atd.), posílejte HTTP hlavičku\n<code>Cache-control</code> s hodnotou <code>no-cache</code>. Vkládání do\nmeta stránky nemá opodstatnění, zbytečně tak zvětšíte opověď a\nprohlížeče to stejně většinou ignorují.</p>\n\n<p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/html\">HTML</a>, <a\nrel=\"tag\" href=\"http://technorati.com/tag/pragma\">Pragma</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/cache\">Cache</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:29:13.487-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Hlavička Pragma a její místo v HTML",
  :published #inst "2008-05-17T09:51:36.420-00:00",
  :url "hlavicka-pragma-a-jeji-misto-v-html",
  :category-url "webdesign.aspx",
  :id 269,
  :description
  "Zajímavým fenoménem je používání HTTP hlavičky Pragma v meta HTML dokumentu. Proč je to úplná zbytečnost? ",
  :category "Webdesign",
  :tags ["html" "xhtml" "http" "pragma" "caching"]},
 :258-par-postrehu-k-nove-hp.aspx
 {:html
  "\n<p>O tom, že jsem spustil novýho <a href=\"http://rarous.net\">rarouše na\nnet</a>, jste se mohli dočíst <a\nhref=\"/weblog/257-novy-rarous-net.aspx\">minule</a>. Teď ještě pár postřehů\ns odstupem času…</p>\n\n<h3 id=\"toc-hledani\">Hledání</h3>\n\n<p>Jednou z plánovaných funkcí je hledání. Používám kustomizované Live\nSearch. Stačí mi přidat jen malý formulář, ale zatím se mi nechce.\nVždyť většina návštěvníků má stejně prohlížeč s hledacím\npolíčkem a může si <a href=\"/weblog/185-format-opensearch-dil-1.aspx\">snadno\npřidat můj plugin</a>.</p>\n\n<h3 id=\"toc-styly\">Styly</h3>\n\n<p>Wow, napsal jsem to celý ve standard modu s CSS 2.1 selektorama a vůbec\njsem to nikterak neladil a funguje to všude stejně – pokud to teda umí CSS\n2.1… ;) Pak jsem kolegovi diktoval adresu a najednou se ubjevila nějaká\nžumpa, heh bylo to v IE6. Je to hnus velebnosti, ale upravovat to nebudu.</p>\n\n<h3 id=\"toc-hlavni-sloupec\">Hlavní sloupec</h3>\n\n<p>Lukáš Mačí mi jako reakci na mou novou homepage sdělil:</p>\n\n<blockquote>\n\t<p>na muj vkus je docela potlacenej ten hlavni sloupek</p>\n</blockquote>\n\n<p>No netušil jsem, kterej hlavní sloupec myslí, já totiž žádnej sloupec\nza hlavní nepovažuju. Proto maj oba obsahový boxy přidělenou stejnou část\nobrazovky.</p>\n\n<h3 id=\"toc-agregace\">Agregace</h3>\n\n<p>Pro načítání většiny dat na HP je použita agregace z různých\nkanálů – proto je ta stránka taková sociální. Celý kód pro\nnačítání všech boxů je asi na 10 řádek a dost z toho zabíra metoda\npro načtení feedu. :) Všechno je to úžasně jednoduché, díky novému\n3.5 frameworku.</p>\n\n<p>Novinkou v 3.5 je totiž nový namespace\n<code>System.ServiceModel.Syndication</code>, který obsahuje abstrahovaný\nmodel nad RSS 2.0 a Atom 1.0. Pro oba formáty lze použít pouze jednu\ntřídu <a\nhref=\"http://msdn2.microsoft.com/en-us/library/system.servicemodel.syndication.syndicationfeed.aspx\">SyndicationFeed</a>,\ns níž jde práce jak po másle. Načtení feedu pak vypadá asi\nnásledovně:</p>\n\n<pre\n><code class=\"language-csharp\">private static SyndicationFeed GetFeed(string feedUrl) {\n  var reader = XmlReader.Create(feedUrl);\n  var feed = SyndicationFeed.Load(reader);\n  return feed;\n}</code></pre>\n\n<p>Naštěstí jsou zdroje, ze kterých čerpám, wellformed a validní. Jak si\ntahle třída poradí s prasokódem fakt netuším a ani jsem to\nnezkoušel.</p>\n\n<p>Nejvíc jsem se zapotil u načítání galerií z picasy, protože jsem\nchtěl čerpat data z Media RSS Extensions. Původně jsem napsal asi\n20 řádkový strašidelný kód, který načítal pouze adresu náhledového\nobrázku a stejně nefungoval. Postupně jsem se však přibližoval k cíli a\nnakonec jsem skončil u celkem elegantní konstrukce:</p>\n\n<pre\n><code class=\"language-csharp\">private static string GetThumbnailUrl(SyndicationItem item) {\n  var reader = item.ElementExtensions[0].GetReader();\n  var group = XElement.ReadFrom(reader) as XElement;\n\n  var url = group.\n    Element(XName.Get(\"thumbnail\", \"http://search.yahoo.com/mrss/\")).\n    Attribute(XName.Get(\"url\")).Value;\n\n  return url;\n}</code></pre>\n\n<h3 id=\"toc-na-zaver\">Na závěr</h3>\n\n<p>Nakonec jsem se rozhodl, že i na agregovanou HP nasadím <a\nhref=\"http://texy.info/\"\ntitle=\"The best text  → HTML converter and formatter\">Texy!</a>. Zatim tam\nnení, ale důvody pro ni jsou jasné: z twittru nechoděj URL jako odkazy,\ntypografický pravidla nejsou vůbec nikde. Takže k tomu bude Texy! dobrá.\nMožná mě to donutí napsat tu novou Texy-WS a patřičného providera pro <a\nhref=\"http://www.codeplex.com/texynet\">Texy.net</a>. Ale možná taky ne!</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T13:44:14.667-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pár postřehů k nové HP",
  :published #inst "2008-02-20T21:02:41.147-00:00",
  :url "par-postrehu-k-nove-hp",
  :category-url "webdesign.aspx",
  :id 258,
  :description "Pár postřehů z tvorby nové homepage rarouš.net.",
  :category "Webdesign",
  :tags []},
 :37-zmeny.aspx
 {:html
  "\n<p>Právě mám zkouškové období a hned jak mi zkoušky zkončí vrhnu se do\npráce. Čeká mě brigáda v&#160;Benteleru. Budu dodělávat Skladovou\naplikaci, kterou jsem jim programoval v&#160;srpnu. Za tu dobu se objevili,\nněkteré věci, které je třeba doplnit nebo upravit. Hlavní věcí bude\nudělat tiskové sestavy a protože je to celý psaný v&#160;ASP.NET, tak to\nsnad nebude taková práce. Budu muset udělat a odladit tiskový styly pro\ndatabázový reporty.</p>\n\n<p>Možná jste si všimli, že začal přispívat můj kamarád\n<strong>dekan</strong>. Bude psát převážně svoje povídky, je fakt dobrej.\nProto chci předělat admin sekci. Nevyhovuje už dnešním požadavkům.\nHlavně potřebuju udělat uživatelské role a doplnit některé věci, které\nmě za ten rok napadly. Možná udělám přispívání pomocí Webové služby\na e-mailu, ale to závisí na čase, který mi na to zbyde.</p>\n\n<p>Drobné změny jsem provedl na serveru. Mám hodně přístupů, kvůli\nsemestrálním pracem a školním věcem vůbec, ale některé requesty jsou na\nadresy, které jsem používal před třičtvrtě rokem, kdy jsem udělal\nrestrukturalizaci adresářové struktury. Tak jsem udělal přesměrování ze\nstarých adres na nové. Taky jsem přidal robots.txt a další drobnůstky,\nkteré nejsou na venek vidět.</p>\n\n<p>Tak přeji pěknou zimu a zachvejte mi přízeň.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Změny",
  :published #inst "2005-01-22T22:10:00.000-00:00",
  :url "zmeny",
  :category-url "jen-tak.aspx",
  :id 37,
  :description "",
  :category "Jen tak",
  :tags []},
 :438-alessio-busta-vesper.aspx
 {:html
  "\n<p>Po delší době nějaká ta hudba k tanci i poslechu. Back to basics.</p>\n\n<div class=\"haudio\">\n\t<ol>\n\t\t<li class=\"item\"><span class=\"contributor\">Pink Floyd</span> — <span\n\t\tclass=\"title\">Is There Anybody Out There?</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Ame</span> — <span\n\t\tclass=\"title\">Rej</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Christian Smith</span> — <span\n\t\tclass=\"title\">Cinnamon</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Oliver Huntemann</span> — <span\n\t\tclass=\"title\">Decks &amp; The City</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Marc Romboy</span> &amp; <span\n\t\tclass=\"contributor\">Stephan Bodzin</span> — <span class=\"title\">Atlas –\n\t\tGui Boratto Remix</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Christian Smith</span> — <span\n\t\tclass=\"title\">Flyertalk</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Cirez D</span> — <span\n\t\tclass=\"title\">Teaser – Oliver Huntemann Remix</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Paperclip People</span> — <span\n\t\tclass=\"title\">4 My Pepz – Dubfire Rework</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Jesper Dahlback</span> — <span\n\t\tclass=\"title\">Alright</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Sasha</span> — <span\n\t\tclass=\"title\">Smoke Cone</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Udo Kier</span> feat. <span\n\t\tclass=\"contributor\">Nicolette Krebitz</span> — <span\n\t\tclass=\"title\">Prayer – Gui Boratto Mix</span></li>\n\t</ol>\n\n\t<p><span class=\"category\">dj set</span> <span class=\"contributor\">Alessio\n\tBusta</span> – <span class=\"title\">Vesper</span></p>\n</div>\n<!--[if !IE]> -->\n \t\t\t<object type=\"application/x-shockwave-flash\"\ndata=\"//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falessiobusta%2Fvesper%2F&amp;embed_uuid=1be44f82-16ff-46ff-94f0-7b28c82493e8&amp;stylecolor=&amp;embed_type=widget_standard\"\nwidth=\"100%\" height=\"160\">\n \t\t\t<!-- <![endif]-->\n \t\t\t<!--[if IE]>\n\t\t\t<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"\n\t\t\t  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\"\n\t\t\t  width=\"100%\" height=\"160\">\n\t\t\t  <param name=\"movie\" value=\"//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falessiobusta%2Fvesper%2F&amp;embed_uuid=1be44f82-16ff-46ff-94f0-7b28c82493e8&amp;stylecolor=&amp;embed_type=widget_standard\" />\n\t\t\t<!--><!--dgx-->\n<param name=\"loop\" value=\"true\" />\n\n<param name=\"menu\" value=\"false\" />\n\n<param name=\"allowfullscreen\" value=\"true\" />\n\n<param name=\"flashvars\" value=\"\" />\n \t\t\t</object>\n \t\t\t<!-- <![endif]-->\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-01-23T09:39:45.810-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Alessio Busta - Vesper",
  :published #inst "2013-01-23T09:38:53.020-00:00",
  :url "alessio-busta-vesper",
  :category-url "muzika.aspx",
  :id 438,
  :description "Po delší době nějaká ta hudba k tanci i poslechu.",
  :category "Muzika",
  :tags []},
 :409-produktivita-s-coffeescriptem.aspx
 {:html
  "\n<p>CoffeeScript může zvýšit produktivitu pouze v případě že JavaScript\npíšete v primitivním editoru typu Notepad. Kdo to s produktivitou\nv JavaScriptu myslí vážně, investuje pár tisícovek do pořádného IDE\ns podporou doplňování kódu, type hintingu, refactoringu a integrovaného\ntest runneru.</p>\n\n<p>Kvalitní nástroje jsou něco, co CoffeeScript ještě dlouho mít nebude.\nA kvalitní nástroje jsou to, co opravdu zvyšuje vaši produktivitu, ne\nobskurní syntaxe.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-11-13T09:10:29.437-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Produktivita s CoffeeScriptem?",
  :published #inst "2011-11-13T09:10:29.420-00:00",
  :url "produktivita-s-coffeescriptem",
  :category-url "webdesign.aspx",
  :id 409,
  :description
  "Jednorázová investice do kvalitních nástrojů je efektivnější než učit se nový jazyk, který má špatný ekosystém.",
  :category "Webdesign",
  :tags []},
 :34-vzkaz.aspx
 {:html
  "\n<p>Omlouvám se, že jsem dlouho nic nepsal, ale neměl jsem na to zrovna moc\nčasu. V&#160;poslední době mám docela dost práce:</p>\n\n<ol>\n\t<li>Začal jsem učit na základní škole tvorbu webových stránek</li>\n\n\t<li>Ve škole začíná být dusno. Začínaj se psát písemnky, musim\n\tdodělávat semestrálku ap.</li>\n\n\t<li>Dělal jsem design <a href=\"http://www.unierozhodcu.cz/\">Unie rozhodců</a>\n\ta předělal jsem kompletně design firemních stránek <a\n\thref=\"http://pbsoftware.cz/\">PB software</a>, ještě se bude muset opravit\n\tpár chybyček v&#160;XHTML a aktualizovat obsah, ale to už není moje práce\n\t:)</li>\n</ol>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:51:08.300-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vzkaz",
  :published #inst "2004-11-15T00:00:00.000-00:00",
  :url "vzkaz",
  :category-url "jen-tak.aspx",
  :id 34,
  :description "",
  :category "Jen tak",
  :tags []},
 :31-jak-umlcet-13-letou-holku.aspx
 {:html
  "\n<p>Právě jsem na návštěvě u&#160;strejdy, kterej má 13&#160;letou dceru.\nTo je neštěstí&#8230; Poradtě prosím někdo jak ji umlčet.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:52:22.130-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak umlčet 13 letou holku?",
  :published #inst "2004-09-22T00:00:00.000-00:00",
  :url "jak-umlcet-13-letou-holku",
  :category-url "jen-tak.aspx",
  :id 31,
  :description "",
  :category "Jen tak",
  :tags []},
 :342-testovani-routingu-v-asp-net.aspx
 {:html
  "\n<p>Nejspíš poslední zastávka u routingu v ASP.NET bude o tom, jak\njednoduše testovat pravidla v routovací tabulce.</p>\n\n<p>Pokud váš projekt doroste do rozměrů, kdy máte spoustu routovacích\npravidel a pomalu se v nich začínáte ztrácet, nebo se vybírá jiné\npravidlo než byste si představovali, nebo jen chcete zjistit, jak to vlastně\nfunguje, hodil by se nástroj, kterým by se to dalo snadno zvládnout.\nA takový existuje! Pojďme se na něj podívat.</p>\n\n<h3 id=\"toc-routing-debugger\">Routing debugger</h3>\n\n<p>Ten nástroj se jmenuje <a\nhref=\"http://haacked.com/archive/2008/03/13/url-routing-debugger.aspx\">ASP.NET\nRouting Debugger</a> a jeho autorem je samotný <a\nhref=\"http://haacked.com/\">Phil Haack</a> product manager ASP.NET MVC, Routingu\na integrace DLR do ASP.NET.</p>\n\n<p>Jeho užití je poměrně velice jednoduché. Nejprve je nutné si debbuger\n<a href=\"http://haacked.com/code/RouteDebug-Binary.zip\">stáhnout</a>, rozbalit\na přidat do projektu referenci na rozbalenou knihovnu. Pak už jen stačí do\n<code>Global.asax</code> přidat následující řádek (za registraci\nroutovacích pravidel):</p>\n\n<pre\n><code class=\"language-csharp\">protected void Application_Start() {\n  RegisterRoutes(RouteTable.Routes);\n  RouteDebug.RouteDebugger.RewriteRoutesForTesting(RouteTable.Routes);\n}</code></pre>\n\n<p>Odteď bude všechny požadavky požírat debbuger routingu. Když si projekt\nspustíme, uvidíme pěknou tabulku, kde jsou vypsaná jednotlivá pravidla,\nvčetně příznaku, která jsou zrovna vhodná pro aktuální URL. Ano,\nvhodných pravidel může být povícero, ale vždy se vybere jen ta, která je\n<strong>první v pořadí</strong>. Dále pak jsou vidět hodnoty, které jsou\nz aktuální adresy získány, přednastavené výchozí hodnoty a\nzpřesňující pravidla.</p>\n\n<p>Snad se bude hodit :)</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a\n\t\thref=\"http://haacked.com/archive/2008/03/13/url-routing-debugger.aspx\">ASP.NET\n\t\tRouting Debugger</a></li>\n\n\t\t<li><a\n\t\thref=\"http://phpfashion.com/testovani-routingu-v-nette-frameworku\">Testování\n\t\troutingu v Nette Frameworku</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-09T07:23:39.173-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Testování routingu v ASP.NET",
  :published #inst "2009-01-08T10:09:13.973-00:00",
  :url "testovani-routingu-v-asp-net",
  :category-url "webdesign.aspx",
  :id 342,
  :description
  "Nejspíš poslední zastávka u routingu v ASP.NET bude o tom, jak jednoduše testovat pravidla v routovací tabulce.",
  :category "Webdesign",
  :tags ["aspnet" "routing" "mvc"]},
 :184-asp-net-ajax-extensions-beta-1.aspx
 {:html
  "\n<p>Dnes byla po dlouhé odmlce vypuštěna další verze ‚Atlas‘ Frameworku,\ntentokráté již pod komerčním názvem a ve fázi beta testování. Co se\nvše změnilo?</p>\n\n<p>Krom názvu tedy doznal framework <a\nhref=\"http://ajax.asp.net/files/AspNet_AJAX_CTP_to_Beta_Whitepaper.aspx\">značných\nzměn</a>. Prvně byl framework rozdělen na <em>Core</em> a <em>Preview</em>\nčást. <a\nhref=\"http://download.microsoft.com/download/3/1/c/31cb8c2d-d6e5-4b5e-ae1c-79724667f7d1/ASPAJAXExtSetup.msi\">Core</a>\nobsahuje nejdůležitější jádro frameworku (JSON, Class Library,\nCompatibility layer apod.) a jeho velikost se podařilo stlačit na přibližně\n20 KiB (GZip komprese), což je velice dobrá zpráva, konečně se Atlas\nstává použitelným i v reálném světě :) <a\nhref=\"http://download.microsoft.com/download/a/a/9/aa9949bb-58e4-4048-85f3-35ac4ab5cc04/ASPAJAXCTP.msi\">Preview</a>\nbalíček obsahuje spoustu dalších věcí, které byly součástí\npředchozích verzí a budou nadále vyvíjeny s možností zařazení do Core\npo jejich dostatečné stabilizaci a otestování kompatibility. <a\nhref=\"http://www.codeplex.com/Release/ProjectReleases.aspx?ProjectName=AtlasControlToolkit\">ControlToolkit</a>\nzůstává a byl opět rozšířen o další nové Extendery.</p>\n\n<p>Krom struktury projektu došlo i na technologické změny. Tou\nnejdůležitější změnou je přechod z closures na prototypování. Tím\ndoznal framework i značného výkonostního nárůstů, protože prototypy\nobecně spotřebovávají mnohem méně paměti. Vývojáři si od\nprototypování slibují také snadnější vývoj a podporu pro Intellisenee v\n‚Orcas‘ studiu. Podlě náznaků to vypadá, že Intellisense poběží\ndíky metadatům v JavaScriptu (obdoba Atributů v C#). Nechme se\npřekvapit.</p>\n\n<p>Co se týče serverové části tzv. ASP.NET 2.0 AJAX Extensions, tak\nvšechny controly mají nyní prefix <code>asp</code> namísto\n<code>atlas</code> a od příští verze dotnet frameworku budou i jeho\nintegrální součástí. AJAX Extensions také nahrazují stávající\n<strong>Validátory</strong>, které byly přepsány nad <a\nhref=\"http://ajax.asp.net/downloads/beta/default.aspx?tabid=47&amp;subtabid=471\">MS\nAJAX Library</a>. Snad budou fungovat mnohem lépe než ty stávající.</p>\n\n<p>Osobně jsem ještě velice zajímavě vypadající novinky nezkoušel, ale\nsnad se brzy naskytne ta možnost :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:11:30.467-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "ASP.NET AJAX Extensions beta 1",
  :published #inst "2006-10-20T20:28:03.800-00:00",
  :url "asp-net-ajax-extensions-beta-1",
  :category-url "asp-net-2-0.aspx",
  :id 184,
  :description "Atlas Framework se blíží ke stabilní verzi.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "ajax" "javascript"]},
 :116-neco-malo-na-tema-skolstvi.aspx
 {:html
  "\n<p>Jak jste si mohli všimnout v&#160;<a\nhref=\"/clanek/115-rarous-v-atlasu.aspx\">minulém spotu</a>, zařadil jsem se do\npracovního procesu, což se v&#160;mém případě neslučuje s&#160;tím, že\nbych nadále pokračoval ve studiu. Tímto spotem bych chtěl svoje působení\nv&#160;procesu vzdělávání shrnout. Jednou větou, naše školství není\nv&#160;pořádku. Co mě k&#160;tomuto závěru vede?</p>\n\n<p>Již od <a href=\"http://www.pslib.cz/\">střední školy</a> jsem byl já\ni&#160;moji souputníci tzv. <em>pokusným králíkem</em>. Vysvětlím, proč\nmám, nejen já, tento pocit. Na střední se nám několikrát změnil obor a\ns&#160;ním i&#160;osnovy, takže tomu chyběla nějaká koncepce &#8211;\nz&#160;výběrového oboru se stal vyvrhel na okraji pozornosti (hlavně\nz&#160;pohledu vedení školy). Možná od nás očekávali, že jim polezeme\ndo zadku a že budeme mimoškolní čas trávit aktivitami spojenými se\nsprávou školní sítě. Místo toho se dočkali do značné míry rebelů,\nkteří se dokázali ozvat na věci, které se jim nelíbily a to se zase\nnelíbilo vedení :) Většina lidí z&#160;naší třídy šla pak na\nvysokou.</p>\n\n<p>Asi třetina šla na <a href=\"http://www.fel.cvut.cz/\">FEL</a>. A&#160;zde\njsme se opět stali těmi <em>pokusnými králíky</em>. Byli jsme totiž\nprvní studenti tzv. strukturovaného studia. Na nás si všichni zkoušeli\nnové předměty, který často chyběla vazba na jiné, či se naopak kryly\n&#8211; chyběla prostě nějaká koncepce, což vyplívá i&#160;ze <a\nhref=\"https://www.feld.cvut.cz/referendum/K4zprava1-7-2005.pdf\">zprávy skupiny\nK4</a>, která měla vyhodnotit stávající studijní program a říci, co\ndál. Výsledky byly neuspokojivé, ale to pro nás studenty nebylo nic\nnového, to jsme věděli už dávno. Velikým problémem je odtrženost škol\nod reálného světa a neschopnost pružně reagovat na poptávku po\nkvalitních oborech. To jsem bohužel zjistil relativně pozdě.</p>\n\n<p>Nebudu se zde rozepisovat o&#160;tom, jak dokáže takový systém motivovat\nke studiu, bylo by to marné. Ze školy jsem čerpal věci (znalosti), které\nse mi hodily a zbytek času jsem věnoval samostudiu úplně jiné látky, až\nto došlo tak daleko, že jsem nezískal dostatek kreditů pro postup do\ndalšího semestru a šel jsem do práce :) Času stráveného ve škole však\nnelituji, nabyl jsem spoustu důležitých zkušeností a už vím, že takhle\nne pánové.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-06T07:13:55.500-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Něco málo na téma školství",
  :published #inst "2006-03-05T07:42:40.460-00:00",
  :url "neco-malo-na-tema-skolstvi",
  :category-url "skola.aspx",
  :id 116,
  :description
  "Moje zkušenosti s našim školstvím. Taková malá rekapitulace a pravděpodobně poslední spot do rubriky Škola.",
  :category "Škola",
  :tags []},
 :216-kecalek-ve-visual-studiu.aspx
 {:html
  "\n<p>Leopold by možná řekl: „Člověče, to je dobrý, tohleto! To vypadá\njako, že pracuju, ikdyž ne. To je dobrý :).“ Bohužel už není mezi námi,\ntakže se to asi nedovíme. Nebojte, nenašli ho udušeného počítačovou\nmyší, to jen přesedlal z Visual Studia na linux, a kdo ví, v čem píše\nteď :D.</p>\n\n<p>A co že by se mu tak líbilo? Hledajíce PyTel na zajíce, tedy vlastně,\nkterak zapnout podporu <a href=\"http://codeplex.com/IronPython\">IronPythonu</a>\nve Visual Studiu (dále jen VS), jsem narazil na nutnost stáhnout si <a\nhref=\"http://www.microsoft.com/downloads/details.aspx?FamilyID=51A5C65B-C020-4E08-8AC0-3EB9C06996F4\">Visual\nStudio SDK</a>, kde je jedním z ukázkových balíčku (čtyři projekty)\nprávě <a\nhref=\"http://blogs.msdn.com/aaronmar/archive/2006/02/16/a-bit-more-on-ironpython.aspx\">integrace\nIronPythonu do VS</a>. Ale to jen tak na okraj. Hlavní důvod, proč toto pišu\nje, že jsem v souvislosti s VS SDK narazil na velice zajímavý projekt\ns názvem <a href=\"http://codeplex.com/vsmessenger\">VSMessenger</a>.</p>\n\n<p>Název samotný může ledasco napovědět. Vězte tedy, že se jedná\no integrovaný kecálek (IM klient) přímo do prostředí VS. Tady je <a\nhref=\"http://www.vssdk.com/screencasts/Intro_PartII.wmv\">ukázkové video</a>,\nže nekecám. Na výběr máme dokonce dva providery. Tím prvním je\nsamozřejmě Windows Live Messenger, u kterého si můžete na speciálním\ntoolbaru držet informaci o stavu vybraných kontaktů. Po kliknutí na jméno\nse vám ale otevře chatovací okno WLM. Druhým, pro mne o dosti\nzajímavějším, providerem je Jabber (chcete-li XMPP) provider. Ten je do VS\nintegrován kompletně i s chatovacím ok­nem.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:32:16.673-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Kecálek ve Visual Studiu",
  :published #inst "2007-07-26T07:18:46.527-00:00",
  :url "kecalek-ve-visual-studiu",
  :category-url "webdesign.aspx",
  :id 216,
  :description
  "Leopold by možná řekl: „Člověče, to je dobrý, tohleto! To vypadá jako, že pracuju, ikdyž ne. To je dobrý :).“ Bohužel už není mezi námi, takže se to asi nedovíme.",
  :category "Webdesign",
  :tags ["vs" "ironpython" "messenger" "im" "jabber"]},
 :221-atlas-faceliftoval-svoji-homepage.aspx
 {:html
  "\n<p>Atlas dnes vypustil facelift svoji hlavní stránky, který je na první\npohled vzdušnější a přehlednější. Kluci se snažili <a\nhref=\"http://www.atlas.cz\">homepage Atlasu</a> trochu osvěžit a připravit ji\nna nové možnosti, které se od homepage očekávají.</p>\n\n<p>Společně s osvěženou homepagi vyrážejí do světa další novinky\nz projektu <em>Atlas+</em>:</p>\n\n<ol>\n\t<li><a href=\"http://azpravy.atlas.cz\">aZprávy</a> – zbrusu nové zprávy na\n\tAtlasu, které vás budou bavit.</li>\n\n\t<li><a href=\"http://spunt.atlas.cz\">Špunt</a> – magazín nejen pro\n\trodiče.</li>\n\n\t<li><a href=\"http://utulne.atlas.cz\">Útulně</a> – magazín\n\to bydlení.</li>\n</ol>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:24:18.717-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Atlas faceliftoval svoji homepage",
  :published #inst "2007-09-02T18:32:22.750-00:00",
  :url "atlas-faceliftoval-svoji-homepage",
  :category-url "webdesign.aspx",
  :id 221,
  :description
  "Atlas dnes vypustil facelift svoji hlavní stránky, který je na první pohled vzdušnější a přehlednější. A nejen to",
  :category "Webdesign",
  :tags ["atlas" "homepage"]},
 :5-materialy.aspx
 {:html
  "\n<p>Dnes jsem započal soustavné učení se na zkoušku z&#160;materiálů. Je\nto opravdu záživná látka, ale musí to být, jinak se nedostanu na\ntoužený obor, viď. No mám na to ještě šest dnů, tak snad ve mě něco\nuvízne. Dneska jsem provedl další interní změny v&#160;Gryphoonu, tak jsem\nzvědav, jak to bude fungovat :)</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Materiály",
  :published #inst "2004-02-16T18:31:46.000-00:00",
  :url "materialy",
  :category-url "skola.aspx",
  :id 5,
  :description "Dnes jsem započal soustavné učení se na zkoušku.",
  :category "Škola",
  :tags []},
 :161-navody-na-tvorbu-asp-net-stranek.aspx
 {:html
  "\n<p>Přímo na domovské stránce <a href=\"http://asp.net/\">ASP.NET</a> vyšla <a\nhref=\"http://asp.net/learn/dataaccess/\">sada návodů</a> na tvorbu ASP.NET\n2.0 stránek, které pracují s daty. Je zde popsán postup od vytvoření\ntřívrstvé aplikace (<acronym title=\"Data Access Layer\">DAL</acronym>,\n<acronym title=\"Business Logic Layer\">BLL</acronym>, <acronym\ntitle=\"Presentation Layer\">PL</acronym>) přes Master-Deatil pohledy na data po\nkompletní řešení. Ukázky kódů jsou jak v jazyce Visual Basic .NET tak\nv C#, ale většinou se jedná o ukázku <acronym\ntitle=\"Rapid Application Development\">RAD</acronym> ve Visual Studiu :) Za\ncelým 20 dílným tutoriálem stojí Scott Mitchel, <a\nhref=\"http://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco\">autor\nněkolika knih</a> o ASP.NET a autor <a\nhref=\"http://www.4guysfromrolla.com\">několika</a> <a\nhref=\"http://scottonwriting.net/\">zajímavých</a> webů.</p>\n\n<p>Ještě něž mě začnete kamenovat, vrátím se k číslu 20 :) Vím, na\nzmíněných stránkách je k nalezení pouze 15 tutoriálů. Ta další\npětka tam také je, ale není odnikud odkázána. Stačí pouze změnit číslo\nv URL a jste tam :)</p>\n\n<p>Přejí příjemné studování.</p>\n\n<p>PS. Osobně se mi podobný způsob psaní aplikací úplně nezamlouvá, ale\npořád je to čistější než některé opičárny, které občas můžeme\npotkat ;)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:28:42.660-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Návody na tvorbu ASP.NET stránek",
  :published #inst "2006-06-27T10:07:21.770-00:00",
  :url "navody-na-tvorbu-asp-net-stranek",
  :category-url "asp-net-2-0.aspx",
  :id 161,
  :description
  "Perfektní návody na tvorbu ASP.NET stránek pro práci s daty",
  :category "ASP.NET 2.0",
  :tags ["aspnet"]},
 :182-atlas-icq-je-tu.aspx
 {:html
  "\n<p>Když jsem <a href=\"/weblog/115-rarous-v-atlasu.aspx\">nastupoval do\nAtlasu</a>, rozjížděl se projekt, o kterém se moc nemluvilo a spíš se\nvše drželo v tajnosti. Atlas jednal s ICQ o spolupráci. Stal se\nmediálním zástupcen pro český trh a od května se u českých ICQ klientů\nzobrazovala i naše reklama. Tím však spolupráce nekončí.</p>\n\n<p>Celou tu dobu se připravovalo technické zázemí na propojení Atlasu a\nICQ. Nyní můžeme nabídnou plně česky lokalizovaného klienta s napojením\nna služby Atlasu. Propojení se určitě neobešlo o některá úskalí,\nkterá mě vyprovokovala např. k napsání článk <a\nhref=\"/weblog/145-php-brzda-internetu.aspx\">PHP, brzda internetu?</a>. Na mě\nspadlo přepsání <a href=\"http://registrace.atlas.cz/\">registrace</a>, což\ntaky nebylo nic příjemného, ale nakonec se to snad povedlo :)</p>\n\n<p>Tak stahujte na <a href=\"http://www.icq.atlas.cz/\">icq.atlas.cz</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:14:30.110-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Atlas ICQ je tu",
  :published #inst "2006-09-26T14:26:34.717-00:00",
  :url "atlas-icq-je-tu",
  :category-url "jen-tak.aspx",
  :id 182,
  :description
  "Po měsících dřiny můžeme konečně nabídnout českým uživatelům ICQ klienta v češtině s napojením na naše služby.",
  :category "Jen tak",
  :tags ["atlas" "icq"]},
 :20-first-may.aspx
 {:html
  "\n<p>Včera bylo opravdu pěkně, po vydařených čarodějnicích, které jsme si\nmuseli zorganizovat na poslední chvíli úplně sami, jsme prožili další\nvýborný den. Uklidili jsme u hřiště, hráli pinec a večer jsme pak šli\ndo <a href=\"http://www.discodubnice.cz/\">Dubnice</a>. Tahákem večera byla <a\nhref=\"http://www.verona-music.cz/\">Verona</a>, ale nějak moc extra to nebylo,\nukázali se tam tak na 25 min a zase letěli. Ale to je fuk :) Nechal jsem si\nzahrát <strong>Gigi's Good Night</strong> a myslím, že to mělo úspěch.\nMožná budou i nějaký fotky.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:41:41.917-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "First May",
  :published #inst "2004-05-02T19:12:00.000-00:00",
  :url "first-may",
  :category-url "kamaradi.aspx",
  :id 20,
  :description "Něco slov o prvním máji.",
  :category "Kamarádi",
  :tags []},
 :21-neco-pro-cteni.aspx
 {:html
  "\n<p>Po dlouhé době vyšly na <a href=\"http://interval.cz/\">Intervalu</a> zase\nnějaké články, které mě zaujaly. Za prvé je to <a\nhref=\"http://interval.cz/clanky/jak-psat-css-prehledne-a-logicky/\">Jak psát CSS\npřehledně a logicky</a>, kde se dozvíte, jak byste mohli formátovat CSS, aby\nbylo lépe čitelné. Déle je to článek <a\nhref=\"http://interval.cz/clanky/webdesignerovy-poznamky-z-typografie/\">Webdesignerovy\npoznámky z typografie</a>, který vás zasvětí do tajů webové typografie.\nDoporučuji přečíst i hutnou diskusi k článku.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:44:58.260-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Něco pro čtení",
  :published #inst "2004-05-29T21:06:01.000-00:00",
  :url "neco-pro-cteni",
  :category-url "webdesign.aspx",
  :id 21,
  :description "Tipy pro čtení.",
  :category "Webdesign",
  :tags []},
 :449-parsovani-primitivnich-typu-znova-a-lepe.aspx
 {:html
  "\n<p>Způsobů, jak parsovat primitivní typy z texu, je celá řada. Každý typ\nmá svou statickou metodu <code>Parse</code>, která vyhodí výjimku, když se\njí to nepovede. Pak tu máme modul <code>Convert</code>, který dokáže\nparsovat poměrně bezpečně, ale ne vždy chceme dostávat\n<code>default</code> hodnoty, když se mu podstrčí nic.</p>\n\n<p>Občas zkrátka potřebujeme mít absenci nějaké hodnoty vyjádřenou\nv logice kódu. Proto často nezbývá než se vrhnout po hlavě do šíleného\nvzoru, který je v <acronym title=\"Base Class Library\">BCL</acronym>\nrozšířen jak mor v době temna – <code>TryParse</code>. Protože tyto\nmetody vznikly někdy v době, kdy si ještě mohlo <acronym\ntitle=\"Common Language Runtime\">CLR</acronym> o generikách nechat zdát, je\npráce s ní celkem neohrabaná a plná nepěkných věcí, jako\n<code>out</code> parametry nebo porušení základního objektového principu\n<em>tell don't ask</em>.</p>\n\n<pre\n><code class=\"language-csharp\">int? TryParse(string input) {\n  int result;\n  if (Int32.TryParse(input, out result)) return result;\n  return null;\n}</code></pre>\n\n<p>Tohle je jednoduchá ukázka, kterou jistě ve svém kódu najdete\nnespočetněkrát. Proč už něco takovýho není v BCL od verze 2?\nKaždopádně má to své mouchy, třeba teď to pro změnu <a\nhref=\"/weblog/447-zatocime-s-null.aspx\">vrací null</a>! A to jsme jeden\nproblém vyřešili zavedením jiného.</p>\n\n<p>Tak se necháme inspirovat u F#, které nemá podporu pro <code>out</code>\nparametry. Ten to řeší nějak tak:</p>\n\n<pre\n><code class=\"language-csharp\">Tuple&lt;bool, int&gt; TryParse(string input) {\n  int result;\n  bool success = Int32.TryParse(input, out result);\n  return Tuple.Create(success, result);\n}</code></pre>\n\n<p>Bohužel C# není jazyk, který by prvotřídně podporoval\n<code>Tuple</code>s. Můžeme se ptát proč, ale je to asi taky zbytečný.\nKaždopádně, nemáme problém s <code>null</code>, ale typ samotný nám toho\ntaky moc neřekne. Co je ten <code>bool</code>? Nevíme, dokud se nepodíváme\ndo dokumentace – kódu. Musí to jít i lépe! Maybe. ;)</p>\n\n<pre\n><code class=\"language-csharp\">Maybe&lt;int&gt; TryParse(string input) {\n  int result;\n  bool success = Int32.TryParse(input, out result);\n  return success ? result.ToMaybe() : new Nothing&lt;int&gt;();\n}</code></pre>\n\n<p>Nyní máme existenci hodnoty vyjádřenou na úrovni typu a můžeme s ní\nbezpečně pracovat. Můžeme využít funkcionální kompozice, a hodnotu,\npokud existuje, dále zpracovávat. Nikde (skoro), však nemusíme ověřovat,\njestli ji máme nebo ne. Kód se tak krásně vyčistí.</p>\n\n<p>Celé řešení můžeme nakonec pěkně generalizovat a vytvořit si\nvlastní modul pro parsování:</p>\n\n<pre\n><code class=\"language-csharp\">public static class ParseEx {\n  public delegate bool ParserDelegate&lt;T&gt;(string input, out T result);\n\n  public static Maybe&lt;T&gt; Parse&lt;T&gt;(string input, ParserDelegate&lt;T&gt; parser) {\n    T result;\n    bool isSuccess = parser(input, out result);\n    return isSuccess ? result.ToMaybe() : new Nothing&lt;T&gt;();\n  }\n\n  public static Maybe&lt;DateTime&gt; ParseDateTime(string input) {\n    return Parse&lt;DateTime&gt;(input, DateTime.TryParse);\n  }\n\n  public static Maybe&lt;int&gt; ParseInt32(string input) {\n    return Parse&lt;int&gt;(input, Int32.TryParse);\n  }\n}</code></pre>\n\n<p>Máme jednu parametricky polymorfní metodu, která nám umožňuje parsovat\nlibovolná data, pomocí předaného delegáta. Tu pak používáme\nk vytvoření specifických parsovacích metod, které nám umožní opět kód\npročistit.</p>\n\n<p>Kdybyste hledali implementaci <code>Maybe</code>, <a\nhref=\"https://gist.github.com/rarous/5355792\">najdete ji v tomhle gistu</a>\ni se spoustou šikovných extenzí.</p>\n\n<p>Toto řešení může mít u některých performance hunterů některé\nefekty, ze kterých by nemuseli klidně spát. Hlavně ty alokace na heapu,\nkdyž jsme mohli zůstat v klidu na zásobníku. No jo. V tohle případě je\nvšak zisk z čitelnosti a korektnosti o tolik řádů větší než pár\nušetřených cyklů levného výpočetního výkonu, že to snad ani nemá cenu\nzase v komentářích řešit, co? ;)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-04-23T17:12:24.767-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Parsování primitivních typů znova a lépe",
  :published #inst "2013-04-23T17:10:57.920-00:00",
  :url "parsovani-primitivnich-typu-znova-a-lepe",
  :category-url "moje-prace.aspx",
  :id 449,
  :description "Praktické využití těch šílených monád.",
  :category "Moje práce",
  :tags []},
 :410-o-vymysleni-kola.aspx
 {:html
  "\n<p>V pátek jsem si utvítl, že „Psát virtuální distribuovanej file\nsystém je challenge.“ a hned jsem dostal reakce, že jsem další v řadě a\nže znova vymýšlím kolo a další parafráze mých výroků.</p>\n\n<p>Jak to tedy je? :)</p>\n\n<h3 id=\"toc-challenge-pro-vas\">Challenge pro vás</h3>\n\n<p>Ukažte mi implementaci <code>VirtualPathProvider</code>u, který má\nsprávně vyřešené cachování a škáluje přes více než jeden webový\nfront-end.</p>\n\n<p>Když se vám to povede, veřejně mě můžete prohlásit za hlupáka,\nkterý neumí hledat a znovu vynalézá kolo. Když se vám to nepovede,\nmůžete se mě snažit uplatit, abych vám prozradil pikantní podrobnosti.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-11-15T13:49:05.040-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "O vymýšlení kola",
  :published #inst "2011-11-15T13:48:38.447-00:00",
  :url "o-vymysleni-kola",
  :category-url "moje-prace.aspx",
  :id 410,
  :description "a tak jak to vlastně bylo...",
  :category "Moje práce",
  :tags []},
 :390-progressive-may.aspx
 {:html
  "\n<p>Dlouho slibovaný odkládaný set s výbornými progressivními tracky v ne\nzas tak super provedení…</p>\n\n<div class=\"haudio\">\n\t<ol>\n\t\t<li class=\"item\"><span class=\"contributor\">Pryda</span> — <span\n\t\tclass=\"title\">Melo</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Adrian Lux</span> — <span\n\t\tclass=\"title\">Teenage Crime</span> (Axwell &amp; Henrik B Remode)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Faithless</span> — <span\n\t\tclass=\"title\">Not Going Home</span> (Eric Prydz Remix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">EDX</span> — <span\n\t\tclass=\"title\">Hoover</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Moguai</span> — <span\n\t\tclass=\"title\">Oyster</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Mark Knight</span> &amp; <span\n\t\tclass=\"contributor\">Funkagenda</span> — <span\n\t\tclass=\"title\">Antidote</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Miike Snow</span> — <span\n\t\tclass=\"title\">Silvia</span> (Sebastian Ingrosso &amp; Dirty South Remix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Pryda</span> — <span\n\t\tclass=\"title\">Emos</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Marc Marzenit</span> — <span\n\t\tclass=\"title\">Motor</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Mihalis Safras</span> — <span\n\t\tclass=\"title\">San Tropez</span> (Oxia Remix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Skylar</span> — <span\n\t\tclass=\"title\">Movin</span> (Joris Voorn Rejected Rave Dub)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Pryda</span> — <span\n\t\tclass=\"title\">Inspiration</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">King Unique</span> — <span\n\t\tclass=\"title\">2000000 Suns</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Pryda</span> — <span\n\t\tclass=\"title\">Viro</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Pryda</span> — <span\n\t\tclass=\"title\">Lift</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Adrian Lux</span> — <span\n\t\tclass=\"title\">Teenage Crime</span> (Axwell Remix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Joris Voorn</span> — <span\n\t\tclass=\"title\">The Secret</span></li>\n\t</ol>\n\n\t<p><span class=\"category\">dj set</span> <span class=\"contributor\">Alessio\n\tBusta</span> – <span class=\"title\">Progressive May</span></p>\n</div>\n<!--[if !IE]> -->\n \t\t\t<object type=\"application/x-shockwave-flash\"\ndata=\"http://www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-progressive-may%2F&amp;embed_uuid=fdf39e5b-5e55-41ff-9d4f-0c52b802dd5d&amp;stylecolor=&amp;embed_type=widget_standard\"\nwidth=\"100%\" height=\"160\">\n \t\t\t<!-- <![endif]-->\n \t\t\t<!--[if IE]>\n\t\t\t<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"\n\t\t\t  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\"\n\t\t\t  width=\"100%\" height=\"160\">\n\t\t\t  <param name=\"movie\" value=\"http://www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-progressive-may%2F&amp;embed_uuid=fdf39e5b-5e55-41ff-9d4f-0c52b802dd5d&amp;stylecolor=&amp;embed_type=widget_standard\" />\n\t\t\t<!--><!--dgx-->\n<param name=\"loop\" value=\"true\" />\n\n<param name=\"menu\" value=\"false\" />\n\n<param name=\"allowfullscreen\" value=\"true\" />\n\n<param name=\"flashvars\" value=\"\" />\n \t\t\t</object>\n \t\t\t<!-- <![endif]-->\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-10-08T09:10:05.707-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Progressive May",
  :published #inst "2010-06-06T09:01:05.317-00:00",
  :url "progressive-may",
  :category-url "muzika.aspx",
  :id 390,
  :description
  "Dlouho slibovaný odkládaný set se super progressivní muzikou v ne zas tak super provedení...",
  :category "Muzika",
  :tags ["alessiobusta" "progressive" "house"]},
 :155-patecni-stripky.aspx
 {:html
  "\n<p>Málem jsem se rozmázl o&#160;sloup. Pomalu přestává pršet. Je 0.35,\nsedím v&#160;tramvaji a přes zavlhčené sklo pozoruji míhající se světla\nlamp na Evropské třídě. <img class=\"right\"\nsrc=\"/data/obrazky/orosene_okno.jpg\" alt=\"Zapršené okno tramvaje\" /> Přestup\nna Hradčanské proběhl nečekaně rychle – čekala tam dvacítka. Schoval\njsem se pod stromem, ale stejně na mne kapalo. Na Štrosmajeráku prší,\nostatně jako celou cestu z&#160;T-Mobile arény. Rozloučil jsem se se Zuzkou,\nKubou a Dádisem a vyrazil směr postel. Čekání jsem si krátil\nprohlížením nafocených fotek, ale dlaždičky moc nehřály. Zuzka šla\nnajít kluky. Nakonec snad trefil. Mike šel na záchod, ale trochu špatným\nsměrem.</p>\n\n<p>Prolezli jsme tribunu, ale kluci nikde – tady je nemůžeme najít. Mike se\nnás snažil vyfotit, ale nějak mu to nefotilo – třikrát spadl na zem,\nnakonec se to snad ale povedlo. Po Stevově vystoupení jsem si dal dvě\nNestea, docela bodly, i&#160;když pořád cítím tu Whiskey. (1.05&#160;Teď\nvolal Mike, že už taky jde.) <img class=\"left\"\nsrc=\"/data/obrazky/steve_angello_1.jpg\" alt=\"Steve Angello live\" /> Stevův set\nbyl úžasný, přesně to, co jsem potřeboval: věci, co sem poznal (Eric\nPrydz feat. Adeva – In&amp;Out(Re-Mode), Röyksopp &#8211; What Else Is\nThere? (Trentemöller Remix), Eurythmix – Sweet Dreams (Steve Angello Bootleg\nMix), Deep Dish – Say Hello (Steve Angello &amp; Sebastian Ingrosso Remix),\nBuy Now – for sale, Steve Angello – Teasing Mr. Charlie, Steve Lawler –\nThat Sound (Steve Angello &amp; Sebastian Ingrosso Remix), Who’s Who – Not\nso Dirty, Who’s Who – Sexy Fuck, Steve Angello &#8211; Streight). Další\nvěci jsem taky znal, ale vypadla mi jména :D. Nabušený dvě hodiny,\nurčitě to za to stálo. Steve má můj respekt.</p>\n\n<p><img class=\"right\" src=\"/data/obrazky/steve_angello_2.jpg\"\nalt=\"Steve Angello live\" /> Šel jsem si ho dopředu vyfotit z&#160;blízka\n(zoom nestačil) a ňáká děvka se mi snažila vytáhnout z&#160;kapsy\npeněženky – zpravil to vražený loket do onoho prostoru. Přišel Paul van\nDyk a potřásl si pravicí se Stevem. Je vidět jak si to užívá, extrémní\nfáze ještě přes sampler prodlužuje a vytahuje do vejšek – nářez.\nPřišli jsme v&#160;čas, ještě Steve nehrál.</p>\n\n<p>Jakub se hned někde ztratil v&#160;davu a už jsme ho nenašli.\nZ&#160;hospody jdeme ke kasám – je vyprodáno, ale čekaj tam na nás kluci.\nSkočil jsem si na záchod – oni zatím zaplatili. Šel jsem do hospody pro\nségru a klucí. Lístek pro Zuzku jsem koupil za pjéťo od nějakých\nslováku, co se s&#160;nima seznámil Jakub. Pěkně chčije, ale už jsme\nu&#160;arény – pěkná fronta před vstupem. Za deset minut začíná Steve\na to musím stihnout. Vylejzáme na Štrosmajeráku a flašky už jsou prádný\n– „Ty lidi se na nás koukaj. Já se stydím,“ pronesl Mike při výlezu\nze šaliny. Docela ostuda, ale to je fuk. Jakub bouchnul šáňo, za chvíli to\nsnad pojede – prší (ale já tam cítím, chčije).</p>\n\n<ul>\n\t<li><a\n\thref=\"http://axwell.proboards38.com/index.cgi?action=display&amp;board=general&amp;thread=1148815664&amp;page=1\">Diskuse\n\tu&#160;Axwella</a></li>\n\n\t<li><a href=\"/galerie/2006-05-26_Paul_van_Dyk/default.aspx\">Fotoalbum\n\tz&#160;akce</a></li>\n</ul>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-07-26T11:03:06.770-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Páteční střípky",
  :published #inst "2006-05-28T09:18:35.707-00:00",
  :url "patecni-stripky",
  :category-url "jen-tak.aspx",
  :id 155,
  :description
  "Střípky z páteční akce. Z nějakého podivného důvodu ve stylu LIFO.",
  :category "Jen tak",
  :tags []},
 :195-drobne-novinky-v-okolnim-webu.aspx
 {:html
  "\n<p>Weblogy.cz mají nové logo. Většině komentujících se nelíbí,\nněktří ho ani nepovažují za logo :) Většina úspěšných log je\npostavena na jednoduchosti a většinou jsou textová (NOKIA, SIEMENS, SONY,\nMICROSOFT, IBM a mnoho dalších). Weblogy se snažily jít podobnou cestou\nnavíc s vtipem sobě vlastním – parodie W3C. Takže si změňte své\nbookmarky a favorities na <a href=\"http://www.w3blogy.cz/\">www.W3Blogy.cz</a> a\nvychutnejte si otočenou trojku plnými doušky – někteří z vás ji\nmožná i pochopí ;) Změna loga není a ani nebude jedinou změnou na této\nslužbě. Již předtím došlo k lehkému faceliftu designu, kdy weblogy\nchvílemi připomínaly známou <a href=\"http://www.dgx.cz/trine/\">La Trine</a>,\nkterá v záchvatu originality raději redesignovala také :D</p>\n\n<p>Na <a href=\"http://www.atlas.cz/\">Atlasu</a> došlo k lehkému rozšíření\npersonalizace o možnost výběru barevných skinů. Krom klasické modré, si\nnyní můžete novou homepage vychutnávat i v zelené, oranžové a\nčervené. Bohužel, můj oblíbený černý skýn, nebyl nasazen, škoda, snad\nse na něj ještě v budoucnu dostane… Když už jsem u Atlasu, neustále\n<strong>sháníme posily do našeho týmu!</strong> Pokud umíte C#, ASP.NET, MS\nSQL a <strong>jste v tom dobří,</strong> chcete pracovat v opravdu\nneformálním prostředí, společně s tropickým šílencem <a\nhref=\"http://www.mraveniste.org\">Honzou Bienem</a>, slečnou <a\nhref=\"http://pokec.atlas.cz/blogy/mapy/\">Veronikou</a>, <a\nhref=\"http://management.blog.lupa.cz/\">Petrem Šnajdrem</a>, <span\ntitle=\"Daniel Steigerwald\">strejdou</span> a mnoha dalšími internetovými\nprofesionály, dejte vědět, třeba na mejl <a\nhref=\"mailto:rarous&#64;gmail.com\">rarous&#64;<!---->gmail.com</a>…</p>\n\n<p>PS. Přepínání barviček na Atlasu najdete v pravém horním rohu ;)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:47:43.777-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Drobné novinky v okolním webu",
  :published #inst "2006-11-24T14:40:53.663-00:00",
  :url "drobne-novinky-v-okolnim-webu",
  :category-url "webdesign.aspx",
  :id 195,
  :description "Pár postřehů z dění posledních dnů.",
  :category "Webdesign",
  :tags ["atlas" "homepage" "weblogy"]},
 :143-skoleni-oop-uml-a-navrhovych-vzoru.aspx
 {:html
  "\n<p>Poslední tři dny jsem se účastnil <a\nhref=\"http://blog.renestein.net/PermaLink,guid,bacdc2f2-68ca-428b-8489-98a31e946b27.aspx\">školení\nOOP, UML a návrhových vzorů</a>, které pořádá <a\nhref=\"http://blog.renestein.net/\">René Stein</a>. Na školení jsem se dostal\nčirou náhodou a dověděl jsem se o&#160;tom až den před zahájením –\nmůj kolega Filip se nechal zapsat právě na tento kurz, ale vzhledem\nk&#160;tomu, že zrovna dokončuje důležitý projekt, nemohl se zúčastnit.\nProtože již byl kurz zaplacený, byl jsem nakonec vyslán já – tímto\nděkuji ;)</p>\n\n<p>Začnu nejdříve tím, co se mi na kurzu nelíbilo: nelíbilo se mi, že pro\ntři učebny je pouze jedna toaleta v&#160;podobě <span\ntitle=\"samozřejmě záchodové\">jedné mísy</span>. Tím výčet mé\nnespokojenosti končí :)</p>\n\n<p>René se ze mne snažil vypáčit nějaký feedback, ale záměrně jsem\nmlžil a nechal jsem si ho až na tento zápisek, který píšu po shlédnutí\nkompletní sady přednášek. Školení pro mě bylo přínosem, ať už proto,\nže jsem se setkal se zajímavými lidmi z&#160;oboru nebo proto, že jsem\npoznal příjemnou pizzerii, která leží jen pár metrů od míst, která\njsme skoro denně navštěvoval několik let (2,5&#160;roku FELace na katedře\npočítačů :D). Samozřejmě, že největším přínosem pro mě byl obsah\npřednášek, kdy se René snaží v&#160;prvním dni projet OOP\ns&#160;návazností na UML, zbořit některé mýty – <a\nhref=\"/clanek/114-kladivo-na-carodejnice.aspx\">to já rád</a> – a srovnat\nznalosti posluchačů na úroveň, se kterou budou schopni vstřebávat\ninformace prezentované v&#160;následujících dnech. Musím říct, že je to\npěkná <em>nalejvárna</em> a to, co jiní vykládají celé semestry, René\nzvládne za tři dny a má to větší efektivnost. Výhodou tohoto kurzu je\nspousta praktických ukázek a výměna zkušeností z&#160;praxe lektora, tak\núčastníků kurzu.</p>\n\n<p>Vzhledem k&#160;tomu, že je školení velice přínosné, musím ho\ndoporučit všem, kdož mají zájem navrhovat a psát kvalitní objektové\naplikace. René taky chystá návazný kurz, který bude zaměřen více na\npraktickou stránku věci s&#160;využitím znalostí právě z&#160;tohoto\nkurzu. Nevím, jestli neprozradím nějaké tajemství, ale můžeme se těšit\ni&#160;na knihu věnovanou této problematice. <strong>Díky\nRené.</strong></p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-05-05T21:14:09.547-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Školení OOP, UML a návrhových vzorů",
  :published #inst "2006-05-05T21:10:24.377-00:00",
  :url "skoleni-oop-uml-a-navrhovych-vzoru",
  :category-url "moje-prace.aspx",
  :id 143,
  :description
  "Poslední tři dny jsem se účastnil školení OOP, UML a návrhových vzorů. Zde jsou mé dojmy.",
  :category "Moje práce",
  :tags []},
 :301-stack-overflow-socialni-studnice-znalosti-pro-vyvojare.aspx
 {:html
  "\n<p>Tento týden byla spuštěna do veřejného beta provozu nová studnice\nznalostí pro vývojáře s romantickým názvem <a\nhref=\"http://www.stackoverflow.com/\">Stack Overflow</a>.</p>\n\n<p>Tento web se veze na sociální vlně. Je to kombinace FAQ, Wiki a Diggu.\nUmožňuje hlasování o relevantnosti odpovědí, tagování, gravatary,\nkomentáře, prostě všechny tydlety cool 2.0 věci. Zatímto zajímavám\npočinem pro vývojáře stojí dvě docela známé a uznávané osobnosti\nv blogosféře a to <a href=\"http://www.codinghorror.com/\">Jeff Atwood</a>\n(Coding Horror) a <a href=\"http://www.joelonsoftware.com/\">Joel Spolsky</a>\n(Joel on Software).</p>\n\n<p>Tak honem šup šup se na něco zeptat nebo odpovědět, úspěch této\naplikace závisí pouze na dostatečně relevantích přispěvatelích.</p>\n\n<p>PS. technická poznámka, celé je to postaveno pomocí <a\nhref=\"/weblog/tag/mvc.aspx\">ASP.NET MVC</a> frameworku.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-25T08:08:32.160-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Stack Overflow - sociální studnice znalostí pro vývojáře",
  :published #inst "2008-09-19T17:29:09.140-00:00",
  :url "stack-overflow-socialni-studnice-znalosti-pro-vyvojare",
  :category-url "asp-net-2-0.aspx",
  :id 301,
  :description
  "Tento týden byla spuštěna do veřejného beta provozu nová studnice znalostí pro vývojáře s romantickým názvem Stack Overflow.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "mvc" "web20"]},
 :357-service-locator.aspx
 {:html
  "\n<p>Znáte vzor Service Locator? Pravděpodobně jste s ním setkali\nnespočetněkrát aniž byste o tom věděli.</p>\n\n<h3 id=\"toc-update\">Update</h3>\n\n<p>Service locator je <strong>code smell</strong>. Následující řádky jsou\nzajímavé jako programátorské cvičení, nedoporučuji ho však používat\nv praxi. Třída by měla mít co nejméně závislostí a pokud chceme\nzredukovat počet parametrů konstruktoru, není následující řešení\nřešením vhodným! Měli bychom přemýšlet o změně návrhu.</p>\n\n<hr />\n\n<p><a\nhref=\"http://martinfowler.com/articles/injection.html#ADynamicServiceLocator\">Service\nLocator</a> je návrhový vzor, který je součástí techniky dependency\ninjection / inversion of control. Jeho úkolem je dodat hotové instance služeb\nna vyžádání. Můžeme si ho představit nějak tak:</p>\n\n<pre\n><code class=\"language-csharp\">public interface IServiceLocator {\n  TService GetService&lt;TService&gt;();\n  IEnumerable&lt;TService&gt; GetServices&lt;TService&gt;();\n}</code></pre>\n\n<p>Jeho úkolem je poskytnout službu daného typu nebo všechny služby, které\nsplňují danný kontrakt. K čemu je to dobré? Dobré je to především pro\nkonfigurovatelné a rozšiřitelné aplikace. Řekněme, že budu chtít do\nsvého redakčního systému přidat možnost oznámení na e-mail, když někdo\nzadá komentář. První řešení bude nejspíš to přímočaré:</p>\n\n<pre\n><code class=\"language-csharp\">public class CommentsController : Controller {\n  public ActionResult AddComment(Comment comment) {\n    // validace a persistence komentáře\n\n    var notificator = new EmailNotificator();\n    notificator.send(new CommentNotification(comment));\n\n    return Json(comment);\n  }\n}</code></pre>\n\n<p>Proč nepřidat možnost odesílání SMSek? Tak jo:</p>\n\n<pre\n><code class=\"language-csharp\">public class CommentsController : Controller {\n  public ActionResult AddComment(Comment comment) {\n    // validace a persistence komentáře\n\n    var emailNotificator = new EmailNotificator();\n    emailNotificator.send(new CommentNotification(comment));\n\n    var smsNotificator = new SmsNotificator();\n    smslNotificator.send(new CommentNotification(comment));\n\n    return Json(comment);\n  }\n}</code></pre>\n\n<p>Skvěle, teď ještě posílání na <a\nhref=\"http://www.twitter.com/\">Twitter</a> nebo na <a\nhref=\"http://friendfeed.com/\">FriendFeed</a> a akce nám krásně roste… :)\nTakže se oprostíme od toho, že dopředu víme, kudy všudy se chceme nechat\ninformovat o nových komentářích a využijeme Service Locator:</p>\n\n<pre\n><code class=\"language-csharp\">public class CommentsController : Controller {\n\n  private readonly IServiceLocator _serviceLocator;\n\n  public CommentsController(IServiceLocator serviceLocator) {\n    _serviceLocator = serviceLocator;\n  }\n\n  public ActionResult AddComment(Comment comment) {\n    // validace a persistence komentáře\n\n    var newCommentNotification = new CommentNotification(comment);\n    var notificators = _serviceLocator.GetServices&lt;INotificator&gt;();\n    notificators.Each(notificator =&gt; notificator.send(newCommentNotification));\n\n    return Json(comment);\n  }\n}</code></pre>\n\n<p>Tím jsme také vyřešili problém vznikající při <strong>constructor\ninjection</strong> a to rostoucí počet parametrů konstruktoru s rostoucími\nzávislostmi. Protože service locator nám dokáže obstarat potřebné\nslužby, nemusíme je injektovat zvlášť.</p>\n\n<p>Ještě se vrátím k poznámce v úvodu, kde jsem psal, že jste se\nurčitě s tímto vzorem setkali, aniž byste si toho byli vědomi. O co jde?\nO Singleton! :) Singleton je speciální případ service locatoru, který\nvrací službu jediného typu s řízeným životním stylem jedináčka.</p>\n\n<p>To je všechno pěkné, ale jak tedy service locator ví, jak ty služby\nzískat a jakej mají životní styl? Pokud používáte IoC kontejner, odpověd\nje snadná: service locator si udělám jako fasádu nad kontejnerem a tu do\nněj zaregistrujeme. Pokud žádný IoC kontejner nepoužíváte, tak si honem\nnějaký sežeňte! :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-04-19T15:15:49.813-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Service Locator",
  :published #inst "2009-05-30T11:44:44.580-00:00",
  :url "service-locator",
  :category-url "asp-net-2-0.aspx",
  :id 357,
  :description
  "Znáte vzor Service Locator? Pravděpodobně jste s ním setkali nespočetněkrát aniž byste o tom věděli.",
  :category "ASP.NET 2.0",
  :tags ["servicelocator" "pattern" "ioc"]},
 :64-texy-web-service-ws.aspx
 {:html
  "\n<p>Již dlouhou dobu používám <a href=\"http://texy.info/\">Texy!</a>\nv&#160;několika webových projektech, které používají redakční systém\n<a href=\"http://www.textpattern.com\">TextPattern</a>. Na syntax Texy! jsem si\nzvykl a líbí se mi, jak jednoduše dostanu XHTML validní kód. Už\nv&#160;začátku jsem chtěl přepsat Texy! do dotnetu, abych ho mohl použít\ni&#160;v mém redakčním systému Gryphoon. Jenže Texy! má velice rozsáhlé\nzdrojové kódy a tak se mi do toho moc nechtělo, i&#160;když by to byla\nvelice zajímavá zkušenost. Jednoho krásného dne mě však napadlo, že by\nbylo docela zajímavé udělat z&#160;Texy! webovou službu, ke které může\npřistupovat v&#160;podstatě kdokoliv.</p>\n\n<p>Nakonec jsem se rozhodl službu napsat sám a něco se přiučit v <a\nhref=\"http://www.php.net\" title=\"PHP Hypertext Processor\">PHP</a> (né že by\nto byla moje priorita, ale každá zkušenost dobrá). Zjistil jsem, že PHP\n4.x nemá podporu pro <a\nhref=\"http://www.w3.org/TR/2003/REC-soap12-part0-20030624/\"\ntitle=\"Simple Object Access Protocol\">SOAP</a> volání, tak jsem našel\nknihovnu <a href=\"http://sourceforge.net/projects/nusoap/\"\ntitle=\"stránky projektu nuSOAP\">nuSOAP</a>. Knihovna nuSOAP je univerzální\nknihovnou jak pro WS klienty, tak pro WS servery. Jedinou podivností této\nknihovny je, že z&#160;nějakého zvláštního důvodu převádí\nUTF-8&#160;na ISO-8859&#8211;1 a pak zpět, čímž dojde ke ztrátě znaků\ns&#160;diakritikou.</p>\n\n<p>Takže je potřeba v&#160;této knihovně udělat několik změn, aby\nsprávně fungovala čeština. Nejprve je nutné upravit funkci\n<strong>character_data</strong> ve třídě <em>soap_parser</em>.\nNásledující kód prostě zakomentujte:</p>\n\n<pre><code class=\"language-php\">if($this-&gt;decode_utf8) {\n  $data = utf8_decode($data);\n}</code></pre>\n\n<p>Dále je potřeba nastavit kódování odchozí zprávy na UTF-8, to se\ndělá v&#160;deklaracích třídy <em>nusoap_base</em>, řádek</p>\n\n<pre><code class=\"language-php\">var $soap_defencoding = 'ISO-8859-1';</code></pre>\n\n<p>Změňte na:</p>\n\n<pre><code class=\"language-php\">var $soap_defencoding = 'UTF-8';</code></pre>\n\n<p>Tím by měly být problémy se ztrátou českých znaků vyřešeny. Další\nnutnou knihovnou je samotná <a\nhref=\"http://www.texy.info/cz/download\">knihovna Texy!</a>. No a nyní se\ndostáváme k&#160;tomu nejdůležitějšímu &#8211; službě samotné.</p>\n\n<pre><code class=\"language-php\">&lt;?php\n\n/*  Texy Web Service\n *  ================\n *\n *  Provides SOAP interface for Texy! syntax convertor.\n *  Author: Aleš Roubíček -rarous- (rarous@seznam.cz)\n *\n */\n\nrequire_once(\"texy-compact.php\");  // knihovna Texy!\nrequire_once(\"nusoap.php\"); // knihovna nuSOAP\n\n$ns = \"http://texy.info\"; // prostor názvů služby\n\n$server = new soap_server();\n$server-&gt;configureWSDL('TexyConverter', $ns); // název webové služby\n$server-&gt;wsdl-&gt;schemaTargetNamespace = $ns;\n\n// zveřejnění metody s jejími parametry\n$server-&gt;register(\n  'PrevedDoXhtml',\n  array('text' =&gt; 'xsd:string'),\n  array('return' =&gt; 'xsd:string'),\n  $ns\n);\n\n$server-&gt;register(\n  'PrevedDoXhtmlR',\n  array('text' =&gt; 'xsd:string',\n    'utf' =&gt; 'xsd:boolean',\n    'trust' =&gt; 'xsd:boolean',\n    'headingLevel' =&gt; 'xsd:integer'\n  ),\n  array('return' =&gt; 'xsd:string'),\n  $ns\n);\n\n// funkce pro základní formátování s natvrdo nastavenými vlastnostmi\n// input string text – text v Texy! syntaxu\n// return string html – vrací XHTML kód\nfunction PrevedDoXhtml($text) {\n  $texy = &amp;new Texy();\n  $texy-&gt;utf = true;\n  $texy-&gt;trustMode();\n  $texy-&gt;headingModule-&gt;top = 3;\n  $html = $texy-&gt;process($text);\n  return $html;\n}\n\n// funkce pro základní formátování s volitelnými vlastnostmi\n// input string text – text v Texy! syntaxi\n// input boolean utf – má Texy! pracovat s UTF?\n// input boolean trust – má Texy! pracovat v důvěryhodném režimu nebo v bezpečném\n// input integer headingLevel – nejvyšší úroveň nadpisu\n// return string html – vrací XHTML kód\nfunction PrevedDoXhtmlR($text, $utf, $trust, $headingLevel) {\n  $texy = &amp;new Texy();\n  $texy-&gt;utf = $utf;\n  if($trust) $texy-&gt;trustMode();\n  else $texy-&gt;safeMode();\n  $texy-&gt;headingModule-&gt;top = $headingLevel;\n  $html = $texy-&gt;process($text);\n  return $html;\n}\n\n$server-&gt;service($HTTP_RAW_POST_DATA);\n\n?&gt;</code></pre>\n\n<p>Toť vše drazí čtenáři. Vlastně ještě ne, tohle je první\npříspěvek na tomhle blogu, který je formátován pomocí Texy!</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Texy! Web Service (WS)",
  :published #inst "2005-08-02T18:40:00.000-00:00",
  :url "texy-web-service-ws",
  :category-url "webove-sluzby.aspx",
  :id 64,
  :description "",
  :category "Webové služby",
  :tags []},
 :423-proc-nemam-rad-coffeescript.aspx
 {:html
  "\n<p>Nepopírám, že CoffeeScript má některé featury, které jsou zajímavé.\nPro mně je však nepřehledný. <a\nhref=\"http://estejs.tumblr.com/post/29175863516/why-coffeescript\">Dan ve svém\nblogu píše</a> pár důvodů, proč CoffeeScript ano:</p>\n\n<blockquote>\n\t<dl>\n\t\t<dt>My arguments for CoffeeScript</dt>\n\n\t\t<dd>reduction of noise in code, indenting is enough, we don’t need (), {}\n\t\tand ;</dd>\n\n\t\t<dd>enforces consistent code style</dd>\n\n\t\t<dd>beautiful class definition</dd>\n\n\t\t<dd>less typing = less typos</dd>\n\n\t\t<dd>+zilion little big details</dd>\n\t</dl>\n</blockquote>\n\n<p>Zajímavé. Tohle jsou vlastně moje body, proč CoffeeScript ne. :)</p>\n\n<h3 id=\"toc-1-redukce-sumu\">1. Redukce šumu</h3>\n\n<p>Šum považuju za špatný, ovšem. C-like jazyky jsou plné šumu, který\nCoffeeScript zdánlivě odstraňuje. Jenže zdání klame. CoffeeScrit je plný\n„bílého šumu“, který je stejně špatný jako každý jiný šum. Náš\nmozek je z mnoha hodin matematiky zvyklý na matematická znaménka, dokáže\ns nimi pracovat mnohem lépe než se slovy. Správně vložená\nzávorka/operátor je dobro.</p>\n\n<h3 id=\"toc-2-jednotny-styl\">2. Jednotný styl</h3>\n\n<p>Někdo preferuje potlačení idividualit, preferuje uniformitu, jiný nikoli.\nJenže ani v případě CoffeeScriptu není konzistence nikterak závratná.\nTam, kde skončili náboženské boje o závorky, tam nastoupili boje\no odsazování. Někdo preferuje taby, jiný mezery. Další sází kód do\ntabulkového layoutu. Stejnej shit.</p>\n\n<h3 id=\"toc-3-definice-tridy\">3. Definice třídy</h3>\n\n<p>Třídy v JavaScriptu nejsou! Je to prototypový jazyk. Tak to kurva už\npřijměte. ;) Pokud ale fakt třídy nutně potřebujete, použijte <a\nhref=\"http://code.google.com/p/traceur-compiler/\">Traceur</a>, což je\npřekladač z ECMAScriptu 6. BTW <a\nhref=\"http://blog.jetbrains.com/webide/2012/04/webstorm-4-0-in-harmony-with-ecmascript/\">Webstorm\nho má</a> od verze 4 integrovaný.</p>\n\n<h3 id=\"toc-4-mene-psani\">4. Méně psaní</h3>\n\n<p>No, vsadim se, že s CodeRushem a Intellisense toho napíšu mnohem mnohem\nmíň a s menší chybovostí než v CoffeeScriptu. (Platí jak pro C# tak pro\nJavaScript. Ostatně asi i pro WebStorm. :))</p>\n\n<h3 id=\"toc-5-a-ty-detaily\">5. A ty detaily</h3>\n\n<p>Jak se říká tisíckrát nic umořilo vola. Jak byl Dan z počátku ke\nCoffeeScriptu skeptický, mně celkem nadchl. Naopak, jak jsem postupně viděl\nspoustu drobných detailů, ztratil u mně zájem a podporu. Což je celkem\nzajímavý, protože něco podobnýho <a\nhref=\"http://rarous.net/weblog/396-muj-pohled-na-fsharp-se-meni.aspx\">už jsem\npřed tím taky zažil, ale obráceně…</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-08-11T09:39:02.690-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Proč nemám rád CoffeeScript",
  :published #inst "2012-08-11T09:26:11.903-00:00",
  :url "proc-nemam-rad-coffeescript",
  :category-url "moje-prace.aspx",
  :id 423,
  :description "Muselo to ven. :)",
  :category "Moje práce",
  :tags []},
 :50-noisemaker-rules.aspx
 {:html
  "\n<p>Chlapci z&#160;labelu NoiseMaker pod vedením <a\nhref=\"http://www.ggdag.com\">Gigiho D'Agostina</a> se opět vytáhli! Ve\nčtvrtek vyšel nový singl <cite>DJ Pandolfiho</cite> <strong>Forever</strong>\na <cite>Elettrogangu</cite> <strong>Once upon the time</strong>. Oba sigly jsou\ndíla velice zdařilá, ale to co příjde již brzo je velice zdrcující :)\nSchválně si poslechněte na <a\nhref=\"http://www.gigidagostino.com\">www.gigidagos&#173;tino.com</a> ukázky (?)\nnových věcí, které nás, doufám, čekájí na nové kompilaci\n<strong>Laboratorio 2</strong>. Připravme se na <em\ntitle=\"Lento Violento\">pomalé rozleptání</em> touto deskou.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:55:20.300-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "NoiseMaker rules",
  :published #inst "2005-02-19T00:00:00.000-00:00",
  :url "noisemaker-rules",
  :category-url "muzika.aspx",
  :id 50,
  :description "",
  :category "Muzika",
  :tags []},
 :398-pryc-se-stromecky.aspx
 {:html
  "\n<p>Blíží se Vánoce, čas stresu a shonu za nejdražšími Vánočními\ndárky, pro naše nejdražší. Čas, kdy se ve velkém mordují kapři (navíc\nna veřejnosti, no fůj!) a kácí se stromky. Ano, ty které potom ověsíme\nnejrůznějšími koulemi a řetězy, aby pak několik týdnů opadávalo\njehličí a vůbec. O tomhle ale psát nechci. :)</p>\n\n<p>Dneska se podíváme na jiný úkaz. A to na problematiku zanořování\nkódu, který ve výsledku vypadá jako stromečky. (Pokud jste takový kód\nještě neviděli, což pochybuju, tak ukázku najdete třeba tady v sekci <a\nhref=\"http://blog.maartenballiauw.be/post/2009/05/20/ASPNET-MVC-Domain-Routing.aspx\">Dark\nMagic</a>.)</p>\n\n<h3 id=\"toc-v-cem-je-problem\">V čem je problém?</h3>\n\n<p>Možná si říkáte, „co to ten Roubíček zase vymejšlí? Vždyť\ntakovej kód je přece v pořádku,“ (tj. dělá, to, co má.) „A navíc\nnemusíme chodit do lesa, protože máme stromečky pořád na očích!“ To je\nfakt. Jenže, ruku na srdce, dokážete odhadnout na první pohled, co takový\nkód vlastně dělá? Moc asi ne. A proč? Protože <strong>pět</strong>\núrovní zanoření (nepočítám namespace, class ani metodu) je už\ntrochu moc.</p>\n\n<p>Jak moc? No hrozně moc. Fakt! Ono se to totiž dá krásně změřit, např.\npomocí metriky <a\nhref=\"http://en.wikipedia.org/wiki/Cyclomatic_complexity\">Cyclomatic\ncomplexity</a>.</p>\n\n<div><img src=\"/data/obrazky/cyclomatic.png\" alt=\"\" /></div>\n\n<p>Když se podíváme na tuto metriku u ukázkového příkladu, zjistíme,\nže metoda <code>GetRouteData</code> dosahuje hodnoty <strong>17</strong>. Co to\nznamená? Když si přečtete odkazovaný popis metriky, dozvíte se také, že\njejí hodnota určuje míru možného výskytu chyb. Čím větší je\ncyklomatická komplexita, tím více toho modul dělá a zvyšuje se riziko\npřehlédnutých chyb. Doporučuje se mít komplexitu do deseti a tady tuto\nhodnotu překračujeme takřka dvojnásobně.</p>\n\n<blockquote>\n\t<p>It smells like refactoring time!</p>\n</blockquote>\n\n<h3 id=\"toc-refaktorovat-refaktorovat-refaktorovat\">Refaktorovat, refaktorovat,\nrefaktorovat</h3>\n\n<p>Jednoduše jsme pomocí metriky odhalili kandidáta, kde budeme kácet\nstromy. Když se podíváme pozorně na ukázkový příklad, můžeme si\nvšimnout bloků kódu, které začínají komentářem. Budu se opakovat, ale\n<a href=\"/weblog/361-nepiste-zbytecny-kod.aspx\">nepište zbytečný kód</a>!\nTohle jsou jasné samostatné metody. Použijeme tedy refaktoring <code>Extract\nmethod</code>. Po extrahování čtyř metod, už se nám metoda vejde na jednu\nobrazovku a cyklomatická komplexita spadne na trojku. Takřka na jednu\nšestinu!</p>\n\n<p>Huh. A to je teprve začátek.</p>\n\n<p>Po prvním kole vypadá výsledek asi tak:</p>\n\n<pre\n><code class=\"language-csharp\">public override RouteData GetRouteData(HttpContextBase httpContext) {\n  // Build regex\n  domainRegex = CreateRegex(Domain);\n  pathRegex = CreateRegex(Url);\n  // Request information\n  string requestDomain;\n  string requestPath;\n  RequestInformation(httpContext, out requestDomain, out requestPath);\n  // Match domain and route\n  Match domainMatch = domainRegex.Match(requestDomain);\n  Match pathMatch = pathRegex.Match(requestPath);\n  // Route data\n  RouteData data = null;\n  if (domainMatch.Success &amp;&amp; pathMatch.Success) {\n    data = new RouteData(this, RouteHandler);\n    AddDefaultsFirst(data);\n    IterateMatchingDomainGroups(domainMatch, data);\n    IterateMatchingPathGroups(pathMatch, data);\n  }\n  return data;\n}</code></pre>\n\n<p>Není to žádná nádhera, ale je mnohem přehlednější, než originál.\nA v řeči čísel:</p>\n\n<div><img src=\"/data/obrazky/cyclomatic-2.png\" alt=\"\" /></div>\n\n<h3 id=\"toc-rozpletame-podminky\">Rozplétáme podmínky</h3>\n\n<p>Tak, snížili jsme komplexitu metody, ale tiše nám narostla komplexita\ntřídy. Klidně můžeme pokračovat v cestě, to zvládneme později. Teď se\nzaměříme na ty velký šestky. Na první pohled cyklus se spoustou\nzanořených podmínek. Pryč s nimi! Teď přijde na řadu refaktoring\n<code>Flatten Conditional</code> a z vše objímajícího\n<code>if</code>u uděláme jen guarda. Dále tu mám dva zanořený\n<code>if</code>y? Proč, když je můžeme logicky spojit operátorem\n<code>&amp;&amp;</code>? Směle do toho! Pro změnu použijeme refaktoring\n<code>Combine Conditionals</code> a vytvoříme jednu dlouhou a ošklivou\npodmínku…</p>\n\n<p>Čas na refaktoring <code>Extract method</code> a podmínku pěkně\nsmysluplně pojmenovat. Po pár magických kombinacích kláves se nám\nz týhle zrůdičky:</p>\n\n<pre\n><code class=\"language-csharp\">private static void IterateMatchingPathGroups(Match pathMatch, RouteData data) {\n  for (int i = 1; i &lt; pathMatch.Groups.Count; i++) {\n    Group group = pathMatch.Groups[i];\n    if (group.Success) {\n      string key = pathRegex.GroupNameFromNumber(i);\n      if (!string.IsNullOrEmpty(key) &amp;&amp; !char.IsNumber(key, 0)) {\n        if (!string.IsNullOrEmpty(group.Value)) {\n          data.Values[key] = group.Value;\n        }\n      }\n    }\n  }\n}</code></pre>\n\n<p>Stane opět poměrně snadno pochopitelný kód:</p>\n\n<pre\n><code class=\"language-csharp\">private static void IterateMatchingPathGroups(Match pathMatch, RouteData data) {\n  for (int i = 1; i &lt; pathMatch.Groups.Count; i++) {\n    Group group = pathMatch.Groups[i];\n    if (IsNotMatch(group))\n      continue;\n\n    string key = pathRegex.GroupNameFromNumber(i);\n    if (IsInvalidKeyOrValue(group, key))\n      continue;\n\n    data.Values[key] = group.Value;\n  }\n}</code></pre>\n\n<p>Navíc, když se teď na ten kód podíváme, zjistíme, že se ty původní\nšestky (z kterých už jsou čtyřky) liší jen v tom, že používají\nkaždá jinou členskou proměnou, naštěstí stejného typu. Tak jdeme zase\nrefaktorovat. :) Nejprve si tedy tuto proměnou uložíme lokálně na začátku\nmetody a ze zbytku extrahujeme metodu novou s jedním parametrem navíc.</p>\n\n<p>U druhý čtyřky už to dělat nemusíme, páč výsledný extrakt z té\nprvní je plně vyhovující našim potřebám a tak ho zavoláme jen s jiným\nparametrem. Ze dvou čtyřek máme jednu a dvě jedničky. A komplexita třídy\nse nám vrátila k původní hodnotě. Ano, máme tu teď spoustu malých\nmetod, které ale mají jasný účel. A když se podíváme blíž, zjistíme,\nže můžeme úplně v klidu některé z nich extrahovat no úplně nové\ntřídy. Ale to už je na jinou pohádku.</p>\n\n<p>Stromečky jsou totiž fuč. :)</p>\n\n<p>PS. Zmíněné refaktoringy a vizualizace metrik jsou součásti skvělého\nproduktu <a\nhref=\"http://www.devexpress.com/Products/Visual_Studio_Add-in/Refactoring/\">Refactor\nPro!</a> nebo samotné refactoringy v neplacené verzi <a\nhref=\"http://www.devexpress.com/Products/Visual_Studio_Add-in/CodeRushX/\">Code\nRush Xpress</a>.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-12-21T18:57:00.877-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pryč se stromečky!",
  :published #inst "2010-12-21T16:44:43.483-00:00",
  :url "pryc-se-stromecky",
  :category-url "asp-net-2-0.aspx",
  :id 398,
  :description "Malá předvánoční agitace za lepší svět. ",
  :category "ASP.NET 2.0",
  :tags ["refactoring"]},
 :12-zajimave-cteni.aspx
 {:html
  "\n<p>Na DevNetu vyšly zajímavé články pro webdesignery začínající\ns CSS.</p>\n\n<ul>\n\t<li><a\n\thref=\"http://www.adobe.com/devnet/dreamweaver/articles/css_gradually.html\">Gradually\n\tImplementing CSS in Your Site</a></li>\n\n\t<li><a\n\thref=\"http://www.adobe.com/macromedia/events/max/sessions/sa302w.html\">CSS\n\tKiller Tips for Dreamweaver</a></li>\n</ul>\n\n<p>Dále na intervalu vyšel článek o tvorbě layoutu, i když s nim\núplně nesouhlasím, tak je to zajímavé čtení.</p>\n\n<ul>\n\t<li><a\n\thref=\"http://interval.cz/clanky/tvorba-layoutu-webu-teoreticky-uvod/\">Tvorba\n\tlayoutu webu – teoretický úvod</a></li>\n\n\t<li><a\n\thref=\"http://interval.cz/clanky/tvorba-layoutu-webu-prakticky-prehled/\">Tvorba\n\tlayoutu webu – praktický přehled</a></li>\n</ul>\n\n<p>No a teď už jdu radši na Tělocvik. Nejen čtením živ je člověk.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:38:44.583-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zajímavé čtení",
  :published #inst "2004-03-18T09:00:00.000-00:00",
  :url "zajimave-cteni",
  :category-url "webdesign.aspx",
  :id 12,
  :description "Pár tipů na dobré čtení.",
  :category "Webdesign",
  :tags []},
 :356-validace-v-asp-net-mvc.aspx
 {:html
  "\n<p>Bezpodmínečnou nutností každé aplikace, která zpracovává data\nz neznámých zdrojů, je validace vstupních dat. V ASP.NET je poměrně\nsofistikovaná sada komponent, které přidají k vašim vstupním polím\nvalidační podmínky a v případě jejich nesplnění je uživatel\ninformován. Validace probíhá jak na straně klienta (pomocí JavaScriptu),\ntak i na straně serveru. Jenže tyto komponenty jsou plně závislé na\nserverovém formuláři a v ASP.NET MVC je tedy nelze použít.</p>\n\n<p>Nyní mírně odbočím. Z předchozího odstavce jste si mohli odnést\njednu myšlenku. A to, že validace je součástí UI vrstvy aplikace. Pokud\nvšak píšete aplikaci, která obsahu spoustu business pravidel, není to\núplně nejšťastnější, když máte validační pravidla v UI a pak ještě\nněkde ve vašem modelu. Jedno ze základních pravidel dobrého návrhu říká\nDRY (don’t repeat yourself – neopakuj se).</p>\n\n<h3 id=\"toc-modelstate\">ModelState</h3>\n\n<p>ASP.NET MVC tedy nepřináší validátory, ale infrastrukturu, která\numožňuje v případě chyby uživatele upozornit. Tato infrastruktura je\npostavená na stavu modelu (<code>ModelState</code>). Stav modelu má vlastnost\n<code>IsValid</code> a metodu <code>AddModelError</code>. V HtmlHelperu pak\nnajdete dvě extenze <code>ValidationMessage</code> a\n<code>ValidationSummary</code>, které vypisují chybové hlášky pro\nkonkrétní pole nebo sumář pro všechny. A to je vše, co nám MVC\nposkytuje. Další práce už je jen na nás.</p>\n\n<p>Jak pracovat se stavem modelu na nejnižší úrovni ukazuje jeden\nz tutoriálů: <a\nhref=\"http://www.asp.net/learn/mvc/tutorial-36-cs.aspx\">Performing Simple\nValidation</a>. Možná vám to bude stačit, ale pro mne je to příliš práce\nnavíc a ani trochu mi to nepřijde sexy. :) Jaké máme další možnosti?</p>\n\n<p>Můžeme využít vlastní validační vrstvu naší business logiky a\nnapojit jí na stav modelu, tak, jak to ukazuje následující tutoriál: <a\nhref=\"http://www.asp.net/learn/mvc/tutorial-38-cs.aspx\">Validating with a\nService Layer</a>. Nebo vyžijeme existujících validačních frameworků. Dnes\nse podíváme na System.Componen­tModel.DataAn­notations a příště na\nCaste.Componen­ts.Validators.</p>\n\n<h3 id=\"toc-dataannotations\">DataAnnotations</h3>\n\n<p>Anotace dat je novinka z ASP.NET Dynamic Data, která usnadňuje\nautomatické generování ASP.NET validátorů na základě modelu. Tyto anotace\nse dále rozšiřují a v .net 4.0 by to měla být hodně použitelná\nvěcička, která bude v ASP.NET DD, ASP.NET MVC a dokonce i v .net RIA\nServices. Každopádně nemusíme čekat na velký release platformy a využít\nanotací již dnes. Jak to tedy funguje?</p>\n\n<p>Jediné, co musíte udělat, je označit vlastnosti vašeho modelu\natributy:</p>\n\n<pre\n><code class=\"language-csharp\">[Required]\npublic string Name { get; set; }\n\n[RegularExpression(\"^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$ \")]\npublic string Email { get; set; }</code></pre>\n\n<p>Dalším krokem je zaregistrovat nový model binder `\nDataAnnotation­sModelBinder`, který na základě anotací provede validaci\nmodelu a nastaví případně jeho stav na nevalidní. O víc už se starat\nnemusíme. Kde tento model binder získat a další potřebné informace najdete\nv článku Brada Wilsona <a\nhref=\"http://bradwilson.typepad.com/blog/2009/04/dataannotations-and-aspnet-mvc.html\">DataAnnotations\nand ASP.NET MVC</a>.</p>\n\n<p>Protože jsem DataAnnotations použil v jedné aplikaci, tak mám několik\nzkušeností, o které se můžu podělit. DataAnnotation­sModelBinder má\nproblém s komplexními typy, které mají vlastnosti taktéž komplexních\ntypů. Jedním z možných řešení, je hacknout tento model binder a přidat\npodmínku na ověření komplexní vlastnosti, nebo používat <acronym\ntitle=\"Data Transfer Objects\">DTO</acronym> pouze pro účely formulářů ve\nview (ano, opět návrat k validaci pouze ve view vrstvě). Anotace podporují\nvracení chybových hlášek z resource souborů, tak nezapomeňte raději\nvšechny hlášky přepsat, protože ty výchozí nevypadají zrovna\nnejlépe.</p>\n\n<p>Tak, to bychom měli jeden model binder, který už je hotový. Ale jak si\nnapsat vlastní? To si ukážeme někdy příště na\nCaste.Componen­ts.Validators­. :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-05-02T14:00:12.463-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Validace v ASP.NET MVC",
  :published #inst "2009-05-02T13:56:31.313-00:00",
  :url "validace-v-asp-net-mvc",
  :category-url "asp-net-2-0.aspx",
  :id 356,
  :description "Pojďme se podívat na validaci v ASP.NET MVC.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "mvc" "validace"]},
 :43-vzpominky-na-godotha-jednoaktovka.aspx
 {:html
  "\n<p>\n<br />Ahoj.\n<br /><em>Čau.</em>\n<br />Jak to dneska jde?\n<br /><em> Dobrý.</em>\n<br />Tak to je dobrý.\n<br /><em> To jo.</em>\n<br />Hmm…\n<br /><em> A&#160;jak ty?</em>\n<br />Jako co?\n<br /><em> Co, jako co?</em>\n<br />No?\n<br /><em> Hmm?</em>\n<br />Nechápu.\n<br /><em>Jo.</em>\n<br />Aha.\n<br /><em> Co teď?</em>\n<br />Nevim.\n<br /><em> Co tím myslíš?</em>\n<br />Co tím myslím?\n<br /><em> Nevim.</em>\n<br />Aha.\n<br /><em> Hmm…</em>\n<br />Hmm…\n<br /><em> Říkal si něco?</em>\n<br />Já?\n<br /><em> Kdo?</em>\n<br />Ty?\n<br /><em> Já?</em>\n<br />Jo.\n<br /><em> Ne.</em>\n<br />Aha.\n<br /><em>Tak kdo?</em>\n<br />Nevim.\n<br /><em> Víš.</em>\n<br />Co?\n<br /><em> Co, co?</em>\n<br />Coco?\n<br /><em> Coby?</em>\n<br />Já nevim.\n<br /><em> Aha.</em>\n<br />No jo.\n<br /><em> Jak se má žena?</em>\n<br />Čí?\n<br /><em> Čí asi?</em>\n<br />To se právě ptam.\n<br /><em> Aha.</em>\n<br />Tak čí?\n<br /><em> Co?</em>\n<br />Hmm?\n<br /><em> Žralok.</em>\n<br />Co?\n<br /><em> Žralok!</em>\n<br />Proč?\n<br /><em> Proč ne?</em>\n<br />Aha.\n<br /><em> Jo.</em>\n<br />Tak to jo.\n<br /><em> Co?</em>\n<br />Agama.\n<br /><em> Co?</em>\n<br />Agama!\n<br /><em> Co to je?</em>\n<br />Co?\n<br /><em> Agama.</em>\n<br />Nevim.\n<br /><em> Aha.</em>\n<br />Přesně!\n<br /><em> Jo.</em>\n<br />Aha.\n<br /><em> Hmm…</em>\n<br />Co tady vůbec děláme?</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "dekan",
  :title "Vzpomínky na Godotha (jednoaktovka)",
  :published #inst "2005-01-28T10:37:54.000-00:00",
  :url "vzpominky-na-godotha-jednoaktovka",
  :category-url "jen-tak.aspx",
  :id 43,
  :description "",
  :category "Jen tak",
  :tags []},
 :292-alessio-busta-face-to-my-face.aspx
 {:html
  "\n<div class=\"haudio\">\n\t<ol>\n\t\t<li class=\"item\"><span class=\"contributor\">Dirty South</span> &amp; <span\n\t\tclass=\"contributor\">Axwell</span> – <span class=\"title\">Open Your\n\t\tHeart</span> (Original Mix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Ne-Yo</span> – <span\n\t\tclass=\"title\">Closer</span> (Stonebridge Club Remix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Ryan Murgatroyd</span> feat. <span\n\t\tclass=\"contributor\">Tasha Baxte</span> – <span class=\"title\">Moving On</span>\n\t\t(Ian Carey Remix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Roger Sanchez</span> &amp; <span\n\t\tclass=\"contributor\">Traslantic Soul</span> – <span class=\"title\">Release Yo'\n\t\tSelf</span> (D.O.N.S &amp; DNB Remix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Adele</span> – <span\n\t\tclass=\"title\">Hometown Glory</span> (Axwell Remix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Antoine Clamaran</span> feat. <span\n\t\tclass=\"contributor\">Lulu Hughes</span> – <span class=\"title\">Give Some\n\t\tLove</span> (Richard Earnshaw Classic House Remix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Jon Fitz</span> &amp; <span\n\t\tclass=\"contributor\">Mike Anthony</span> – <span class=\"title\">Hesitate</span>\n\t\t(Stonebridge Mix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">TV Rock</span> feat. <span\n\t\tclass=\"contributor\">Rudy</span> – <span class=\"title\">Been A Long\n\t\tTime</span> (Original Mix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Axwell</span> &amp; <span\n\t\tclass=\"contributor\">Bob Sinclar</span> feat. <span class=\"contributor\">Ron\n\t\tCarroll</span> – <span class=\"title\">W.W.W.</span> (Original Mix)</li>\n\t</ol>\n\n\t<p>Ke stažení <span class=\"category\">dj set</span> <a rel=\"enclosure\"\n\thref=\"http://rarousmusic.com/mp3/alessio_busta_-_face_to_my_face-rm.mp3\"><span\n\tclass=\"contributor\">Alessio Busta</span> – <span class=\"title\">Face To My\n\tFace</span></a> (MP3 128 kbps; 44,5 MiB)</p>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-08-21T07:38:04.530-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Alessio Busta - Face To My Face",
  :published #inst "2008-08-20T23:00:41.543-00:00",
  :url "alessio-busta-face-to-my-face",
  :category-url "muzika.aspx",
  :id 292,
  :description "Set ke stažení.",
  :category "Muzika",
  :tags []},
 :443-traits-v-csharp.aspx
 {:html
  "\n<p>Poměrně užtečným konceptem v programovacích jazycích je trait.\nMůžete ho znát třeba ze Scaly, nebo se brzy objeví v PHP. Tyto jazyky\nmají pro traits prvotřídní podporu. Tedy, mají traits jako jazykový\nkonstrukt. C# nic takového nemá. Nebo jo?</p>\n\n<h3 id=\"toc-co-je-to-trait\">Co je to trait?</h3>\n\n<p>Trait je něco jako rozhraní. Umožňuje tedy vícenásobnou\n„dědičnost“. Narozdíl od rozhraní, má však maximální možnou\nimplementaci. Když se podíváme do dokumentace Scaly na malý příklad:</p>\n\n<pre\n><code class=\"language-scala\">trait Similarity {\n  def isSimilar(x: Any): Boolean\n  def isNotSimilar(x: Any): Boolean = !isSimilar(x)\n}</code></pre>\n\n<p>Můžeme si všimnout, že trait obsahuje dvě metody, z toho jedna je\nabstraktní a druhá implementovaná pomocí té první. Koheze metod je\ndůležitou vlastností traits. Ostatně by to tak mělo být i u definice\nrozhraní.</p>\n\n<h3 id=\"toc-jak-na-to-v-c\">Jak na to v C#?</h3>\n\n<p>Není vám ten koncept trochu povědomý? Ne? A co třeba LINQ? Stačí,\nabyste implementovali metodu <code>GetEnumerator</code> a zbytek máte for free.\nMůžeme se tedy inspirovat u LINQu a podobně implementovat i\n<code>Similarity</code>:</p>\n\n<pre\n><code class=\"language-csharp\">interface ISimilarity&lt;T&gt; {\n  bool IsSimilar(T other);\n}\n\nstatic class Similarity {\n  public static bool IsNotSimilar&lt;T&gt;(this ISimilarity&lt;T&gt; @this, T other) {\n    return !@this.IsSimilar(other);\n  }\n}</code></pre>\n\n<p>Kód sice není tak úsporný, jako v jazycích s prvotřídní podporou,\nale funguje to a to je důležitý! :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-03-23T08:39:59.550-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Traits v C#",
  :published #inst "2013-03-23T08:34:39.990-00:00",
  :url "traits-v-csharp",
  :category-url "moje-prace.aspx",
  :id 443,
  :description "Jak na implementaci traits v C#.",
  :category "Moje práce",
  :tags []},
 :54-gigi-dagostino-czech-fan-pages.aspx
 {:html
  "\n<p>Po dvou měsících usilovné práce jsem dnes konečně spustil novou verzi\n<a href=\"http://ggdag.euweb.cz/\">Gigi D'Agostino Czech fan pages</a>. Nová\nverze má zcela nový design z&#160;mých rukou a běží na redakčním\nsystému <a href=\"http://textpattern.com/\">Textpattern</a>. Doufám, že bude\nstejně úspěšná jako ta předchozí a že se bude líbit&#8230;</p>\n\n<p>Spuštěním to ale ještě nekončí. Máme ještě spoustu práce. Musim\ndoladit styl, protože jse zjistil, že v&#160;Opeře není úplně takový\njaký má být, navíc mám v&#160;textu připraveno několik classů, které\nještě nejsou implementovány. Potom ještě musim dosypat texty do\ndiscografie a založit další sekce. No je toho ještě dost&#8230;</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Gigi D'Agostino Czech fan pages",
  :published #inst "2005-03-27T00:00:00.000-00:00",
  :url "gigi-dagostino-czech-fan-pages",
  :category-url "moje-prace.aspx",
  :id 54,
  :description
  "Pozvánka na prohlídku nových stránek, na kterých jsem dělal.",
  :category "Moje práce",
  :tags []},
 :361-nepiste-zbytecny-kod.aspx
 {:html
  "\n<p>Jedním ze <strong>základních pravidel</strong> psaní přehledného kódu\nje <strong>nepsat zbytečný kód</strong>. Pojďme si ukázat pár příkladů\nzbytečného kódu, kterému je zahodno se raději vyhnout.</p>\n\n<h3 id=\"toc-komentare\">Komentáře</h3>\n\n<p>Programátoři jsou často velice kreativní lidé, ale svou kreativitu si\nvybíjí nesprávným způsobem. Tak se může stát, že během své kariéry\nnarazíte na skvosty typu:</p>\n\n<ol>\n\t<li>zakomentované kusy kódu</li>\n\n\t<li>označení dočasného kódu v kometáři</li>\n\n\t<li>vylévání srdíčka nad vlastní blbostí</li>\n</ol>\n\n<p>K bodu prvnímu. Když něco takového potkáte, rovnou to smažte,\nnesnažte se nad tím přemýšlet. Jestli někdy ten kód budete potřebovat,\nnajdete ho ve vašem VCS. Pokud se přistihnete, že máte označený blok kódu\na chystáte se zmáčknout magickou kombinaci kláves <code>Ctrl+K, C</code>,\nušetřete si práci a rovnou zmáčkněte <code>Delete</code>. ;)</p>\n\n<p>K bodu druhému. Nejprve zjistěte, kdo to napsal a dejtemu rovnou pohlavek\nnebo seberte prémie. Nejlépe oboje, u někoho lépe fungují podmíněné\nreflexy spojené s fyzickou bolestí, někdo si vzpomene, že mu nezbyly\npeníze na tu skvělou chlastačku a už to nebude chtít opakovat. Zjišťovat,\nco na koho platí je moc drahé. ;)</p>\n\n<p>Pro představu, našli jsme takovýto kód:</p>\n\n<pre\n><code class=\"language-csharp\">//Testovaci verze\nif (Request.Cookies.AllKeys.Contains(\"ticket\")) {\n  InvitedUser iuser = _invitedUsersRepository.FindByHash(Request.Cookies[\"ticket\"].Value);\n  if (iuser != null) {\n    iuser.Valid = false;\n    _invitedUsersRepository.Save(iuser);\n  }\n}\n// --\n;</code></pre>\n\n<p>Autora jsme ztrestali. První krok máme za sebou, co dál? Tohle asi hned\nsmazat nepůjde. Prvním možným krokem, je nadefinovat build symbol a tyto\nbloky obalit preprocesorovou podmínkou:</p>\n\n<pre\n><code class=\"language-csharp\">#if TEST_VERSION\nif (Request.Cookies.AllKeys.Contains(\"ticket\")) {\n  InvitedUser iuser = _invitedUsersRepository.FindByHash(Request.Cookies[\"ticket\"].Value);\n  if (iuser != null) {\n    iuser.Valid = false;\n    _invitedUsersRepository.Save(iuser);\n  }\n}\n#endif\n;</code></pre>\n\n<p>Sice jsme se nezbavili špatného kódu, ale aspoň pujde dočasná featura\nvypnout z jednoho místa a kód hovoří trochu jasněji.</p>\n\n<p>Pokud napíšete blok kódu a pocítíte potřebu uvodit ho komentářem,\nnebo takových bloků máte zasebou víc, je čas refaktorovat! Místo\nkomentářů vytvořte metody s popisnými názvy (ekvivalent komentáře).\nKomentáře mají tu vlastnost, že rychle ztrácejí význam a zůstávají\nv místech, kde už není co komentovat.</p>\n\n<p>Pravidlo: <q>Když ucítíte potřebu napsat v kódu komentář, zamyslete\nse, zda nenajdete lepší způsob jak tuto myšlenku vyjádřit.</q></p>\n\n<h3 id=\"toc-poznejte-svuj-jazyk\">Poznejte svůj jazyk</h3>\n\n<p>Za programátora se považuje každý, kdo se v nějakém jazyce naučí\npár příkazů. Někdo si vystačí s málem a pak mu nezbývá než prasit.\nZákladem je poznat jazyk, ve kterém se chystáme sdělovat své myšlenkové\npochody. Zdrojový kód se mnohem častěji čte než píše, proto by měl\nobsahovat co nejméně zbytečností, které odvádějí pozornost.</p>\n\n<p>Začněme třeba u JavaScriptu. Často se setkávám s kódem, který\nnapovídá, že autor má hrubé znalosti C a jemu podobných jazyků, ale\no JavaScriptu moc potuchy nemá.</p>\n\n<h3 id=\"toc-podminene-prirazeni\">Podmíněné přiřazení</h3>\n\n<p>Jednou z typických ukázek může být validace vstupních parametrů a\nnastavení výchozí hodnoty, pokud přišlo <code>null</code>. Nejhorší\npřípad:</p>\n\n<pre\n><code class=\"language-javascript\">function example(options) {\n  if (options == null) {\n    this.options = { color: 'red' };\n  }\n  else {\n    this.options = options;\n  }\n}</code></pre>\n\n<p>O něco chytřejší programátor použije ternární podmíněný\noperátor:</p>\n\n<pre\n><code class=\"language-javascript\">function example(options) {\n  this.options = (options != null) ? options : { color: 'red' };\n}</code></pre>\n\n<p>Vývojář znalý JavaScriptu však odbourá zbytečné ruchy a vznikne\nlogický zápis:</p>\n\n<pre\n><code class=\"language-javascript\">function example(options) {\n  this.options = options || { color: 'red' };\n}</code></pre>\n\n<p>Pojďme teď dál k mému oblíbenému C#. Předchozí příklad tam nejde\nřešit operátorem <code>||</code> protože C# je silně typový a <code>null\n!= false</code>. Ovšem C# 2.0 přinesl s <code>Nullable&lt;T&gt;</code>\nhodnotovými typy i operátor <code>??</code>. Ten slouží jako zkrácená\nvarianta ternárního podmíněného operátoru. Díky němu můžeme\nnásledující kód:</p>\n\n<pre\n><code class=\"language-csharp\">public void Example(Options options) {\n  _options = (options != null) ? options : new Options { Color = Color.Red };\n}</code></pre>\n\n<p>Pěkně odšumět:</p>\n\n<pre\n><code class=\"language-csharp\">public void Example(Options options) {\n  _options = options ?? new Options { Color = Color.Red };\n}</code></pre>\n\n<p>Pokud pracujete s <code>Nullable</code> hodnotovými typy, zkraťte\ni následující zá­pis:</p>\n\n<pre\n><code class=\"language-csharp\">public void Example(int? pageIndex) {\n  int page = 1 + (pageIndex.HasValue ? pageIndex.Value : 0);\n}</code></pre>\n\n<p>Na:</p>\n\n<pre\n><code class=\"language-csharp\">public void Example(int? pageIndex) {\n  int page = 1 + (pageIndex ?? 0);\n}</code></pre>\n\n<h3 id=\"toc-genericke-parametry\">Generické parametry</h3>\n\n<p>Dalším, velice častým šumem, je explicitní uvádění generických\nparametrů, tam kde to není potřeba. Za příklad si vezměme třeba\ngenerickou metodu <code>Assert.Equal&lt;T&gt;(T expected, T actual)</code>\nz frameworku <a href=\"http://xunit.codeplex.com/\">xUnit.net</a>. Můžeme ji\nvolat takto:</p>\n\n<pre><code class=\"language-csharp\">Assert.Equal&lt;string&gt;(\"test\", null);</code></pre>\n\n<p>Jenže kompilátor není žádný hlupák a dokáže správně dosadit typ\ngenerického parametru podle typu předávaného parametru. Proto je možné\nnapsat, mnohem přehlednější zápis:</p>\n\n<pre><code class=\"language-csharp\">Assert.Equal(\"test\", null);</code></pre>\n\n<p>FxCop vám přímo radí: <q>Pište generické metody tak, aby se typ\ngenerického parametru dal implicitně odvodit.</q></p>\n\n<h3 id=\"toc-zbytecne-volani-tostring\">Zbytečné volání ToString</h3>\n\n<p>Často se také můžete setkat s voláním metody <code>ToString</code>\ntam, kde to není pořeba. Příklad:</p>\n\n<pre\n><code class=\"language-csharp\">double rating = 3.8;\nstring output = \"Your rating is: \" + rating.ToString();</code></pre>\n\n<p>Tohle lze napsat bez šumu:</p>\n\n<pre\n><code class=\"language-csharp\">double rating = 3.8;\nstring output = \"Your rating is: \" + rating;</code></pre>\n\n<p>Teď si jistě, říkáte, že jsem asi blbec, jak můžu po silně typovém\nC# chtít, aby sečetl <code>string</code> a <code>double</code>. Nuže můžu.\nKrom toho, že je C# silně typový, podporuje i přetěžování operátorů!\nA designéři třídy <code>String</code> přidali přetížení operátoru\n<code>+</code> na kterýkoliv <code>Object</code>, na kterém zavolají metodu\n<code>ToString</code> za vás. :)</p>\n\n<h3 id=\"toc-zbytecne-explicitni-pretypovani\">Zbytečné explicitní\npřetypování</h3>\n\n<p>Občas se bohužel můžeme v kódu potkat s věcmi, nad kterými\nzůstává rozum stát. Někdo například už pochopil dědičnost. Pochopil,\nže třída <code>List&lt;T&gt;</code> implementuje rozhraní\n<code>IList&lt;T&gt;</code> a to dědí z <code>ICollection&lt;T&gt;</code>,\nkteré je potomkem obecného rozhranní <code>IEnumerable&lt;T&gt;</code>.\nJenže pak přijde na praktické použití a je zle:</p>\n\n<pre\n><code class=\"language-csharp\">public class UserDetailViewData {\n  public IEnumerable&lt;User&gt; Friends { get; set; }\n}\n\npublic class UsersController : Controller {\n  public ActionResult Detail(userName) {\n    IList&lt;User&gt; friends = GetFriendsOfUser(userName);\n    return View(new UserDetailViewData {\n      Friends = (IEnumerable&lt;User&gt;)friends\n    });\n  }\n}</code></pre>\n\n<p>Takhle vytržené z kontextu to nemusí vypadat až tak zle, ale originál\nmě stál málem ukroucení hlavy.</p>\n\n<h3 id=\"toc-roztahana-inicializace\">Roztahaná inicializace</h3>\n\n<p>Novinkou C# 3.0 jsou inicializátory. Zvažte následující kód:</p>\n\n<pre\n><code class=\"language-csharp\">var user = new User();\nuser.Name = \"Josef Novák\";\nuser.Gender = Gender.Male;</code></pre>\n\n<p>Přepsat na:</p>\n\n<pre\n><code class=\"language-csharp\">var user = new User {\n  Name = \"Josef Novák\",\n  Gender = Gender.Male,\n};</code></pre>\n\n<p>Vyhnete se tím, zbytečnému opakování <code>user.</code>.</p>\n\n<h3 id=\"toc-zavorky-navic\">Závorky navíc</h3>\n\n<p>Častý šumem v kódy bývají také závorky, které nemají žádný\nvýznam, zejména u inicilizátorů s bezparametrickým konstrukotrem\n<code>new User() { Name = \"Josef Novák\" }</code> a u anonymních\nbezparametrických delegátů <code>delegate() { return true; }</code>. Tyto\nzávorky klidně smažte a u delegátů zvažte kompresi na lambda výraz:\n<code>()=&gt; true</code>.</p>\n\n<p>Na druhou stranu existuje spousta případů, kdy vhodně vložené závorky\nzvyšují čitelnost.</p>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p>Když říkám, že je lepší psát némě kódu, rozhodně tím nemám na\nmysli kriptické zápisy alá regexy. To, co ušetříte na zbytečném kódu,\nklidně investujte do popisných názvů proměnných a metod. Důležitá je\n<strong>čitelnost</strong>. Se spoustou výše zmiňovaných úprav vám mohou\npomoci nástroje, např. <a href=\"http://www.devexpress.com/crx\">CodeRush\nExpress</a>, který je zcela zdarma.</p>\n\n<p>Rozhodně jsem nepokryl všechny možnosti, kde psát zbytečný kód navíc.\nJistě taky některé znáte, podělte se o ně v komentářích. :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-08-03T10:49:53.140-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nepište zbytečný kód",
  :published #inst "2009-08-03T07:19:19.083-00:00",
  :url "nepiste-zbytecny-kod",
  :category-url "asp-net-2-0.aspx",
  :id 361,
  :description
  "Nejčastější chybou při psaní zdrojových kódů je psaní kódu zbytečného. Zbytečný kód narušuje kontinuitu čtení, skrývá jasné myšlenky, neřeší problémy.",
  :category "ASP.NET 2.0",
  :tags ["csharp" "refactoring"]},
 :407-repository-je-antipattern.aspx
 {:html
  "\n<p>Žádný vzor není špatný. Vezměme si chudáčka Singletona. Skvělý\nvzor pro udržení jediné instance v požadovaném scope. Jenže pak se\ndočtete, že <a\nhref=\"http://zdrojak.root.cz/clanky/antipatterny-smradlavy-kod-a-peteruv-princip-v-it/nazory/18291/\">Singleton\nje neslučitelný s Dependency Inversion Principle</a>. Opravdu? Jak to, že\npoužívám <a\nhref=\"http://en.wikipedia.org/wiki/Dependency_inversion_principle\">DIP</a>\ni Singletonty už léta? On je problem někde jinde. U lidí co\nnepřemýšlí. :) Fakt.</p>\n\n<p>Mějme třídu, kde se na pěti místech v jejím kódu vyskytuje\n<code>HttpContext.Current</code>. Opravdu je to problem Singletonu? Ale kdepak,\nje to problem v užití, potažmo neschopností dělat čistý design. Přitom\nstačí nadefinovat členskou proměnnou typu <code>HttpContext</code> (lépe\n<code>HttpContextBase</code>) a tu si nechat naservírovat pomocí\nkonstruktoru.</p>\n\n<p>Volání <code>HttpContext.Current</code> bude v aplikaci <strong>pouze na\njednom místě</strong> – v <a\nhref=\"http://blog.ploeh.dk/2011/07/28/CompositionRoot.aspx\">Composition\nrootu</a> aplikace (popř. V konfiguraci IoC kontejneru.) Zbytkem aplikace nám\nbude protékat právě tato instance.</p>\n\n<p>Doufám, že jsem na těchto pár řádcích dokázal, že Singleton není\nanti-pattern. Že <strong>anti-pattern jsou programátoři.</strong></p>\n\n<h3 id=\"toc-rikam-repository-myslim-data-mapper\">Říkám repository, myslím\nData Mapper</h3>\n\n<p>A pomalu se dostáváme k jádru našeho problému. Vzory jsou tu od toho,\naby sjednotili slovník, aby každý hned věděl o čem se bavíme. Jenže\nv případě <a\nhref=\"http://martinfowler.com/eaaCatalog/repository.html\">Repository</a> to\ndošlo tak daleko, že lidé říkají Repository, ale 99 % myslí <a\nhref=\"http://martinfowler.com/eaaCatalog/dataMapper.html\">Data Mapper</a>.</p>\n\n<p>Repository nám schovává datový zdroj za rozhraní kolekce a umožňuje\nnad ním spouštět <a href=\"/weblog/377-domenove-dotazy.aspx\">doménové\ndotazy</a>. Světe div se, v dotnetu už něco takového máme. Ano, je to\n<code>IEnumerable</code> a <acronym\ntitle=\"Language Integrated Query\">LINQ</acronym>!</p>\n\n<p>V praxi se však setkáme s repository, která přímo skládá SQL dotazy,\nmenežuje život entit a má tlusté rozhraní jako prase. Proč? Protože opět\nselhaly schopnosti návrhu. Zde konkrétně <a\nhref=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\">Single\nResponsibility Principle</a> a <a\nhref=\"http://en.wikipedia.org/wiki/Interface_segregation_principle\">Interface\nSegregation Principle</a>.</p>\n\n<h3 id=\"toc-tlusta-rozhrani\">Tlustá rozhraní</h3>\n\n<p>Tlustá rozhraní u “Repository” vznikají z potřeby zapouzdřit často\npoužívané dotazy do znovupoužitelné jednotky. Bohužel i v 21. století\nje jednotkou znovupoužitelnosti procedura. A tak s každým novým dotazem\npřidáme na rozhraní “Repository” další a další metodu. To nám\nspokojeně roste a roste. A opět porušujeme Interface Segregation Principle,\nSingle Responsibility Principle a navíc i <a\nhref=\"http://en.wikipedia.org/wiki/Open/closed_principle\">Open Closed\nPrinciple</a> – a vytváříme <a href=\"http://www.laputan.org/mud/\">krásnou\nkuličku sraček</a>.</p>\n\n<p>Třída, která toto rozhraní implementuje mívá nezřídka tisíc řádků\na dá se v nít “snadno orientovat” pomocí <a\nhref=\"/weblog/398-pryc-se-stromecky.aspx\">stromečků</a>. Jenže, <a\nhref=\"http://cleancoder.posterous.com/clean-code-episode-iii-contents-and-release-n\">jak\npraví Uncle Bob</a>:</p>\n\n<blockquote>\n\t<p>“V každé velké metodě se schovávají malé třídy!”</p>\n</blockquote>\n\n<p>Ale málem bych zapomněl na <a\nhref=\"http://en.wikipedia.org/wiki/Liskov_substitution_principle\">Liskov\nSubstitution Principle</a>. Určitě jste všichni někdy narazili na potřebu\ncachovat. :)</p>\n\n<h3 id=\"toc-dekorovanim-za-cistsi-kod\">Dekorováním za čistší kód!</h3>\n\n<p>A tak, když dospějeme k závěru, že tenhle dotaz se provádí dost\nčasto a přitom se data takřka nemění, budeme cachovat. První věc, co nás\nnapadne, je <a\nhref=\"/weblog/397-single-responsibility-principle-in-the-wild.aspx\">nasrat tu\ncache přímo do <em>repository</em></a>. <em>Tak to bude transparentí a nikde\nto nemusím měnit.</em> <strong>Au.</strong> Lepším řešením je udělat\ntřídu se stejným rozhraním, která v konstruktoru přijímá to samé\nrozhraní a potřebné metody odekoruje cachováním. Zbylé volá přímo na\ndekorovaném objektu.</p>\n\n<p>Netvrdím, že jde o dokonalý návrh, ale jde rozhodně o mnohem čistší\nřešení. A to vše díky dodržování principů <a\nhref=\"http://en.wikipedia.org/wiki/SOLID_(object-oriented_design)\">SOLIDní\narchitektury</a>. Opakuju se tu o tom už léta, ale asi je to stale\npotřeba. ;)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-09-11T07:49:30.827-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Repository je anti-pattern",
  :published #inst "2011-09-10T10:04:35.577-00:00",
  :url "repository-je-antipattern",
  :category-url "asp-net-2-0.aspx",
  :id 407,
  :description "Z vrchu křupavé, vevnitř šťavnaté...",
  :category "ASP.NET 2.0",
  :tags ["solid" "architektura"]},
 :190-beta-mapy-na-atlasu.aspx
 {:html
  "\n<p><a href=\"http://mapy.atlas.cz/\">Mapy Atlasu</a> dospěly do betafáze a já\njsem tomu rád :) Konečně jsou tu mapy, které se mi dobře používají.\nKluci na tom docela dřeli a ikdyž není všechno úplně 100%, věřím že\nbrzy bude.</p>\n\n<p>Ohlasy jsou zatím vcelku pozitivní. Nefunkčnost v Opeře je téma samo\npro sebe :) Většinou jsou výtky na nesedíci podklady, ale ty snad ještě\ndorovnáme. Veronika rozjela <a href=\"http://pokec.atlas.cz/blogy/mapy\">blog na\nkomunitách</a>, kde budou přibývat informace o vývoji a novinkách. Ohlasy\nmůžete zanechávat tady nebo v <a\nhref=\"http://pokec.atlas.cz/diskuze/diskuze.aspx?cat=2212\">diskusi</a>…</p>\n\n<h3 id=\"toc-update\">Update</h3>\n\n<p>Chtěl bych vás poprosit, pokud vám něco nefunguje, zkuste problém popsat\npodrobněji a nezapomeňte dopsat i prohlížeč a verzi. Děkujeme za\nspolupráci.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:06:12.543-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Beta mapy na Atlasu - Update",
  :published #inst "2006-11-03T10:05:00.000-00:00",
  :url "beta-mapy-na-atlasu",
  :category-url "webdesign.aspx",
  :id 190,
  :description "Atlas vypustil novou verzi map.",
  :category "Webdesign",
  :tags ["atlas" "amapy"]},
 :279-gryphoon-1-82-je-venku.aspx
 {:html
  "\n<p>Kolega <a href=\"http://www.jerrysohn.net/\">Ondra</a> uvolnil systém <a\nhref=\"http://www.gryphoon.net/\">Gryphoon</a>, který pohání tento a mnoho\ndalších webů včetně nějakých vylepšení. Najdete ho <a\nhref=\"http://www.gryphoon.net/Download%20Gryphoon%20weblog%20edition.ashx\">ke\nstažení včetně návodu k nasazení</a> na stránkách projektu.</p>\n\n<p>Je to záležitost na kterou jsem nesahal takřka 3 roky a taky je to\nsystém, na kterým jsem se učil. Spousta věcí je pojmenována česky,\nžádný komentáře v kódu a tak. Fakt to není dobrý ke studování, ale\nfunguje to ;) Vím o spoustě míst, které by se daly snadno rozšířit,\nvylepšit, doplnit. Ani by to nezabralo moc času, ale z pricipu se mi\nnechce.</p>\n\n<p>Měl jsem pak napsanou velkou část verze dvě, ale nikdy jsem ji nedotáhl\ndo konce. Nelíbilo se mi, že jsem použil typované DataSety a nikdy jsem pro\nněj nevytvořil administraci. Dvojka je tedy mrtvá. V plánu je trojka\npostavená na 3.5 frameworku, ASP.NET MVC a ActiveRecord. Ale u tý jsem ve\nfázi pokusů a designování architektury.</p>\n\n<p>Enjoy</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:22:58.043-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Gryphoon 1.82 je venku",
  :published #inst "2008-06-02T17:04:23.787-00:00",
  :url "gryphoon-1-82-je-venku",
  :category-url "moje-prace.aspx",
  :id 279,
  :description
  "Ondra uvolnil systém, který pohání tento a mnoho dalších webů včetně nějakých vylepšení.",
  :category "Moje práce",
  :tags ["gryphoon"]},
 :326-slajdy-a-ukazky-z-webexpa.aspx
 {:html
  "\n<p>Konečně jsem se dostal k tomu abych nahrál slajdy z naší přednášky\nna web.</p>\n<!--[if !IE]> -->\n \t\t\t<object type=\"application/x-shockwave-flash\"\ndata=\"http://www.authorstream.com/player.swf?p=99567_633604576063437500\"\nwidth=\"520\" height=\"434\">\n \t\t\t<!-- <![endif]-->\n \t\t\t<!--[if IE]>\n\t\t\t<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"\n\t\t\t  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\"\n\t\t\t  width=\"520\" height=\"434\">\n\t\t\t  <param name=\"movie\" value=\"http://www.authorstream.com/player.swf?p=99567_633604576063437500\" />\n\t\t\t<!--><!--dgx-->\n<param name=\"loop\" value=\"true\" />\n\n<param name=\"menu\" value=\"false\" />\n\n<param name=\"allowfullscreen\" value=\"true\" />\n\n<param name=\"flashvars\" value=\"\" />\n \t\t\t</object>\n \t\t\t<!-- <![endif]-->\n<p>Tady tedy jsou:</p>\n\n<ul>\n\t<li><a\n\tonclick=\"t._trackPageview('/files/webexpo/webexpo-aspnet-3.5-futures.ppsx.zip')\"\n\thref=\"/files/webexpo/webexpo-aspnet-3.5-futures.ppsx.zip\">slajdy pro\n\tPowerPoint</a> (1,00 MiB, PPSX)</li>\n\n\t<li><a\n\tonclick=\"t._trackPageview('/files/webexpo/webexpo-aspnet-3.5-futures.pdf')\"\n\thref=\"/data/soubory/webexpo-aspnet-3.5-futures.pdf\">slajdy pro Adobe Reader</a>\n\t(2,49 MiB, PDF)</li>\n\n\t<li><a\n\tonclick=\"t._trackPageview('/files/webexpo/webexpo-aspnet-3.5-futures.zip')\"\n\thref=\"/files/webexpo/webexpo-aspnet-3.5-futures.zip\">ukázky</a> (19,44 MiB,\n\tZIP)</li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-10-25T08:50:12.103-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Slajdy a ukázky z WebExpa",
  :published #inst "2008-10-19T12:58:14.843-00:00",
  :url "slajdy-a-ukazky-z-webexpa",
  :category-url "webdesign.aspx",
  :id 326,
  :description
  "Konečně jsem se dostal k tomu abych nahrál slajdy z naší přednášky na web.",
  :category "Webdesign",
  :tags ["webexpo" "aspnet" "mvc"]},
 :280-zvyste-vykon-vaseho-webu.aspx
 {:html
  "\n<p>Výkon webových stránek můžeme obecně zvýšit snížením počtu\ndotazů na server, snížením objemu přenášených dat, optimalizacemi HTML\nkódu a v neposlední řadě optimalizací výkonného kódu aplikace. První\ntři pravidla lze uplatnit i na obyčejných prezentacích, proto se na ně\npodíváme blížeji.</p>\n\n<h3 id=\"toc-snizeni-poctu-dotazu-na-server\">Snížení počtu dotazů na\nserver</h3>\n\n<p>Prvním krokem v optimalizaci by mělo být snížení počtu dotazů na\nserver. Čím víc dotazů, tím více se musí přenášet dat, tím více\nmusí server vynaložit prostředků na jejich obsloužení.</p>\n\n<p>Snažte se snížit počet souborů, které vaše stránka tahá s sebou.\nPokuste se sloučit externí skripty do jednoho souboru, stejně tak stylopisy.\nMísto toho, abyste měli zvláštní stylopis pro tisk, využijte pravidla\n<code>@media print</code>. Dále omezte <code>@import</code> pravidla na\nminimum. Další spoustu dotazů mají jistě na svědomí obrázky. Využijte\nchytře <a href=\"http://www.alistapart.com/articles/sprites/\">techniku\nspojování obrázků</a> a snižte tak počet dotazů na minimum.</p>\n\n<p>Dalším krokem ke snížení počtu dotazů je <strong>správně nastavené\nkešování</strong>. Většinou se setkávám s tím, že kešování není\nřízeno vůbec nebo je rovnou zakázáno. To považuju za velikou chybu. Místo\nzakázání kešování, zkuste nastavit cache na minutu, dvě. Nedělejte to\nvšak pomocí meta tagů, to nemá žádný význam. Posílejte HTTP hlavičky.\nNapř. <code>Cache-Control: public, must-revalidate, proxy-revalidate,\nmax-age=120</code> nastavuje veřejné kešování na dvě minuty a za tuto dobu\nmusí jak lokální, tak proxy cache stránku obnovit.</p>\n\n<p>Dalším účinným pomocníkem je Entity Tag – <strong>ETag</strong>.\nETag je hash obsahu. Pokud se obsah změní, změní se i hash. Tento hash je\nposílán v hlavičce klientovi a ten ho může připojit do opětovného\ndotazu. Pokud se obsah na serveru nezměnil, server odpoví kódem <code>304 Not\nModified</code>. V takovém případě je odpověď krátká a přenáší se\njen několik bajtů a klient ví, že může použít lokální verzi.</p>\n\n<p>Správným nastavením hlaviček <code>Cache-Control</code> a\n<code>ETag</code> můžete svému serveru hodně odlehčit.</p>\n\n<h3 id=\"toc-snizeni-objemu-prenasenych-dat\">Snížení objemu přenášených\ndat</h3>\n\n<p>Když už máme snížený počet dotazů – tedy zátěž serveru, ve\ndruhém kroku bychom se měli pokusit snížit trafic – množství\npřenášených dat. Zkoušel jsem několik technik. Rád používám <acronym\ntitle=\"Extensible hypertext markup language\">XHTML</acronym> protože ho pak\nmůžu zpracovávat pomocí obecného XML readeru. A XHTML vyžaduje oproti\nHTML o dost bajtů navíc. Proto jsem si udělal takový malý benchmark mojí\n<a href=\"/\">titulní stránky</a>. Rozdíl mezi HTML a XHTML verzí je cca 3 %.\nPak jsem zkusil ořezat přebytečné bílé znaky. Tam už to bylo o něco\nlepší úspora 13 %. Kombinace HTML bez bílých znaků pak je na šestnácti\n16%. Je to sice pěkné číslo, ale zase taková úspora to není.</p>\n\n<div><img src=\"/data/obrazky/komprese.png\"\nalt=\"graf porovnání různé komprese stránky\" /></div>\n\n<p>Proto jsem nasadil kompresi. Ta konečně přinesla kýžený výsledek –\n<strong>úspora 64 %</strong>. Docela <a\nhref=\"http://www.aspnetresources.com/tools/httpcompression.aspx\">zajímavý\nnástroj</a>, který vám zjistí, zda kompresi používáte a kolik byste byli\nschopní uspořit, najdete na stránkách <a\nhref=\"http://www.aspnetresources.com\">www.aspnetresources.com</a>. Zkoušel jsem\npokusně české portály a kompresi používá pouze <a\nhref=\"http://www.seznam.cz/\">Seznam.cz</a>. Přitom zcela jistě ji dříve\npoužíval i <a href=\"http://www.atlas.cz/\">Atlas.cz</a>, nechápu, proč už\nnení zapnutá.</p>\n\n<p>Jak zprovoznit kompresi na vašem serveru? Pokud máte IIS 6 a možnost\nnastavit si server sám, tak detaily najdete v článku <a\nhref=\"http://www.microsoft.com/technet/prodtechnol/WindowsServer2003/Library/IIS/d52ff289-94d3-4085-bc4e-24eb4f312e0e.mspx?mfr=true\">Enabling\nHTTP Compression (IIS 6.0)</a>, v případě IIS 7 zase v článku <a\nhref=\"http://blogs.iis.net/ksingla/archive/2006/06/13/changes-to-compression-in-iis7.aspx\">Changes\nto compression in IIS7</a>. Pokud k nastavení serveru přístup nemáte,\nmůžete použít <a\nhref=\"http://www.blowery.org/code/HttpCompressionModule.html\">HttpModul pro\nkompresi</a>. Uživatelé Apache jistě znají <a\nhref=\"http://httpd.apache.org/docs/2.0/mod/mod_deflate.html\">mod_deflate</a> a\n<a href=\"http://sourceforge.net/projects/mod-gzip/\">mod_gzip</a>.</p>\n\n<p>Správně nastavenou kompresí ušetříte trafik. Ať už platíte vy nebo\nváš poskytovatel, je nejen ekonomické ale i solidární mít kompresi\nzapnutou.</p>\n\n<h3 id=\"toc-optimalizace-kodu-stranky\">Optimalizace kódu stránky</h3>\n\n<p>Správně napsaným kódem se dá zrychlit vykreslování stránky.</p>\n\n<ul>\n\t<li>Pokud je vaše stránka well-formed a je validní, může být její\n\tvykreslení mnohem rychlejší.</li>\n\n\t<li>Pokud nastavíte obrázkům rozměry, bude vykreslování stránky\n\tplynulejší a nebude se nepříjemně natahovat.</li>\n\n\t<li>Pokud u dlouhých tabulek správně použijete <code>thead</code>,\n\t<code>tfoot</code> a vícero <code>tbody</code>, taktéž docílíte\n\trychlejšího zpracování stránky.</li>\n\n\t<li>Pokud externí skripty a jiné větší objekty, na jejichž zpracování\n\tmusí prohlížeč čekat, připojíte až na konec stránky, nebude se na ně\n\tzbytečně čekat na začátku nebo uprostřed. Je to třeba častý nešvar\n\tmagazínů, kde se vám načte perex, pod ním se 20 sekund načítá reklama a\n\tpak najednou nablikne zbytek stránky.</li>\n</ul>\n\n<p>Spoustu zajímavých tipů na zrychlení najdete ve vývojářské části\nYahoo v článku <a\nhref=\"http://developer.yahoo.com/performance/rules.html\">Best Practices for\nSpeeding Up Your Web Site</a>. Užitečný nástroj ze stejné dílny, který\nvám stránku zkontroluje přímo ve vašem prohlížeči je Add-on do <a\nhref=\"http://www.getfirebug.com/\">Firebug</a>u s názvem <a\nhref=\"http://developer.yahoo.com/yslow/\">Y-Slow</a>.</p>\n\n<p>Mnoho z vás si jistě řekně, „k čemu bych měl optimalizovat, když\nmoje stránky navštěvuje pár lidí denně?“ Já jsem toho názoru, že\nplýtvat se nemá. Doma taky určitě nemáte neustále otevřený vodovodní\nkohoutek…</p>\n\n<div class=\"hslice\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a href=\"/weblog/269-hlavicka-pragma-a-jeji-misto-v-html.aspx\">Hlavička\n\t\tPragma a její místo v HTML</a></li>\n\n\t\t<li><a\n\t\thref=\"http://php.vrana.cz/skoleni-vykonnost-webovych-aplikaci.php\">Školení\n\t\tJakuba Vrány: Výkonnost webových aplikací</a></li>\n\n\t\t<li><a href=\"http://www.mnot.net/cache_docs/\">Caching Tutorial for Web Authors\n\t\t&amp; Webmasters</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:32:25.520-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zvyšte výkon vašeho webu",
  :published #inst "2008-06-05T14:14:50.660-00:00",
  :url "zvyste-vykon-vaseho-webu",
  :category-url "webdesign.aspx",
  :id 280,
  :description
  "Každý přenesený byte něco stojí, zkuste se zamyslet nad tím jak ušetřit. Pokusím se nadhodit několik tipů na snížení trafiku a zvýšení výkonu vaší webové aplikace/prezentace.",
  :category "Webdesign",
  :tags
  ["iis7"
   "apache"
   "http"
   "html"
   "xhtml"
   "css"
   "javascript"
   "etag"
   "cache"
   "compression"
   "firebug"
   "yslow"]},
 :136-texy-rpc-wrapper-pro-dotnet.aspx
 {:html
  "\n<h3>Update 2</h3>\n\n<p>Protože se změnil protokol komunikace s&#160;Texy RPC a já měl\ni&#160;pár nápdů na vylepšení, použijte raději <a\nhref=\"/clanek/196-texy-net-release-candidate.aspx\">Texy.net RC1</a>, je to\n<strong>jediná funkční</strong> verze ;)</p>\n\n<h3>Update</h3>\n\n<p><em>Napsal jsem knihovnu, která zprostředkovává kounikaci s&#160;Texy!\nXML-RPC, která je mnohem lepší než toto řešení. Najdete ji\nv&#160;článku <a href=\"/clanek/158-texy-net-1-0-beta.aspx\">Texy.net\n1.0&#160;beta</a></em></p>\n\n<p>Ještě jsem ani nestihl napsat, že <a\nhref=\"http://www.dgx.cz/trine/\">DGX</a> uvolnil finální release <a\nhref=\"http://www.texy.info/\">Texy! 1.0</a>&#160;a včera večer přidal ještě\nXML RPC rozhranní pro Texy (na adrese <code>http://xmlrpc.texy.info/</code>).\nToho jsem nemohl nevyužít k&#160;procvičení vzdáleného volání\nz&#160;ASP.NET. Sice to neni tak elegantní řešení jako u&#160;<a\nhref=\"/clanek/64-texy-web-service-ws.aspx\">Texy WS</a>, ale je tu další\nmožnost, jak Texy do dotnetu implementovat&#8230;</p>\n\n<pre><code class=\"language-csharp\">using System;\nusing System.IO;\nusing System.Net;\nusing System.Web;\nusing System.Collections;\nusing System.Web.Services;\nusing System.Web.Services.Protocols;\nusing System.Xml;\nusing System.Text;\n\n[WebService(\n    Namespace = \"http://rarous.net/ws/\",\n    Description = \"XML RPC to SOAP bridge for Texy!\")]\n[WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]\npublic class TexyService : System.Web.Services.WebService {\n\n    public TexyService () { }\n\n    [WebMethod(Description = \"Konvertuje vstupní text do XHTML\")]\n    public string ConvertToXhtml(string text)\n    {\n        Uri url = new Uri(\"http://xmlrpc.texy.info/\");\n        HttpWebRequest request = WebRequest.Create(url) as HttpWebRequest;\n        request.UserAgent = \"Gryphoon Texy Bridge 0.1\";\n        request.Accept = \"text/html, text/xml, application/xhtml+xml, application/xml\";\n        request.ContentType = \"text/xml\";\n        request.Method = \"POST\";\n\n        XmlTextWriter writer = new XmlTextWriter(request.GetRequestStream(), Encoding.UTF8);\n        writer.WriteStartDocument();\n        writer.WriteStartElement(\"methodCall\");\n            writer.WriteElementString(\"methodName\", \"texy1.toHtml\");\n            writer.WriteStartElement(\"params\");\n                writer.WriteStartElement(\"param\");\n                    writer.WriteStartElement(\"value\");\n                        writer.WriteElementString(\"string\", text);\n                    writer.WriteEndElement();\n                writer.WriteEndElement();\n            writer.WriteEndElement();\n        writer.WriteEndElement();\n        writer.Close();\n\n        HttpWebResponse response = request.GetResponse() as HttpWebResponse;\n        XmlTextReader reader = new XmlTextReader(response.GetResponseStream());\n\n        string output = String.Empty;\n        object val = reader.NameTable.Add(\"string\");\n        while (reader.Read())\n        {\n            if (reader.NodeType == XmlNodeType.Element &amp;&amp; reader.Name.Equals(val))\n                output = Server.HtmlDecode(reader.ReadInnerXml());\n        }\n\n        reader.Close();\n        response.Close();\n\n        return output;\n    }\n}</code></pre>\n\n<p>Rovnou jsem wrapper implementoval do Webové služby pro další využití\n(např. v&#160;Atlasu), ale celá magie je pouze v&#160;metodě\n<code>ConvertToXhtml</code>, která se o&#160;všechno postará. Tohle je\nprvní nástřel a možná má ještě nějaký mouchy, ale to se podá ;)\nUrčitě chci ještě dopsat možnost konfigurace, kterou <a\nhref=\"http://www.texy.info/cz/xmlrpc\">Texy RPC taky nabízí</a>.</p>\n\n<p><a href=\"/ws/TexyService.asmx\">Ukázka služby</a></p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2007-04-20T07:22:54.727-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Texy RPC wrapper pro dotnet",
  :published #inst "2006-04-20T12:35:31.787-00:00",
  :url "texy-rpc-wrapper-pro-dotnet",
  :category-url "asp-net-2-0.aspx",
  :id 136,
  :description "Texy se na nás směje.",
  :category "ASP.NET 2.0",
  :tags []},
 :289-duveryhodna-sitova-cesta.aspx
 {:html
  "\n<p>Společné knihovny v našich projektech linkujeme z jednoho síťového\nmísta. Při spouštění testů z Visuál Studia se v tomto případě může\nobjevit chybová hláška, že knihovna není v důvěryhodném umístění a\ntesty se nepodaří spustit.</p>\n\n<pre><code>Microsoft.VisualStudio.TestTools.TestManagement.ExecutionException: Test Run deployment issue: The location of the file or directory ‘\\\\server\\path\\library.dll’ is not trusted.</code></pre>\n\n<p>Existuje na to celkem snadné řešení, ale je poměrně těžko\ndohledatelné… Je potřeba toto umístění přidat mezi důvěryhodná\nuložiště assembly .net Frameworku. Nejsnažší cesta je nastavit CAS Policy\nasi přes příkazovou řádku:</p>\n\n<pre><code>cd %SystemRoot%\\Microsoft.NET\\Framework\\v2.0.50727\ncaspol -m -ag 1.2 -url \\\\Server\\path\\* FullTrust</code></pre>\n\n<p>Snad se bude hodit.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-07-23T22:30:53.137-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Důvěryhodná síťová cesta",
  :published #inst "2008-07-23T14:00:57.243-00:00",
  :url "duveryhodna-sitova-cesta",
  :category-url "asp-net-2-0.aspx",
  :id 289,
  :description
  "Jak nastavit síťovou cestu, jako důvěryhodnou pro spouštění .net assembly.",
  :category "ASP.NET 2.0",
  :tags []},
 :68-proc-pouzivam-netscape-8.aspx
 {:html
  "\n<p>Na mém počítačí je naistalovaných spousta prohlížečů, ale pouze\njeden má tu čest být mým hlavním. Je jím <a\nhref=\"http://browser.netscape.com/\">Nescape Browser 8</a>. Dlouho jsem před\ntím používal Firebirda a potom <a\nhref=\"http://firefox.czilla.cz/\">Firefoxe</a>, byl jsem s nimi spokojený, ale\nvadila mi jedna věc – některé stránky byly nepřístupné nebo\nnefunkční. Proto jsem musel občas otevírat Internet Explorer (IE), hlavně\npři chození do banky.</p>\n\n<p>Když se objevily zprávy o tom, že nová verze Netscape (NS) bude\npostavená na Firefoxu a že bude mít přepínání enginů, nadchlo mě to a\ntěšil jsem se na release jako malé dítě. Hned, jak oficiálně vyšel, jsem\nho naistaloval…</p>\n\n<p>Chvíli jsem ho používal, ale zase jsem se vrátil zpět k Firefoxu. Pak\njsem musel zformátovat disk a při nové instalaci systému jsem se rozhodl,\nže dám Netscapu druhou šanci a myslím že jsem udělal dobře, jsem nad\nmíru spokojený.</p>\n\n<h3>Co se mi na NS8 tak líbí?</h3>\n\n<p>V první řadě je to používání dvou zobrazovacích jader – Gecko a\nTrident – mezi kterými si můžu libovolně přepínat a nastavovat pro\njednotlivé servery, jaké jádro použít s tím, že si to <acronym\ntitle=\"Netscape\">NS</acronym> pamatuje. Dále je to vychytaný systém\nověřování bezpečnostních úrovní stránek, který ve Firefoxu chybí a\nv <acronym title=\"Internet Explorer\">IE</acronym> není tak dotažený. NS si\nověřuje důvěryhodnost stránek u serverů jako je eTrust nebo VerySign,\nnebo si úroveň zabezpečení můžete, zase pro jednotlivé sity,\nnastavit ručně.</p>\n\n<p>Oproti Firefoxu má NS ve výchozí instalaci mnohem lepší podporu pro\nprohlížení stránek v záložkách, má integrovaný <a\nhref=\"http://www.icq.com/\">ICQ</a> klient, má integrovanou podporu pro <a\nhref=\"http://www.gmail.com/\">GMail</a> a jiné používané e-mailové služby,\nmá pro mě přítulnější a kompaktnější prostředí.</p>\n\n<p>Velkou nevýhodou, oproti Firefoxu, je zatim nedostatečné množství\nnabízených rozšíření, ale po čase jsem zjistil, že je zase tolik\nnepotřebuju, jediné co mi chybělo byly MouseGestures a ty mi v poslední\nverzi fungují bez problémů. Oni se totiž některé extensions pro Firefox\ndají přemluvit k tomu, aby se tvářili, že jsou pro NS8 a ve výsledku\ni fungují.</p>\n\n<h3>Jak na to?</h3>\n\n<p>Postup je jednoduchý. Z <a href=\"http://update.mozilla.org/\">Mozilla\nUpadate</a> si stáhnete rozšíření, které se vám líbí (Udělejte to\npřes pravé tlačítko volbou <em>Save Target As…</em>). Potom si\nrozšíření otevřete pomocí ZIP a v něm upravíte soubor\n<strong>install.rdf</strong> a to následovně:</p>\n\n<ol>\n\t<li>Musíte změnit ID cílové aplikace</li>\n\n\t<li>Musíte změnit podporovanou verzi</li>\n</ol>\n\n<p>Výsledná část kódu po editaci bude třeba vypadat následovně:</p>\n\n<pre\n><code class=\"language-markup\">...\n&lt;em:targetApplication&gt;\n    &lt;rdf:Description&gt;\n        &lt;em:id&gt;{3db10fab-e461-4c80-8b97-957ad5f8ea47}&lt;/em:id&gt;\n        &lt;em:minVersion&gt;8.0.1&lt;/em:minVersion&gt;\n        &lt;em:maxVersion&gt;8.0.4&lt;/em:maxVersion&gt;\n    &lt;/rdf:Description&gt;\n&lt;/em:targetApplication&gt;\n...</code></pre>\n\n<p>Výsledek uložíme a pokusíme se ho Netscapu vnutit. Otevřete si okno\n<em>Extensions</em> a naše rozšíření do něj přetáhneme. Potom NS\nrestartujeme. Voalá. Ovšem je velice provděpodobné, že ho nepříjme. Pak\nje nutné nefunkční rozšíření odebrat, opět v okně Extensions. Pokud se\nk němu nedostanete, je nutné spustit NS v <em>safe modu</em> a pak to\npůjde. Z toho vyplívá, že to děláte <strong>na vlastní\nnebezpečí</strong> a já nenesu žádnou vinu na tom, co se vám\nmůže stát.</p>\n\n<!-- by Texy2! -->",
  :keywords "firefox netscape browser 8",
  :edited #inst "2008-04-19T19:16:35.493-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Proč používám Netscape 8",
  :published #inst "2005-09-04T10:45:44.000-00:00",
  :url "proc-pouzivam-netscape-8",
  :category-url "webdesign.aspx",
  :id 68,
  :description
  "O tom, proč jsem nahradil Firefox Netscape Browserem 8.",
  :category "Webdesign",
  :tags []},
 :36-ale-budu.aspx
 {:html
  "\n<p>Dnes ráno mě probudilo naléhavé zvonění telefonu. Chytli stopu\nWinklyho. Winkly je bastard, který v posledním měsíci zabil čtyři lidi,\nvysmíval se policii do obličeje a až do této chvíle nepozorovaně utíkal\nsilám zákona – nám. Proto Vás nepřekvapí, že jsem byl v autě za dvě\nminuty dvacet sedm vteřin, nový rekord.</p>\n\n<p>Byla mlha. Dojel jsem před stanici, kde už na mě čekal můj kolega Phil,\nkterý jen naskočil do auta a už jsme se podle jeho instrukcí řítili do\nseverní části města – přístav, jatka, skladiště – nic víc,\nnic míň.</p>\n\n<p>Winklyho si všiml policista, kterému právě končila noční šichta –\nohlásil to a už mu skončila i ta životní šichta. To se k obětem\nnepočítalo, už jen z loajality jednoho policisty k druhému. Winkly nás\nměl na svědomí už necelý tucet.</p>\n\n<p>To, co přidávalo plyn, jak jsme to valili k přístavu jsem nebyl já, ale\nmoji dva nájemníci. Třímetrová hromada svalů s rudě podlitýma očima a\nmalá černooká postavička s obrovským sekáčkem na maso – Zuřivost a\nPomsta.</p>\n\n<p>Maják houkal hlasitěji, než jindy a jestli ne, tak v mé mysli určitě\nano. Malé kapky se začaly rozprskávat o přední sklo.</p>\n\n<p>Už jsme tam byli – celá oblast byla dokonale obklíčená nervózními\nkolegy. Od bosse Remory jsem se dozvěděl, že on je tam někde uvnitř.\nA také, že potřebuje dobrovolníka, který ho půjde tam dovnitř ulovit,\nprotože tohle nemůže nikomu nařídit – na inteligentního zabijáka\npolicistů Winklyho kalibru to prostě nejde.</p>\n\n<p>Co čekáte? Šel jsem a Phil se mnou.</p>\n\n<p>S vytaženými odjištěnými zbraněmi jsme opatrně pročesávali ulici za\nulicí. Nebylo jich tam moc a těch pár lidí, co tu pracovali už bylo za\nbezpečnou hranicí policistů. Ale, zkuste postavit obranou zeď z balónků,\nkdyž je útočník ostrým špendlíkem.</p>\n\n<p>Pořádně se rozpršelo.</p>\n\n<p>Odhadoval jsem, že v přístavu asi není. Sklady byly zase dost\nobyčejné. Zamířili jsme na jatka.</p>\n\n<p>Vešli jsme zadem. Smrdělo to tam tak, jak si to člověk na jatkách\npředstavuje – zápach krve, krys a smrti. Prošli jsme kanceláře a\nzamířili do vykonavatelny. A on tam byl. Chtělo se mi zvracet. Od pusy mu\nztékaly potůčky čerstvé krve.</p>\n\n<p>Naneštěstí stál hned vedle sloupu a během mžiku oka už byl za ním.\nAni Philův výstřel tomu nepomohl, netrefil.</p>\n\n<p>Během následujících dvou vteřin Phil vyběhl směrem k Winklymu,\nsnažil jsem se ho zadržet, ale marně, a jakmile se dostal ke sloupu, natáhl\nobě ruce dopředu, upustil pistoli a zapotácel se zpět.</p>\n\n<p>Z hrudi mu koukal velký nůž. Tak jich má na svědomí už\ncelý tucet.</p>\n\n<p>Zatímco jsem držel Phila, Winkly utekl. Žádné slzy, žádné útěchy.\nJen dva páry očí, mluvící o tom stejném.</p>\n\n<p>Malému nájemníkovi se zvětšil a otupil nástroj. Tak to víc bolí.</p>\n\n<p>Vyrazil jsem jeho směrem. A měl jsem štěstí, schovával se za velkou\nbednou uprostřed obrovské prázdné místnosti. Až doteď se mu dařila\ntaktika: Schovej se tam, kde tě budou hledat nejdřív. Ale tentokrát mu to\nnevyšlo, hledal jsem ho tam.</p>\n\n<p>A teď klečí dva metry přede mnou s rukama za hlavou, na kterou\nmu mířím.</p>\n\n<p>„Tak, a teď jste mě dostal. Cha, chá!“ zasmál se. „Dostal! Mě!\nCha, chá! Sám víte, že mě nedostane nikdo, když to nechci,\ncha, chá!“</p>\n\n<p>V tom se nad námi propadl strop a místnost počal zavlažovat hustý\ndéšť.Na nás nespadlo nic, jen okolo pár palubek a krytiny.</p>\n\n<p>Ale on se nepohnul – nevyužil šance.</p>\n\n<p>Začala se mi třást ruka. Obrovitý nájemník mi trhal uši\nsvým řevem.</p>\n\n<p>„Ale ne, vy mě nezabijete, nemáte na to. Cha, chá!“</p>\n\n<p>Nebudu, jako on, nezabiju ho. Nejsem vrah, to on. Stal bych se jím. A to\nnechci. Nebudu jako on.</p>\n\n<p>„Cha, chá!“ smál se pronikavým smíchem, který mi před očima\npromítal všech dvanáct kolegů. Klečel tam v mokrém bahně a\nsmál se.</p>\n\n<p>Nebudu jako on.</p>\n\n<p>Velký nájemník přestal nechápavě křičet a ten druhý ho poslal pryč.\nTeď jsme tady jen mi tři. Černooké postavičce se rozkýval sekáček\nv rukou. Nebudu jako on.</p>\n\n<p>Také jsem se usmál.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:57:26.613-00:00",
  :is-published true,
  :author "dekan",
  :title "Ale budu...",
  :published #inst "2005-01-17T20:09:23.000-00:00",
  :url "ale-budu",
  :category-url "jen-tak.aspx",
  :id 36,
  :description "",
  :category "Jen tak",
  :tags []},
 :424-vlastni-transformace-konfiguracnich-souboru.aspx
 {:html
  "\n<p>Jedna z pozitivních věcí, se kterou přišel publikační nástroj ve VS\n2010, byla automatizovaná transformace <code>web.config</code>u podle zvolené\nbuild konfigurace. Od začátku jsem ji úspěšně používal, jak na Tropu,\ntak později i na Webmiu, při automatizovaném deploymentu do\ndev/staging/pro­duction prostředí. Používal jsem k tomu <a\nhref=\"https://github.com/rarous/WebTools/blob/master/Deployment.ps1\">jednoduchý\nPowerShell</a> script, který vyčistí projekt, sbuildí ho ve vybrané\nkonfiguraci, včetně transformace web.configu, vytvoří MsDeploy balíček a\npošle ho na cílový server. Je pravda, že pro Azure se používá jiný\nbalíčkovací systém, ale princip je stejný.</p>\n\n<p>Tohle všechno je super, pokud máte jednu nebo málo cílových instancí.\nPokud máme víc produkčních deloyovacích konfigurací, je zbytečné\nvytvářet pro každou i build konfiguraci, která může být pro všechny\nstejná. A tím se pomalu dostáváme k potřebě oddělit transformace\nkonfiguračního souboru od build konfigurací.</p>\n\n<h3 id=\"toc-transformace\">Transformace</h3>\n\n<p>Transformace konfiguračního souboru jsou zdánlivě zapečené do webového\nprojektu. Dokonce jsem do některých konzolovek linkoval\n<code>WebApplication.target</code>, abych mohl transformovat i\n<code>app.config</code>. Přitom je to samostatný MsBuild task:</p>\n\n<pre\n><code class=\"language-markup\">&lt;UsingTask TaskName=\"TransformXml\"\n    AssemblyFile=\"$(MSBuildExtensionsPath)\\Microsoft\\VisualStudio\\v10.0\\Web\\Microsoft.Web.Publishing.Tasks.dll\"/&gt;</code></pre>\n\n<p>Ovšem, psát build script v XML, je tak neproduktivní a nehodné\n21. století. Vytvoříme si jen jednoduchý znovupoužitelný wrapper, který\nbudeme volat z <a href=\"https://github.com/psake/psake\">psake</a> nebo jiného\nvhodnějšího buildovacího DSL.</p>\n\n<pre\n><code class=\"language-markup\">&lt;Project ToolsVersion=\"4.0\" DefaultTargets=\"Transform\" xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\"&gt;\n    &lt;UsingTask TaskName=\"TransformXml\" AssemblyFile=\"$(MSBuildExtensionsPath)\\Microsoft\\VisualStudio\\v10.0\\Web\\Microsoft.Web.Publishing.Tasks.dll\"/&gt;\n    &lt;Target Name=\"Transform\"&gt;\n        &lt;TransformXml Source=\"$(Source)\" Transform=\"$(Transform)\" Destination=\"$(Destination)\" /&gt;\n    &lt;/Target&gt;\n&lt;/Project&gt;</code></pre>\n\n<p>Pak už si jen připravíme pomocnou funkci, která nám tenhle scrtipt\nzavolá a můžeme jet:</p>\n\n<pre\n><code class=\"language-powershell\">function Transform-Config {\n    param([string] $source, [string] $transform, [string] $destination = '')\n    if (-not $destination) { $destination = $source; }\n    Exec { MsBuild TransformHelper.build /p:Source=$source /p:Transform=$transform /p:Destination=$destination.tmp }\n    Remove-Item $destination -force\n    Rename-Item \"$destination.tmp\" $destination -force\n}</code></pre>\n\n<p>Parametr <code>$destination</code> je volitelný, pokud není zadaný\npřepíše se zdrojový soubor.</p>\n\n<h3 id=\"toc-pouziti-v-praxi\">Použití v praxi</h3>\n\n<p>Ve výsledku tohle používám pro transformace configu pro různé instance.\nV aplikaci mám složku <code>Configurations</code> kde jsou jednotlivé\ntransformace <code>web.instance.config</code>, kde instance je proměnná. Pokud\npotřebuju rychle přepnout na jinou instance napíšu do konzoly:</p>\n\n<pre><code class=\"language-powershell\">.\\psake.ps1 TransformConfig –properties @{ instance = 'instance' }</code></pre>\n\n<p>A mám switchnuto. <code>TransformConfig</code> je task v psake scriptu,\nkterý volá výše vytvořenou funkci. Při balíčkování se dá využít\nběžných transformací jako <code>Web.Release.config</code>, který nastaví\nkonfiguraci pro běh v ostrém prostředí v kombinaci s vlastními\ntransformacemi pro různé instance. Mám tak oddělená nastavení specifická\npro prostředí od těch, která specifikují konfiguraci instance.</p>\n\n<p>Samozřejmě se to dá využít i na <code>app.config</code> nebo jakékoli\njiné XML. To už záleží jen na vaší představivosti. :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-08-17T14:42:15.563-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vlastní transformace konfiguračních souborů",
  :published #inst "2012-08-17T11:29:28.133-00:00",
  :url "vlastni-transformace-konfiguracnich-souboru",
  :category-url "moje-prace.aspx",
  :id 424,
  :description
  "Jedna z pozitivních věcí, se kterou přišel publikační nástroj ve VS 2010, byla automatizovaná transformace web.configu podle zvolené build konfigurace.",
  :category "Moje práce",
  :tags ["psake"]},
 :30-polemika-o-semantice.aspx
 {:html
  "\n<p>Nedávno se na Well Done (<a\nhref=\"http://hulan.info/blog/item/xhtml-a-semanticky-kod-versus-realita\">http://hulan&#173;.info/&#8230;rsus-realita</a>)\ndiskutovalo, zda je semanticky lepší řadit komentáře do DIVů nebo do\nOL-LI číslovaného seznamu. Podle mě, je to ale plácání do vody…</p>\n\n<p>HTML, potažmo XHTML, není jazyk vytvořený k&#160;tvoření webových\naplikací, nýbrž k&#160;formátování (logickému členění)&#160;textu a\njeho provázání pomocí hypertextových odkazů. To že se časem nabalily\nk&#160;HTML formuláře, aplety a jiné objekty je smutná realita. Pokud ale\nněkdo chce tvrdit že jeho webová aplikace je semanticky v&#160;pořádku\n(né-li nejlepší na webu), neberu ho vážně pokud je to celé čistě\nv&#160;XHTML. Na takové věci se mají používat XForms, RDF, a další\nvhodnější XML aplikace.</p>\n\n<p>Jenže žijeme v&#160;divné době, kdy toto nechápou ani výrobci\nprohlížečů&#160; (na těch záleží nejvíce), ani někteří rádoby\nprorokové a guruové internetu. Ale až jednou budou tyto doporučení\nfungovat v&#160;praxi, můžeme se začít o&#160;nějaké sémantice\nbavit.</p>\n\n<p>Dnes ale mame jiné možnosti:</p>\n\n<ol>\n\t<li>Dělat po &#8222;staru&#8220; a nedávat najevo nějakou svoji pochybnou\n\tdokonalost</li>\n\n\t<li>Napsat si vlastní semanticky lepsi XML aplikace a ty pak používat spolu\n\ts&#160;XHTML 1.1&#160;a CSS, s&#160;tím že asi budou problémy ve straších\n\tprohlížečích (IE6 je taky starej prohlížeč)</li>\n\n\t<li>Bod č. 1 + Testovat a učit se nové metody, až příjde čas budou se\n\thodit a kdo dřív příjde, ten dřív mele…</li>\n</ol>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:58:28.500-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Polemika o semantice",
  :published #inst "2004-08-31T00:00:00.000-00:00",
  :url "polemika-o-semantice",
  :category-url "webdesign.aspx",
  :id 30,
  :description "",
  :category "Webdesign",
  :tags []},
 :22-wellstyled.aspx
 {:html
  "\n<p><a href=\"http://www.pixy.cz/\">Pixy</a> spustil svoje nové stránky\ns názvem <a href=\"http://www.wellstyled.com/\">WellStyled.com</a>. Je to\nstudnice kvalitních řešení v CSS, vhodná jak pro začátečníky, tak\ni pro inspiraci pokročilým. Web je zajímavě řešen v dvojjazyčné\npodobě. Designově i obsahově je tedy web velice povedený a už ho mám\nzabookmarkovaný.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:45:23.950-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "WellStyled",
  :published #inst "2004-05-29T22:00:00.000-00:00",
  :url "wellstyled",
  :category-url "webdesign.aspx",
  :id 22,
  :description "Pixy spustil svoje nové stránky.",
  :category "Webdesign",
  :tags []},
 :367-community-meeting-net.aspx
 {:html
  "\n<p>Máte nějaké dotazy ohledně vývoje v ASP.NET potažmo v .net obecně?\nMáte chuť se seznámit s dalšími lidmi, kteří se dotnetem zabývají,\nnebo jen chcete osobně potkat lidi, které znáte jen virtuálně? Budete\nv sobotu 17. Října na WebExpu 2009?</p>\n\n<p>Pokud jste alespoň na jednu z výše položených otázek odpověděli\nkladně, přijďte se podívat na <a\nhref=\"http://webexpo.cz/prednaska/community-meeting-aspnet/\">Community meeting\n.net</a>, kde najdete Štěpána Bechynského a moji maličkost. Můžete se\nnás zeptat na cokoli o ASP.NET a dalších dotnet technologiích a pokud to\nbude v našich silách, tak vám odpovíme. Štěpán slíbil, že součástí\nmeetingu bude i coolkeg s náplní od Staropramenu, tak kdo bude mít žížu,\ntak ať si přinese vlastní pulitr, pokud nechce pít z plastiku…</p>\n\n<p>Naviděnou příští sobotu!</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-10-07T12:50:37.700-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Community meeting .net",
  :published #inst "2009-10-07T12:50:37.677-00:00",
  :url "community-meeting-net",
  :category-url "asp-net-2-0.aspx",
  :id 367,
  :description "Pozvánka na Community meeting .net na WebExpu 2009.",
  :category "ASP.NET 2.0",
  :tags ["webexpo" "aspnet"]},
 :300-vyvojova-infrastruktura.aspx
 {:html
  "\n<p>Na začátku vývoje každého produktu bychom si měli připravit vhodnou\ninfrastrukturu. Základem je verzovací systém – pokud pracujete sám, je\nznačnou výhodou, v teamu nezbytností. Další důležitou součásti je\nsystém pro vedení úkolů a bugů. Dále je vhodná wiki a taky nějaký\nbuildserver.</p>\n\n<h3 id=\"toc-proc-je-to-tak-dulezite\">Proč je to tak důležité?</h3>\n\n<p>Verzovací systém je vhodný na jakýkoli projekt, nemusí to nutně být\nani projekt softwarový – my ho třeba s Borkem používáme na přípravu\n<a href=\"/weblog/295-povidani-o-asp-net-na-webexpu.aspx\">přednášky</a>. Je to\nochrana před ztrátou dat, občas pomůže se podívat do historie, dnešní\nsystémy umějí mergovat změny z více zdrojů a jsou snadno zařaditelné do\nautomatizovaného procesu.</p>\n\n<p>Úkolník je dobrý z mnoha důvodů, vidíte, co máte dělat, jakou to má\nprioritu, kolik už máte hotovo. Slouží i jako váš výkaz, že se jen\nneflákáte. ;)</p>\n\n<p>Build server je už jen třešničkou na dortu, která za vás dělá\nrutinu – špinavou a nudnou práci.</p>\n\n<h3 id=\"toc-jak-to-bylo-v-atlase\">Jak to bylo v Atlase</h3>\n\n<p>Když jsem nastupoval do vývoje Atlas.cz, fungoval tam jen Visual\nSourceSafe, stagovalo se přes FTP. Vše bylo dost závislé na správném\npřipravení verze do produkčního prostředí, to připravoval člověk a\nsnadno mohlo dojít k chybě. :) Za nějaký čas jsme se rozhodovali jak to\ncelé zautomatizovat a usnadnit. Nakonec jsme přešli na PureCM, Atlas.Build a\nAtlas.Autowebsite.</p>\n\n<p><a href=\"http://www.purecm.com/\">PureCM</a> je verzovací systém\ns integrovaným úkolníkem a s možností skriptování v pythonu a\ndotnetím API. Má systém repository, které mají streamy a ty lze vzájemně\nmergovat v rámci hierarchie. Také k nim lze dopsat tzv. Custom action. Ta\nu nás nebyla nic jiného než spoušť události. Služba Atlas.Build tuto\nudálost zachytila, provedla checkout, pročistila projekt a podle jednoduchého\nbuild skriptu (zjednodušený NAnt) připravila verzi buďto na <em>dev</em>\nservery nebo na <em>staging</em>, kterou pak nahrála na příslušný server\npod danou verzí (názvem streamu).</p>\n\n<p>Vývojář pak zadal do prohlížeče adresu, třeba\n<code>http://katalog.3.6.0.dev2.atlas.cz</code>, kde na něj čekal Autowebsite,\nkterý se zeptal jakou verzi frameworku použít a pak v IIS metabázi založil\nnový web.</p>\n\n<p>Bylo za tím spousta magie a bylo celkem jednoduché a efektní a taky\nušité na míru našim potřebám.</p>\n\n<h3 id=\"toc-jak-to-mame-v-twaregu\">Jak to máme v Twaregu</h3>\n\n<p>Když jsme přišli do <a href=\"http://www.twareg.com/\">Twaregu</a>, bylo\nopět potřeba připravit infrastrukturu. Po týdnu zkoušení a rozhodování\njsme nakonec zvolili kombinaci Subversion (SVN), Trac, TeamCity.</p>\n\n<p><a href=\"http://subversion.tigris.org/\">SVN</a> je celkem osvědčený\nverzovací sytém, je zdarma a multiplatformní, existuje pro něj dostatek\nnástrojů, včetně integrace do Visual Studia a je podporován všemi\ntestovanými buildservery.</p>\n\n<p><a href=\"http://trac.edgewall.org/\">Trac</a> je wiki a systém pro vedení\núkolů s pěkným webovým prohlížečem repository. S SVN je spjat\npupeční šňůrou a dá se dobře automatizovat tvorba nových projektů.\nNavíc je to OpenSource a je zdarma.</p>\n\n<p><a href=\"http://www.jetbrains.com/teamcity/\">TeamCity</a> je skvělý\nbuildserver podporující Javu i dotnet (nejen tyto), umí se připojit do SVN\na zvládá i vzdálené předtestované commity, což je killer feature. Pokud\nse dokážete smířit s omezením na 3 build agenty, 20 uživatelů a\n20 konfigurací, pak je zdarma. Má pěknou integraci do Visual Studia a má\nAPI pro rozšiřování.</p>\n\n<p>První měsíc v Twaregu jsem (nejen) připravoval infrastrukturu. Napsal\njsem službu, která zakládá nové repository, připraví do nich základní\nadresářovou strukturu a založí projekt v tracku. Automatizované\nzakládání pro TeamCity zatím není a ještě nevím, jestli je potřeba.\nJednotlivé konfigurace je lepší projít ručně a nastavit dle požadavků\ndaného projektu. Na projektu většinou máme dvě konfigurace, jednu, která\nje pro vzdálený předtestovaný commit do vývojového branche a druhou,\nkterá se spouští při commitu do trunku. Provede se kompletní build, spustí\nse testy, pokud je vše <strong>ok</strong>, vytvoří se dokumentace a nahraje\nna intranet, provede se deploy knihoven do společného úložiště a vytvoří\nse weby, pokud nějaké v projektu jsou.</p>\n\n<p>Co se všechno má udělat je řízeno <a\nhref=\"http://msdn.microsoft.com/en-us/library/0k6kkbsd.aspx\">MSBuild</a>\nskriptem, pro který jsem připravil několik tasků. Upravil jsem <a\nhref=\"http://www.codeplex.com/xunit\">xUnit.net</a> task, aby se posílaly\nzprávy do TeamCity a přibalily výsledky testů do sumáře o buildu.</p>\n\n<p>Je fakt, že tady máme build skripty mnohem ukecanější něž v Atlasu,\nale jsou mnohem flexibilnější – vzhledem k heterogennímu prostředí je\nto potřeba.</p>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p>Investujete-li na začátku nějaký čas na vybudování infrastruktury,\njistě se vám to vrátí později v podobě nevytrhaných vlasů a\nneokousaných nehtů, když někdo někomu omylem přemázne celodenní práci\nnebo vydeployuje nefunkční verzi. Nemít verzovací systém je vyložený\nhazard, nemít úkolník je přinejmenším nepohodlné a bez build serveru se\ndá žít…</p>\n\n<p>A jakou infrastrukturu/sys­tém používáte vy?</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a rel=\"bookmark\"\n\t\thref=\"/weblog/299-stahnete-si-texy-net-a-nforms-pres-svn.aspx\">Stáhněte si\n\t\tTexy.net a NForms přes SVN</a></li>\n\n\t\t<li><a rel=\"bookmark\" href=\"/weblog/194-prednaska-o-msbuild.aspx\">Přednáška\n\t\to MSBuild</a></li>\n\n\t\t<li><a rel=\"bookmark\" href=\"/weblog/174-par-tipu-pro-vyvojare.aspx\">Pár tipů\n\t\tpro vývojáře</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-03-01T10:59:54.173-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vývojová infrastruktura",
  :published #inst "2008-09-14T09:40:54.550-00:00",
  :url "vyvojova-infrastruktura",
  :category-url "moje-prace.aspx",
  :id 300,
  :description
  "Proč je dobré mít základní vývojovou infrastrukturu? Jakou jsme ji měli v Atlasu a jakou ji máme teď? A jakou ji máte vy?",
  :category "Moje práce",
  :tags
  ["teamcity"
   "xunit"
   "atlas"
   "purecm"
   "twareg"
   "svn"
   "trac"
   "msbuild"
   "vcs"]},
 :24-firefox.aspx
 {:html
  "\n<p>Brzy má vyjít nová verze <a href=\"http://firefox.czilla.cz/\">Firefoxu</a>\n0.9. Tak jsem se podíval na release candidate. Hned mě překvapilo\nzeštíhlení instalačního balíčku na 4,8&#160;MiB, dále nový vzhled\nFirefoxu. Nicméně mě nový vzled moc neuchvátil, líbí se mi více ten, co\nmá <a href=\"http://www.opera.com/\">Opera</a> 7.51. No nevím jestli se\nk&#160;foxu vrátím, Opera si mě zatím drží svým IRC clientem a\nněkterejma vychytávkama, bohužel zase ale nemá takovou personalizaci jako\nFirefox. Doufám, že verze 1.0&#160;bude tak vychytaná a že bude kombinovat\nto nejlepší ze všech v&#160;použitelném celku.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Firefox",
  :published #inst "2004-06-10T10:00:00.000-00:00",
  :url "firefox",
  :category-url "webdesign.aspx",
  :id 24,
  :description "",
  :category "Webdesign",
  :tags []},
 :250-cssx.aspx
 {:html
  "\n<p>Tento člán je pouze spekulativní, píšu ho, abych si utřídil myšlenky\na rozvedl jeden možná úplně blbý nápad.</p>\n\n<p>Jak tak pročítám <a href=\"http://www.weblogy.cz/\">weblůžky</a> narazil\njsem na dva články: <a\nhref=\"http://pixy.cz/pixynergia/2008/what-im-missing-in-css/\">What I’m missing\nin CSS</a> a <a\nhref=\"http://www.misantrop.info/645101-parametrizovane-css.php\">Parametrizované\nCSS</a>. A uvědomil jsem si, že podpoře lepšího psaní <acronym\ntitle=\"kaskádové styly Macíku\">CSS</acronym>, nebo spíš jeho použitelnosti\na usnadnění práce kodérů, se moc pozornosti nevěnuje.</p>\n\n<p>Rozhodl jsem se, že bych mohl napsat vlastní preprocesor pro asp.net,\nkterý rozšíří syntaxi CSS o některé nové možnosti, ale zůstane\nzpětně kompatibilní s lexikálními pravidly CSS. Preprocesor by měl také\numožňovat komprimaci stylopisu, jak textovou, tak GZip. Měl by umět\nslučovat importované stylopisy a snížit tak počet http požadavků. Dále\ncachování a další nezbytnosti. :)</p>\n\n<h3 id=\"toc-promenne\">Proměnné</h3>\n\n<p>Prvním vylepšením CSSX jsou proměnné, které se definují na začátku\ndokumentu (kvůli lepší přehlednosti). Deklarace proměnné začíná\nzavináčovým pravidlem <code>@var</code> následuje název proměnné\nzačínající na znak dolaru, např. <code>$firemni-modra</code> následuje\ndvojtečka a přiřazená hodnota. Deklaraci uzavírá středník. V praxi to\nmůže vypadat třeba následovně:</p>\n\n<pre><code class=\"language-css\">/* definice proměnných */\n@var $firemni-modra: #2465B7;\n@var $firemni-zelena: #A0B424;\n\na{color:$firemni-modra;}\na:hover{color:$firemni-zelena;}\n\n/* další pravidla… */</code></pre>\n\n<p>V syntaxi využívám lexikální pravidla CSS, např. to, že neznámá\nzavináčová pravidla jsou ignorována až k následujícímu středníku nebo\nse ignoruje následující blok uzavřený ve složených závorkách.</p>\n\n<h3 id=\"toc-podminky\">Podmínky</h3>\n\n<p>Podmínky slouží k definování podmíněného bloku pravidel. Podmínky\nse definují pomocí zavináčového pravidla <code>@if</code> následovaného\nsymbolem a blokem s definicemi:</p>\n\n<pre><code class=\"language-css\">@if IE6 {\n/* pravidla pouze pro IE6 */\n}\n\n@if BLUE {\n/* pravidla pro pozadavek  style.cssx?symbols=blue */\n}</code></pre>\n\n<p>Symboly jsou definovány jednak pomocí „browser caps“ z asp.net a\ndruhak pomocí GET parametru <code>symbols</code>. Podmínky jsou proto vhodné\npro validní hackování stylopisu pro určité prohlížeče nebo pro\nskinování. Užití určitě může být povícero.</p>\n\n<p>Pokud máte další nápady na rozšíření nebo vylepšení mých návrhů,\nklidně to písněte do komentářů, diskusi se nebráním. :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:41:53.460-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "CSSX",
  :published #inst "2008-01-18T21:00:17.073-00:00",
  :url "cssx",
  :category-url "webdesign.aspx",
  :id 250,
  :description
  "Tento člán je pouze spekulativní, píšu ho, abych si utřídil myšlenky a rozvedl jeden možná úplně blbý nápad.",
  :category "Webdesign",
  :tags ["cssx" "css" "aspnet"]},
 :401-volme-spravne-nazvy.aspx
 {:html
  "\n<p>Ovládat dokážeme pouze věci, které dokážeme pojmenovat. Pokud něco\ndokážeme pojmenovat, můžeme se na to domluvit i s ostatními a komunikace\nje počátkem vývoje. Nebo tak to nejspíš bylo u lidí. ;)</p>\n\n<blockquote>\n\t<p>“There are only two hard things in Computer Science: cache invalidation and\n\tnaming things” [Phil Karlton]</p>\n</blockquote>\n\n<p>Ano jedním z nejtěžších problémů v softwarovém vývoji je\n<strong>správně pojmenovat</strong> věci. Ostatně to není problém pouze\nsoftwarového vývoje. :) Přijít s dobrým jménem vyžaduje zkušenost a\ndobré vyjadřovací schopnosti.</p>\n\n<p>Každý programátor dokáže napsat kus kódu, kterému rozumí počítač,\nale jen málo z nich dokáže napsat kód, kterému budou rozumět i lidé\n(ať někdo jiný nebo po čase on sám). A volba správných názvů přímo\nvede k dobrému porozumění kódu!</p>\n\n<h3 id=\"toc-zakladni-pravidla-pro-psani-srozumitleneho-kodu\">Základní pravidla\npro psaní srozumitleného kódu</h3>\n\n<ol>\n\t<li>Nepsat kód v jiném národním jazyce než je angličtina (většina\n\tprogramovacích jazyků má klíčová slova anglická).</li>\n\n\t<li>Používat popisné názvy.</li>\n\n\t<li>Nepoužívat kryptické kódování alá maďarská notace.</li>\n</ol>\n\n<h3 id=\"toc-pravidla-pro-pojmenovani-promennych\">Pravidla pro pojmenování\nproměnných</h3>\n\n<p>Proměnná je předmět a tudíž by to měl její název reflektovat.\nNejčastěji by názvy proměnných měla být <strong>podstatná\njména</strong> (případně s přívlastky.) Výjimkou jsou boolovské\nproměnné a delegáty. Proměnné typu <code>bool</code> by se měly dát\nčíst jako predikáty:</p>\n\n<pre\n><code class=\"language-csharp\">bool isEnabled = false;\nbool hasChildren = true;</code></pre>\n\n<p>Pro delegáty platí většinou pravidla stejná jako pro tvorbu názvů\nmetod (viz. dále.)</p>\n\n<p>Délka názvu proměnné by měla reflektovat scope v jakém se nachází.\nPokud mám proměnou v lambda výrazu, klidně může být jednopísmenková.\nNapř. <code>x =&gt; x * x</code>. Podobně je na tom proměnná pro index ve\nsmyčce nebo prvek <code>foreach</code> cyklu. (Pokud tělo cyklu není delší\nnež 4 řádky.)</p>\n\n<p>V případě proměnných z působností v metodách bychom už měli\npoužívat celá slova či popisná sousloví. Pokud máme proměnné\ns <strong>větším polem působnosti</strong>, jako jsou parametry metod nebo\nčlenské proměnné, měly bychom je pojmenovat <strong>delším popisnějším\nnázvem</strong>.</p>\n\n<pre\n><code class=\"language-csharp\">readonly IArticlesRepository articlesRepository;</code></pre>\n\n<h3 id=\"toc-pravidla-pro-pojmenovani-metod\">Pravidla pro pojmenování\nmetod</h3>\n\n<p>U metod je to přesně naopak než u proměnných. Metody vyjadřují\nnějakou akci a proto by měly <strong>začínat slovesem</strong>. Veřejné\nmetody by měly mít název <strong>krátký</strong> a <strong>jasný</strong>.\nJedno písmenkové metody patří možná tak akorát do globálního scope\n(viz. jQuery ;) ale všichni víme, že globální scope je špatný, že ano?)\nProč krátké? Protože je pravděpodobné, že je budeme používat často a\nnejspíš nejen my, ale i někdo jiný. Název však nesmí obsahovat\nzbytečné implementační detaily (ty by měly být v dokumentačním\nkomentáři). Pěkným příkladem je třeba <code>File.Open</code>.</p>\n\n<p>Naproti tomu <strong>privátní metody</strong> by měly mít\n<strong>popisné názvy dlouhé i několik slov</strong> nebo to může být\nkrátká věta. Nahrazují nám totiž rychle zastarávající komentáře.\nNebojte se často používat refactoring <code>Extract Method</code> na menší\nlogické kusy kódu a pěkně je pojmenujte. Kód se vám bude číst\nmnohem líp!</p>\n\n<h3 id=\"toc-pravidla-pro-pojmenovani-trid\">Pravidla pro pojmenování\ntříd</h3>\n\n<p>Pro třídy platí podobná pravidla jako pro metody, akorát že třídy\njsou opět podstatná jména. Privátní třídy pojmenováváme popisně,\nveřejné stručně a výstižně. U abstraktních tříd používáme\nabstraktní jména. Potomci pak toto jméno rozšiřují o konkrétní\npřívlastky.</p>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p>Volba správného jména je velice důležitá, protože, když se na váš\nkód podíváte pozorně, zjistíte, že jde v podstatě o variace neustále\nse opakujících konstrukcí a význam jim dodávají právě jména.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-05-05T16:12:23.097-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Volme správné názvy!",
  :published #inst "2011-04-08T14:59:43.163-00:00",
  :url "volme-spravne-nazvy",
  :category-url "asp-net-2-0.aspx",
  :id 401,
  :description
  "Pár tipů, jak psát přehlednější kód, kterému rozumí i někdo jiný, než autor.",
  :category "ASP.NET 2.0",
  :tags ["cleancode"]},
 :400-k-cemu-je-dobre-refaktorovat-cykly-do-linq-dotazu.aspx
 {:html
  "\n<p>V posledním zápichu jsem ukázal, jak <a rel=\"bookmark\"\ntitle=\"Pryč se stromečky! Nyní interaktivně.\"\nhref=\"/weblog/399-pryc-se-stromecky-nyni-interaktivne.aspx\">refaktorovat cyklus\nna LINQ</a>. Boris v komentářích poukázal na to, že výsledný kód\nnemusí být zrovna optimální, co se týče konzumace zdrojů. Já myslím,\nže je to malá cena, která je vyvážena obrovskou flexibilitou.</p>\n\n<p>Nejprve se vraťme k ukázkovému kódu. Ještě trochu jsem ho přepsal,\naby byl výsledek srozumitelnější:</p>\n\n<pre\n><code class=\"language-csharp\">static void ParseRouteData(Regex regex, Match match, RouteData data) {\n  var groups = match.Groups.Cast&lt;Group&gt;();\n  var groupNames = regex.GetGroupNames();\n\n  var matchingPairs =\n    from item in groups.\n      Zip(groupNames, (group, name) =&gt; new {\n        Pair = CreatePair(name, group.Value),\n        IsMatch = group.Success,\n      })\n    where item.IsMatch &amp;&amp; IsValidKeyAndValue(item.Pair)\n    select item.Pair;\n\n  matchingPairs.Do(SetRouteData(data));\n}\n\nstatic KeyValuePair&lt;string, string&gt; CreatePair(string key, string value) {\n  return new KeyValuePair&lt;string, string&gt;(key, value);\n}\n\nstatic bool IsValidKeyAndValue(KeyValuePair&lt;string, string&gt; pair) {\n  return IsNamedKey(pair) &amp;&amp; IsNotEmptyValue(pair);\n}\n\nstatic bool IsNamedKey(KeyValuePair&lt;string, string&gt; pair) {\n  return !(string.IsNullOrEmpty(pair.Key) || char.IsNumber(pair.Key, 0));\n}\n\nstatic bool IsNotEmptyValue(KeyValuePair&lt;string, string&gt; pair) {\n  return !string.IsNullOrEmpty(pair.Value);\n}\n\nstatic Action&lt;KeyValuePair&lt;string, string&gt;&gt; SetRouteData(RouteData data) {\n  return pair =&gt; data.Values[pair.Key] = pair.Value;\n}</code></pre>\n\n<ol>\n\t<li>Upravil jsem název funkce. Nyní už neiterujeme, ale po odhalení, co\n\tfunkce vlastně dělá, můžeme říct, že parsuje routovací data. Odstínili\n\tjsme se od implementačního detailu. Jsme více deklarativní.</li>\n\n\t<li>Změnil jsem lambda based zápis na query like zápis. Ten se stejně na\n\tlambda based zápis převede kompilátorem, ale odstraní se\n\tzbytečný šum.</li>\n\n\t<li>Přibyly dvě další funkce. <code>CreatePair</code> jsem zavedl pro\n\tzkrácení řádku, aby se nemuselo tady na blogu scrollovat doprava, ale opět\n\tnás odstiňuje od zbytečné informace (implementační detail).</li>\n\n\t<li>Oddělil jsem dotaz a jeho samotné vykonání.</li>\n</ol>\n\n<h3 id=\"toc-proc-tedy-linq\">Proč tedy LINQ?</h3>\n\n<p><acronym title=\"Language INtegrated Query\">LINQ</acronym> nám umožňuje\nzapisovat programy deklarativně. To znamená, že píšeme,\n<strong>čeho</strong> chceme dosáhnout, ne <strong>jak</strong> toho chceme\ndosáhnout. To je obrovská výhoda! Teď zapomeňme na to, že filtrujeme\njednotky vyparsovaných hodnot. Mějme jich tisíce nebo rovnou milióny! Pokud\npotřebujeme výsledek rychle, jsme v imperativním případě namydlený. Sice\nje výkonostně optimálnější než ten deklarativní, ale pouze\nv případě, že máme k dispozici jediný stroj s jediným\njádrem CPU.</p>\n\n<p>Pokud máme jader víc nebo celý cluster, můžeme vykonání LINQ dotazu\ndistribuovat na více jader (pomocí <acronym\ntitle=\"Task Parallel Library\">TPL</acronym>) nebo do celého clusteru (pomocí\n<a href=\"http://research.microsoft.com/en-us/projects/dryadlinq/\">Dryad</a>).\nVíce jader je u dnešních počítačů už standard a tak mikrooptimalizace\njsou většinou ke škodě.</p>\n\n<p>Samozřejmě existují výjimky, jako jsou např. mobilní zařízení, kde\nnení výkonu nazbyt. Otázkou je, zda raději nepřenechat výpočetně\nsložité operace na serverech? ;)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-06-12T12:05:43.437-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "K čemu je dobré refaktorovat cykly do LINQ dotazů?",
  :published #inst "2010-12-26T07:30:48.117-00:00",
  :url "k-cemu-je-dobre-refaktorovat-cykly-do-linq-dotazu",
  :category-url "asp-net-2-0.aspx",
  :id 400,
  :description
  "Všetšinou se totiž vyplatí abstrahovat z imperativního zápisu na deklarativní.",
  :category "ASP.NET 2.0",
  :tags ["linq"]},
 :414-strava-pro-vase-oci-usi-a-mozek.aspx
 {:html
  "\n<p>Už je tomu nějakej ten pátek, co jsem <a\nhref=\"http://blog.think-forth.com/\">Marianovi</a> slíbil, že napíšu článek\ns videama, o kterých si myslím, že jsou velmi dobrá na procvičování\nfunkcionálního programování a abstraktního myšlení vůbec. Tak\ntady jsou:</p>\n\n<h3 id=\"toc-minlinq\">MinLINQ</h3>\n\n<p>První z nich ukazuje implementaci LINQ operátorů pomocí funkcionální\nkompozice tří základních operátorů Ana, Bind a Cata:</p>\n\n<iframe style=\"height:288px;width:512px;display:block\"\nsrc=\"http://channel9.msdn.com/Shows/Going+Deep/Bart-De-Smet-MinLINQ-The-Essence-of-LINQ/player?w=512&amp;h=288\"\nframeborder=\"0\" scrolling=\"no\"></iframe>\n\n<h3 id=\"toc-rx-pod-kapotou\">Rx pod kapotou</h3>\n\n<p>Další se zabývá velice zajímavými koncepty asynchroního a\nkonkurenčního přístupu v reaktivních extenzích:</p>\n\n<iframe style=\"height:288px;width:512px;display:block\"\nsrc=\"http://channel9.msdn.com/Shows/Going+Deep/E2E-Erik-Meijer-and-Wes-Dyer-Reactive-Framework-Rx-Under-the-Hood-1-of-2/player?w=512&amp;h=288\"\nframeborder=\"0\" scrolling=\"no\"></iframe>\n\n<iframe style=\"height:288px;width:512px;display:block\"\nsrc=\"http://channel9.msdn.com/Shows/Going+Deep/E2E-Erik-Meijer-and-Wes-Dyer-Reactive-Framework-Rx-Under-the-Hood-2-of-2/player?w=512&amp;h=288\"\nframeborder=\"0\" scrolling=\"no\"></iframe>\n\n<h3 id=\"toc-design-programovacich-jazyku\">Design programovacích jazyků</h3>\n\n<p>Poněkud starší video o tom, jak se vaří programovací jazyky, s lidmi,\nkteří je opravdu navrhují. Erik Meijer je jedním z mistrů Haskellu a mimo\njiné i mozkem za LINQ a Rx ve světě dotnetu. Gilad Bracha je toho času\nsoučástí týmu tvořícího <a href=\"http://www.dartlang.org/\">Dart</a>.\nA Mads je v teamu tvořící C#. Takže samí zajímaví lidé se zajímavými\npohledy na jazyky.</p>\n\n<iframe style=\"height:288px;width:512px;display:block\"\nsrc=\"http://channel9.msdn.com/Shows/Going+Deep/Erik-Meijer-Gilad-Bracha-Mads-Torgersen-Perspectives-on-Programming-Language-Design-and-Evolution/player?w=512&amp;h=288\"\nframeborder=\"0\" scrolling=\"no\"></iframe>\n\n<h3 id=\"toc-fukcionalni-programovani\">Fukcionální programování</h3>\n\n<p>Další video s Erikem „you know“ Meijerem. :) Také staršího data,\nale to na kvalitě neubírá, představuje koncepty funkcionálního\nprogramování v dotnetu.</p>\n\n<iframe style=\"height:288px;width:512px;display:block\"\nsrc=\"http://channel9.msdn.com/Shows/Going+Deep/Erik-Meijer-Functional-Programming/player?w=512&amp;h=288\"\nframeborder=\"0\" scrolling=\"no\"></iframe>\n\n<p>A komu to přijde málo a má chuť (a čas) se do funkcionálního\nprogramování opravdu obout, tak doporučuju celou <a\nhref=\"http://channel9.msdn.com/search?term=Functional+Programming+Fundamentals&amp;type=Shows\">13 dílnou\nserii Erikových lekcí</a>. Často jsou ukázky v Haskellu, ale tady jde\no koncepty a nakonec není od věci podívat se i na jiný programovací\njazyk, že.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-12-25T10:35:57.957-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Strava pro vaše oči, uši a mozek",
  :published #inst "2011-12-25T09:26:59.807-00:00",
  :url "strava-pro-vase-oci-usi-a-mozek",
  :category-url "moje-prace.aspx",
  :id 414,
  :description
  "Pár tipů na velmi zajímavá videa s problematikou funkcionálního programování.",
  :category "Moje práce",
  :tags ["linq" "video"]},
 :406-refaktoring.aspx
 {:html
  "\n<p>Poslední dobou se mi velmi často stává, že narážím na hlášky typu\n“od devíti refaktoruju a furt to nemá konce,” “refaktoring mi zabere asi\ntři dny, udělej mi na to task do backlogu” nebo „refaktoroval jsem to a\nnějak to přestalo fungovat.“ Tohle všechno jsou lži, ať už plynoucí\nz neznalosti, co to je refaktoring nebo trendy nadužívání tohoto slova\nv nepatřičných situacích.</p>\n\n<h3 id=\"toc-co-je-to-refaktoring\">Co je to refaktoring?</h3>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Code_refactoring\">Refaktoring</a> je\npojem, který je definován poměrně přesně. Je to krátká <strong>atomická\noperace</strong> nad kódem, která <strong>nemění jeho funkci</strong>, pouze\n<strong>strukturu</strong>. Z definice jasně vyplývá, že věty z úvodu\njsou lži.</p>\n\n<p>Refaktoring patří k základní hygieně čistého kódu. Měli byste ho\npoužívat neustále. Není to věc, kterou byste měli zahrnovat do plánů\njako něco extra, podobně jako testy, jsou jejich nedílnou součástí.\nA sluší se je zahrnout do časových odhadů jednotlivých úkolů. Ne však\njako samostatné úkoly!</p>\n\n<h3 id=\"toc-rikam-refaktoring-myslim-redesign\">Říkám refaktoring, myslím\nredesign</h3>\n\n<p>Refaktoring se stal trendy pojmem. Manažeři mu nerozumí a programátoři\nse sním furt ohánějí. „Proč ti to trvalo tak dlouho?“ „Ještě jsem\nmusel udělat refaktoring tohodle a tamtoho.“ Jenže jak jsme si řekli\nv definici, refaktoring je krátká operace! Velmi krátká, pokud máte dobré\nnástroje, netrvá více než pár stisků kláves. Řádově trvá jednotky\nsekund.</p>\n\n<p>Refaktoring má navíc tu vlastnost, že i když děláte velkou sérii –\nprovádíte redesign – můžete kdykoli přestat a aplikace stále funguje.\nAno, je to tak. Opět to vyplívá jasně z definice. Pokud ne, děláte jenom\nredesign.</p>\n\n<h3 id=\"toc-redesign\">Redesign</h3>\n\n<p>„Musíme to přepsat.“ Ta slova nemají manažeři rádi. Znamená to\nspoustu promarněných (z jejich pohledu – my přece víme, že se to musí\nudělat a že se to vrátí) hodin/dní (někdy i měsíců a let) práce.\nA tak se místo redesignování začalo „refaktrovat.“ Přestaňme si\nlhát. I když třeba během redesignu použijeme nějaký ten refaktoring,\npořád je to redesign. Redesignovat můžeme přinejmenším dvěma\nzpůsoby:</p>\n\n<ol>\n\t<li>Hurá redesign, kdy se původní kód zahodí a napíše se to znova a\n\tobčas se něco z toho původního copy&amp;pastene. Tohle se často dnes\n\tnazývá refactoring. A většinou z toho vypadne podobná sračka, jako byla\n\tpřed tím, jen bude mít jiný tvar.</li>\n\n\t<li>Můžeme postupně refaktorovat a časem se dostat k lepšímu designu. Ale\n\tnezapomínejte, vždycky tenhle proces můžete přerušit a aplikace funguje.\n\tStačí, že změny jsou good enough. Váš kód nikdy nebude dokonalý.</li>\n</ol>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-07-23T09:33:29.120-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Refaktoring",
  :published #inst "2011-07-23T09:31:11.890-00:00",
  :url "refaktoring",
  :category-url "moje-prace.aspx",
  :id 406,
  :description
  "Poslední dobou se mi velmi často stává, že narážím na hlášky typu “od devíti refaktoruju a furt to nemá konce,” “refaktoring mi zabere asi tři dny, udělej mi na to task do backlogu” nebo „refaktoroval jsem to a nějak to přestalo fungovat.“ Tohle všechno j",
  :category "Moje práce",
  :tags ["refactoring" "redesign" "cleancode"]},
 :379-5-kratkych-rad-pro-startupy.aspx
 {:html
  "\n<ol>\n\t<li>Pokud máte nápad, je vám to prd platné, dokud ho neuvedete v život.\n\tNerealizovaný či nerealizovatelný nápad nemá žádnou hodnotu. Realizace\n\tsebeblbějšího nápadu je mnohem hodnotnější.</li>\n\n\t<li>Pokud máte sebemenší realizaci nebojte se s ní jít ven. Nečekejte až\n\tbudete mít dostatek featur, které jsou přidanou hodnotou oproti konkurenci.\n\tJe totiž velice pravděpodobné, že o ně nikdo nestojí.</li>\n\n\t<li>Pokud něco máte, snažte se to vyladit. Nesnažte se přidávat další\n\tvlastnosti, které budou stejně nekvalitní jako ty současné.</li>\n\n\t<li>Nedávejte prioritu na vyřeší chyb, které se stávají jednou za měsíc\n\tnebo dva. Řešení takových chyb <em>právě teď</em> je\n\t<strong>nepřiměřeně drahé</strong>.</li>\n\n\t<li>Pokud máte možnosti levně/zdarma promovat váš web, nečekejte až bude\n\tvhodnější. Udělejte to hned. Udržovat <em>povědomí</em> o službě\n\tmusíte neustále. Obzvlášť pokud začínáte. Využijte každé možnosti se\n\tzviditelnit. Nečekejte na příhodnější dobu, ta už nikdy nemusí\n\tpřijít.</li>\n</ol>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-02-23T15:05:45.370-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "5 krátkých rad pro startupy",
  :published #inst "2010-02-20T15:28:33.723-00:00",
  :url "5-kratkych-rad-pro-startupy",
  :category-url "webdesign.aspx",
  :id 379,
  :description "5 krátkých rad pro startupy",
  :category "Webdesign",
  :tags []},
 :84-pristupnejsi-formulare-v-asp-net-2-0.aspx
 {:html
  "\n<p>„Druhá“ verze ASP.NET přináší krom jiného i podporu XHTML výstupu\na rovněž podporu přístupnosti. Validátor na příslušné standardy je\nsoučástí VisualStudia 2005 a tak by pro vývojáře mělo být snazší\nnajít prohřešky proti těmto doporučením.</p>\n\n<p>Když jsem ve verzi 1.x chtěl udělat přístupný formulář, který má\npopisky k formulářovým prvkům uzavřené v tagu <code>label</code>, nešlo\nk tomu využít serverového prvku <code>asp:Label</code>, který se logicky\nnabízel. Tento prvek se generuje jako <code>span</code>, tudíž nám je\nv tomto případě k ničemu. Musel jsem to obcházet a našel jsem si dva\nzpůsoby, vhodnějším se mi pak ukázal ten druhý.</p>\n\n<p>Tím prvním je uzavření formulářového prvku přímo do tagu\n<code>label</code>. specifikace toto použití připouští, ale ne vždy je\nmožné ho použít.</p>\n\n<pre\n><code class=\"language-markup\">&lt;label&gt;Popiska &lt;asp:TextBox ID=\"TextBox1\" runat=\"server\" /&gt;&lt;/label&gt;</code></pre>\n\n<p>V druhém případě se využije atribut <code>for</code> elementu\n<code>label</code>, který je referencí na <code>id</code> formulářového\nprvku. Protože se však ID prvků v uživatelských kontrolech, a nejen\nv nich, mění, nemůžeme napsat obsah atributu <code>for</code> natvrdo, ale\nmusíme si pomoci programově. Každý WebControl má vlastnost\n<code>ClientID</code>, která vrací hodnotu atributu <code>id</code> po\nvyrenderování.</p>\n\n<pre\n><code class=\"language-markup\">&lt;label for=\"&lt;%= TextBox1.ClientID %&gt;\"&gt;Popiska&lt;/label&gt;\n&lt;asp:TextBox ID=\"TextBox1\" runat=\"server\" /&gt;</code></pre>\n\n<p>Tak to byl můj starý způsob vytváření formulářových popisků.\nASP.NET 2.0 přichází s novinkou. Nyní lze využít <code>asp:Label</code>\nk vytváření formulářových popisků a to pomocí vlastnosti\n<code>AssociatedControlID</code>! Pokud je tato vlastnost vyplněna patřičným\nID, dojde k vyrenderování elementu <code>label</code> namísto\n<code>span</code>.</p>\n\n<pre\n><code class=\"language-markup\">&lt;asp:Label AssociatedControlID=\"TextBox1\" runat=\"server\"&gt;Popiska&lt;/asp:Label&gt;\n&lt;asp:TextBox ID=\"TextBox1\" runat=\"server\" /&gt;</code></pre>\n\n<p>Sami si vyberte způsob, který vám nejlépe vyhovuje…</p>\n\n<!-- by Texy2! -->",
  :keywords "asp.net label",
  :edited #inst "2008-05-13T21:11:37.940-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Přístupnější formuláře v ASP.NET 2.0",
  :published #inst "2005-11-29T14:31:44.177-00:00",
  :url "pristupnejsi-formulare-v-asp-net-2-0",
  :category-url "asp-net-2-0.aspx",
  :id 84,
  :description "Jak generovat přístupnější formuláře v ASP.NET 2.0",
  :category "ASP.NET 2.0",
  :tags []},
 :97-bilancovani.aspx
 {:html
  "\n<p>Za poslední rok jsem zaznamenal několik úspěchů i&#160;neúspěchů,\njako každý člověk. Podával jsem svoje první daňové přiznání, udělal\njsem několik webů, konečně jsem předělal ten svůj a trochu mi stoupla\nnávštěvnost.</p>\n\n<p>Na druhou stranu moje studijní výsledky nejsou zrovna lichotivé, snad je\nto i&#160;proto, že už mi škola nemá co nabídnout nebo to nenabízí\ntakovou formou, která by mě zaujala. Určitě je chyba i&#160;na mojí\nstraně, ale já „už su také“, radši dělám praktické věci nebo se\nučím takovou teorii, která mi něco nového do té praktické stránky\npřinese. Proto se učím nové vlastnosti dotnetu, snažím se porozumět\nnávrhovým vzorům, poznávat nové technologie a implementovat je prakticky.\nTak to mám rád. Nebudu vás ale unavovat popisem toho, co všechno mě na\nškole vadí, sami si přečtěte zprávu komise K4, tam je to zhruba\nnastíněno, ale z&#160;mé strany je toho víc.</p>\n\n<p>Než tenhle spot ukončím, chtěl bych napsat ještě pár otázek\nk&#160;zamyšlení. Nebudu na ně odpovídat, to musí každý sám…</p>\n\n<p>Položili jste si otázku, proč je vrcholem naší civilizace armáda? Proč\nje farmaceutický průmysl druhým nejbohatším hned po tom vojenském? Proč\nve zprávách nenajdete nic pozitivního? Víte o&#160;tom, že existují léky\nna nevyléčitelné nemoci? Proč tyto léky nejsou volně k&#160;dostání a\nv&#160;širokém povědomí lidí? Proč lidé věří víc prášku nebo\nkapsli se stejnou účinnou látkou jako má nějaká bylinka, než právě\nté. Znáte energii nulového bodu? Víte o&#160;tom, že již před\n70&#160;lety jezdilo vozidlo poháněné touto energií? Proč tuto energii\ndnes nevyužíváme a raději devastujeme naši planetu? Proč jsem tohle\nnapsal?</p>\n\n<p>Závěrem bych vám chtěl popřát, abyste se v&#160;příštím roce\ndokázali správně rozhodovat a zamýšlet se nad důležitými otázkami.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-20T15:28:43.633-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Bilancování",
  :published #inst "2005-12-20T15:28:43.543-00:00",
  :url "bilancovani",
  :category-url "jen-tak.aspx",
  :id 97,
  :description
  "Když se blíží ten konec roku – období bilancování a pohody – přihodím i já jeden takový bilanční a úvahový článek. ",
  :category "Jen tak",
  :tags []},
 :214-moonlight-za-21dni.aspx
 {:html
  "\n<p>Článek o tom, jak se za 21dní napsal plug-in Moonlight (Mono implementace\nSilverlightu), od jednoho z vývojářů se jmenuje <a\nhref=\"http://tirania.org/blog/archive/2007/Jun-21.html\">Implementing Silverlight\nin 21 Days</a>. Enjoy…</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:33:31.160-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Moonlight za 21dní",
  :published #inst "2007-06-22T13:39:59.553-00:00",
  :url "moonlight-za-21dni",
  :category-url "asp-net-2-0.aspx",
  :id 214,
  :description "Tip na zajímavé čtení.",
  :category "ASP.NET 2.0",
  :tags ["mono" "moonlight" "silverlight" "dlr"]},
 :368-seznamte-se-s-tropem.aspx
 {:html
  "\n<p>Pomalu do světa pouštíme naši novou službu – <a\nhref=\"http://www.trop.cz/\">Trop</a>. O co vlastně jde? Je to sociální\nplatforma pro snadnou výměnu zkušeností z různých míst. Začínáme\ns tím, co je nám nejbližší. Začínáme v Praze a to s hospodami,\nrestauracemi a kluby. :)</p>\n\n<p>Zatím jsme pořád v betě, protože každou chvíli něco rozbiju, nebo\npokazim, ale snažíme se chyby vychytávat a rychle opravovat. Technologicky to\nje celé postavené na kombu <a href=\"http://asp.net/mvc/\">ASP.NET MVC</a>, <a\nhref=\"http://nhforge.org/\">NHibernate</a>, <a\nhref=\"http://www.castleproject.org/\">Castle Windsor</a>, MS SQL 2008 a IIS7.\nO některých věcech, které mě potkaly už jsem psal (<a\nhref=\"/weblog/tag/mvc.aspx\">MVC</a>, <a\nhref=\"/weblog/tag/binsor.aspx\">Binsor</a>), jiným se chci věnovat\nv budoucnu.</p>\n\n<h3 id=\"toc-kolik-uctu-mas-tolikrat-jsi-otrokem\">Kolik účtů máš, tolikrát\njsi otrokem</h3>\n\n<p>Vím, že někteří z vás tam již účet mají, a tak to pro ně není\nžádným překvapením. Ti, co ještě účet na Tropu nemají, mají hned\nněkolik možností, jak si ho vytvořit. Nechcem po vás žádné složité\nvyplňování registrace. Asi nejjednodušší je využít možnosti\npřihlášení pomocí Twitteru (<a href=\"http://oauth.net/\">OAuth</a>), kdy se\nvám automaticky vytvoří profil dle vašich údajů na Twitteru, pěkně\ni s vaší profilovou fotkou. Pak už můžete normálně Trop používat.\nPodobně funguje i vytváření účtu pomocí <a\nhref=\"http://openid.net/\">OpenId</a>.</p>\n\n<p>V blízké době se objeví i možnost přihlašování pomocí <a\nhref=\"http://developers.facebook.com/connect.php\">Facebook Connect</a>. S touto\nnovinkou přibude i jednodušší správa napojených účtů a možnost\npublikace vašich recenzí na Twitter a Facebook. (Dnes můžete sdílet místa\na akce).</p>\n\n<h3 id=\"toc-mista-blizka-i-vzdalena\">Místa blízká i vzdálená</h3>\n\n<p>Teď, když už u nás máte účet, tak můžete napsat nějakou recenzi na\nvaše oblíbené či neoblíbené místo. Využijte našeho hledání! Pokud už\nvaše místo někdo zadal, mělo by být ve výsledcích hledání. Pak stačí\nkliknout na tlačítko <code>Napiš recenzi</code> a začít psát. Nezapomeňte\nzadat vaše hodnocení! :) Pokud chcete, aby vaše recenze byly více sexy,\nzkuste psát s <a href=\"http://texy.info/\">Texy!</a> Pokud místo nalezeno\nnebylo, tak ho prostě přidejte. :)</p>\n\n<h3 id=\"toc-akce\">Akce</h3>\n\n<p>Jedna z věcí, která mi na internetu chyběla, bylo řešení\nnásledujícího scénáře: Chceme se sejít s kámošema v nějaký\nhospodě. První věc, je vybrat správnou hospodu. Většinou je to nějaká,\nkterou známe, někteří však třeba ještě ne. Tak místo máme, pokusíme\nse najít jeho stránky, abychom mohli udělat rezervaci a ti, co to tam ještě\nneznají, aby se podívali. Pak je tu další krok, poslat místo neznalým na\nmapě, aby tam trefili a ještě raději všechny obeslat e-mailem s ical\nv příloze, aby nezapomněli.</p>\n\n<p>Takový mail obsahuje spoustu odkazů. :) Kdo je bude proklikávat? No však\nvíme, takže budete řešit ještě deset telefonů, kvuli datu a pak navigaci\nna místo. Teď když mám <a href=\"http://www.trop.cz/\">Trop</a>, tak většinu\nvěcí najdu na jednom místě. Některé věci ještě sice nejsou dotažené\ndo podoby, jakou bych si představoval, ale věřím, že brzy přibudou. A pak\nbude organizace větší sešlosti hračkou. :)</p>\n\n<h3 id=\"toc-zkousejte\">Zkoušejte</h3>\n\n<p>Tak zkoušejte, zkoušejte. Dejtě vědět, jak se líbí, nebo co\npřípadně vylepšit. Nejlepší cestou jak přijít s nápadem je <a\nhref=\"http://trop.uservoice.com/\">naše user voice forum</a>, kde můžete\nzadávat vaše nápady a hlasovat pro jiné, které se vám líbí. Samozřejmě\nhlašte i chybky, ale snad už jich moc neni.</p>\n\n<p>Pokud chcete sledovat, co se na Tropu děje, můžete na <a\nhref=\"http://friendfeed.com/troppraha\">FriendFeedu</a>, <a\nhref=\"http://twitter.com/tropcz\">Twitteru</a> nebo na <a\nhref=\"http://www.facebook.com/pages/Trop/103373591895\">Facebooku</a>. A nebo\ntaky tady.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-11-13T14:35:13.400-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Seznamte se s Tropem",
  :published #inst "2009-11-13T14:29:16.590-00:00",
  :url "seznamte-se-s-tropem",
  :category-url "webdesign.aspx",
  :id 368,
  :description
  "Pomalu do světa pouštíme naši novou službu – Trop. O co vlastně jde? Je to sociální platforma pro snadnou výměnu zkušeností z různých míst. Začínáme s tím, co je nám nejbližší. Začínáme v Praze a to s hospodami, restauracemi a kluby. :)",
  :category "Webdesign",
  :tags ["trop"]},
 :222-monorail-instalace.aspx
 {:html
  "\n<p>Na jednu zásadní věc jsem v <a\nhref=\"/weblog/220-jak-funguje-monorail.aspx\">prvním díle</a> zapomněl –\ntedy spíš jsem s ní počítal, ale nakonec jsem jí nedal prostor – a tou\nje instalace.</p>\n\n<p>Existují, přinejmenším, tři možné způsoby získání MonoRailu,\npotažmo celého projektu Castle. Buďto si stáhnete <a\nhref=\"http://switch.dl.sourceforge.net/sourceforge/castleproject/CastleProject-1.0-RC3.msi\">instalátor</a>\n(aktuálně verze <del>RC2</del> <ins>RC3</ins>, která vyšla <del>někdy\nkoncem minulého roku</del> <ins>koncem září</ins>), nebo využijete služeb\n<a href=\"http://builds.castleproject.org/cruise/index.castle\">build serveru</a>\na stáhnete si <a\nhref=\"http://builds.castleproject.org/cruise/DownloadBuild.castle?number=525\">poslední\nstabilní build</a> vývojové verze. Třetí možností je získat aktuální\nzdrojové kódy ze <a\nhref=\"http://svn.castleproject.org:8080/svn/castle/trunk/\">Subversion</a> a\ncelý projekt sestavit s NAntem.</p>\n\n<p>Instalátor je klasický balíček MSI, který za vás udělá\nšpinavou práci:</p>\n\n<ul>\n\t<li>Nahraje všechny potřebné soubory na disk,</li>\n\n\t<li>Zaregistruje potřebné knihovny do <acronym\n\ttitle=\"Global Assembly Cache\">GAC</acronym>,</li>\n\n\t<li>Zaregistruje na lokálním IIS příponu <code>.rails</code> pro ISAPI filtr\n\tASP.NET,</li>\n\n\t<li>Přidá dva nové projekty (MonoRail a ActiveRecord) a průvodce do Visual\n\tStudia (2003, 2005 SP1).</li>\n</ul>\n\n<p><del>Nevýhodou tohoto řešení, je neaktuálnost celého kompletu</del>, na\ndruhou stranu je výhodou, že nám zamete cestičku a můžeme rovnou\nvyvíjet.</p>\n\n<p>Z build serveru si můžete stáhnout aktuální stabilní verzi knihoven\nv ZIP balíčku. Je to mužnost oba postupy zkombinovat, ale možná se\nvyplatí používat prozatím RC2 verzi a počkat si na <a\nhref=\"/weblog/229-castle-rc3-a-microsoft-mvc.aspx\">verzi RC3</a>, která by již\nbrzy měla spatřit světlo světa.</p>\n\n<h4 id=\"toc-update\">Update</h4>\n\n<p>14 dní po vydání toho článku spatřila světlo světa RC3 verze Castle,\ntakže některé výše zmíněné věty ztratili na aktuálnosti. :)</p>\n\n<h3 id=\"toc-zalozeni-projektu\">Založení projektu</h3>\n\n<p>Předpokládám, že jsme si Castle nainstalovali pomoci MSI balíčku. Máme\nVisual Studio 2005 ve verzi Standard a vyšší s nainstalovaným\nWebApplication projektem nebo SP1. Dáme vytvořit nový projekt a zobrazí se\nnám obrazovka podobná té následující:</p>\n\n<div><img src=\"/data/obrazky/monorail_project_new.png\" alt=\"Nový projekt\"\n/></div>\n\n<p>Červeně označené jsou nově přidané projekty</p>\n\n<ol>\n\t<li>Knihovna s podporou persistence pomocí ActiveRecord</li>\n\n\t<li>Webová aplikace MonoRail</li>\n</ol>\n\n<p>Pro začátek si vystačíme pouze s MonoRail projektem, protože i ten má\npodporu pro ActiveRecord a tak můžeme model později přesunout do samostatné\nknihovny. Takže dáme vytvořit nový MonoRail projekt. Spustí se nám\njednoduchý průvodce, který nám přednastaví projekt podle našich\npotřeb.</p>\n\n<p>V prvním kroku si vybereme, který View Engine chceme používat\n(samozřejmě jde změnit později v konfiguraci), jestli chceme zapnout\nintegraci s Windsor kontejnerem a jestli zapnout podporu pro routing.</p>\n\n<p>Ve druhém kroku se nás průvodce zeptá, jestli chceme vytvořit také\ntestovací projekt (NUnit s podporou pro testování MonoRail). Samozřejmě\nchceme :) Průvodce nám vytvoří základní strukturu projektu podobnou\nnásledujícímu obrázku.</p>\n\n<div><img src=\"/data/obrazky/monorail_project_structure.png\"\nalt=\"Struktura projektu\" /></div>\n\n<p>V takovéto kostře si můžete vyzkoušet ukázky z předešlých dílů,\nsnad by měly fungovat…</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:23:50.890-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "MonoRail – Instalace",
  :published #inst "2007-09-03T13:27:07.427-00:00",
  :url "monorail-instalace",
  :category-url "asp-net-2-0.aspx",
  :id 222,
  :description
  "Na jednu zásadní věc jsem v prvním díle zapomněl – tedy spíš jsem s ní počítal, ale nakonec jsem jí nedal prostor – a tou je instalace.",
  :category "ASP.NET 2.0",
  :tags ["castle" "monorail" "mvc"]},
 :248-je-to-zvlastni.aspx
 {:html
  "\n<p>Měl jsem skoro napsanej článek o tom jak nesouhlasím s vyhlášením\nchráněného ložiska Osečná – Kotel. Bylo v tom spousta moudra, vtipu a\npodještědského nářečí. Jenže. Jenže jsem ho psal v okně prohlížeče\na zmáčkl klávesu <code>backspace</code> dřív než jsem doklikl do\ntextarey…</p>\n\n<p>Takže naučný článek je v hajzlu a jenom mě to utvrdilo v tom, že\nnovej Gryphoon musí mít automatické ukládání během psaní.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-01-05T09:21:24.920-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Je to zvláštní",
  :published #inst "2008-01-05T09:21:24.857-00:00",
  :url "je-to-zvlastni",
  :category-url "jen-tak.aspx",
  :id 248,
  :description
  "Měl jsem skoro napsanej článek o tom jak nesouhlasím s vyhlášením chráněného ložiska Osečná - Kotel. Bylo v tom spousta moudra, vtipu a podještědského nářečí. Jenže. ",
  :category "Jen tak",
  :tags []},
 :41-desktopsidebar.aspx
 {:html
  "\n<p>Od té doby, co jsem připojen na internet více méně permanentně, jsem\nzačal používat několik užitečných aplikací s&#160;on-line životem\nspojených. Jenže těch aplikací začínalo být mnoho a ve změti okének\njsem se začal pomalu ztrácet. Po tom, co jsem viděl screenshoty\nz&#160;budoucích Windows Longhorn, mi padl do oka sidebar a hledal jsem něco\npodobného, co by fungovalo v&#160;mých XP.</p>\n\n<p>Po dlouhém hledání a zkoušení různých imitací, jsem narazil na <a\nhref=\"http://www.desktopsidebar.com/\">Desktop Sidebar</a>. Je to freeware se\nsilnou uživatelskou podporou. V&#160;základní instalaci získáte několik\npanelů, skinů, editor skinů a SDK. Další skiny a panely se dají stáhnou\nna <a href=\"http://www.desktopsidebar.com/fileforum.php\">Extension Exchange\nPage</a>.</p>\n\n<h3>Panely, které mě zaujaly</h3>\n\n<p>V&#160;první řadě, každého zaujmou analogové hodiny. Panel\n<strong>hodiny</strong> má dva módy – analog a digital. V&#160;digital modu\nmůžete zobrazovat buďto pouze hodiny, nebo si nechat zobrazit datum.\nPodporuje rovněž standardní zástupné znaky, pro vlastní formát\nzobrazovaného času a data.</p>\n\n<p>Dále tam mám panel <strong>počasí</strong>, který zobrazuje aktuální a\nbudoucí počasí, dokonce podporuje i&#160;česká města. Klasika je panel\n<strong>snadného spuštění</strong>, který je ekvivalentní s&#160;tím co\nje ve Windowsech. Pak používám ve stacku tyto panely, mezi kterými si\npřepínám pro lepší přehlednost.</p>\n\n<ol>\n\t<li><strong>Novinky</strong> – Geniální RSS čtečka, novinky máte hned po\n\truce, bez překlikávání.</li>\n\n\t<li><strong>Kalendář</strong> – Napojení na Outlook Kalendář</li>\n\n\t<li><strong>Úkoly</strong> – Napojení na Outlook Úkoly</li>\n\n\t<li><strong>Poznámky</strong> – Napojení na Outlook Poznámky</li>\n\n\t<li><strong>Miranda</strong> – Mám po ruce všechny své kontakty, které\n\tjsou on-line (existuje i&#160;panel ICQ a MS Messenger)</li>\n</ol>\n\n<p>Já ještě používám panel <strong>zatížení systému,</strong> kde je\npěkně vidět, jak můj stroj trápí.</p>\n\n<p>Pro Desktop Sidebar existuje spousta dalších panelů, já jsem tu popsal\npouze ty, které se mi časem osvědčily. Namátkou z&#160;těch které jsem\nkdy zkoušel: MediaPlayer, WinAMP, Azureus, IP Address, Color Picker,\nShutdown.</p>\n\n<p>Aplikace je lokalizovaná i&#160;do češtiny a funguje na Windows 98&#160;a\nnovějších. Pokud máte dostatek paměti (RAM) a trochu času na vyladění\npodle vlastních potřeb, odměna ve smyslu urychlení vaší práce vás\nnemine. Je to opravdu užitečná aplikace.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:48:51.830-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Desktopsidebar",
  :published #inst "2005-01-27T00:00:00.000-00:00",
  :url "desktopsidebar",
  :category-url "tuning.aspx",
  :id 41,
  :description "",
  :category "Tuning",
  :tags []},
 :353-nedelni-wtf-zaklady-programovani-v-jazyce-boo.aspx
 {:html
  "\n<p>Při pravidelném proklikávání se službou <a\nhref=\"http://www.devlogy.cz/\">Devlogy.cz</a> jsem zaznamenal výskyt dalšího\ndílu seriálu <em>Základy programování v jazyce Boo</em> na serveru\nprogramujte.com. Vzpomněl jsem si na <a\nhref=\"http://programujte.com/index.php?akce=clanek&amp;cl=2008122304-zaklady-programovani-v-jazyce-boo-1-dil\">první\ndíl seriálu</a>, který jsem četl před časem, a opět se mi naježila srst.\nŠel jsem se tedy podívat, jak s tím autor vládne dál.</p>\n\n<p>No děs a bída. Jestli se takhle někde programuje a ještě k tomu v <a\nhref=\"http://boo.codehouse.org/\">Boo</a>, tak to je mi moc líto. Boo vzniklo\njako agilní jazyk inspirovaný jednoduchostí <a\nhref=\"http://www.python.org/\">Pythonu</a> a silou <a\nhref=\"http://www.microsoft.com/net\">dotnetu</a>. Sice je silně typový, ale\nnenutí nás typy explicitně vyjadřovat. V podstatě nás nenutí\nk žádným zbytečnostem. Jeho filosofii lze ukázat na následujících\nukázkách výpisu <strong>Hello World</strong> na konzolu:</p>\n\n<pre\n><code class=\"language-csharp\">class Program {\n  public static void Main() {\n    System.Console.Write(\"Hello Wold\");\n  }\n}</code></pre>\n\n<p>Začal jsem nejjednodušším programem v C#, který vypíše na konzolu\n<code>Hello World</code>. Teď to samé v Boo:</p>\n\n<pre ><code class=\"language-boo\">print 'Hello World'</code></pre>\n\n<p>Ano, to je vše.</p>\n\n<p>Když se vrátím k článkům na programujte.com, je vidět, že autor\nnetuší, která bije, když píše:</p>\n\n<blockquote>\n\t<p>„Každý kód v Boo musí začínat jmenými prostory.“</p>\n</blockquote>\n\n<p>A skutečně ukázku s Hello World okořenil krásně zbytečným importem\njmenného prostoru <code>System</code>. Není nad to mást začátečníky\nspoustou zbytečností, protože pak mají pocit, že se toho naučili hodně.\n:) Bohužel praxe ukazuje, že méně je mnohdy více a tak se posuneme\no kousek dál. Tedy spíš zpátky na začátek, kde autor popisuje instalaci\n<acronym title=\"Integrated Development Enviroment\">IDE</acronym>. Už tohle je\npěkná blbost, protože k vyzkoušení Boo žádné IDE nepotřebujete. Boo je\ntotiž vybaveno interaktivní konzolou <code>booish</code>, která je podobná\ntěm, které můžete znát z dynamických jazyků Python, Ruby nebo třeba\nz mona – pro C#. Prostě konzola, kde píšete kód a rovnou se vám pod\nrukama vykonává. Pro začátečnické pokusy ideální.</p>\n\n<p>Další skvělé expresivní zážitky najdeme v <a\nhref=\"http://programujte.com/index.php?akce=clanek&amp;cl=2008122500-zaklady-programovani-v-jazyce-boo-2-dil\">druhém</a>\na <a\nhref=\"http://programujte.com/index.php?akce=clanek&amp;cl=2008123002-zaklady-programovani-v-jazyce-boo-3-dil\">třetím</a>\ndíle v odstavcích věnovaných proměnným. Autor se zapomněl zmínit, že\nmáme k dispozici celý typový systém dotnetu.</p>\n\n<blockquote>\n\t<p>„Typů proměnných je více a my si probereme jen ty základní.“</p>\n</blockquote>\n\n<p>A už začíná deklarovat jednu proměnnou za druhou.</p>\n\n<pre\n><code class=\"language-boo\">celeCislo as int  //definice, aktuální hodnota 0\nceleCislo = 200  //inicializace proměnné\nceleCislo as int = 5</code></pre>\n\n<p>Fakt krásné. Všimněte si prvního komentáře. To je stavební kámen\ndalší ukázky:</p>\n\n<pre\n><code class=\"language-boo\">//příklad cyklu while\nimport System\ni as int\nwhile(i &lt; 5):\n   print i\n   i++</code></pre>\n\n<p>Za takový kód bych si dobrovolně zakázal oběd, abych dostal trochu krve\ndo mozku. Ukázka je bezesporu funkční, ale obsahuje zbytečný import,\nspoléhá se na implicitní inicializaci hodnotové proměnné, navíc zanáší\nšum v podobě zbytečných závorek. Takže jak se tedy Boo píše? Ukázka\ns proměnnými:</p>\n\n<pre\n><code class=\"language-boo\">integer = 5\nrealNumber = 5.0\ntext = 'some text'</code></pre>\n\n<p>Jednoduše přiřadíme hodnotu a kompilátor už ví jakého je typu – a\nnení to <code>object</code> ani <code>variant</code>. ;)</p>\n\n<pre ><code class=\"language-boo\">i = 0\n\nwhile i &lt; 5:\n  print i++</code></pre>\n\n<p>A tady je celá myšlenka ukázky cyklu <code>while</code>. Proč\nje lepší?</p>\n\n<ol>\n\t<li>Používat komentáře je krásná věc, ale většinou je lepší psát\n\ttak, aby se komentáře používat vůbec nemusely. Většinou stačí slušně\n\tpojmenovat proměnné (nejlépe <strong>celým jménem</strong>). Tam, kde\n\tchcete napsat komentář, raději zvažte, zda není lepší vytvořit novou\n\tmetodu s dostatečně <strong>popisným názvem</strong>.</li>\n\n\t<li>Zbytečným importem nic nezkazíme, ale zvýšíme šum. Někdo by dokonce\n\tmohl přemýšlet nad tím, proč tam ten <code>import</code> vlastně je.</li>\n\n\t<li>Používat neinicializované proměnné je už na výprask. Než uvádět\n\texplicitně typ, to tam radši napište tu implicitní hodnotu, ten kód je pak\n\tmnohem srozumitelnější.</li>\n\n\t<li>No a závorka. Pokud na ní jste z Cčkových jazyků zvyklí, prosím, ale\n\tje to další zbytečné zašumění kódu.</li>\n\n\t<li>Hodit postfixovou inkrementaci na jeden řádek s printem už je jen\n\ttaková třešnička na dortu.</li>\n</ol>\n\n<p>Výborná je taky ukázka s <code>for</code> cyklem nebo proměnné typu\n<code>char</code>…</p>\n\n<p>Psát texty pro začátečníky je těžké, proto se o ně ani\nnepokouším, ale neměl by je psát začátečník. Protože chyby, které se v\n„mládí“ naučíte a zažijete si je, budete pak opakovat a opakovat, než\nse z nich poučíte. A to stojí čas a ten jsou peníze…</p>\n\n<p>Poučení z dnešního <acronym title=\"What the fuck\">WTF</acronym>:\n„Čím méně kódu napíšete dnes, o to se vám bude lépe spravovat\nzítra.“ :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-03-08T20:58:27.727-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nedělní WTF: Základy programování v jazyce Boo",
  :published #inst "2009-03-08T17:16:44.163-00:00",
  :url "nedelni-wtf-zaklady-programovani-v-jazyce-boo",
  :category-url "jen-tak.aspx",
  :id 353,
  :description
  "Ano, i já občas narazím na slabého nebožáka a rád si do něj kopnu. Je to takové uvolňující. :) Pojďte si taky kopnout. A můžete i do mě!",
  :category "Jen tak",
  :tags ["boo" "wtf"]},
 :88-ready-to-launch-na-felu.aspx
 {:html
  "\n<p>Dnes se konala přednáška u&#160;příležitosti představení nové\ngenerace vývojových nástrojů z&#160;dílny firmy <a\nhref=\"http://www.microsoft.com/\">Microsoft</a>. Přednášku zahajoval Dr.\nDalibor Kačmář, bohužel ho zklamala technika. Nejprve vůz, ve kterém měl\npřipravené materiál pro studenty – letáčky, DVD s&#160;Express edicemi\njednotlivých nástrojů, propisky a dotazníky. Tyto věci přivezli jeho\nkolegové v&#160;druhé části přednášky, takže i&#160;sběrači\nletáčků si přišli na své. Ze začátku měl pan Kačmář problémy\ns&#160;projektorem, když se mu je podařilo vyřešit a začal přednášet,\nz&#160;ničeho nic se restartoval jeho počítač. To se mu během přednášky\nstalo několikrát. Z&#160;event logů pak zjistil, že mu pravděpodobně <a\nhref=\"/clanek.aspx/72/spadly-disk\">odchází hard disk do křemíkového\nnebe</a>.</p>\n\n<p>Přednášku započal nejprve jako manažer a vykládal o&#160;výhodách\nMSDN Academic Aliance, o&#160;novinkách a verzích nového Visual Studia apod.\nV&#160;druhé části jeho bloku, došlo na ukázku vývoje Master Page a\nněkolika Content Page. Ukázku master-detail databázové aplikace,\nMembership, Role a Profiles a dalších dílčích zajímavostí <a\nhref=\"http://asp.net\">nové verze ASP.NET</a>. Kvůli výpadkům techniky,\nvšak nebylo odprezentováno, vše, co měl pan Kačmář připraveno.\nNáhradou nám bylo prodlouženější okénko na dotazy.</p>\n\n<p>Po přestávce s&#160;občerstvením a nabrání potřebných letáčků,\npřebral přednášku pan <a href=\"http://blog.vyvojar.cz/michalowo\">Michal\nNeuwirth</a>. Ten prezentoval tématiku Windows Forms, rapidního vývoje\nuživatelského rozhraní a napojování na datové zdroje. V&#160;druhé půli\nsvého bloku předvedl technologii ClickOnce v&#160;praxi – mimochodem je\ntato technologie velice pěkná, škoda jen, že ji nelze využívat\nu&#160;webových aplikací.</p>\n\n<p>Třetím přednášejícím byl pan <a\nhref=\"http://blog.vyvojar.cz/mjurek/\">Michael Juřek</a>, který měl velice\nzajímavou praktickou prezentaci (bez slidů) Team Systému a vlastností pro\nladění aplikací. Zde jsem se konečně dozvěděl, jak funguje a\nk&#160;čemu je dobrý Unit testing :) To nám zatím ve škole nikdo\nneprozradil a obávám se, že se toho asi ani nedočkám.</p>\n\n<p>Osobně se mi přednáška hodně líbila a dozvěděl jsem se i&#160;něco\nnového. Bohužel výpadky techniky nešlo ovlivnit, ale to se dá omluvit.\nOmluvit se ale nedá chování publika. Přibližně polovina posluchačů byli\nžáci Střední průmyslové školy Ječná. Jejich chování bylo místy\nnemístné až nevhodné. Očividně tam nebyli ze zájmu, ale protože museli.\nNo nic, byli to ještě děti, které nevědí jak se na podobných akcích\nchovat.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-22T01:36:45.827-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Ready to launch na FELu",
  :published #inst "2005-12-04T10:32:19.673-00:00",
  :url "ready-to-launch-na-felu",
  :category-url "skola.aspx",
  :id 88,
  :description "Můj pohled na přednášku.",
  :category "Škola",
  :tags []},
 :204-taky-jsem-naked.aspx
 {:html
  "\n<p>Tak, jako hadi jednou za čas svlékají svou kůži (jak často to dělaj\nhadi fakt netuším, páč botanika není mojé silná disciplína), tak\ni&#160;někteří blogeři, svlečou svůj CSS skin (skin je anglicky kůže) a\nodhalí svůj defaultně formátovaný webík. Hezké&#8230;</p>\n\n<p>No a protože jsem zapomětlivý, venku je hezky, peče se mi procesor atp.\nNedivte se zítra, že bude rarouš stále nahý. Nedivte se ani\no&#160;víkendu, ni potom :) nechám to tak, dokud nebude Gryphoon 2, jinak\nbych ho nikdy nedopsal&#8230;</p>\n\n<p>A&#160;když jsem už u&#160;toho psaní, musím si trochu zanadávat. Včera\njsem si pořídil, další gigo do noťase, aby měly Visty co žrát, a byl\nveselej z&#160;toho jak to všechno hezky šlape. A&#160;rychle. Pak se ale\nněco večer stalo a od tý doby mi furt procesor šolichá na 80&#160;–\n100%, což se mi moc normální nezdá. Občas, třeba jako teď, se to\numoudří a drží tak na 30%, ale i&#160;to je strašně moc, to si nebere ani\nLive, když jedu dva tracky najednou a se spoustou efektů&#8230; Nepomohlo ani\nrestorovani do včerejší ranní konfigurace :( Asi budu muset znova\ninstalovat. GRRR</p>\n\n<p>Vlastně jsem se na to chystal s&#160;koupí Vist – jedu zatím triál, ale\nasi si je budu muset koupit dřív než jsem čekal&#8230;</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2007-04-05T14:00:52.443-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Taky jsem naked",
  :published #inst "2007-04-05T13:25:41.300-00:00",
  :url "taky-jsem-naked",
  :category-url "jen-tak.aspx",
  :id 204,
  :description "Tak, jako hadi jednou za čas svlékají svou kůži...",
  :category "Jen tak",
  :tags []},
 :382-twitter-discontinued.aspx
 {:html
  "\n<p>Jednoho osvíceného popůlnočního období posilněn podporou kamaráda\nJohnyho jsem se rozhodl, že sociální sítě už ee. A šel na Twitter a dal\nzrušit účet, šel na Facebook a dal zrušit účet. A šel na FriendFeed a\npodobnou volbu nenašel. Ostatně ji nemáme ani na <a\nhref=\"http://www.trop.cz/\">Tropu</a>. :) (Pokud někdo účet na Tropu zrušit\nchce, nechť se ozve nejbližšímu adminovi, ten to jistě zvládne.)</p>\n\n<p>Twitter je dost nekompromisní, oznámí vám, že tato akce je nevratná a\nvšechny vaše tweety budu smazány. Jak řekl, tak se stalo. :)</p>\n\n<p>Facebook na to jde jinak. Všem těmhle miloučkým lidičkám se po tobě\nbude stýskat! Ale pokud si to rozmyslíš, všichni na tebe budou čekat,\nprofil budeš mít stejnej, jako si ho tu zanechal. Stačí se jen znovu\npřihlásit a vše je jak bylo. Tedy skoro vše. Ty kurvy resetujou nastavení\nnotifikačních e-mailů. Takže potom, co se mi přilogoval Trillian na\nFacebook Chat, který jsem zapomněl odebrat, byl můj profil zpět a FB mě\nzačal spamovat notifikačním hnusem…</p>\n\n<p>Co z toho plyne? Pokud toužíte po mém Twitter spamu, stále je\nprodukován na <a href=\"http://friendfeed.com/rarous\">FriendFeedu</a>. Občas\ntam vaše tweety komentuju nebo to se mi líbíuju. A člověk má najednou\no trochu víc času na lepčí věci. Fakt!</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-03-06T08:27:44.520-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Twitter discontinued",
  :published #inst "2010-03-06T08:25:53.357-00:00",
  :url "twitter-discontinued",
  :category-url "jen-tak.aspx",
  :id 382,
  :description
  "Možná jste to už zaznamenali, je to týden, co jsem zrušil Twitter.",
  :category "Jen tak",
  :tags ["facebook" "twitter" "friendfeed"]},
 :28-fireworks-help.aspx
 {:html
  "\n<p>Jsem rád, že můžu blognout nový web, na který jsem narazil. Blognu ho\nale jedině pro to že opravdu stojí za to. Jedná se o <a\nhref=\"http://fireworks.jakpsatweb.cz/\">fireworks.help</a>, velice užitečné\nstránky, pro lidi, kteří – stejně jako já – dělají grafiku ve\nFireworksech. Najdete zde popis tří základních formátů pro web (GIF,\nJPEG, PNG), popis práce s&#160;nimi, doporučení jak dělat grafiku pro web a\nsamozřejmě také popis práce s&#160;Firewoksem. Jen si to hezky přečtěte,\nurčitě to stojí za to…</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "fireworks.help",
  :published #inst "2004-08-22T11:00:00.000-00:00",
  :url "fireworks-help",
  :category-url "webdesign.aspx",
  :id 28,
  :description "",
  :category "Webdesign",
  :tags []},
 :8-last-week.aspx
 {:html
  "\n<p>Za poslední týden jsem předělal úvodní stránku <a\nhref=\"http://druzcov.wz.cz/\">druzcovských stránek</a>, vypozoroval jsem\nzmenšení na 25% z původní velikosti tabulkového layoutu. Tak teď už snad\nmám všechno ve stylech.</p>\n\n<p>Co mě ale pořád straší je <a\nhref=\"http://www.osecna.info/\">Osečná</a>. Tam mě ještě pořád čeká dost\npráce. Ale snad to bude stát za to. Můžu tam dobře zužitkovat zkušenosti,\nkteré jsem získal při vývoji tohoto webu, který už mám z 95%\nhotový.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:31:37.130-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Last week",
  :published #inst "2004-02-28T20:00:00.000-00:00",
  :url "last-week",
  :category-url "moje-prace.aspx",
  :id 8,
  :description "O mojí poslední práci.",
  :category "Moje práce",
  :tags []},
 :345-persistence-modelu-pomoci-activerecord.aspx
 {:html
  "\n<p>V architektuře naší MVC aplikace jsme se dostali již poměrně daleko.\nVybrali jsme si <a rel=\"bookmark\" title=\"Jaký pohled si vybrat?\"\nhref=\"/weblog/343-jaky-pohled-si-vybrat.aspx\">šablonovací systém</a>, máme\nvyřešenou <a rel=\"bookmark\" title=\"Inversion of Control v ASP.NET MVC\"\nhref=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">integraci s IoC\nkontejnerem</a>, <a rel=\"bookmark\"\ntitle=\"DSL pro konfiguraci URL Routingu v ASP.NET MVC\"\nhref=\"/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx\">vymazlené\nroutování</a>, připravené <a rel=\"bookmark\"\ntitle=\"Model binders v ASP.NET MVC\"\nhref=\"/weblog/336-model-binders-v-asp-net-mvc.aspx\">model bindery</a> a teď je\nna čase nějakým způsobem model persistovat. Existuje mnoho způsobů, jak\ntoho dosáhnout.</p>\n\n<ol>\n\t<li>Persistenci si můžete řešit sami na úrovni ADO.NET. Jenže proč\n\třešit něco, co už někdo stokrát vyřešil?</li>\n\n\t<li>Použít nějaký <acronym title=\"Object Relational Mapper\">ORM</acronym>\n\tnástroj.</li>\n</ol>\n\n<p>ORM nástrojů na výběr máme dnes tolik, že je stěží na prstech\nspočítáme, jaký si tedy vybrat? Pro mnohé bude první volbou LINQ to SQL.\nPro jednoduché mapování (1:1) a tam, kde je možné být závislý pouze na\nMS SQL, je toto řešení dostačující. Osobně preferuju malinko\nsložitější cestu, ale ve výsledku myslím, že mnohem mocnější. :)</p>\n\n<h3 id=\"toc-castle-activerecord-a-repository-pattern\">Castle ActiveRecord a\nRepository pattern</h3>\n\n<p>Já ve svých posledních proktech používám <a\nhref=\"http://www.castleproject.org/activerecord/index.html\">Castle\nActiveRecord</a>, což je implemenatce návrhového vzoru ActiveRecord nad ORM\nframeworkem <a href=\"http://www.nhibernate.org/\">NHibernate</a>. V mnoha\nohledech práci s NHibernatem značně zjednodušuje, ať už je to mapování,\nautomatickou správu session a podobně. Způsoby užití jsme už popsal ve\nspotu <a rel=\"bookmark\" title=\"ActiveRecord vs. Repository pattern\"\nhref=\"/weblog/271-active-record-vs-repository-pattern.aspx\">ActiveRecord vs.\nRepository pattern</a>. Další výhodou je, že vše, co funguje v NHibernate\n(LINQ, Spatial, vlastní mapovací typy), můžete použí i s Castle\nActiveRecord.</p>\n\n<p>Datové třídy však nedědím z bázové třídy\n<code>ActiveRecordBase</code>, ale používám Repository, která se stará\no <acronym title=\"Create, Read, Update, Delete\">CRUD</acronym> operace\ns entitou. Pokud chcete mít mapování a závislost na ActiveRecord snadno\nodstranitelnou, můžete mapovací atributy vyčlenit třeba do samostatného\n<strong>partial</strong> souboru. Ale nejspíš nikdy v životním cyklu vaší\naplikace nebudete ORM framework měnit, takže se trápit metadaty\no databázovém schema je celkem zbytečné…</p>\n\n<p>Základem pro repository je generické rozhraní\n<code>IRepository&lt;&gt;</code>, pro snadnou automatickou registraci\nrepositoří v kontejneru ještě nadefinujeme ještě i negenerické\nrozhraní:</p>\n\n<pre\n><code class=\"language-csharp\">using Castle.ActiveRecord;\n\npublic interface IRepository {}\n\npublic interface IRepository&lt;Tentity&gt; : IRepository where TEntity : class {\n  TEntity FindById(int id);\n  void Save(TEntity entity);\n  void Delete(TEntity entity);\n}\n\npublic abstract class ActiveRecordRepositoryBase&lt;TEntity&gt;\n  : IRepository&lt;TEntity&gt; where TEntity : class {\n  public virtual TEntity FindById(int id) {\n    return ActiveRecordMediator&lt;TEntity&gt;.FindByPrimaryKey(id);\n  }\n  public virtual void Save(TEntity entity) {\n    ActiveRecordMediator&lt;TEntity&gt;.SaveAndFlush(entity);\n  }\n  public virtual void Delete(TEntity entity) {\n    ActiveRecordMediator&lt;TEntity&gt;.DeleteAndFlush(entity);\n  }\n}</code></pre>\n\n<p>Pojďme si podporu pro ActiveRecord integrovat do naší MVC aplikace.</p>\n\n<h3 id=\"toc-integrace-pres-binsor\">Integrace přes Binsor</h3>\n\n<p>Výhodou projektů z Castle, je, že se mezi sebou dokážou integrovat a\nvyužívat navzájem výhod své synergie. Nejprve si do projektu přidáme\nreferenci na knihovnu <code>Castle.ActiveRecord</code> a ještě\n<code>Castle.Facilities.ActiveRecordIntegration</code>. Následně\nzaregistrujeme v souboru <code>Windsor.boo</code> facility pro integraci\nActiveRecordu do IoC kontejneru:</p>\n\n<pre\n><code class=\"language-boo\">import System.Reflection\n\n// podpora ActiveRecord v kontejneru\nfacility ActiveRecordFacility:\n  configuration:\n    @isWeb = true, isDebug = false\n    assemblies = [ Assembly.Load(\"MyApplication.Entities\") ]\n    config(keyvalues, item: add):\n      show_sql = true\n      command_timeout = 500\n      dialect = 'NHibernate.Dialect.MsSql2005Dialect'\n      connection.provider = 'NHibernate.Connection.DriverConnectionProvider'\n      connection.driver_class = 'NHibernate.Driver.SqlClientDriver'\n      connection.connection_string_name = 'CONN_DEMO'</code></pre>\n\n<p>Teď ještě potřebujeme ve <code>web.config</code>u přidat\n<code>ConnectionString</code> pod klíčem <code>CONN_DEMO</code> a volitelně\npřidat životnost session na jeden request. To uděláte tak, že do sekce\n<code>system.web\\httpModules</code> přidáte následující modul:</p>\n\n<pre\n><code class=\"language-markup\">&lt;add\n  name=\"PerRequestSessionScope\"\n  type=\"Castle.ActiveRecord.Framework.SessionScopeWebModule, Castle.ActiveRecord\"/&gt;</code></pre>\n\n<p>To má za výhodu to, že všechny vaše dotazy za jeden request se chovají\njako jedna transakce. Takže integrace frameworku, je hotová. Teď ještě\npřidáme automatickou registraci samotných repositoří.</p>\n\n<pre\n><code class=\"language-boo\">for repository in AllTypesBased of IRepository(\"MyApplication.Entities\"):\n  component repository.Name.ToLower(), repository.GetInterfaces()[0], repository:\n    lifestyle PerWebRequest</code></pre>\n\n<p>Tímto se zaregistrují všechny repository, které dědí z\n<code>ActiveRecordRepositoryBase</code> a jsou pak ve vašich komponentách\ndostupné jako <code>IRepository&lt;User&gt;</code> (příklad pro entitu\n<code>User</code>). Pokud budete mít v repository více metod, je dobré\nvytvořit pro ně kontrakt, který obsahuje kontrakt generické repository.\nNapříklad takto:</p>\n\n<pre\n><code class=\"language-boo\">public interface IUsersRepository : IRepository&lt;User&gt; {\n  User FindUserByEmail(string email);\n}</code></pre>\n\n<p>Registrace takovýchto komponent už je o něco složitější, ale dá se\nto také zvládnout. Nejprve si zavedeme konvenci, že repository, které\ntakovéto kontrakty implementují, se budou jmenovat až na\n<strong>I</strong> na začátku stejně. :) Takže pro kontrakt\n<code>IUsersRepository</code> budeme mít konkrétní implementaci\n<code>UsersRepository</code> atd. Pro jejich registraci využijeme metodu\n<code>System.Type.FindInterfaces</code>, která bere jako první argument\ndelegát na vyhledávací funkci a druhý argument jsou hledací kritéria.\nTakže si vytvoříme funkci, která splňuje kontrakt delegáta, a následně\nji hned využijeme pro registraci:</p>\n\n<pre\n><code class=\"language-boo\">def contains_name(t as Type, o as Object):\n  return t.Name.Contains(o.ToString())\n\nfor repository in AllTypesBased of IRepository(\"MyApplication.Entities\"):\n  repository_interface = repository.FindInterfaces(contains_name, repository.Name)\n  component repository.Name.ToLower(), repository_interface, repository:\n    lifestyle PerWebRequest</code></pre>\n\n<p>Cool ne? Pár řádků konfigurace a nejspíš máme vystaráno, tedy když\ndodržíme stanovenou konvenci, tak už se o registraci komponent datové\nvrstvy nemusíme starat. Stejně tak už máme zaregistrované model bindery a\ncontrollery. Trošku nám to konfigurace povyrostla, ale díky možnostem,\nkteré nám přináší Binsor, je to jen zlomek toho, co by bylo potřeba\nnapsat v XML.</p>\n\n<p>Projektík se nám pomalu rozrůstá, sice stále nic nedělá, ale je to\ndobrý základ pro pořádný web. Pokusím se ho hodit někam do SVN, aby bylo\nlehčí se v projektu orientovat a byly vidět jednotlivé změny.</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a rel=\"bookmark\" title=\"ActiveRecord vs. Repository pattern\"\n\t\thref=\"/weblog/271-active-record-vs-repository-pattern.aspx\">ActiveRecord vs.\n\t\tRepository pattern</a></li>\n\n\t\t<li><a rel=\"bookmark\" title=\"Inversion of Control v ASP.NET MVC\"\n\t\thref=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">Inversion of Control\n\t\tv ASP.NET MVC</a></li>\n\n\t\t<li><a rel=\"bookmark\" title=\"Model binders v ASP.NET MVC\"\n\t\thref=\"/weblog/336-model-binders-v-asp-net-mvc.aspx\">Model binders v ASP.NET\n\t\tMVC</a></li>\n\n\t\t<li><a rel=\"bookmark\" title=\"DSL pro konfiguraci URL Routingu v ASP.NET MVC\"\n\t\thref=\"/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx\">DSL pro\n\t\tkonfiguraci URL Routingu v ASP.NET MVC</a></li>\n\n\t\t<li><a rel=\"bookmark\" title=\"Jaký pohled si vybrat?\"\n\t\thref=\"/weblog/343-jaky-pohled-si-vybrat.aspx\">Jaký pohled si vybrat?</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-24T08:38:47.573-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Persistence modelu pomocí ActiveRecord",
  :published #inst "2009-01-21T15:16:56.257-00:00",
  :url "persistence-modelu-pomoci-activerecord",
  :category-url "asp-net-2-0.aspx",
  :id 345,
  :description
  "Dneska se podíváme na zoubek modelu. Jak integrovat Castle ActiveRecord do naší připravené infrastruktury a automaticky registrovat repository? Samozřejmě nám pomůže Binsor...",
  :category "ASP.NET 2.0",
  :tags
  ["activerecord" "aspnet" "mvc" "binsor" "nhibernate" "repository"]},
 :229-castle-rc3-a-microsoft-mvc.aspx
 {:html
  "\n<p>Vůbec jsem si toho nevšiml, ale RC3 verze Castle je již několik týdnů\nvenku. Stáhnout si jí můžete <a\nhref=\"http://switch.dl.sourceforge.net/sourceforge/castleproject/CastleProject-1.0-RC3.msi\">ze\nSourceForge</a>.</p>\n\n<p>Další zajímavou zprávou je. že Microsoft pracuje na vlastním ASP.NET\nMVC frameworku, který bude umožňovat plnou testovatelnost, IoC kontejnery,\nASPX jako view bez ViewState a Page lifecyklu a spoustu zajímavých vychytávek\nvyužívajících generika a nové možnosti C#3. První CTP by se měla objevit\ndo konce roku a releas někdy na jaře roku příštího. Release by měl být\npodobný jako AJAX Extensions, časem se pak zařadí přímo do .net\nframeworku.</p>\n\n<p>Zajímavý je pohled vývojářů MonoRailu. Vítají zdravou konkurenci a\npodle všeho se budou snažit využít všech výhod ASP.NET MVC a MonoRail\nbudovat dále nad ním.</p>\n\n<h3 id=\"toc-souvisejici\">Související</h3>\n\n<ul>\n\t<li>Scott Guthrie: <a\n\thref=\"http://weblogs.asp.net/scottgu/archive/2007/10/14/asp-net-mvc-framework.aspx\">ASP.NET\n\tMVC Framework</a></li>\n\n\t<li><a href=\"/weblog/222-monorail-instalace.aspx\">Monarail –\n\tInstalace</a></li>\n\n\t<li>Scott Hanselman: <a\n\thref=\"http://feeds.feedburner.com/~r/ScottHanselman/~3/167273939/ScottGuMVCPresentationAndScottHaScreencastFromALTNETConference.aspx\">ScottGu\n\tMVC Presentation and ScottHa Screencast from ALT.NET Conference</a></li>\n\n\t<li>Jeffrey Palermo: <a\n\thref=\"http://codebetter.com/blogs/jeffrey.palermo/archive/2007/10/05/altnetconf-scott-guthrie-announces-asp-net-mvc-framework-at-alt-net-conf.aspx\">Scott\n\tGuthrie announces ASP.NET MVC framework at Alt.Net Conf</a></li>\n\n\t<li>Phil Haack: <a\n\thref=\"http://haacked.com/archive/2007/09/17/why-is-microsoft-removing-my-mvp-status.aspx\">Why\n\tIs Microsoft Removing My MVP Status?</a></li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:19:41.370-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Castle RC3 a Microsoft MVC",
  :published #inst "2007-10-09T07:48:31.907-00:00",
  :url "castle-rc3-a-microsoft-mvc",
  :category-url "webdesign.aspx",
  :id 229,
  :description
  "Vůbec jsem si toho nevšiml, ale RC3 verze Castle je již několik týdnů venku. Microsoft chystá vlastní MVC framework.",
  :category "Webdesign",
  :tags
  ["castle"
   "activerecord"
   "monorail"
   "mvc"
   "ajax"
   "ioc"
   "windsor"
   "aspnet"]},
 :261-webcamp-za-nami.aspx
 {:html
  "\n<p>Poslední dva dny jsem strávil na konferenci pro webové tvůrce pořádané\n<a href=\"http://interval.cz/\">Vilémem Málkem</a> a <a\nhref=\"http://php.vrana.cz/\">Jakubem Vránou</a>. Jaké to tam bylo a o co jste\npravděpodobně přišli?</p>\n\n<p>O <a href=\"http://www.webcamp.cz/\">WebCampu</a> jsem věděl už před pár\ntýdny. Nezaujal mě ani tak program, jako někteří přednášející. Už\nnějakou dobu jsme měl potřebu se setkat s <a\nhref=\"http://www.davidgrudl.com/\">Davidem Grudlem</a> (všimněte si, není\nGrundl a ani DGX) a <a href=\"http://www.borber.com/\">Borkem Bernardem</a>.\nVzhledem k tomu, že oba na této konferenci měli přednášet a navíc\nv Dejvicích, byla to jedinečná příležitost. :)</p>\n\n<p>Psal jsem Borkovi, ať se mi večer ozve, že bych s nimi zašel „na\njedno.“ Pak mi v úterý přišel mejl od <a\nhref=\"http://www.mraveniste.org/\">Honzy Biena</a>, že je pozvaný u může si\nvzít hosta, ať tedy jdu s ním. No měl jsem zrovna dovolenou a pohyboval\njsem se v Praze – tak jsem souhlasil.</p>\n\n<h3 id=\"toc-den-prvni-webovy-vyvoj\">Den první – webový vývoj</h3>\n\n<p>První den byl věnován webovému vývoj a to především v PHP. Na konec\njsem na konferenci našel několik i pro mne zajímavých témat. Na začátku\nbylo téma o podpoře PHP v produktech Microsoftu (o tom jak rozběhat <a\nhref=\"/weblog/231-jak-na-php-ve-viste.aspx\">PHP 5 v IIS na Vistě</a> jsem už\npsal). Přednáška o budoucnosti PHP byla spíše zábavnou (alespoň z mého\nC# pohledu). Jakub ať se nezlobí, ale jeho <a\nhref=\"http://adminer.cz/\">generátor administračních rozhranní</a> se mi\nvůbec nelíbil. ;)</p>\n\n<p>Borek pak prezentoval celkem ze široka, jaké možnosti pro webové\nvývojáře dnes existují. Jako serverou alternativu prezentoval ASP.NET (v <a\nhref=\"http://forums.asp.net/1145.aspx\">Dynamic Data</a> měl admina stejně\nrychle hotového jako Jakub, navíc vč. doménových objektů). U RIA se Borek\nzmínil o <a href=\"http://www.microsoft.com/silverlight/\">Silverlightu</a> 2 a\n<a href=\"http://www.adobe.com/flex/\">Flexu</a>. Dále o možnosti psát na\nserveru klientským způsobem a trendu sbližování technologií pro tvorbu\ntenkých klientů (browser, plugin, Java/.net, native). Pak jsme šli na pivo do\nBudvarky.</p>\n\n<p>Vrátili jsme se až na závěrečnou část přednášky <a\nhref=\"http://www.tomasp.net/\">Tomáše Petříčka</a>, která byla o <a\nhref=\"http://www.php-compiler.net/\">Phalangeru</a> v Silverlightu. Myslím, že\nta dost přítomných vývojářů zaujala, alespoň podle pozdějších reakcí\nv hospodě. Na konec byl zlatý hřeb večera – přednáška\n<del>DGX</del><ins>Davida</ins> o <a href=\"http://texy.info/\"\ntitle=\"The best text  → HTML converter and formatter\">Texy!</a> (z pohledu\nprogramátora).</p>\n\n<p>Nakonec jsme se přesunuli o patro níž, kde je i hospoda. Tam jsme\nnakonec s Davidem a Štěpánem stvrdli až do tří nebo tak nějak. :D</p>\n\n<h3 id=\"toc-den-druhy-budoucnost-a-pristupnost-webu\">Den druhý – budoucnost\na přístupnost webu</h3>\n\n<p>Ráno jsme přišli dost zničení (po třech a půl hodinách spánku) a\nzachytili jsme začátek přednášky <a\nhref=\"http://pristupnost.nawebu.cz/\">Davida Špinara</a> o <a\nhref=\"http://www.pravidla-pristupnosti.cz/\">pravidlech přístupnosti</a> pro\nweby státní správy. Následovala další přednáška o snaze o <a\nhref=\"http://seznam.sblog.cz/2008/03/28/33\">bezbariérový Seznam</a> a další\no tom jakým způsobem používají web handicapovaní uživatelé a praktickou\nukázkou hlasové čtečky.</p>\n\n<p>V odpoledním bloku vystoupil <a\nhref=\"http://www.webylon.info/\">Chamurappi</a> a představil svůj <a\nhref=\"http://validator.w3.cz/\">český validátor</a>. <a\nhref=\"http://www.marigold.cz/\">Patrick Zandl</a> měl velice zajímavou\npřednášku o <a href=\"http://www.stream.cz/\">Stream.cz</a> a na závěr\nvystoupil <a href=\"http://html456.blogspot.com/\">Martin Hassman</a>\ns tématem HTML5.</p>\n\n<p>Všechno to byla zajímavá témata, ale díky únavě z předchozího dne,\nto mohlo vypadat, že mě to nezajímá, opakem byla pravda. Návštěvnost\nkonference asi neodpovídala představám pořadatelů, ale možná to bylo\ni tím, že se o ní málo mluvilo – já jsem jí zaregistroval, díky\nslužbě <a href=\"http://www.weblogy.cz/\">W3B</a> – nebo dosti vysoké ceně.\nSnad bude mít příští akce větší komerční úspěch.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:43:09.970-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "WebCamp za námi",
  :published #inst "2008-03-29T11:56:31.210-00:00",
  :url "webcamp-za-nami",
  :category-url "webdesign.aspx",
  :id 261,
  :description
  "Poslední dva dny jsem strávil na konferenci pro webové tvůrce pořádané Vilémem Málkem a Jakubem Vránou. Jaké to tam bylo a o co jste pravděpodobně přišli? Dozvíte se dále.",
  :category "Webdesign",
  :tags
  ["webcamp"
   "dynamicdata"
   "php"
   "aspnet"
   "silverlight"
   "flex"
   "texy"
   "html5"]},
 :435-staticke-tridy.aspx
 {:html
  "\n<p>Často se setkávám s celkem nepěkným nešvarem, kterým je\nhrůzostrašné pojmenování <strong>statická třída.</strong> Tenhle\nproblém se dotýká především C# vývojářů a trochu zasahuje i do Javy.\nKdyž se podíváte na na ASP.NET, tak tam to je jedna statická třída vedle\ndruhý. Celý framework jsou nudle statických APIs a Singletonů. Co je na tom\ntak špatnýho?</p>\n\n<h3 id=\"toc-co-je-to-staticka-trida\">Co je to statická třída?</h3>\n\n<p>Tak v první řadě je to blbost. Statická třída je špatné\npojmenování pro koncept obecně známý jako <strong>modul.</strong>\nA nemusíme chodit zrovna daleko. Naši nechtění <a\nhref=\"http://msdn.microsoft.com/en-us/library/aaxss7da.aspx\">bratia z VB.NET\ntento koncept mají</a> pojmenovaný správně. ;) Modul by ideálně měl být\nsouborem čistých funkcí. V ideálním (funkcionálním) světě bez\nvedlejších efektů ale nežijeme a tak dochází k ovlivňování vnějšího\nsvěta a v modulu máme i nějaké ty procedury. S tím se ještě\ndá žít.</p>\n\n<h3 id=\"toc-singleton\">Singleton</h3>\n\n<p>Problém nastává, když začneme do našich modulů cpát stav, tak jak\njsme zvyklí u objektů. Tento koncept máme také již dávno zmapovaný a\npojmenovaný. Ano, jde o debilní (nechtěl jsme psát naivní) implementaci\nSingletonu. Například Scala má pro singleton podporu přímo na úrovni\njazyka. Jenže na rozdíl od statické třídy může implementovat rozhraní.\nTudíž je to celkem dobrý koncept slučitelný s OO principy. Ne však\nstatická třída.</p>\n\n<p>Statická třída se nechová polymorfně (aka dynamic dispatch). Statická\ntřída nemůže implementovat rozhraní. Statická třída dost často brání\nkonkurenci a je těžké u nich dosáhnout mezivláknové bezpečnosti. Takže\nstatickou třídu jako náhradu singletonu nebrat! :)</p>\n\n<h3 id=\"toc-mixin\">Mixin</h3>\n\n<p>Další možné uplatnění statické třídy je definice extenzních metod.\nPokud jsou extenze opravdu pouze rozšířením rozhraní pomocí čistých\nfunkcí, vše je ok. Ale netahejte tam žádný stav, jinak se vracíme zpátky\nk předchozímu bodu, a hledání takových chyb je snad ještě\nvypečenější.</p>\n\n<h3 id=\"toc-fluent-api\">Fluent API</h3>\n\n<p>Statické třídy můžeme využívat jako syntaktické vstupní body pro\nplynulá rozhraní. Jde jen o syntaktický cukr v DSL. Pokud jsou pocukrovaná\nAPI dostupná i běžnými OO přístupy, pak je vše ok. Ale bacha ať\nnedopadnete jako ASP.NET, kde alternativy neexistují a pak jste\npěkně v…</p>\n\n<h3 id=\"toc-modul\">Modul</h3>\n\n<p>Posledním užitím, které mě teď napadá (protože mám slabou\npředstavivost na zrůdnosti), je již na začátku zmiňovaný modul.\nZ pohledu funkcionálního přístupu je modul soubor funkcí, které operují\nnad stejnými datovými strukturami. V lepších jazycích se dají moduly\notvírat a pak můžeme jejich funkce používat jako kostrukty jazyka. Ale to\nbychom po C# chtěli už moc. Vlatně proč? Vžyť to umí i Java. ;)</p>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p><code>static class</code> je jen implementační detail několika různých\nkonstruktů a proto by se v našem vyjadřování tento pojem neměl často\nvyskytovat. Raději zmiňujte koncept, který máte konkrétně na mysli. Budou\nvám rozumět jak programátoři z jiných jazyků, tak bude i snadněji\npochopitelné o co konkrétně vám jde. A nezapomeňte statická třída\nnení typ a už vůbec ne objekt. ;)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-12-01T08:49:17.570-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Statické třídy",
  :published #inst "2012-12-01T08:39:42.370-00:00",
  :url "staticke-tridy",
  :category-url "moje-prace.aspx",
  :id 435,
  :description "Dnes se půjdeme poprat se statickýma třídama. ",
  :category "Moje práce",
  :tags []},
 :389-open-graph-a-jeho-nasazeni.aspx
 {:html
  "\n<p>Pokud vás zajímají detaily o nasazení tlačítka <strong>Like</strong>\nna vašich i našich stránkách, doporučuji přečíst si článek <a\nhref=\"http://zdrojak.root.cz/clanky/open-graph-a-jeho-nasazeni/\">Open Graph a\njeho nasazení</a>, který mi dnes vyšel na Zdrojáku. Krom základního popisu\nprotokolu, tam nejdete i ukázky z reálného provozu a dal jsem si tu práci\na prošel jsem pár implementací na českém webu a doporučil některá\nvylepšení. Třeba tam jsou i vaše stránky.</p>\n\n<p>Závěrem chci poděkovat <a href=\"http://www.borber.com/\">Borkovi</a> za\nbetatestování mého rozverného textu a zároveň za vyzkoušení, pro mne\nnové, cesty jak spolupracovat na dokumentu ve Wordu a v Live Mesh (a\nv Recycle Bin). :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-05-18T08:53:40.957-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Open Graph a jeho nasazení",
  :published #inst "2010-05-18T08:52:33.393-00:00",
  :url "open-graph-a-jeho-nasazeni",
  :category-url "webdesign.aspx",
  :id 389,
  :description
  "Dnes mi na Zdrojáku vyšel článek o novém protokolu sémantického webu. Tohle je malá upoutávka na něj ;)",
  :category "Webdesign",
  :tags ["opengraph"]},
 :144-web-application-project.aspx
 {:html
  "\n<p>Kupí se mi témata, o&#160;kterých chci psát, ale nějak na ně nezbývá\nčasu. Začnu tedy zprávou, o&#160;které dnes píšou snad všichni.\nVývojový team ASP.NET, IIS a VWD uvolnil finální verzi <a\nhref=\"http://msdn.microsoft.com/asp.net/reference/infrastructure/wap/default.aspx\">Web\nApplication Project</a> (WAP), což neni nic jiného než starý model\nwebového projektu z&#160;VS2003 s&#160;podporou ASP.NET 2.0&#160;a MSBuildu.\nOsobně se mi s&#160;tímto typem projektu pracuje lépe než Web Site\nprojektem, který je ve VS2005 defaultní.</p>\n\n<p>Nový typ projektu se po nainstalování přidá do nabídky výběru\nprojektu a je tu i&#160;kontextová možnost převést stávající weby na\ntento model. Nejvíce se však bude WAP hodit při migraci webů z&#160;VS2003,\npro niž existuje <a\nhref=\"http://webproject.scottgu.com/CSharp/Migration/Migration.aspx\">pěkný\ntutoriál</a>.</p>\n\n<p>Pokud se rozhodnete pro instalaci WAPu, musíte si nejprve nainstalovat <a\nhref=\"http://go.microsoft.com/fwlink/?LinkId=63636\">záplatu pro VS2005</a>,\nkterá umožní fungování WAP. Poslední důležitou informací je, že WAP\nbude součástí VS2005 SP1 a bude dále podporovaný i&#160;v následujících\nverzích. Ve verzi SP1 dozná ještě několika vylepšení plynoucích právě\nz&#160;chystaných změn VS SP1.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-05-09T20:20:27.080-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Web Application Project",
  :published #inst "2006-05-09T20:20:27.053-00:00",
  :url "web-application-project",
  :category-url "asp-net-2-0.aspx",
  :id 144,
  :description "Staronový model webového projektu pro VS2005.",
  :category "ASP.NET 2.0",
  :tags []},
 :339-agregace-a-sdileni.aspx
 {:html
  "\n<p>Vrámci zdokonalování tohoto blogu jsem do nového roku přidal několik\nusnadnění jak sdílet a agregovat moje články.</p>\n\n<h3 id=\"toc-agregace\">Agregace</h3>\n\n<p>Box s možností <a href=\"#agregace\">přidat si tyhle stránky</a> do své\noblíbené čtečky najdete na konci stránky. Nejprve jsem přidal (vrátil)\npár odkazů na přidání RSSka do <a href=\"http://www.google.com/\">Googlu</a>,\n<a href=\"http://www.live.com/\">Windows Live</a> a na <a\nhref=\"http://www.seznam.cz/\">Seznam.cz</a>, což jsou nejpoužívanější\nportály mých návštěvníků. Pak jsem přidal možnost zaregistravat si <a\nhref=\"http://friendfeed.com/rarous\">můj FriendFeed</a>, kde můžete sledovat\nnejen moje blogové příspěvky, ale i štěbetání a další aktivity\nv rámci sociální sítě. A když už jsem byl v tom, tak jsem ještě\nprolezl logy a podíval se z jakých agregátorů sem ještě lidi chodí a\nvyšlo mi z toho, že ještě musím přidat <a\nhref=\"http://www.bloglines.com/\">Bloglines</a>, <a\nhref=\"http://www.netvibes.com/\">Netvibes</a> a <a\nhref=\"http://www.newsgator.com/\">Newsgator</a>, abych svým čtenářům\nregistraci do jejich čtečky usnadnil. Tak jsou tam…</p>\n\n<h3 id=\"toc-sdileni\">Sdílení</h3>\n\n<p>U každého článku jsem měl v zápatí odkaz na sdílení v <a\nhref=\"http://www.delicious.com/\">Delicious</a> a v českém <a\nhref=\"http://www.linkuj.cz/\">Linkuj!</a> a když už jsem byl u toho\nFriendFeedu tak jsem přidal možnost na něm sdílet i samotné články.\nJenže hodně lidí používá hlavně <a\nhref=\"http://www.facebook.com/\">Facebook</a>, tak proč nejít „stádu“\nnaproti? :) Pak je tu ještě <a href=\"http://www.digg.com/\">Digg</a> a českej\n<a href=\"http://www.jagg.cz/\">Jagg</a>. Tak doufám, že teď budete mít,\ndrazí čtenáři, snažší sdílet mé bombastické články se svými\npřáteli.</p>\n\n<p>Jaké služby používáte k agregaci a sdílení vy?</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-02T15:46:07.810-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Agregace a sdílení",
  :published #inst "2009-01-02T15:08:20.427-00:00",
  :url "agregace-a-sdileni",
  :category-url "moje-prace.aspx",
  :id 339,
  :description
  "Vrámci zdokonalování tohoto blogu jsem do nového roku přidal několik usnadnění jak sdílet a agregovat moje články.",
  :category "Moje práce",
  :tags ["social" "rss"]},
 :267-vkladani-data-do-stranky.aspx
 {:html
  "\n<p><a href=\"http://microformats.org/\">Mikroformáty</a> jsou určeny pro\nsnadnější získávání dat ze stránek, jak pro lidi, tak pro stroje.\nJedním z problémů je, jak vkládat data a časy, aby byly pochopitelné pro\nlidi i snadno vyparsovatelné strojem.</p>\n\n<p>Způsobů zápisu data a času existuje nespočet. Snad každý stát/jazyk\ndefinuje jiná pravidla pro jejich zápis. Ruku na srdce, kdo z nás přesně\nví, jak správně zapisovat datum a čas v naší mateřštině? Případ od\npřípadu se může lišit a i správných způsobů je hned několik. Pro\npřenos časové informace existují standardní formáty, ale ty jsou pro lidi\nmnohem méně srozumitelné. Jak skloubit snadnou čitelnost pro lidi\ni stroje?</p>\n\n<h3 id=\"toc-mikroformaty-na-scenu\">Mikroformáty na scénu</h3>\n\n<p>Kupodivu mnoho mikroformátů obsahuje i definici pro některý časový\núdaj. Naštěstí, každý to neřeší jinou cestou, ale používá se <a\nhref=\"http://microformats.org/wiki/datetime-design-pattern\">návrhový vzor pro\nzápis data a času</a>. V tomto vzoru se používá tag <code>abbr</code>,\nkterý uzavírá „lidskou interpretaci“ data a času, a v atributu\n<code>title</code> jeho strojovou podobu dle <a\nhref=\"http://www.w3.org/TR/NOTE-datetime\">ISO 8601</a>. Navíc se ještě\nvyužívá <a\nhref=\"http://microformats.org/wiki/class-design-pattern\">návrhového vzoru\ntřída</a> pro definování, co datum právě vyjadřuje.</p>\n\n<p>Datum publikace článku můžeme zapsat následujícím způsobem:</p>\n\n<pre\n><code class=\"language-markup\">Publikováno\n&lt;abbr class=\"published\"\n  title=\"2008-04-20T10:00:00Z\"&gt;\n  20. dubna 2008 ve 12.00\n&lt;/abbr&gt;.</code></pre>\n\n<p>V ukázce si můžete všimnout, že čas se v atributu <code>title</code>\nneshoduje s „lidskou“ podobou. Je to dáno tím, že jde o vyjádření\ntzv. univerzálního času UTC. Ekvivalentně lze zapsat jako středoevropský\nletní čas <code>2008-04-20T12:00:00+02:00</code>.</p>\n\n<h3 id=\"toc-vypis-v-dotnetu\">Výpis v dotnetu</h3>\n\n<p>V ASP.NET se dají pro správný výpis použít dvě metody třídy\n<code>System.DateTime</code>. Tou první je metoda\n<code>ToUniversalTime()</code>, která čas převede na UTC, a tou druhou je\n<code>ToString(\"s\")</code>, která vytvoří textovou podobu tzv.\nseřaditelného času. Nezapomeňte však přidat písmeno Z,\nvyjadřující UTC.</p>\n\n<pre\n><code class=\"language-markup\">&lt;abbr class=\"published\"\n  title=\"&lt;%= item.DatePublished.ToUniversalTime().ToString(\"s\") %&gt;Z\"&gt;\n  &lt;%= item.DatePublished.ToString(\"f\")%&gt;\n&lt;/abbr&gt;</code></pre>\n\n<p>Bohužel, žádný ze standardních formátů přesně neodpovídá tomu,\nkterý potřebujeme. Ale je tu možnost použít vlastní formát pro\nuniverzální vyjádření času <code>yyyy'-'MM'-'dd'T'HH':'mm':'ss'Z'</code>\nnebo <code>yyyy'-'MM'-'dd'T'HH':'mm':'sszz</code> pro\n<code>System.DateTimeOffset</code>.</p>\n\n<p>Tagy: <a rel=\"tag\"\nhref=\"http://technorati.com/tag/microformats\">microformats</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/asp.net\">asp.net</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:36:24.820-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vkládání data do stránky",
  :published #inst "2008-04-20T12:00:15.293-00:00",
  :url "vkladani-data-do-stranky",
  :category-url "webdesign.aspx",
  :id 267,
  :description
  "Mikroformáty jsou určeny pro snadnější získávání dat ze stránek, jak pro lidi, tak pro stroje. Jedním z problémů je jak, vkládat data a časy, aby byly pochopitelné pro lidi i snadno vyparsovatelné strojem. Poradit jak na to, si klade za cíl tento spot.",
  :category "Webdesign",
  :tags ["xhtml" "html" "microformats" "ISO8601" "aspnet"]},
 :14-velikonoce.aspx
 {:html
  "\n<p>Už je tomu tak, Velikonoce máme, někteří více, někteří méně,\núspěšně za sebou. U&#160;nás se určitě povedly a díky plánovanému\nhospodaření s&#160;alkoholem nebylo moc lidí, kteří by boj neustáli.\nJeden se ale našel &#8211; Aleš Hrdina, ten co toho vydrží nejvíc &#8211;\na neustál.</p>\n\n<p>Plán byl jasný, já jsem pít nemohl, protože jsem jel odpoledne busem na\nkolej a Martin pro změnu řídil, opili jsme se tedy už v&#160;neděli :)\nUspořádal jsem v&#160;klubovně hasičárny malou sešlost, která se nakonec\nrozrostla ve větší party. Lůďa koupil ňáký vína, já donesl slivku,\nPepa něco, Martin něco a už to bylo. Brrr.</p>\n\n<p>Hráli jsme prší a kdo prohrál, musel chlastat :) No já u&#160;toho\nještě topil, tak jsem ji měl hned. Lůďa vzal ještě ňákej hipec a\nmostecký systémy a jelo se až do rána. Myslím, že tolik lidí\ns&#160;kocovinou nikdy na koledu ještě nešlo. A&#160;co vy, <strong>jaký\nbyly Velikonoce?</strong></p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "VeLiKoNoCe",
  :published #inst "2004-04-20T18:40:00.000-00:00",
  :url "velikonoce",
  :category-url "kamaradi.aspx",
  :id 14,
  :description "Malé Velikonoční povídání.",
  :category "Kamarádi",
  :tags []},
 :349-serverove-ovladaci-prvky-v-asp-net-mvc.aspx
 {:html
  "\n<p>Docela často se vyskytující fámou je, že v ASP.NET MVC nelze používat\nserverové ovládací prvky (Server Controls). Pravda to je jen z části,\nnelze používat jen ty prvky, které pro svoji funkčnost vyžadují\n<code>ViewState</code>. Pojďme se podívat na ty, které fungují i v ASP.NET\nMVC a můžou nám poskytnout nějakou zajímavou funkcionalitu a zpřehlednit\ntak naše View.</p>\n\n<h3 id=\"toc-masterpage-a-placeholdery\">MasterPage a Placeholdery</h3>\n\n<p>Snad první komponenty, které použijete, jsou\n<code>asp:ContentPlaceHolder</code> a <code>asp:Content</code>. Narazíte na ně\npři definování globální šablony (Master Page) a jednotlivých pohledů\n(View). Většinou je použijete automaticky a ani si neuvědomíte, že jde\no serverové komponenty. A to je dobře. Rozhodně je lepší používat\nmaster page než server side include nebo do všech stránek vkládat view user\ncontroly se sdílenými částmi šablony.</p>\n\n<h3 id=\"toc-loginview-a-spol\">LoginView a spol.</h3>\n\n<p>Další rozhodně doporučitelnou komponentou je <code>asp:LoginView</code>.\nTa slouší k rozdílnému zobrazování obsahu pro\nnepřihlášené/přih­lášené uživatele a také pro jednotlivé\nuživatelské role. Předpokladem je, že využíváte ASP.NET Membership nebo\nnějakou vlastní implementaci, která nastavuje do kontextu správné\n<code>IPrincipal</code>. Pak můžete v kódu použít třeba toto:</p>\n\n<pre\n><code class=\"language-markup\">&lt;asp:LoginView ID=\"LoginView1\" runat=\"server\"&gt;\n  &lt;AnonymousTemplate&gt;\n    Nepřihlášený | &lt;%= Html.ActionLink(\"Přihlásit se\", \"Login\", \"Account\") %&gt;\n  &lt;/AnonymousTemplate&gt;\n  &lt;LoggedInTemplate&gt;\n    &lt;asp:LoginName runat=\"server\" /&gt;| &lt;%= Html.ActionLink(\"Odhlásit se\", \"Logout\", \"Account\") %&gt;\n  &lt;/LoggedInTemplate&gt;\n&lt;/asp:LoginView&gt;</code></pre>\n\n<p>Tím docílíte zobrazení odkazu pro přihlášení nepřihlášenému\nuživateli a odkazu pro odhlášení uživateli přihlášenému. Jak vidíte,\nje možné používat i <code>asp:LoginName</code> pro výpis jména aktuálně\npřihlášeného uživatele.</p>\n\n<h3 id=\"toc-localize-pro-lokalizaci\">Localize pro lokalizaci</h3>\n\n<p>Pokud děláte na webové aplikaci, která má být lokalizovaná do více\njazyků, jistě se vám bude hodit <code>asp:Localize</code>, které slouží\nk snadnému definování míst, která mají být nahrazována texty\nz resource souboru. Nebudu teď řešit jak rozhodnout jaký jazyk zvolit,\nmůžete ho mít natvrdo nastavený ve <code>web.config</code> souboru pro\njednotlivé deployované domény, nebo získat nějaký parametr z routy, nebo\nnechat zjišťovat jazyk podle uživatelova nastavení prohlížeče. Pokud\nbudete mít zájem o problematiku lokalizace, můžu jí věnovat některý\ndalší spot. :)</p>\n\n<pre\n><code class=\"language-markup\">&lt;asp:Localize runat=\"server\" meta:resourcekey=\"SomeResource1\" /&gt;</code></pre>\n\n<p>Lokalizaci pak provedeme v patřičném resx souboru následovně:</p>\n\n<pre\n><code class=\"language-markup\">&lt;data name=\"SomeResource1.Text\" xml:space=\"preserve\"&gt;\n  &lt;value&gt;Some text&lt;/value&gt;\n&lt;/data&gt;</code></pre>\n\n<h3 id=\"toc-sitemappath-pro-drobeckovou-navigaci\">SiteMapPath pro drobečkovou\nnavigaci</h3>\n\n<p>Další serverovou komponentou, kterou můžete ve svých šablonách\npohledů využít je <code>asp:SiteMapPath</code>, které slouží ke\ngenerování drobečkové navigace podle struktury definované v souboru\n<code>Web.sitemap</code>.</p>\n\n<pre\n><code class=\"language-markup\">&lt;asp:SiteMapPath runat=\"server\"&gt;\n  &lt;PathSeparatorTemplate&gt; &amp;amp;gt; &lt;/PathSeparatorTemplate&gt;\n&lt;/asp:SiteMapPath&gt;</code></pre>\n\n<h3 id=\"toc-xml-pro-transformaci\">Xml pro transformaci</h3>\n\n<p>Jedním z posledních ze standardně dodávaných serverových komponent,\nkteré ještě v MVC fungují je <code>asp:Xml</code>, které slouží ke\nvkládání XML dat a jejich transformaci pomocí XSLT.</p>\n\n<pre\n><code class=\"language-markup\">&lt;asp:Xml runat=\"server\" DocumentSource=\"/content/contact.xml\" TransformSource=\"/content/contact.xslt\"/&gt;</code></pre>\n\n<h3 id=\"toc-viewtype-pro-silny-typ-modelu-v-pohledu\">ViewType pro silný typ\nmodelu v pohledu</h3>\n\n<p>RC verze MVC frameworku přinesla vlastní serverovou komponentu, která\nurčuje silný typ pro vlastnost <code>Model</code> vašeho pohledu. Je to\nalternativa k dědění z generické <code>ViewPage</code>.</p>\n\n<pre\n><code class=\"language-markup\">&lt;mvc:ViewType runat=\"server\" TypeName=\"ViewPage&amp;amp;lt;MyProject.Model.Customer&amp;amp;gt;\" /&gt;</code></pre>\n\n<h3 id=\"toc-a-dal\">A dál?</h3>\n\n<p>Dál můžete používat komponenty třetích stran, nebo vlastní, které\nnevyžadují <code>ViewState</code>. Pokud máte jako předka vašich stránek\n<code>System.Web.Mvc.ViewPage</code> nemáte v šablonách dostupný data\nbinging. I na to je třeba dávat pozor. Do budoucna by mělo dojít k tomu,\nže helpery, které jsou součástí MVC frameworku, se dočkají\ni zapouzdření do komponent. Ale k tomu dojde až po vydání verze\n1.0. Již dnes však můžete najít jejich předběžnou implementaci v tzv.\n<a\nhref=\"http://www.codeplex.com/aspnet/Release/ProjectReleases.aspx?ReleaseId=22359\">ASP.NET\nMVC Futures</a>, které si můžete stáhnout na CodePlexu. Najdete mezi nimi\ntyto komponenty:</p>\n\n<ul>\n\t<li>ActionLink,</li>\n\n\t<li>DropDownList,</li>\n\n\t<li>TextBox,</li>\n\n\t<li>Password,</li>\n\n\t<li>Label,</li>\n\n\t<li>Hidden a</li>\n\n\t<li>Repeater</li>\n</ul>\n\n<p>Jejich předkem je <code>MvcControl</code>, který zpřístupňuje\n<code>ViewContext</code> a <code>ViewData</code>. Repeater si třeba zajišťuje\nDataBinding sám, takže není třeba ho explicitně volat ze stránky.\nNevýhoudou však je, že je třeba Evalovat data, protože Repeater není\nsilně typový. Mám takový pocit, že můj <a rel=\"bookmark\"\ntitle=\"Generický kontejner a repeater\"\nhref=\"/weblog/278-genericky-kontejner-a-repeater.aspx\">generický repeater</a>\nby měl v MVC fungovat bez problémů. Ještě jsem to nezkoušel, ale nevidím\ndůvod, proč by neměl. Asi provedu revizi a připravím vylepšenou variantu\npro MVC.</p>\n\n<p>A to je pro dnešek vše.</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a\n\t\thref=\"http://weblogs.asp.net/leftslipper/archive/2009/03/03/asp-net-mvc-release-candidate-2-i-declare-myself-to-be-declarative.aspx\">Eilon\n\t\tLipton: I declare myself to be declarative!</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-03-04T09:48:11.720-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Serverové ovládací prvky v ASP.NET MVC",
  :published #inst "2009-02-21T12:32:36.547-00:00",
  :url "serverove-ovladaci-prvky-v-asp-net-mvc",
  :category-url "webdesign.aspx",
  :id 349,
  :description
  "Docela často se vyskytující fámou je, že v ASP.NET MVC nelze používat serverové ovládací prvky (Server Controls). Pojďme se podívat na ty, které fungují i v ASP.NET MVC a můžou nám poskytnout nějakou zajímavou funkcionalitu a zpřehlednit tak naše View.",
  :category "Webdesign",
  :tags ["aspnet" "mvc" "controls"]},
 :337-uzivejte-vanoce.aspx
 {:html
  "\n<p>Užívejte Vánoce dle svých představ, třeba v kruhu svých blízkých,\nna kterých vám záleží, nebo o samotě. :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-12-24T13:52:14.150-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Užívejte Vánoce",
  :published #inst "2008-12-24T13:52:14.137-00:00",
  :url "uzivejte-vanoce",
  :category-url "jen-tak.aspx",
  :id 337,
  :description
  "Užívejte Vánoce dle svých představ, třeba v kruhu svých blízkých, na kterých vám záleží, nebo o samotě. :)",
  :category "Jen tak",
  :tags []},
 :395-asynchroni-nacitani-featur-v-jquery.aspx
 {:html
  "\n<p>K optimalizaci rychlosti načítání stránek se můžeme postavit různě.\nNěkdo to neřeší, někdo snižuje počet požadavků jednou velkou haldou\nscriptů a někdo načítá featury asynchronně.</p>\n\n<p>Je to celkem snadné. Místo jednoho velikého scriptu s jQuery, všemi\npluginy a vlastními scripty, připojíme do šablony webu scripty dva. Jeden\nbude linkovat jQuery z CDN druhý bude bootstrapper, který bude asynchronně\ndonačítat scripty pro featury na dané stránce:</p>\n\n<pre\n><code class=\"language-markup\">&lt;script type=\"text/javascript\"\n  src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js\"&gt;\n&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"/scripts/bootstrapper.js\"&gt;&lt;/script&gt;</code></pre>\n\n<p>Jak vypadá takový bootstrapper? Následovně:</p>\n\n<pre\n><code class=\"language-javascript\">jQuery(function($) {\n  initCalendar($);\n});\n\nfunction initCalendar($) {\n  var cal = $('.calendar');\n  if (cal.length == 0) return;\n  $.getScript('/scripts/jquery.calendar.js', function() {\n    cal.calendar();\n  });\n}</code></pre>\n\n<h3 id=\"toc-jak-to-funguje\">Jak to funguje?</h3>\n\n<p>Když máme připravený DOM, jQuery spustí naši inicializační funkci pro\nkalendáře. Pokud na stránce žádné kalendáře nemáme, tak skončíme.\nNemá cenu načítat script s kalendářem. Pokud na stránce, nějaké\nkalendáře jsou, tak načteme potřebný script a zaregistrujeme funkci, která\nse spustí po zavedení scriptu. V tomto případě obohatí stránku\no pěkné kalendáře. :)</p>\n\n<p>Zbavili jsme se tak blokujících čekání na načtení scriptů,\nnačítáme pouze dva scripty, z toho první je jistě už v lokální cache\nprohlížeče. Na zbylé scripty nemusí prohlížeč čekat a stránka se\nvykreslí celkem rychle bez záseků. Jednotlivá vylepšení stránky se\ndonačtou záhy. Uživatel nic nepozná, jen bude mít plynulejší\nprožitek.</p>\n\n<p>A to je vše, milé děti.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-09-15T16:34:00.503-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Asynchroní načítání featur v jQuery",
  :published #inst "2010-09-12T11:21:59.380-00:00",
  :url "asynchroni-nacitani-featur-v-jquery",
  :category-url "webdesign.aspx",
  :id 395,
  :description
  "K optimalizaci rychlosti načítání stránek se můžeme postavit různě. Někdo to neřeší, někdo snižuje počet požadavků jednou velkou haldou scriptů a někdo načítá featury asynchronně.",
  :category "Webdesign",
  :tags ["jquery" "javascript"]},
 :101-par-postrehu.aspx
 {:html
  "\n<p>Za prvé jsem přidal další album do galerie, jsou to fotky z&#160;úterní\nvycházky po Druzcově, pár fotek se mi snad povedlo. Pokud by někdo chtěl\noriginál ve full kvalitě, napište ni na majl. :)</p>\n\n<p>Za druhé, <a href=\"http://www.djorbith.com\">DJ Orbith</a> zprovoznil nové\nstránky. Mě se výsledek po grafické stránce líbí &#8211; ta gotika se\nk&#160;jeho stylu velice hodí ;) Jsou tam taky ke stažení dva nové mixy,\ntak enjoy&#8230;</p>\n\n<p>Za třetí navštívil Emil <a href=\"http://www.discoheges.cz\">Hegeš</a>. Co\ndodat, nejen že jsem musel zaplatit o&#160;50% větší vstupné, za což mi\nBažant slíbil panáka (kterýho jsem nedostal), ale Emil\n&#8222;hýřil&#8220; vtipem. Takhle brzo jsem od tamtud snad nikdy nešel :D\nNo abych jen nekritizoval, dopil jsem jim tam Red Label a musel jsem přejít\nna Beama :) Pak tam taky hrál jinej DJ, na jméno si nevzpomenu, ale dřív\nhrál Gigiho a teď hraje housík &#8211; skoro pořád teda to, co já\nposlouchám, ale jeho podání mi moc nesedlo&#8230;</p>\n\n<p>No a za poslední. Netscape vydal novou verzi Browseru postavenou na Firefoxu\n1.5. Je o&#160;mnoho lepší než verze předchozí, nebo aspoň jsem za ty dva\ndny používání neměl problém&#8230; Zvýšil se důraz na bezpečnost a\ndnes neznám bezpečnější browser s&#160;jádrem Gecko i&#160;Trident :)</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-01-30T14:47:55.100-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pár postřehů",
  :published #inst "2006-01-29T10:47:02.377-00:00",
  :url "par-postrehu",
  :category-url "jen-tak.aspx",
  :id 101,
  :description
  "Tak aby to tu zase trochu ožilo, přidávám pár postřehů.",
  :category "Jen tak",
  :tags []},
 :268-vyhledavani-komponent-v-asp-net-strance.aspx
 {:html
  "\n<p>Asi málo koho překvapí, že v ASP.NET jsou komponenty, ze kterých se\nskládá výsledná stránka. Někdy však narazíme na potřebu provázat tyto\nprvky mezi sebou. Jednou z možností je vyhledávání přes ID prvku.</p>\n\n<p>Vývojáři na toto pamatovali a každý potomek třídy\n<code>System.Web.UI.Control</code> má metodu <code>FindControl(string)</code>,\nkterá rekurzivně projde strom potomků a snaží se najít toho se zadaným\nID. To je všechno moc hezký, jenže je tu jeden háček, který to tak trochu\ncelý nabourává.</p>\n\n<p>Rekurzivně se prohledává pouze v rozsahu jmenného kontejneru. Pokud je\nmezi potomky komponenta implementující rozhranní\n<code>System.Web.UI.INamingContainer</code>, jeho potomci se neprohledávají.\nPak přijdeme na problém, kdy chceme na celé stránce najít komponentu\ns daným ID. Pokud stránka obsahuje WebForm, nebo je to ContentPage, nebo má\nšablonované prvky, ve kterých je hledaná komponenta zanořená, tak\nzavolání <code>Page.FindControl(\"HledaneID\")</code> vrátí\n<code>null</code>.</p>\n\n<h3 id=\"toc-reseni-problemu\">Řešení problému</h3>\n\n<p>Kdysi jsem si napsal pomocníka. Který ošetřoval různé podmínky\n(MasterPage, WebForm a ContentPlaceHol­dery). Byl dost konkrétní, ale na\nvětšinu případů užití bohatě stačil. Ta funkce nebyla moc hezká.\nNedávno jsem narazil právě na popis toho, proč mi to kdysi nefungovalo a\nmusel jsem psát ty výjimky, který jsem snad osvětlil v předchozím\nodstavci. Nová upravená verze vypadá následovně:</p>\n\n<pre\n><code class=\"language-csharp\">using System;\nusing System.Collections.Generic;\nusing System.Text;\nusing System.Web.UI;\nusing System.Web.UI.HtmlControls;\n\npublic class PageHelper {\n  /// &lt;summary&gt;\n  /// Najde ovládací prvek požadovaneho typu na strance\n  /// včetně ošetření na MasterPage.\n  /// &lt;/summary&gt;\n  /// &lt;typeparam name=\"T\"&gt;Typ ovládacího prvku.&lt;/typeparam&gt;\n  /// &lt;param name=\"parent\"&gt;Ve které stránce se má hledat.&lt;/param&gt;\n  /// &lt;param name=\"controlID\"&gt;ID Controlu ve stránce.&lt;/param&gt;\n  /// &lt;returns&gt;&lt;/returns&gt;\n  public static T FindControl&lt;T&gt;(Page parent, string controlID)\n    where T : Control {\n    return FindControl(parent.Master as Control ?? parent as Control, controlID) as T;\n  }\n\n  private static Control FindControl(Control parent, string controlID) {\n    if (parent == null) {\n      throw new ArgumentNullException(\"parent\");\n    }\n    if (String.IsNullOrEmpty(controlID)) {\n      return null;\n    }\n\n    Control result = parent.FindControl(controlID);\n    if (result == null &amp;&amp; parent.Controls.Count &gt; 1) {\n      foreach (Control child in parent.Controls) {\n        if (child is INamingContainer || child is HtmlContainerControl) {\n          result = FindControl(child, controlID);\n        }\n        if (result != null) {\n          break;\n        }\n      }\n    }\n    return result;\n  }\n}</code></pre>\n\n<p>Snad se bude hodit.</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a href=\"/weblog/213-layout-template.aspx\">Layout Template</a></li>\n\t</ul>\n</div>\n\n<p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/aspnet\">ASP.NET</a>, <a\nrel=\"tag\" href=\"http://technorati.com/tag/findcontrol\">FindControl</a>,\n[tag-findcontrol]</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:34:48.193-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vyhledávání komponent v ASP.NET stránce",
  :published #inst "2008-05-02T13:13:41.633-00:00",
  :url "vyhledavani-komponent-v-asp-net-strance",
  :category-url "asp-net-2-0.aspx",
  :id 268,
  :description
  "Asi málo koho překvapí, že v ASP.NET jsou komponenty, ze kterých se skládá výsledná stránka. Někdy však narazíme na potřebu provázat tyto prvky mezi sebou. Jednou z možností je vyhledávání přes ID prvku. Ale je tu menší háček.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "findcontrol"]},
 :355-vlastni-serverove-ovladaci-prvky-v-asp-net-mvc.aspx
 {:html
  "\n<p>Motto: <code>foreach</code> je fajn na prototypování, ale většinou mu za\nchvíli dojde dech a svádí k zanášení příliš logiky do kódu šablony.\nA to je špatně.</p>\n\n<p>Už jsem se zmiňoval o tom, že <a rel=\"bookmark\"\ntitle=\"Serverové ovládací prvky v ASP.NET MVC\"\nhref=\"/weblog/349-serverove-ovladaci-prvky-v-asp-net-mvc.aspx\">v ASP.NET MVC\nlze užívat serverové ovládací prvky</a>, takže je využijeme\nk zapouzdření složitější zobrazovací logiky.</p>\n\n<h3 id=\"toc-motivace\">Motivace</h3>\n\n<p>Jednou z hlavních nevýhod, kterou jsem viděl na MVC, byl přístup ke\nskládání šablon. Jednotlivé kusy šablony jsou rozházeny v MasterPage,\nViewPage (aspx) a ViewUserControlech (ascx). V Atlasu jsme razili teorii, že\nšablona by měla být pokud možno co nejcelistvější, aby se nemuselo nikde\nnic hledat a kodér rychle udělal potřebné změny. Proto existovala sada\nserverových ovládacích prvků, které byly plně šablonovatelné.</p>\n\n<p>Když naběhlo <acronym title=\"Středové držení\">CH</acronym> s <a\nhref=\"http://ellaproject.stdout.cz/\">Ellou</a>, nechápali jsme, jak to může\nněkdo používat. Každičká část šablony byla (v té době, jak je to\ndnes – nevím) byla rozeseta v hierarchii složek (podle dědičnosti).\nA to je v podstatě hlavní rozdíl mezi ASP.NET a architekturou MVC. Tedy\npokud jste omezeni view enginem, který používáte.</p>\n\n<p>Již nějaký pátek pracuji na web 2.0 aplikaci, která je postavená mj.\nna ASP.NET MVC. Měl jsem tedy možnost vyzkoušet hodně možných postupů: od\nlogiky v šabloně, přes HTML helpery, <code>RenderPartial</code> a\n<code>RenderAction</code> až po vlastní serverové ovládací prvky. A ty\nnakonec vítězí na plné čáře! Pojďme se podívat, jak si napsat\nelegantní serverové ovládací prvky pro ASP.NET MVC.</p>\n\n<h3 id=\"toc-evoluce-logiky-v-sablone\">Evoluce logiky v šabloně</h3>\n\n<p>Začínal jsem s nadšením s jednoduchou logikou v kódu, tak jak to\nvidíte v ukázkách či na prezentacích o ASP.NET MVC. Složitější věci\njsem se snažil přesunout do HtmlHelperu pomocí vlastních extenzí. Když\njsem pak narazil na helpery, které zanáší do view „lambda hell“, trochu\nmě zamrazilo. Vyberu jen dva příklady: Philův <a\nhref=\"http://haacked.com/archive/2008/05/03/code-based-repeater-for-asp.net-mvc.aspx\">Code\nbased Repeater for ASP.NET MVC</a> a Jardův <a\nhref=\"http://simplemvccontrols.codeplex.com/\">Simple MVC controls</a>. Nebojte,\npodobných programátorských krás najdete povícero. Bohužel, je to\nnepoužitelné pro kodéra. Navíc jsem zastáncem myšlenky minima kódu\nv šabloně.</p>\n\n<p>Další věcí, která mě tak trochu děsí, je jakým způsobem se\npředvádí generování HTML formuláře.</p>\n\n<pre\n><code class=\"language-markup\">&lt;% using(Html.BeginForm(\"Send\", \"Comments\")) { %&gt;\n  &lt;!-- prvky formuláře --&gt;\n&lt;% } %&gt;</code></pre>\n\n<p>Je to krásná ukázka <a rel=\"bookmark\" title=\"Using pattern\"\nhref=\"/weblog/265-using-pattern.aspx\">užití vzoru\n<code>IDisposable</code></a>, ale do šablony nepatří. Helpery uživát jen\njako dobré koření – po špetkách.</p>\n\n<pre\n><code class=\"language-markup\">&lt;form action='&lt;%= Url.Action(\"Send\", \"Comments\")) %&gt;' method=\"post\"&gt;\n  &lt;!-- prvky formuláře --&gt;\n&lt;/form&gt;</code></pre>\n\n<p>Myslím, že takovýto zápis je mnohem srozumitelnější a přitom dělá\nto samé. Jako bonus můžete ve vašem HTML editoru využívat scope\ncollapsing. Vhodnější by ještě bylo použít helper\n<code>Url.RouteUrl</code>, který hledá routy podle klíče a tudíž je\no dost výkonnější (pokud máte definováno více rout).</p>\n\n<p>Opusťme teď formulář a pokročme k vypisování dat.</p>\n\n<p>Prvním způsobem, jak vypisovat data, je <code>foreach</code>. Je silně\ntypový, což považuju za obrovskou výhodu, a nepřináší overhead\nv podobě instanciování tříd a parsování šablon serverových\novládacích prvků.</p>\n\n<pre\n><code class=\"language-markup\">&lt;ul&gt;\n&lt;% foreach (var user in Model.Users) { %&gt;\n&lt;li&gt;&lt;%= user.Name %&gt;&lt;/li&gt;\n&lt;% } %&gt;\n&lt;/ul&gt;</code></pre>\n\n<p>Tím však jeho možnosti končí. Pokud potřebujeme např. odlišit každou\ndruhou položku, nebo vypsat něco jiného, pokud nejsou žádná data, musíme\nkód znepřehledňovat, nebo zvolit jiné řešení. Philův repeater už jsem\nzmiňoval. Další možností je využít <code>asp:Repeater</code> nebo\n<code>mvc:Repeater</code>. Ani jeden mi nevyhovuje. První se musí nějak\nnalít daty a pak s nimi svázat (nutnost codebehind nebo script runat=server),\ndruhý zase pracuje s ViewData slovníkem a evalováním. Takže nezbývá než\nsi napsat vlastní.</p>\n\n<h3 id=\"toc-silne-typovy-repeater-v-asp-net-mvc\">Silně typový repeater\nv ASP.NET MVC</h3>\n\n<p>Základem je jednoduchá myšlenka. Použít <code>MvcControl</code>\nz futures a view model opatřit kontrakty.</p>\n\n<pre\n><code class=\"language-csharp\">public interface IHaveUsers {\n  IEnumerable&lt;User&gt; Users { get; }\n}\n\npublic class UsersListViewData : IHaveUsers {\n  public IEnumerable&lt;User&gt; Users { get; set; }\n  // další vlastnosti view modelu\n}</code></pre>\n\n<p>Zavedli jsme si view model třídu, která se nejspíš bude posílat na\npohled <strong>Index</strong> řadičem <strong>UsersController</strong>.\nMožná. Každopádně jsme si zavedli jednoduchou abstrakci a možnost\nznovupoužití v podobě rozhranní <code>IHaveUsers</code>. Snad\nmůžeme dál.</p>\n\n<pre\n><code class=\"language-csharp\">using Microsoft.Web.Mvc;\nusing Rarous.Web.UI;\n\n[ParseChildren(true)]\npublic partial class UsersRepeater : MvcControl, ILayoutTemplateable {\n\n  [DefaultValue(typeof(ITemplate), \"\")]\n  [PersistenceMode(PersistenceMode.InnerProperty)]\n  [TemplateContainer(typeof(IGenericContainer&lt;User&gt;))]\n  [TemplateInstance(TemplateInstance.Multiple)]\n  public ITemplate ItemTemplate { get; set; }\n\n  [DefaultValue(typeof(ITemplate), \"\")]\n  [PersistenceMode(PersistenceMode.InnerProperty)]\n  [TemplateContainer(typeof(IGenericContainer&lt;User&gt;))]\n  [TemplateInstance(TemplateInstance.Multiple)]\n  public ITemplate AlternatingItemTemplate { get; set; }\n\n  [DefaultValue(typeof(ITemplate), \"\")]\n  [PersistenceMode(PersistenceMode.InnerProperty)]\n  [TemplateContainer(typeof(INamingContainer))]\n  [TemplateInstance(TemplateInstance.Multiple)]\n  public ITemplate SeparatorTemplate { get; set; }\n\n  public string LayoutContainerId { get; set; }\n\n  [DefaultValue(typeof(ITemplate), \"\")]\n  [PersistenceMode(PersistenceMode.InnerProperty)]\n  [TemplateContainer(typeof(INamingContainer))]\n  [TemplateInstance(TemplateInstance.Single)]\n  public ITemplate LayoutTemplate { get; set; }\n}</code></pre>\n\n<p>Podědili jsme si MvcControl, který mimo jiné zpřístupňuje\n<code>ViewData</code>, a implementovali nějaké šablony.</p>\n\n<pre\n><code class=\"language-csharp\">public partial class UsersRepeater {\n  private class UsersViewDataFetcher {\n    public IEnumerable&lt;User&gt; GetUsers(object model) {\n      var result = model as IHaveUsers;\n      if (result != null) {\n        return result.Users;\n      }\n      return null;\n    }\n  }\n}</code></pre>\n\n<p>Jednoduchý helper pro získávání dat z modelu. Zkouší využít\nkontraktu <code>IHaveUsers</code>, který jsme si zavedli výše, k získání\ndat z modelu. Zde je místo pro budoucí rozšíření o další možné\nzdroje. Pokud nic nenajdeme, vrátíme <code>null</code>.</p>\n\n<pre\n><code class=\"language-csharp\">public partial class UsersRepeater {\n  protected override void OnPreRender(EventArgs e) {\n    base.OnPreRender(e);\n\n    var fetcher = new UsersViewDataFetcher(ViewData.Model);\n    var users = fetcher.GetUsers();\n    if (users == null) {\n      return; // nebo verenderovat NoDataTemplete\n    }\n\n    Controls.Clear();\n\n    Control layoutContainer = TemplatingHelper.CreateLayoutContainer(this, this) ?? this;\n\n    var iterator = new ItemsIterator&lt;User&gt;(users);\n    foreach (var user in iterator.Iterate()) {\n      if (iterator.IsFirst == false) {\n        TemplatingHelper.Instantiate(new EmptyContainer(), SeparatorTemplate, layoutContainer);\n      }\n      ITemplate template = iterator.IsAlternate ? AlternatingItemTemplate ?? ItemTemplate : ItemTemplate;\n      TemplatingHelper.Instantiate(new GenericContainer&lt;User&gt;(user), template, layoutContainer);\n    }\n\n    layoutContainer.DataBind();\n  }\n}</code></pre>\n\n<p>Nakonec přepíšeme metodu <code>OnPreRender</code>, ve které získaná\ndata proměníme pomocí šablon na výstupní kód. Používám zde spoustu\nvěcí, které jsem <a rel=\"bookmark\" title=\"Generický kontejner a repeater\"\nhref=\"/weblog/278-genericky-kontejner-a-repeater.aspx\">použil již dříve</a>.\nJedinou novinkou je třída <code>ItemsIterator</code>, která zaobaluje logiku,\npro zjišťování, zda jde o první prvek, alternativní prvek a počítá\naktuální index prvku.</p>\n\n<pre\n><code class=\"language-csharp\">public class ItemsIterator&lt;T&gt; {\n\n  private readonly IEnumerable&lt;T&gt; _items;\n\n  public ItemsIterator(IEnumerable&lt;T&gt; items)\n    : this(items, 0) {\n  }\n\n  public ItemsIterator(IEnumerable&lt;T&gt; items, int firstIndex) {\n    _items = items;\n    IsFirst = true;\n    IsAlternate = false;\n    CurrentIndex = firstIndex;\n  }\n\n  public bool IsFirst { get; private set; }\n  public bool IsAlternate { get; private set; }\n  public int CurrentIndex { get; private set; }\n\n  public IEnumerable&lt;T&gt; Iterate() {\n    foreach (var item in _items) {\n      yield return item;\n      IsFirst = false;\n      IsAlternate = !IsAlternate;\n      CurrentIndex++;\n    }\n  }\n}</code></pre>\n\n<p>Jednoduchá věcička, která je určená k eliminaci otrocky\nopakovaného kódu.</p>\n\n<p>Užití takového repeateru je pak jednoduché:</p>\n\n<pre\n><code class=\"language-markup\">&lt;rarous:UsersRepeater runat=\"server\" LayoutContainerId=\"UsersPlaceHolder\"&gt;\n  &lt;LayoutTemplate&gt;\n    &lt;ul&gt;\n      &lt;asp:PlaceHolder ID=\"UsersPlaceHolder\" runat=\"server\"/&gt;\n    &lt;/ul&gt;\n  &lt;/LayoutTemplate&gt;\n  &lt;ItemTemplate&gt;\n    &lt;li&gt;&lt;%# Container.DataItem.Name %&gt;&lt;/li&gt;\n  &lt;/ItemTmplate&gt;\n&lt;/rarous:UsersRepeater&gt;</code></pre>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p>Snažil jsem se sdělit svůj názor, že v šablonách by mělo být jen\ntolik programového kódu, kolik je nezbytně nutné. Zároveň se držet\nzásady jediné zodpovědnosti tříd a znuvupoužitelnosti s využitím\ngenerického pomocníka pro iteraci a kontraktů ve view modelu. Zároveň\nmaximálně využít kód, který jsem už psal v předchozích spotech. Je\nmožné, že jsem nepoužil dostatečně kvalitní názvy tříd nebo metod,\npřipomínky klidně piště i k nim.</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a rel=\"bookmark\" title=\"Serverové ovládací prvky v ASP.NET MVC\"\n\t\thref=\"/weblog/349-serverove-ovladaci-prvky-v-asp-net-mvc.aspx\">Serverové\n\t\tovládací prvky v ASP.NET MVC</a></li>\n\n\t\t<li><a rel=\"bookmark\" title=\"Generický kontejner a repeater\"\n\t\thref=\"/weblog/278-genericky-kontejner-a-repeater.aspx\">Generický kontejner a\n\t\trepeater</a></li>\n\n\t\t<li><a rel=\"bookmark\" title=\"Using pattern\"\n\t\thref=\"/weblog/265-using-pattern.aspx\">Using pattern</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-03-29T19:20:52.337-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vlastní serverové ovládací prvky v ASP.NET MVC",
  :published #inst "2009-03-29T10:32:54.430-00:00",
  :url "vlastni-serverove-ovladaci-prvky-v-asp-net-mvc",
  :category-url "webdesign.aspx",
  :id 355,
  :description
  "Povídání o tom, jak zlepšit čitelnost vašich šablon za pomocí serverových ovládacích prvků.",
  :category "Webdesign",
  :tags ["repeater" "genericcontainer" "mvc" "aspnet"]},
 :290-testovani-httpcontextu.aspx
 {:html
  "\n<p>Píšu nějaké podpůrné třídy pro naše nové projekty a zrovna jsem\nu utilitek pro webové aplikace. Teď jsem se dostal k jedné třídě, která\nvolá <code>HttpContext.Current</code> ve statických metodách. Chci na to\nnapsat testy, jenže jak mám podstrčit HttpContext?</p>\n\n<p>Řešení je nakonec jednodušší než jsem čekal…</p>\n\n<pre\n><code class=\"language-csharp\">public static void CreateContext() {\n  CallContext.HostContext = new HttpContext(\n    new HttpRequest(\"default.aspx\", \"http://rarous.net/\", \"test1=test\"),\n    new HttpResponse(new StringWriter())\n  );\n}</code></pre>\n\n<p>Stačí zavolat tuto metodu, kterou se do threadu nastaví podvržený\nkontext a můžete směle testovat. :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:12:03.240-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Testování HttpContextu",
  :published #inst "2008-07-25T13:56:07.123-00:00",
  :url "testovani-httpcontextu",
  :category-url "asp-net-2-0.aspx",
  :id 290,
  :description
  "Jak otestovat věci, které volají HttpContext.Current aniž bychom spouštělí nějaký HttpRuntime?",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "unittesting"]},
 :288-konec-dobry-vsechno-dobre.aspx
 {:html
  "\n<p>Je tomu téměř 28 měsíců, co jsem nastoupil do Atlasu. Tuto událost\njsem oznámil tady na blogu spotem <a href=\"/weblog/115-rarous-v-atlasu.aspx\"\ntitle=\"Rarouš v Atlasu\">Rarouš v Atlasu</a>. Atlas byl mé první\nzaměstnání, nastupoval jsem do něj přímo za školy. Tímto chci Pájovi a\nRenému poděkovat za důvěru a šanci, kterou mi dali.</p>\n\n<p>Za ty více než dva roky jsem poznal spoustu skvělých lidí, kteří byli\nvíce než kolegy z práce. Atlas byl něco jako rodina. Ne vždy to bylo\nrůžové, ale takový je život. V průběhu svého působení jsem\nvystřídal několik produktů. Začínal jsem odblešováním <a\nhref=\"http://pokec.atlas.cz/\">Pokecu</a>. V tomto období se mě Honza rozhodl\npřidat mezi zdroje <a href=\"http://www.w3blogy.cz/\">W3Blogy.cz</a>,\npodotýkám, že proti mé vůli :D. Dalším úkolem bylo napsat importovací\nrozhraní pro Atlasí redakci. Následovala neslavná úprava <a\nhref=\"http://profil.atlas.cz/\">Registrace</a>, dovolená na Krétě, první <a\nhref=\"/weblog/193-team-building.aspx\">Teambuilding</a> a hektická příprava\nAtlas Checku.</p>\n\n<h3 id=\"toc-atlas-opus\">Atlas.Opus</h3>\n\n<p>V té době (listopad 2006) se už vymýšlel koncept Opusu, já jsem\nvždycky přisedával poblíž a poslouchal, o co jde. Nakonec jsem se dostal\ndo týmu interních systémů a katalogu, ve kterém jsem byl dosud. Opus mělo\nbýt řešení, které nahradí několik interních systémů, které už byly\ntěžko udržovatelné a málo kdo do nich viděl. V podstatě to\n<del>byla</del> <ins>je</ins> stromová atributová databáze\ns definovatelnými typy vč. dědičnosti a tzv. rozhraní. Velice zajímavý\nprojekt, na kterém jsem získal spoustu zkušeností.</p>\n\n<p>Mým hlavním úkolem bylo vytvořit nad Opusem katalogy. Prvním projektem\nbyla <a href=\"http://firmy.atlas.cz/registrace/\">registrace do Atlasu Firem</a>,\ntak trošku marketingově uspěchaná věc, která díky špatným rozhodnutím\nztratila svůj efekt. Ta se spouštěla, tuším, někdy v březnu\n2007. V červenci se pak pustili „malé katalogy“ <a\nhref=\"http://obchody.atlas.cz/\">Obchody</a> a <a\nhref=\"http://sex.atlas.cz/\">Sex</a>. V září se spouštěla první verze <a\nhref=\"http://katalog.atlas.cz/\">velkého katalogu</a>, která ještě z části\ntahala data ze staré databáze (placené zápisy) a z části z nové\n(bezplatné). Dalším krokem v migraci, bylo napsat administrační rozhraní\npro obchodníky, aby mohli v Opusu prodávat a zbavili jsme se tak\nFirmátoru.</p>\n\n<p>Ke konci roku jsme měli připravené rozhraní pro testování a v březnu\njsme migrovali poslední placené zápisy do nového systému. V plánu byl\ndalší rozvoj, částečné přebírání některé funkcionality SalesModulu,\nkterý měl být nahrazen CRM řešením, a další zajímavé služby. Ale pak\npřišlo spojeno.cz…</p>\n\n<h3 id=\"toc-odpojeni-cz\">Odpojeni.cz</h3>\n\n<p>Nastala doba chaosu, různých jednání a tak. Postupem času se ukazovalo,\nže v takovéto firmě už dál pracovat nechci. Podobného názoru jsem nebyl\nsám a tak vzniklo <a href=\"http://www.odpojeni.cz/\">Odpojeni.cz</a>. Spoustu\nodborných komentářů k této události si jistě dokážete dohledat na\nLupě a Živě sami. :) Je až k nevíře, jak se nám to všechno pěkně\npodařilo na těch woknech naklikat. :)</p>\n\n<p>Pomalu jsem se tedy proklikal k závěru. Co napsat? Za posledních pár\nměsíců se ze mě stal téměř alkoholik, profesionální hráč Call of\nDuty, filtr Centráckého spamu (ty lidi si na mejlech fakt ujížděj),\nsabotér, rebelant a já nevím co ještě – jo vlastně, jo měl jsem\ni víc času blogovat… Určitě to všechno byly zkušenosti k nezaplacení\na já už se těším na ty nové, v příštím zaměstnání, kam nastupuju\nv úterý společně s většinou Atlasího vývoje a slečnou Veronikou. :P\nDržte mi palce.</p>\n\n<p>Ich komme!</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:13:22.943-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Konec dobrý, všechno dobré!",
  :published #inst "2008-06-27T11:13:06.557-00:00",
  :url "konec-dobry-vsechno-dobre",
  :category-url "jen-tak.aspx",
  :id 288,
  :description
  "Je tomu téměř 28 měsíců, co jsem nastoupil do Atlasu. Atlas byl mé první zaměstnání, nastupoval jsem do něj přímo za školy. Tímto chci Pájovi a Renému poděkovat za důvěru a šanci, kterou mi dali.",
  :category "Jen tak",
  :tags ["atlas" "opus" "odpojeni" "twareg"]},
 :207-novinky-v-texy-net.aspx
 {:html
  "\n<p>Není tajemstvím, že pracuju na Texy.net, což je komponenta, která\numožňuje používat <a href=\"http://www.texy.info/\">Texy!</a> i na platformě\n.net. Tento článek by měl poodhalit jak bude vypadat příští verze, na\nkteré momentálně pracuji.</p>\n\n<ol>\n\t<li>Změna namespace z <code>Rarous.Texy</code> na <code>Rarous.TexyNet</code>.\n\tDůvodů mám hned několik. Zapré to lépe reflektuje název produktu,\n\tzadruhé bude smysluplnější kód při volání hlavní třídy\n\t<code>Rarous.TexyNet.Texy</code> než ten dosavadní v RC1\n\t<code>Rarous.Texy.Texy</code>.</li>\n\n\t<li><img src=\"/data/obrazky/logo-texy-small.gif\" class=\"right\" alt=\"logo\" />\n\tLogo :) Logo Texy.net vychází z nového ještě více sexy loga Texy2.</li>\n\n\t<li>Vlastní stránky poběží na adrese <a\n\thref=\"http://www.gryphoon.net/texy/\">www.gryphoon.net/texy/</a>, protože\n\tTexy.net je nedílnou součástí Gryphoonu. Pravděpodobně poběží\n\ti wiki.</li>\n\n\t<li>Deklarativní konfigurace zůstane zachována a pravděpodobně bude ještě\n\trozšířena o nové možnosti.</li>\n\n\t<li>Texy.net už nebude jen XML-RPC wrapper, ale pomocí provider modelu bude\n\tjednotným API pro několik možných poskytovatelů Texy! v dotnetu. Na tuto\n\tmyšlenku mě navedl <a href=\"http://tomasp.net/\">Tomáš Petříček</a> se\n\tsvým pokusem zkompilovat <a href=\"http://tomasp.net/blog/aspnettexy.aspx\">Texy!\n\tve Phalangeru</a>. Díky Texy.net a PhalangerProvideru bude použití Texy!\n\tvíce dotnetovské a sexy :) Další provider bude pro <a\n\thref=\"/weblog/64-texy-web-service-ws.aspx\">Texy-WS přes SOAP</a> apod. Každý\n\tsi bude moci vybrat, co mu více vyhovuje.</li>\n\n\t<li>Rád bych dotáhl dokumentaci do kvalitnější formy, jen ještě nevím\n\tzda ji celou ponechat v MSDN like stylu nebo na wiki.</li>\n\n\t<li>Dá-li <a href=\"http://www.dgx.cz/\">DGX</a>, bude nová verze používat\n\tTexy2, přinejmenším v XML-RPC.</li>\n</ol>\n\n<h3 id=\"toc-souvisejici\">Související</h3>\n\n<ul>\n\t<li><a href=\"/weblog/196-texy-net-release-candidate.aspx\">Texy.net RC1</a></li>\n\n\t<li><a href=\"/weblog/64-texy-web-service-ws.aspx\">Texy-WS</a></li>\n\n\t<li><a href=\"http://www.texy.info/\">Texy!</a></li>\n\n\t<li><a href=\"http://www.dgx.cz/trine/item/paradni-texy-nastroje\">Parádní Texy\n\tnástroje</a></li>\n\n\t<li><a href=\"http://tomasp.net/blog/aspnettexy.aspx\">Compiling Texy! with\n\tPhalanger</a></li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:39:42.693-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Novinky v Texy.net",
  :published #inst "2007-05-05T09:06:29.393-00:00",
  :url "novinky-v-texy-net",
  :category-url "asp-net-2-0.aspx",
  :id 207,
  :description
  "Není tajemstvím, že pracuju na Texy.net, což je komponenta, která umožňuje používat Texy! i na platformě .net. Tento článek by měl poodhalit jak bude vypadat příští verze, na které momentálně pracuji.",
  :category "ASP.NET 2.0",
  :tags ["texynet" "texy" "phalanger"]},
 :74-microsoft-expression.aspx
 {:html
  "\n<p>Microsoft připravuje novou <a\nhref=\"http://www.microsoft.com/products/expression/en/default.aspx\">sadu\ngrafických nástrojů</a>. Nástroje budou postaveny na <em>Windows\nPresentation Foundation</em> a budou vstupovat na bitevní pole, kde je již\nnyní „tvrdá konkurence.“ Vlastně zas tak horké to není, protože <a\nhref=\"http://www.adobe.com/\">Adobe</a> koupilo Macromedii, čímž se\nkonkurenční boj značně scvrknul :)</p>\n\n<p>Prvním z rodiny je produkt s kódovým označením <strong>Acrylic Graphic\nDesigner</strong>. Tento produkt se chce poměřovat s Photoshopem a jemu\npodobnými nástroji. S tímto programem mám i osobní zkušenosti, protože\nmám nainstalovanou jednu z betaverzí (build 684). Samozřejmě podporuje\npráci ve vrstvách a vrstvy rozlišuje na bitmapové a vektorové. Prostředí\nprogramu je klasické s plovoucími nástrojovými lištami a nabídkami\nvlastností. Pro mě, uživatele Fireworksů, toto chování moc nevyhovuje, ale\nčlověk si na něj po chvilce práce zvykne a za čas mu i přijde intuitivní\n:) Tento nástroj je tedy určen pro předtiskovou přípravu a pro přípravu\ngrafiky pro web – tady osobně nedám dopustit na <a\nhref=\"http://www.macromedia.com/software/fireworks/\">Fireworks</a>.</p>\n\n<p>Druhým členem nové rodiny je produkt s kódovým označením\n<strong>Sparkle Interactive Designer</strong>. Tento produkt se pro změnu\nstaví do závodu na startovní čáře vedle Flashe. Uživatelské prostředí\nvychází z Acryliku s nutnými rozšířeními pro tvorbu animované grafiky.\nSamozřejmě bude Sparkl umět importovat věci z Acryliku.</p>\n\n<p>Třetím produktem je, podle mě, pecka, která nemá obdoby a pokud se\nMicrosoft opravdu povede, co slibuje, bude tu nástroj, po kterém musí\nzatoužit snad každý webdesignér. Jedná se o produkt s označením\n<strong>Quartz Web Designer</strong>. Tento nástroj slibuje intuitivní práci\ns <acronym title=\"Cascading StyleSheet\">CSS</acronym> ve <acronym\ntitle=\"What I See Is What I Get\">WISIWIG</acronym> režimu, včetně\npozicování, nastavování marginů a paddingů. Výstupem by měl být kód\nsplňující normy <a href=\"http://www.w3.org\"\ntitle=\"World Wide Web Consortium\">W3C</a>. S CSS to ale nekončí! Wed Designer\nby měl plně podporovat <acronym\ntitle=\"Extensible Markup Language\">XML</acronym> a pravděpodobně, by v něm\nměly jít jednoduše generovat <acronym title=\"XML Schema\">XSD</acronym>\nschémata a <acronym title=\"Extensible Stylesheet Language\">XSL</acronym>\ntransformace, ale tady si nejsem moc jistý, jestli jsem špatně nepochopil\nukázkový materiál. Třešničkou na dortu je codeless DataBinding a podpora\n<a href=\"http://asp.net/\">ASP.NET</a> 2.</p>\n\n<p>Nová produktová řada na mě působí celkem uceleně a pokrývá potřeby\nsoučasných webdesignérů. Osobně se těším na produkt s označením\n<em>Quartz</em>…</p>\n\n<!-- by Texy2! -->",
  :keywords "Microsoft Acrylic Sparkle Quartz CSS XML ASP.NET",
  :edited #inst "2008-04-19T19:43:10.120-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Microsoft Expression",
  :published #inst "2005-10-12T13:31:12.000-00:00",
  :url "microsoft-expression",
  :category-url "webdesign.aspx",
  :id 74,
  :description "Microsoft připravuje novou sadu grafických nástrojů.",
  :category "Webdesign",
  :tags []},
 :133-zaciname-s-atlasem-2a.aspx
 {:html
  "\n<p>Možná si říkáte, proč jsem zvolil tak divný nadpis. Odpověď je\nnasnadě, tento článek není slibovaným třetím dílem s praktickou\nukázkou použití Atlasu, ale spíše praktickým doplněním předchozích\ndvou dílů o linky na zajímavé věci ohledně Atlasu. Omlouvám se tedy, že\nnyní neuvedu slibovaný kód, o který samozřejmě nepřijdete – ale\nvyžaduje delší přípravu – a snad vám budou následující řádky\ndostatečnou útěchou…</p>\n\n<p>Začnu horkou novinkou. Právě byla uvolněna <a\nhref=\"http://atlas.asp.net/default.aspx?tabid=47&amp;subtabid=477\">sada\nAtlasích komponent</a>, které by měly usnadnit práci ASP.NET vývojářům\nv obvyklých AJAXových scénářích. Můžete si je i přímo <a\nhref=\"http://atlas.asp.net/atlastoolkit/\">vyzkoušet</a> online. Sada obsahuje\nnásledující komponenty:</p>\n\n<dl>\n\t<dt>CascadingDropDown</dt>\n\n\t<dd>Kaskádní DropDown listy, klasický scénář použití AJAXu.</dd>\n\n\t<dt>CollaspiblePanel</dt>\n\n\t<dd>Sbalovací panely, opět častá věc u různých boxíků.</dd>\n\n\t<dt>ConfirmButton</dt>\n\n\t<dd>Extender, který při aplikaci na některý z Buttonů vyžaduje potvrzení\n\tprovedení akce.</dd>\n\n\t<dt>DragPanel</dt>\n\n\t<dd>Extender, který udělá ze zvoleného boxu, box volně přemisťovatelný\n\tpo stránce. Zatím netuším jaký je rozdíl mezi DragDropExtenderem ze\n\tzákladního balíčku, ale pravděpodobně bude navíc podporovat součinnost\n\tjinými komponentami z AtlasToolkitu.</dd>\n\n\t<dt>HoverMenu</dt>\n\n\t<dd>Popup okýnko s mnohem větší flexibilitou než HoverBehavior na\n\tklientské straně, viz <a\n\thref=\"http://atlas.asp.net/atlastoolkit/HoverMenu/HoverMenu.aspx\">ukázka</a></dd>\n\n\t<dt>PopupControl</dt>\n\n\t<dd>Další popup, tentokrát určený k trochu jiným scénářům, viz <a\n\thref=\"http://atlas.asp.net/atlastoolkit/PopupControl/PopupControl.aspx\">ukázka</a></dd>\n\n\t<dt>ReorderList</dt>\n\n\t<dd>Prvek svázaný s daty, který umožňuje reorganizaci pomocí\n\tpřetahování.</dd>\n\n\t<dt>TextBoxWatermark</dt>\n\n\t<dd>Něco podobného, jako mám v hledacím políčku. Do TextBoxu se vyplní\n\tpředepsaný text např. „Hledaný text“ a po kliknutí do\n\tpolíčka zmizí.</dd>\n\n\t<dt>ToggleButton</dt>\n\n\t<dd>Extender, který změní klasický CheckBox na obrázkový.</dd>\n</dl>\n\n<p>V toolkitu najdete jak ukázky předpřipraveného kódu k okamžitému\npoužití tak i klasickou SDK dokumentaci. To by bylo k žhavé novince zvané\n<a\nhref=\"http://atlas.asp.net/default.aspx?tabid=47&amp;subtabid=477\">AtlasToolkit</a>\na nyní bych se chtěl zaměřit na nástroje, které nám ulehčí práci při\nvývoji AJAXových aplikací, Atlas nevyjímaje.</p>\n\n<h3 id=\"nastroje\">Nástroje</h3>\n\n<p>V první řadě je to kvalitní vývojové prostředí, já doporučuji\nvolně stažitelný <a\nhref=\"http://msdn.microsoft.com/vstudio/express/vwd/default.aspx\">Visual\nWebDeveloper</a>, který je určen pro vývoj ASP.NET 2.0 aplikací, ale je\nvhodný i pro vývoj v Atlasu, sice ještě značně pokulhává Intellisense\npři vývoji JavaScriptu – což mi přijde logické vzhledem k silné\nnetypovosti tohoto jazyka – i při editaci XML-Scriptu – tady zase\nuvažuji o napsání vlastního schématu, který by měl Intellisence\ngenerovat. No vývojáři slibujou, že v nové verzi „Orcas“ bude plná\npodpora vývoje v Atlasu, tak uvidíme.</p>\n\n<p>Nejdůležitějším nástrojem je samotný <a\nhref=\"http://www.microsoft.com/downloads/details.aspx?FamilyId=B01DC501-B3C1-4EC0-93F0-7DAC68D2F787&amp;displaylang=en\">Atlas</a>,\nkterý se po instalaci integruje do Visual WebDeveloperu v podobě šablony\nnového projektu.</p>\n\n<p>Další dobrou pomůckou jsou <a\nhref=\"http://www.nikhilk.net/Project.JSUtils.aspx\">JS Utils</a> přidávající\ndo JavaScriptu možnosti <em>kompilace</em>. Balíček obsahuje dva nástroje\nJSX2JS a JSA2JS. JSX je tzv. Extended JScript – umožňuje v kódu\npoužívat direktivy preprocesoru vhodné pro ladění kódu i s možností\nodlišování prohlížeče, JSA je JScript Assembly a ta umožňuje navíc\nincludovat další JS a JSX soubory, po kompilaci dojde ke spojení souborů do\njednoho a komprimaci přebytečných bílých znaků. Celé se to dá pomocí\nHttpModulu zaintegrovat do runtime ASP.NET a provádět JIT kompilaci.\nSamozřejmě kompilaci nepravou.</p>\n\n<p>Pokud používáte MSIE, bude pro vás nepostradatelný <a\nhref=\"http://www.nikhilk.net/Project.WebDevHelper.aspx\">Web Developer\nHepler</a>, který přidá do prohlížeče možnosti debugování JS kódu,\nlogování provozu na HTTP, DOM inspektor, informace o stránce, requesty a\nnávraty dat apod. Pokud ladíte ASP.NET na localhostu podporuje WDH\ntraceování, prohlížení ViewState a mnoho dalšího. Hodně užitečné.\nDalší pomůckou je <a\nhref=\"http://www.microsoft.com/downloads/details.aspx?familyid=E59C3964-672D-4511-BB3E-2D5E1DB91038&amp;displaylang=en\">Developer\nToolbar</a>, z dílny vývojářů MSIE.</p>\n\n<p>Pokud používáte Firefox, tak něco podobného umí <a\nhref=\"https://addons.mozilla.org/firefox/1843/\">FireBug</a> a <a\nhref=\"https://addons.mozilla.org/firefox/60/\">WebDeveloper Toolbar</a>.</p>\n\n<p>Pokud používáte Operu, máte asi smůlu, doufám, že jen zatím, Opera\nnení v Atlasu podporovaná.</p>\n\n<p>Pokud používáte Safari, nevím, co bych vám doporučil, nikdy jsem neměl\nmožnost tento prohlížeč vyzkoušet, ale je podporovaný v Atlasu, takže,\nzde by neměl být problém ;)</p>\n\n<h3 id=\"toc-webcasty\">Webcasty</h3>\n\n<p>Dnes je tato forma prezentace velice populární a v Microsoftu\nnezaostávají :)</p>\n\n<ul>\n\t<li>Nikhil Kothari – Představení platformy Atlas a její vize <a\n\thref=\"http://www.microsoft.com/downloads/details.aspx?familyid=5CC5CE52-45B7-4C64-992C-4F0FBC8C8221&amp;displaylang=en\">EXE</a></li>\n\n\t<li>Scott Guthrie – Ukázka vývoje ToDo listu <a\n\thref=\"http://download.microsoft.com/download/8/5/8/85803fdd-fe9a-4783-ab37-e0c565172ffd/asp_net_atlas.wmv\">WMV</a></li>\n\n\t<li>Jonathan Hawkins – Přednáška o Atlasu s diváckými dotazy <a\n\thref=\"http://download.microsoft.com/download/1/3/1/131b8030-b16e-4f75-b197-f7df71811181/ATLAS_Technology%20Preview_2-27-06.wmv\">WMV</a></li>\n</ul>\n\n<h3 id=\"toc-ukazky-kodu-z-mix-06\">Ukázky kódu z MIX 06</h3>\n\n<p><a href=\"http://www.mix06.com/default.aspx?css=226dd03b3\">MIX 06</a> byla\nkonference věnovaná webovému vývoji z pohledu Microsoftu. Krom uvedeni\nBeta2 verze Internet Exploreru 7 zde byla vypuštěna March CTP Atlasu a Atlasu\nsamotnému bylo věnováno hodně prostoru. Zde některé z přednášek a\nzdrojových kódů:</p>\n\n<ul>\n\t<li>Nikhil Kothari <a\n\thref=\"http://www.nikhilk.net/Content/Presentations/MIX06.zip\">ZIP</a></li>\n\n\t<li>Brad Abrams a Rick Spencer <a\n\thref=\"http://download.microsoft.com/download/b/6/0/b607f6f5-2843-4bc1-b41d-1396e33e81f2/DiceRUs.zip\">ZIP</a></li>\n\n\t<li>Shanku Niyogi <a\n\thref=\"http://www.shankun.com/Downloads/MIX_Talk.zip\">ZIP</a></li>\n\n\t<li>Jonathan Hawkins <a\n\thref=\"http://outdoorexplorer.org/atlasmap/atlasmap.zip\">ZIP</a></li>\n</ul>\n\n<p>Doufám, že vám tento článek pomohl najít vhodné nástroje k vývoji\nv Atlasu, či přinesl zajímavé informace ohledně vývoje samotného.\nPříště se už opravdu pustíme do praktické ukázky a jak už jsem\nnaznačoval minule, mělo by jít o RSS čtečku.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T15:31:59.117-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Začínáme s Atlasem 2a",
  :published #inst "2006-04-13T08:08:25.983-00:00",
  :url "zaciname-s-atlasem-2a",
  :category-url "asp-net-2-0.aspx",
  :id 133,
  :description "Pokračování seriálu o Atlasu.",
  :category "ASP.NET 2.0",
  :tags []},
 :271-active-record-vs-repository-pattern.aspx
 {:html
  "\n<p>Dnes se podíváme na dva návrhové vzory z oblasti přístupu k datům,\nkteré používají zcela odlišnou filosofii, ale nakonec si ukážeme, že\njejich kombinací, můžeme získat celkem zajímavé výsledky.</p>\n\n<h3 id=\"toc-active-record\">Active Record</h3>\n\n<p>Návrhový vzor <a\nhref=\"http://www.martinfowler.com/eaaCatalog/activeRecord.html\">Active\nRecord</a> staví na předpokladu, že základem aplikace je databázový model\na od něj se vše odvíjí. Každý řádek tabulky je reprezentován\nkonkrétní instancí objektu. Většinou je takový objekt odvozen od bázové\ntřídy, která implementuje potřebné rozhranní pro persistenci objektu –\ntypicky <acronym title=\"Create, Read, Update, Delete\">CRUD</acronym> metody.</p>\n\n<div><img src=\"/data/obrazky/activerecord.png\" alt=\"Diagram vzoru ActiveRecord\"\n/></div>\n\n<p>Tento vzor se hojně využívá v různých ORM frameworcích. Je\nsoučástí dnes velmi módních frameworků <a\nhref=\"http://wiki.rubyonrails.org/rails/pages/ActiveRecord\">Ruby on Rails</a>,\n<a href=\"http://www.djangoproject.com/documentation/db-api/\">django</a> nebo <a\nhref=\"http://www.castleproject.org/activerecord/index.html\">Castle</a>, které\nna něm stavějí svůj datový model a díky velice snadnému mapování\ndokážete napsat (vygenerovat) kostru databázové aplikace během několika\nmálo minut.</p>\n\n<p>Pro velice jednoduché aplikace může být tento vzor, díky své\njednoduchosti, vhodný. Jenže porušuje několik pravidel dobrého objektového\nnávrhu (persistence ignorance, <a\nhref=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\">single\nresponsibility</a>, pevně daná bázová třída, atd.).</p>\n\n<h3 id=\"toc-repository\">Repository</h3>\n\n<p>Návrhový vzor Repository je základním kamenem doménou řízeného\nnávrhu. Model aplikace nemá ponětí o tom, jakým způsobem je persistován.\nO to se stará právě Repository. Navíc díky tomu, že se o persistenci\nstará cizí objekt, stačí nám znát pouze jeho rozhranní a v případě\npotřeby ho snadno nahradit jiným.</p>\n\n<div><img src=\"/data/obrazky/repository.png\" alt=\"Diagram vzoru Repository\"\n/></div>\n\n<h3 id=\"toc-kombinace\">Kombinace</h3>\n\n<p>Teď zabrousím do konkrétnějších implementací a to do <a\nhref=\"http://www.castleproject.org/activerecord/index.html\">ActiveRecord</a>\nz projektu Castle. Tako konkrétní implementace je postavená na běhovém\nprostření dotnet a jako svůj základ používá ORM nástroj <a\nhref=\"http://www.hibernate.org/343.html\">NHibernate</a>.</p>\n\n<p>Nejpřímější cesta jak s ním pracovat, je podědit třídu z bázové\ntřídy <code>ActiveRecordBase</code> a označit ji a její vlastnosti\npatřičnými atributy:</p>\n\n<pre\n><code class=\"language-csharp\">[ActiveRecord]\npublic class User : ActiveRecordBase&lt;User&gt; {\n  [PrimaryKey] public int Id { get; set; }\n  [Property] public string Name { get; set; }\n  [Property] public string Email { get; set; }\n  [Property] public string Login { get; set; }\n  [Property] public string Password { get; set; }\n}</code></pre>\n\n<p>A můžeme pracovat. Autoři si však byli vědomi toho, že vzor Active\nRecord nemusí vyhovovat všem a přidali statickou třídu\n<code>ActiveRecordMediator</code>, který dokáže posloužit jako základ pro\nRepository. Třída pak nemusí dědit z <code>ActiveRecordBase</code>:</p>\n\n<pre\n><code class=\"language-csharp\">[ActiveRecord]\npublic class User {\n  [PrimaryKey] public int Id { get; set; }\n  [Property] public string Name { get; set; }\n  [Property] public string Email { get; set; }\n  [Property] public string Login { get; set; }\n  [Property] public string Password { get; set; }\n}\n\npublic class UsersRepository : IRepository&lt;User&gt; {\n  public User Load(int id) {\n    return ActiveRecordMediator&lt;User&gt;.FindByPrimaryKey(id);\n  }\n  public void Save(User obj) {\n    ActiveRecordMediator&lt;User&gt;.Save(obj);\n  }\n  public void Delete(User  obj) {\n    ActiveRecordMediator&lt;User&gt;.Delete(obj);\n  }\n}</code></pre>\n\n<p>To už je o něco lepší, ale stále máme v aplikačním modelu silnou\nvazbu na datový model. Můžeme se posunout o level dál a zkombinovat oba\nvzory tak, abychom z nich vytěžili co nejvíce. Základní myšlenkou je to,\nže v aplikaci budeme mít jak datový model, tak doménový. Datový model se\nbude pomocí Active Record starat o persistenci a Repository poslouží\nk transformaci doménového modelu na ten datový.</p>\n\n<p>Něco podobného můžete najít v <a\nhref=\"http://blog.wekeroad.com/mvc-storefront/mvcstore-part-10/\">seriálu</a>,\nkterý píše Rob Conery, kde používá zjednodušenou Repository,\n<code>IQueryable</code> jako filtry a LINQ2SQL jako datový model. Velice\nzajímavé, doporučuji ke shlédnutí.</p>\n\n<p>Tagy: <a rel=\"tag\"\nhref=\"http://technorati.com/tag/activerecord\">ActiveRecord</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/repository\">Repository</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/orm\">ORM</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:26:52.517-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Active Record vs. Repository pattern",
  :published #inst "2008-05-21T12:38:25.493-00:00",
  :url "active-record-vs-repository-pattern",
  :category-url "asp-net-2-0.aspx",
  :id 271,
  :description
  "Dnes se podíváme na dva návrhové vzory z oblasti přístupu k datům, které používají zcela odlišnou filosofii, ale nakonec si ukážeme, že jejich kombinací, můžeme získat celkem zajímavé výsledky.",
  :category "ASP.NET 2.0",
  :tags ["activerecord" "castle" "repository" "patterns"]},
 :455-mikrosluzby.aspx
 {:html
  "\n<p>Máme tu jedinečnou příležitost definovat si\n<strong>Mikroslužby</strong> ne v&nbsp;tom, co nejsou, ale v&nbsp;tom co&nbsp;jsou.</p>\n\n<p>Tohle je má definice.</p>\n\n<h3 id=\"toc-definice\">Definice</h3>\n\n<p><strong>Mikroslužba</strong> je <strong>oddělený izolovaný</strong> a\n<strong>pojmenovaný</strong> kus logiky, který konzumuje 0..N vstupů a\nprodukuje 0..N výstupů, který je <strong>vykonaný</strong> za účelem\npřinést konzumentovi nějakou výhodu. Toto je poskytováno jako služba.</p>\n\n<h3 id=\"toc-diskretni\">Oddělená</h3>\n\n<p>Důvodem, proč to nazýváme Mikroslužbou a ne Službou, není počet\nřádek, který je menší než N, nebo velikost nasazované služby, která je\nmaximálně N kilobajtů nebo žádná jiná libovolná metrika. Tím důvodem\nje nízký počet zodpovědností: jedna. <em>Dělá to jen jednu věc a tu\ndělá skvěle.</em></p>\n\n<h3 id=\"toc-izolovana\">Izolovaná</h3>\n\n<p>Izolovaná znamená, že funguje odděleně od ostatních věcí, což z&nbsp;ní\ndělá <em>distribuovanou entitu.</em> Nezáleží na tom, kde konkrétně\nleží fyzický hardware nebo na jakém OS to běží. Pokud to spadne,\nzůstává to v&nbsp;izolaci. Předchází se tak kaskádovému šíření chyby.\nNavíc nám to umožňuje snadno vyvíjet a aktualizovat službu\nsamostatně.</p>\n\n<h3 id=\"toc-pojmenovana\">Pojmenovaná</h3>\n\n<p>Jelikož jsou Mikroslužby izolované, potřebujeme na ně nějakým\nzpůsobem odkazovat. Jméno v&nbsp;kombinaci se vstupy a výstupy\n<strong>Mikroslužby</strong> nám definují signaturu nebo identifikátor\n<strong>Mikroslužby</strong>.</p>\n\n<h3 id=\"toc-vstupy-a-vystupy\">Vstupy a výstupy</h3>\n\n<p>Pokud máme jazyk, který podporuje typové informace, vstupy a výstupy\nmohou být typové. Tyto typy by měly být reflektovány při manipulaci. Což\nznamená, že konzument služby by měl znát, co služba přijímá a co\nposkytuje.</p>\n\n<h3 id=\"toc-vykonani\">Vykonání</h3>\n\n<p>Protože konzument není ten, kdo vykonává logiku Mikroslužby, a\nMikroslužby jsou přirozeně distribuované, volání nesmí konzumenta\nblokovat ve vykonávání jiných operací po dobu výkonu mikroslužby.\nKonzument nesmí být držen jako rukojmí, dokud mikroslužba nevyprodukuje\nsvůj výstup. To znamená, že musejí být vytvořeny takové abstrakce,\nkteré nám umožní Mikroslužby <em>konzumovat asynchronně.</em></p>\n\n<p>Překlad článku <a\nhref=\"http://klangism.tumblr.com/post/80087171446/microservices\">Microservices</a>\nod Viktora Klanga</p>\n\n<!-- by Texy2! -->\n    ",
  :keywords "",
  :edited #inst "2014-03-26T07:00:00.663-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Mikroslužby",
  :published #inst "2014-03-26T07:00:00.663-00:00",
  :url "mikrosluzby",
  :category-url "moje-prace.aspx",
  :id 455,
  :description "Definice mikroslužeb.",
  :category "Moje práce",
  :tags []},
 :56-sluzba-svatky.aspx
 {:html
  "\n<p>Vytvořil jsem jednoduchou webovou službu, která vrací jména\nz&#160;kalendáře. Má dvě metody:</p>\n\n<ol>\n\t<li><a href=\"/ws/svatky.asmx?op=Dnesni\">Dnesni</a> &#8211; vrací aktuální\n\tsvátek k&#160;dnešnímu dni</li>\n\n\t<li><a href=\"/ws/svatky.asmx?op=PodleData\">PodleData</a> &#8211; vrací svátek\n\tk&#160;datumu předávaného parametrem <strong>datum</strong></li>\n</ol>\n\n<p>Jak vidíte jde o&#160;velice jednoduchou službu, která se dotazuje do\ndatabáze svátků. I&#160;přes její jednoduchost jsem narazil na zajímavou\nvěc, o&#160;které jsem dosud netušil, a to, že pokud službu zavoláte\npomocí protokolu HTTP-GET nebo HTTP-POST, tak dojde k&#160;chybě, místo\nvrácení výsledku. Po hodině hledání jsem přišel na to, že ASP.NET\n1.1&#160;a novější maj tyto protokoly pro <acronym title=\"web service\"\nlang=\"en\">WS</acronym> defaultně zablokované. Řešení je ale jednoduché,\nstačí upravit soubor web.config a vše by mělo fungovat, jak má.</p>\n\n<pre><code class=\"language-markup\">&lt;configuration&gt;\n  &lt;system.web&gt;\n\n    &lt;!-- povolení protokolů GET a POST pro WS --&gt;\n    &lt;webservices&gt;\n      &lt;protocols&gt;\n        &lt;add name=\"HttpGet\" /&gt;\n        &lt;add name=\"HttpPost\" /&gt;\n      &lt;/protocols&gt;\n    &lt;/webservices&gt;\n\n  &lt;/system.web&gt;\n&lt;/configuration&gt;</code></pre>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Služba Svátky",
  :published #inst "2005-04-28T10:27:00.000-00:00",
  :url "sluzba-svatky",
  :category-url "webove-sluzby.aspx",
  :id 56,
  :description "",
  :category "Webové služby",
  :tags []},
 :270-zmeny-na-strankach.aspx
 {:html
  "\n<p>První viditelnou změnou je úprava RSS exportu, odedneška se budou\nv hlavním feedu zobrazovat celé články. Pokud chcete v mém feedu\ni nadále pouze perexy, použijte adresu <a\nhref=\"http://feeds.feedburner.com/rarous/weblog\">http://feeds.feedburner.com/rarous/weblog</a>.\nJe to experiment, ve kterém si chci ověřit, jaký vliv to bude mít na\nnávštěvnost – čtenost článků. Druhým důvodem je <a\nhref=\"http://www.technorati.com/\">Technorati</a> – doufám, že tak začne\nindexovat tagy.</p>\n\n<p>V rámci optimalizace výkonu <a href=\"/\">homepage</a> jsem všechny\nagregované feedy hodil do <a href=\"http://www.feedburner.com/\">FeedBurneru</a>,\nkterý jim dokáže nastavit cachovací hlavičky a hlavně ETag, kterej např.\ngoogle nikam nedává. Navíc má mnohem kratší odezvy.</p>\n\n<p>Teď mám na hlavní stránce celkem tři úrovně cachování.</p>\n\n<ol>\n\t<li><em>Veřejné</em>. Stránka má nastavené cahování u klienta a po\n\tcestě na dvě minuty – její rychlejší aktualizaci nečekám a je to\n\tspíš ochrana proti zběsilému refreshování.</li>\n\n\t<li><em>Output cache na serveru</em>. Využívám cachovacího mechanismu\n\tASP.NET a vyredrovaná stránka se na serveru cachuje 5 minut. To má výhodu\n\tv tom, že se posílá odpověď 304, když se obsah nezměnil.</li>\n\n\t<li><em>Cachování agregovaných dat</em>. Když načtu feed, uložím si ho\n\tpod jeho ETagem do cache na 45 minut. Při dalším dotazu se pošle požadavek\n\tHEAD a stáhnou se jen hlavičky. Pokud se změnil ETag, tak ho v cache nenajdu\n\ta musím data načíst GETem.</li>\n</ol>\n\n<p>Myslím, že teď je to celkem účinné, ale stejně ještě přijde časem\njedna změna, kdy se o načítání feedů nebude starat Controller, ale na\npozadí poběží task, který bude agregovat podobně jako služba <a\nhref=\"http://www.weblogy.cz/\">Weblogy.cz</a>.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:27:47.157-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Změny na stránkách",
  :published #inst "2008-05-19T19:28:40.980-00:00",
  :url "zmeny-na-strankach",
  :category-url "moje-prace.aspx",
  :id 270,
  :description
  "Trochu jsem si pohrál s těmahle stránkama. Potunil jsem hlavní stránku a upravil výstup RSS.",
  :category "Moje práce",
  :tags ["caching" "etag" "aspnet"]},
 :218-podivny-operator.aspx
 {:html
  "\n<p>Četl jsem si zdrojáky IronRuby a v deklarcích metod se často objevovalo\npodivné <code>/*!*/</code>. Např.</p>\n\n<pre\n><code class=\"language-csharp\">public RubyConstantAttribute(string/*!*/ name) {\n  if (name == null) throw new ArgumentNullException(\"name\");\n  _name = name;\n}</code></pre>\n\n<p>Nejpve jsem moc nechápal, asi nějaká interní věc (coding style) pro\noznačování něčeho. Kontrakt v ukázce možná napoví, že by parametr\nneměl být <code>null</code>. Ale počkat, něco takového má přeci Spec#,\nNonNullable types. Znáte to ne, v C# 2.0 máme Nullable Value types,\nvyznačují se tím, že za jejich názvem je otazník, např.\n<code>int?</code>. No a Spec# ještě přidává NonNullable Reference types\ns vykřičníkem na konci, např. <code>string!</code>. No jo, ale IronRuby je\npřece napsaná v C#…</p>\n\n<p>Kompilátor Spec# má tu výhodu, že dokáže zkompilovat C# kód.\nA dokonce pokud se Spec# kód mírně poupraví, tak jde naopak snadno\nzkompilovat kompilátorem C#. Nějak se nám to zamotává :). Pokud chcete\nSpec#ový kód zkompilovat v C#, ale nechat ho zkompilovatelný ve Spec#,\nmusíte použít speciální komentáře <code>//^</code> pro jednu řádku,\n<code>/*^ ^*/</code> pro blok. A ještě je tu jedna výjimka a to právě\nu toho vykřičníku. <code>/*!*/</code> je zkrácenou verzí\n<code>/*^!^*/</code>. A jsme doma…</p>\n\n<p>Snad se dočkáme Spec#ových vychytávek v nějaké přístí verzi C#,\ntřeba v té čtvrté. Protože předchozí ukázka by mohla vypada odost\nuhlazeněji:</p>\n\n<pre\n><code class=\"language-csharp\">public RubyConstantAttribute(string! name) {\n  _name = name;\n}</code></pre>\n\n<p>a výsledek je stejný.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:30:59.110-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Podivný operátor /*!*/",
  :published #inst "2007-07-28T15:58:35.890-00:00",
  :url "podivny-operator",
  :category-url "asp-net-2-0.aspx",
  :id 218,
  :description
  "Četl jsem si zdrojáky IronRuby a v deklarcích metod se často objevovalo podivné /*!*/. Co to asi je?",
  :category "ASP.NET 2.0",
  :tags ["specsharp" "csharp" "ironruby"]},
 :29-pisky-sute.aspx
 {:html
  "\n<p>Právě jsem pověsil aktualizaci stránek <a\nhref=\"http://www.pisky-sute.cz/\">Písky, sutě</a> na web. Zároveň jsem\nprovedl registraci na seznamu, snad se brzo zaindexuje a bude mít dobrý\nživot. V semestru mi snad i zbyde trochu času, abych vytvořil nějakej\ndesign.</p>\n\n<p>Tak tfuj, tfuj, tfuj, ať si tě Googlebot brzo najde…</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:50:05.953-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Písky sutě",
  :published #inst "2004-08-26T20:00:00.000-00:00",
  :url "pisky-sute",
  :category-url "moje-prace.aspx",
  :id 29,
  :description "",
  :category "Moje práce",
  :tags []},
 :246-deklarativne-nebo-sablonove.aspx
 {:html
  "\n<p>Kolega <strong>Tragéd</strong> mi v komentáři k <a\nhref=\"/weblog/245-nforms-pro-asp-net.aspx\">minulému článku</a> sdělil, že\nmoje ukázka je zoufalá. Já s ním tak trochu souhlasím, ale\nne úplně.</p>\n\n<p>Spousta kolegů píšících v ASP.NET má za zlatou krávu deklarativní\nzápis všeho možného do ASPX stránky. I já býval takový. Když jsem\nviděl někde v kódu <code>&lt;% %&gt;</code>, říkal jsem si fůj. Jenže\ns postupem času se toho člověk celkem hodně naučí. A začne přicházet\nna to, že ne vždycky je deklarativní zápis to pravé ořechové.</p>\n\n<p>Vezměme si jako příklad jednoduchý <code>Repeater</code>. To je kontrol\npro cyklický výpis dat. Vrazí se mu cokoli, co implementuje\n<code>IEnumerable</code> nebo je to <code>DataTable</code>, a on to hezky\nřádek po řádku vyplivne na stránku.</p>\n\n<pre\n><code class=\"language-markup\">&lt;asp:Repeater runat=\"server\" DataSource=\"&lt;%# \"jedna dvě tři\".Split(' ') %&gt;\"&gt;\n  &lt;ItemTemplate&gt;&lt;span&gt;&lt;%# Container.DataItem %&gt;&lt;/span&gt;&lt;/ItemTemplate&gt;\n&lt;/asp:Repeater&gt;</code></pre>\n\n<p>Pak člověku přijde na mysl, v čem je předchozí kus kódu lepší než\nten následující?</p>\n\n<pre\n><code class=\"language-markup\">&lt;% foreach(string item in \"jedna dvě tři\".Split(' ')) { %&gt;\n&lt;span&gt;&lt;%= item %&gt;&lt;/span&gt;\n&lt;% } %&gt;</code></pre>\n\n<p>Já vím, je zoufalej, ale proč? Dělá to samé. A troufnu si tvrdit, že\nje přehlednější a o něco výkonnější. Sice jsem to nijak neměřil, ale\njiž z podstaty, že nemusím parsovat XML Reapeatru, nemusím instanciovat\ndalší třídu <code>Reapeater</code>, projít jejím životním cyklem,\ndatabindingem atd.</p>\n\n<p>Vezměte si dál třeba nějakej deklerativní datasource. Třeba ten\nSqlDataSource, hned porušujete dobré mravy. Stránka by vůbec neměla\no nějakém SQLu nic vědět. To patří do úplně jiné vrstvy aplikace.\nNetvrdím, že je to úplně špatně. Každej ať si dodržuje svoji štábní\nkulturu.</p>\n\n<p>Dobré na těch dvou ukázkách je to, že si mohu vybrat, který způsob mi\nvíc vyhovuje. Špatné je to, když někdo přes plot křičí, že to co já\npoužívám, je zoufalost a že bych se měl zařadit zpátky mezi pravověrné\nDeklarativisty. Nikdy. Vždycky radši přemýšlej, co je pro daný scénář\nvýhodnější. Mám projekt kde jedna stránka je psaná „postaru“ a\ndalší používaj sadu deklarativní komponent. A je to tak v pořádku.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:46:15.650-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Deklarativně nebo šablonově?",
  :published #inst "2007-12-30T18:02:12.583-00:00",
  :url "deklarativne-nebo-sablonove",
  :category-url "asp-net-2-0.aspx",
  :id 246,
  :description
  "Kolega Tragéd mi v komentáři k minulému článku sdělil, že moje ukázka je zoufalá. Já s ním tak trochu souhlasím, ale ne úplně.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "templates"]},
 :166-eai.aspx
 {:html
  "\n<p>Extravagantní arogantní introvert.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-07-16T23:07:46.513-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "EAI",
  :published #inst "2006-07-16T23:07:46.313-00:00",
  :url "eai",
  :category-url "jen-tak.aspx",
  :id 166,
  :description "",
  :category "Jen tak",
  :tags []},
 :1-vitejte.aspx
 {:html
  "\n<p>Tak po týdnu jsem konečně dokončil práce na rozšiřování mého\nredakčního systému Gryphoon pro potřeby blogu. Oproti minulé verzi\npřibyla možnost komentovat příspěvky, může přispívat více autorů,\nvytvořil jsem archiv článků a dodělal další drobnosti. Ještě mi\nzbývá udělat pořádný editor příspěvků a rozšířit možnosti editoru\nkomentářů.</p>\n\n<p>Mám přislíbenu spoluúčast mých kamarádů na obsahu blogu, takže by se\nzde měly objevit pestřejší témata, než jen ta má. Tak přeji nám hodně\nštěstí a ať se staneme pro pár lidí oblíbenými.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vítejte",
  :published #inst "2004-02-14T10:00:00.000-00:00",
  :url "vitejte",
  :category-url "gryphoon.aspx",
  :id 1,
  :description "Připoutejte se, začínáme.",
  :category "Gryphoon",
  :tags []},
 :100-zima-v-plnem-proudu.aspx
 {:html
  "\n<p>Je to tak, ještě pořád žiju :) Důvodů proč jsem dlouho nepsal je\nspousta. Je zima a začalo nám zkouškové období. Nechápu proč je zrovna\nv&#160;tomhle čase, kdy se mi nechce vůbec nic dělat, maximálně si\nzajezdit na skybobu nebo prohazovat sníh. Na školu nemám ani pomyšlení,\nale asi budu muset. Je to se mnou dost nahnutý, přesto si z&#160;toho nic\nnedělám&#8230; Nechápu sám sebe :)</p>\n\n<p>Poslední tři tejdny jsem věnoval přípravám, provádění a\ndokončování výroční valné hromady <a\nhref=\"http://druzcov.wz.cz/sdh/\">našeho SDH</a>. Jak už jsem <a\nhref=\"/clanek.aspx/3/mimoradna-schuze\">kdysi psal</a>, jsem jednatelem a tak\nmám schůze na povel. Dotoho ještě získávání zápočtů, zatim jich\nnémám ani půlku, no jo, co se dá dělat&#8230;</p>\n\n<p>Před týdnem jsem si pořídil novou hračku: <a\nhref=\"http://www.evolution.co.uk/products/evo_xsession.htm\">Evolution\nUC-17&#160;X-Session</a>. Tak si hraju. Včéra jsem namíchal celkem pěknej\nhousík, tak se mi ho snad podaří během týdne pověsit na web, ale nevim.\nJsem teď doma a chci tu zůstat o&#160;něco dýl, když do tý Prahy nemusim\n:) Takže to nebudu posílat po modemu. Možná nám zavedou domu konečně\nWiFi, ale to bude záležet na tom, jestli tu <a\nhref=\"http://www.jested.net/\">chytnu nějakej signál&#8230;</a></p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-01-22T14:17:41.307-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zima v plném proudu",
  :published #inst "2006-01-21T14:29:39.323-00:00",
  :url "zima-v-plnem-proudu",
  :category-url "jen-tak.aspx",
  :id 100,
  :description "Pár slouv o současném dění okolo mě.",
  :category "Jen tak",
  :tags []},
 :47-terminy.aspx
 {:html
  "\n<p>Je tomu bohužel tak, termíny svazují náš život :) A&#160;když jsem si\nmyslel, že během zkouškového období stihnu přepsat redakční systém\nGryphoon, tak jsem se šeredně přepočítal. Od posledního příspěvku jsem\nnenapsal ani řádku nového kódu :( Může za to hodně práce a do toho\nještě zkouška z&#160;Diskrétní matematiky a logiky, kterou dělám\nzítra.</p>\n\n<p>Jednou z&#160;těch prací je příprava nového designu pro <a\nhref=\"http://ggdag.euweb.cz\">GiGi D'AGOSTiNO Czech fan pages</a>, trochu jsem\nse začal angažovat v&#160;českém fanklubu. Když jsme u&#160;tý muziky,\nv&#160;sobotu 19.&#160;2. bude v&#160;<a\nhref=\"http://www.discodubnice.cz\">Dubnici</a> (u&#160;Stráže pod Ralskem) <a\nhref=\"http://www.djorbith.com\">DJ Orbith</a>, takže tímto zvu všechny\npříznivce taneční muziky na pořádnou kalbu. Určitě budu o&#160;této\nakci ještě referovat a možná přihodím i&#160;nějakej obrázek.</p>\n\n<p>Další práce je ta pro <a href=\"http://www.benteler.cz\">Benteler</a>.\nDodělal jsem Sklad a teď pracuju na databázi revizí strojů. Základ je\núplně stejnej jako u&#160;Skladu, akorát je to dělaný pro víc závodů\nnajednou. No mám na to ještě tejden a půl a ještě nemám funkční kus,\npouze kostry stránek s&#160;náznakem funkčnosti. Pak se to celé musí\nodladit a otestovat, to zase bude fofr, už se na to těšim :)</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:46:22.750-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Termíny",
  :published #inst "2005-02-15T00:00:00.000-00:00",
  :url "terminy",
  :category-url "jen-tak.aspx",
  :id 47,
  :description "",
  :category "Jen tak",
  :tags []},
 :120-menu-pro-ruzne-role.aspx
 {:html
  "\n<p>ASP.NET 2.0&#160;přichází s&#160;konceptem SiteMaps spojeným\ns&#160;několika serverovými prvky určenými k&#160;práci s&#160;navigací\n(Stopy, Menu, TreeView). V&#160;zásadě to funguje jednoduše, stačí\nvytvořit soubor <strong>Web.sitemap</strong> např. v&#160;rootu webu, na\nkterý je defaultně namapovaný <code>SiteMapProvider</code>, pak stačí\npřidat požadované uzly navigace do sitemapu, požadované navigační prvky\ndo stránky a je to. Už to funguje.</p>\n\n<p>Ve spoustě scénářů to může stačit, ale někdy přijde čas omezit\nněkterým uživatelům přístup do některých částí webu. V&#160;článku\n<a href=\"http://gridviewguy.com/ArticleDetails.aspx?articleID=165\">Creating\nMenu Based on Role</a> se autor pokusil nastínit, jak postupovat. Mě se na\ntom nelíbí jedna věc. Vybírá menu programově podle role. Podle mého\nskromného názoru je to zbytečná práce, protože ASP.NET 2.0&#160;má\nv&#160;SiteMapu rozlišování rolí zabudované a proto by mělo stačit do\nweb.sitemap souboru přidat omezení na role:</p>\n\n<pre><code class=\"language-markup\">&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;siteMap xmlns=\"http://schemas.microsoft.com/AspNet/SiteMap-File-1.0\" &gt;\n    &lt;siteMapNode url=\"~/\" title=\"root\" description=\"Site Map Root\"&gt;\n        &lt;siteMapNode siteMapFile=\"~/Navigation/Admin.sitemap\" roles=\"Admin\" /&gt;\n        &lt;siteMapNode siteMapFile=\"~/Navigation/User.sitemap\" roles=\"User\" /&gt;\n    &lt;/siteMapNode&gt;\n&lt;/siteMap&gt;</code></pre>\n\n<p>Ale možná se pletu :)</p>\n\n<h3>Update</h3>\n\n<p>Dnes jsem narazil na zajímavou sérii článků o&#160;práci se SiteMap,\nkdyby jste měli zájem: <a\nhref=\"http://aspnet.4guysfromrolla.com/articles/111605-1.aspx\">Examining\nASP.NET 2.0's&#160;Site Navigation</a></p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-17T14:33:55.600-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Menu pro různé role",
  :published #inst "2006-03-15T09:16:47.423-00:00",
  :url "menu-pro-ruzne-role",
  :category-url "asp-net-2-0.aspx",
  :id 120,
  :description "Jak na to.",
  :category "ASP.NET 2.0",
  :tags []},
 :15-adsl-a-tiscali.aspx
 {:html
  "\n<p>Služba ADSL je u&#160;nás již pěknou chvilku. Existuje řada providerů\n&#8211; od Českého telecomu, přes GTS, Nextru, až třeba po\nTiscali&#8230;</p>\n\n<p>Mám možnost pozorovat, jak se věci mají právě v&#160;Tiscali, takže\nsvé úvahy budu směřovat pouze k&#160;této firmě. Pro Tiscali je stále\nnejlepším zdrojem příjmů klasické připojení přes Dial-Up. ADSL, ač\njsou na něj solidní reklamy, je stále jen méněcennou službou.\nA&#160;podle toho tato služba taky vypadá. Připojení je pomalé(agregační\npoměr je značný, takže na solidní brouzdání je nutná aspoň 1024),\nspojení často vypadává a nakonec můj oblíbený problém s&#160;Asus\nrouterem, který Tiscali prodává. Tento router funguje u&#160;všech\nproviderů naprosto bezproblémově &#8211; pouze u&#160;Tiscali se seká,\nzapomíná nastavení, nelze se na něj vůbec připojit, často na něm padá\nsynchronizace a mnoho dalších problémů&#8230; To už se vůbec nezmiňuji\no&#160;fair politice, která je zaměřena proti stahovačům&#8230; (Pokud\nbudete stahovat moc(3GB/měsíc na 512), tak vám snížíme prioritu\npaketů.)</p>\n\n<p>Závěrem snad jen tolik, že ADSL je dobrá myšlenka, pokud se ale\nrozhodnete pro Tiscali, tak budete proklínat den, kdy Vás napadla :)</p>\n\n<p>Takže užívejte a nezuřte. :)</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "jaques",
  :title "ADSL a Tiscali",
  :published #inst "2004-04-22T09:16:55.000-00:00",
  :url "adsl-a-tiscali",
  :category-url "jen-tak.aspx",
  :id 15,
  :description "",
  :category "Jen tak",
  :tags []},
 :431-dip-ioc-a-di-dil-prvni.aspx
 {:html
  "\n<p>Zmatení pojmů je úžasná věc. Něco si myslíte a tak řeknete něco, co\nvás napadne jako první. A většinou je to blbost. Ale lidi se to naučili\ntolerovat, protože stejný blbosti děláme všichni. Nakonec si nikdo\nnerozumí, ale všichni dělaj, jako že jo. Nechtěj vypadat jako blbci.</p>\n\n<p><strong>Disclaimer:</strong> <em>Článek si neklade za cíl se do někoho\nnavážet, někoho ranit nebo zesměšňovat. Klade si za cíl otevřít otázky\nnad obecně přijímanými pravdami.</em></p>\n\n<p>Dependency Inversion Principle, Inversion of Control a Dependency Injection\nmají tolik vzájemně společných slov, že musí být i blbci jasné, že\nspolu úzce souvisí. A přitom je to blbost. Existují jistá místa, kde se\nmůžou vzájemně dotýkat, ale vůbec to tak nemusí být.</p>\n\n<p>Začněme jednoduchým příkladem z praxe. Běžně začneme tak, že si\nvytvoříme rozhraní pro repository <code>IRepository&lt;TEntity&gt;</code> a\nprdneme ho do projektu/namespace <code>MyAwesomeApp.Data</code>. To je jasný,\nrepository přece patří do datový vrstvy! Ne asi. Pak si uděláme\nkonkrétní implementace jako <code>MyAwesomeApp.Data.ArticleRepository :\nIRepository&lt;Article&gt;</code> a podobně. Každá si v konstruktoru\nvytvoří <code>DataContext</code>, který se nějak nakonfiguruje. Ten pak\nobalíme svejma metodama a spokojeně rozšiřujeme rozhraní třídy\ns každým dalším dotazem…</p>\n\n<p>Pak si někde přečteme, že testovatelnost, DI a tak, a tak teda uděláme\npřetížení konstruktoru, který bude brát <code>DataContext</code> odněkud\nz venku, ale abychom nechodili moc daleko, to venku bude původní\npřetížení, který jen zavolá tohle nové. Poor men's DI ve své\nnejčistší formě.</p>\n\n<p>Pro jistotu se zeptám: Vidíte tu nějaký Inversion of Control nebo\nuplatnění Dependency Inversion Principle? Houby s octem! DI s nimi tedy\nurčitě nesouvisí. Pokud vám někdo tvrdí, že IoC je obecný princip a DI\nje jeho konkrétní implementace, neříká pravdu. :)</p>\n\n<p>Ok, pokračujeme dál. Vytvoříme si ten doménovej model. Vlastně to jsou\njedna k jedný entity z databáze, ale who cares? Je třeba si z checklistu\nodškrtnout další zkratku začínající na D. Taková malá úlitba OO\nbohům. Na to si vytvoříme novej projekt\n<code>MyAwesomeApp.BusinessLogic</code>, aby bylo jasný, že děláme ten\nbusiness a má to nějakou logiku. Sem krom entit z databáze nasereme taky\nvšemožný <a href=\"/weblog/331-proc-jsou-staticke-helpery-zlo.aspx\">statický\nhelpery</a> a podobně, co zrovna budeme potřebovat znovu použít. No a\nprotože některý helpery budou potřebovat naše entity ukládat do databáze\na taky se na ně dotazovat, tak z nich uděláme teda instanční třídy a\nnecháme si nainjektovat nějaký repository. Třeba tak:\n<code>PublishingManager(ArticleRepository repository)</code>.</p>\n\n<p>Držíme se dependency injection. No a proto, aby nám vůbec šla ta\nrepository nainjectovat, přidáme referenci na naši datovou vrstvu. Tak\nurčitě. Jak jinak byste to chtěli přece řešit?</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-10-26T14:07:51.627-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "DIP, IoC a DI - díl první",
  :published #inst "2012-10-26T12:54:19.593-00:00",
  :url "dip-ioc-a-di-dil-prvni",
  :category-url "moje-prace.aspx",
  :id 431,
  :description
  "První motivační díl z úžasného osvětového cyklu zaměřeného na rozbíjení zkostnatělých mítů a jiných blbostí.",
  :category "Moje práce",
  :tags []},
 :223-google-reader-nyni-skoro-dokonaly.aspx
 {:html
  "\n<p>Google Reader byl konečně obdařen funkcí, která nejen mně hodně\nchyběla. Konečně i v <a href=\"http://reader.google.com\">Google Readeru</a>\nlze v agregovaných příspěvcích vyhledávat. Kromě toho lze i hledání\nomezit pouze na určité složky/štítky.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:22:43.967-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Google Reader nyní skoro dokonalý",
  :published #inst "2007-09-07T13:50:05.510-00:00",
  :url "google-reader-nyni-skoro-dokonaly",
  :category-url "webdesign.aspx",
  :id 223,
  :description
  "Google Reader byl konečně obdařen funkcí, která nejen mně hodně chyběla. Konečně i v Google Readeru lze v agregovaných příspěvcích vyhledávat.",
  :category "Webdesign",
  :tags ["rss" "atom" "google" "reader"]},
 :260-dynamic-silverlight.aspx
 {:html
  "\n<p>Jednou z věcí, na kterou se dlouho těším, je podpora dynamických\njazyků v Silverlightu 2+. Umožňuje to nový stack v .net runtime <acronym\ntitle=\"Dynamic Language Runtime\">DLR</acronym>, nad kterým jsou implementovány\njazyky <a href=\"http://www.codeplex.com/IronPython\">IronPython</a>, <a\nhref=\"http://www.ironruby.net/\">IronRuby</a>, JScript.net a budoucí verze\nVisual Basicu označovaná jako VBx.</p>\n\n<p>Dynamic Silverlight – jak se rozšíření <a\nhref=\"http://silverlight.net/\">Silverlightu</a> 2.0 pro dynamické jazyky\nnazývá – byl představen poslední den konference MIX08. Zájemcům\ndoporučuju shlédnout <a\nhref=\"http://sessions.visitmix.com/?selectedSearch=T28\">záznam přednášky</a>\nJohna Lama. No a právě včera byly zprovozněny <a\nhref=\"http://dynamicsilverlight.net/\">nové stránky</a> tohoto zajímavého\nprojektu, kde si můžete stáhnout SDK s potřebnými knihovnami. Tak\ns chutí do hraní! :)</p>\n\n<p>Tagy: <a href=\"http://technorati.com/tag/silverlight\">Silverlight</a>, <a\nhref=\"http://technorati.com/tag/ironpython\">IronPython</a>, <a\nhref=\"http://technorati.com/tag/ironruby\">IronRuby</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:43:58.907-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Dynamic Silverlight",
  :published #inst "2008-03-15T11:48:20.540-00:00",
  :url "dynamic-silverlight",
  :category-url "webdesign.aspx",
  :id 260,
  :description "Pár odkazů na dynamické jazyky do vašeho prohlížeče.",
  :category "Webdesign",
  :tags ["silverlight" "dlr" "ironpython" "ironruby"]},
 :262-pomozte-s-bakalarkou.aspx
 {:html
  "\n<p>Kamarád a bývalý kolega, mj. duchovní praotec služby weblogy.cz, Jirka\nLahvička potřebuje pomoc s bakalářskou prací. <a\nhref=\"http://dotaznik.lahvicka.cz/\">Připojte se</a> také, nezabere vám to\nvíc jak deset minut.</p>\n\n<p>Mrkněte na následující <a\nhref=\"http://dotaznik.lahvicka.cz/\">dotazník</a>. Díky</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-06T18:22:17.417-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pomožte s bakalářkou ",
  :published #inst "2008-04-06T18:19:49.650-00:00",
  :url "pomozte-s-bakalarkou",
  :category-url "kamaradi.aspx",
  :id 262,
  :description
  "Kamarád a bývalý kolega, mj. duchovní praotec služby weblogy.cz, potřebuje pomoc s bakalářskou prací. Připojte se také, nezabere vám to víc jak deset minut. http://dotaznik.lahvicka.cz/",
  :category "Kamarádi",
  :tags []},
 :33-rychle-a-zbesile.aspx
 {:html
  "\n<p>Určitě nikomu neuniklo, že včéra dávali na Nově film <strong>Rychle a\nzběsile</strong>. Bohužel je tento film důkazem toho, jak se dokáže\nnegativně podepsat dabing na kvalitě filmu. Originál je fakt dobrej, ale\ndabing ho opravdu zničil. Nejen projev dabérů, ale i&#160;některé hlášky\nv&#160;češtině mě doháněli k&#160;slzám a v&#160;půlce jsem to raději\nvypnul a šel spát. Škoda&#8230;</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:51:30.940-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Rychle a zběsile",
  :published #inst "2004-10-17T00:00:00.000-00:00",
  :url "rychle-a-zbesile",
  :category-url "jen-tak.aspx",
  :id 33,
  :description "",
  :category "Jen tak",
  :tags []},
 :96-spolecny-projekt-microsoftu-a-googlu.aspx
 {:html
  "\n<p>Dnes se internetem šíří samé podivné zprávy. Nejprve RSS team\nzveřejnil informaci, že <a\nhref=\"http://blogs.msdn.com/rssteam/archive/2005/12/14/503778.aspx\">ikonka pro\nfeedy v novém Internet Exploreru bude stejná jako ve Firefoxu</a>, na čemž\nse domluvili zástupci obou stran (Microsoft a Mozilla Foundation). Takovýto\npostup prý není ojedinělým. Předtím se takto domluvili na podbarvení\nadresního řádku ve výjimečných situacích.</p>\n\n<p>Další neuvěřitelnou zprávou je, že <a\nhref=\"http://neowin.net/index.php?act=view&amp;id=31764\">Microsoft spojí své\nsíly s Googlem</a>, Sunem a univerzitou Berkley. Ke spojení sil dojde pouze\nna akademické půdě, jde totiž o vytvoření výzkumné laboratoře, kde se\nbudou vyvíjet a testovat technologie pro <acronym\ntitle=\"Reliable, Adaptive and Distributed Systems\">RAD</acronym> systémy.\nV ostatních případech zůstanou tyto firmy rivaly.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-25T08:06:47.797-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Společný projekt Microsoftu a Googlu",
  :published #inst "2005-12-15T16:33:52.340-00:00",
  :url "spolecny-projekt-microsoftu-a-googlu",
  :category-url "jen-tak.aspx",
  :id 96,
  :description
  "Microsoft spojí své síly s Googlem, ale zas tak horké to nebude.",
  :category "Jen tak",
  :tags ["rss" "firefox" "microsoft" "google" "ie7"]},
 :171-blok-using.aspx
 {:html
  "\n<p>Jazyk C# je obdařen velice zajímavým blokem uvozený slovem\n<em>using</em>. Víte k čemu slouží? Používáte ho? Pokud jste si na jednu\nz předchozích otázek odpověděli negativně, měli byste si přečíst\nnásledující řádky. :)</p>\n\n<p>Klíčové slovo <code>using</code> má v C# hned dva významy. Tím prvním\nje import namespaců a vytváření aliasů k třídám, ale ten je\npravděpodobně provařený. Druhým významem je uvození bloku, ve kterém se\npoužívá komponenta implementující rozhranní <code>IDisposable</code>.\nImplementace IDisposable se používá k uvolňování zdrojů.</p>\n\n<pre\n><code class=\"language-csharp\">SqlConnection conn  = new SqlConnection(connString);\nconn.Open();\n// práce s databází\nconn.Close();</code></pre>\n\n<p>To byla ukázka naivního přístupu k databázi, kdy se spoléháme, na to,\nže vše proběhne v pořádku a dojde k zavolání <code>conn.Close()</code>,\ncož může být klidně pravda, ale pokud dojde k vyvolání jakékoli\nvyjímky před zavoláním <code>conn.Close()</code>, zůstane připojení\nstále otevřené, dokud nedojde k timeoutu a objekt <code>conn</code>\nnezpracuje GC. To může trvat hodně dlouho a zabírat tak zbytečně cenné\nsystémové zdroje.</p>\n\n<pre\n><code class=\"language-csharp\">using (SqlConnection conn  = new SqlConnection(connString)) {\n    conn.Open();\n    // práce s databází\n}</code></pre>\n\n<p>A takle by se to mělo psát. :) Blok using přijímá jako parametr\ndisposovatelné komponenty a na konci bloku zavolá\n<code>IDisposable.Dispose()</code>. V případě SqlConnection volá metoda\n<em>Dispose</em> metodu <em>Close</em>. Nutno podotknout, že k zavolání\nmetody <em>Dispose</em> dojde i při vyhození vyjímky. Jak je toho dosaženo?\nBlok using neni nic jiného než zkráceným (a pro mě i přehlednějším)\nzápisem následujícího kódu.</p>\n\n<pre\n><code class=\"language-csharp\">SqlConnection conn  = new SqlConnection(connString);\ntry {\n    conn.Open();\n    // práce s databází\n}\nfinally {\n    conn.Dispose();\n}</code></pre>\n\n<p>Toť celé tajemství a kouzlo bloku using. Závěrem bych vám chtěl\nještě doporučit blok using používat všude tam, kde používáte\nnejrůznější Readery, Writer a jiné třídy implemetující rozhranní\nIDisposable, protože tak můžete ušetřit cenné zdroje a zvýšit tak výkon\nvaší aplikace :) Hodně štěstí…</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:25:57.647-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Blok using",
  :published #inst "2006-07-28T19:33:08.953-00:00",
  :url "blok-using",
  :category-url "tuning.aspx",
  :id 171,
  :description
  "Pár slov k zajímavému bloku, který může zvýšit výkon vaší aplikace.",
  :category "Tuning",
  :tags ["csharp" "idisposable"]},
 :39-percentualita.aspx
 {:html
  "\n<p>Tmavé skladiště – nikde se nic nehýbe. Ticho. Je to skladiště\ntěkavých látek. A&#160;uprostřed velké haly stojí dva největší barely.\nCo obsahují? Asi nějakou kyselinu – na tom nezáleží.</p>\n\n<p>Nikde se nic nehýbe. Nikde se nic nehýbalo. Víte jak vypadá světluška?\nJe to taková hnusná věcička mezi housenkou a broukem, které svítí\nprdelka. Tak to, co se tady hýbalo vypadalo, jako kdyby se nějaké té\nsvětlušce zadeček sám utrhnul a samovolně si poletoval ve vzduchu. Právě\nokolo těch nádrží. Létalo a kroužilo a kroužilo a zpomalovalo.</p>\n\n<p>Teď vyselo ve vzduchu asi dva a půl metru nad zemí a začalo kolmo\npřistávat. Přitom za sebou nechávalo nemizející stopu. Níž a níž, až\nse dotklo studené betonové podlahy a zajelo do ní.</p>\n\n<p>Nyní byl mezi nádržemi slabý sloup světla – ona stopa, co za sebou\nsvětélko nechávalo. Sloup se začal cukavě rozpínat, ale vždy, jakoby mu\nto nevydrželo a vrátil se zpět do původní polohy. Rozpínání bylo\npokaždé do dvou rozměrů, ale nepravidelně do jiných dvou.</p>\n\n<p>Jak se projeví imploze s&#160;normálním tlakem v&#160;okolí? Mě se\nneptejte, nejsem fyzik, ale tak nějak to následující vypadalo. Jako imploze\nneimploze – těžko říct. Kouř odvál průvan a prach sedl.</p>\n\n<p>Mezi kovovými sudy stálo stvoření, na které když pohlédne slabší\nnátura, tak má v&#160;kalhotách i&#160;to, co měli k&#160;snídani\nkolemstojící. Byla to humanoidní příšera s&#160;rudou šlachovitou\nkůží a třemi a půl rohy na hlavě (a kde je ta půlka? Zmrzačení je\nodpověď. Ale v&#160;tom lepším slova smyslu – totiž, když jste\nzmrzačení tím správným způsobem, jste třikrát děsivější, než ve\nvyžehleném saku).</p>\n\n<p>Vydala mocný hrdelní řev a pak, světe div se, se zmateně rozhlédla\nkolem sebe, vypoulila oči, po nechápavém výrazu se podívala ke svým\nnohám a svěsila ramena.</p>\n\n<p>„Stop!“ zakřičel jakýsi hlas. „Ty idiote! Kdy se to konečně\nnaučíš, co?!“</p>\n\n<p>„Sory šéfe,“ zaduněla příšera.</p>\n\n<p>Řvací hlas pokračoval: „To bylo pořád samý: Já sem skvjelej, šéfe!\nNenajdete nikoho lepšího, šéfe! K&#160;čemu sou ve filmu speciální\nefekty, když můžete mít pravýho démona. Šéfe!“ ječel ječící na\nječeného.</p>\n\n<p>„Fakt rejžo, promiň – mě ten vejškovej rozměr furt nějak nejde,“\nomlouval se démon.</p>\n\n<p>Metr čtyřicet postavička přistoupila k&#160;třímetrové (tedy\nv&#160;současné chvíli dva a půl metrové, protože onen zbývající\npůlmetr byl zapuštěn do podlahy) hroudě šlach a svalů: „Ale to už mi\nřikáš podvacátý! To, abych si na další záběr přived svojí matku,\nprotože už mi nestačej prsty! Dyť plochu už si zvlád – už nekončíš\nv&#160;těch nádržích, tak proč nedokážeš přistát na podlaze?! Ani\nv&#160;podlaze, ani nad podlahou, ale na podlaze! Copak je t tak\nsložitý?!“</p>\n\n<p>„Ne, neni šéfe, ale když já mam tu špatnou prostorovou orientaci a\nkoor- koordi- koortininácii,“ tvor měl stále sklopené oči a dodal:\n„Ale nad podlahou bych to zvládnul, opravdu.“</p>\n\n<p>„Ne! Ty bys to možná zvládnul, ale já to nechci! Dokážeš si to\npředstavit?! Lítáš tady jako malý nevinný světýlko a v&#160;tom se tady\nzjevíš půl metru nad zemí! Ty! Voči sice na zadku nemáš, ale kdybys\nměl, tak by sis je pěkně narazil! A&#160;víš vo co?! Vo podlahu ve\nsklepě! Protože tam by ses s&#160;tou tvojí tlustou prdelí touhle podlahou\npropad!“ a čtyřikrát vztekle zaskákal. „Doneste někdo tu sbíječku a\ndostaňte ho z&#160;tý podlahy,“ zavolal do éteru a otočil se zpět\nk&#160;poděsovi: „A ať je ten další záběr poslední!“</p>\n\n<p>Režisérovi někdo nervózně klepnul na rameno: „Promiňte rejžo.“</p>\n\n<p>„Coje?“ otočil se mužík a uviděl před sebou jednoho z&#160;mnoha\nsvých pomocníků.</p>\n\n<p>Chlápek si mírně povolil kravatu: „No, máme tady jednu zájemkyni\no&#160;práci. Je to jedna z&#160;nich pa-“</p>\n\n<p>„Vyhoď jí, ať je to kdo chce,“ přerušil ho nadřízený.</p>\n\n<p>„Ale pane, ona se odvolává na zákon o&#160;tom, že každý podnik musí\nzaměstnávat určité procento nadpřirozených a mýtických… jaksi osob,\npane.“</p>\n\n<p>„Ale dyť my máme určitý procento – mám je tady dva. Santu Clause\na,“ otočil se a ukázal na démona: „A tohodle magora. A&#160;dva\nodpovídá těm vládním požadavkům.“</p>\n\n<p>Asistentova nervozita teď sama znervózněla: „To ano, pane, ale ona se\nv&#160;tom tak trochu šťourala a zjistila, že každý nadpřirozený, či\nmýtický… osoba buď má zaměstnání, anebo mu musíme umožnit se\nv&#160;určité percentualitě se jako nechat zaměstnat, pane.“</p>\n\n<p>„A?“</p>\n\n<p>„No, a zjistila, že Santa vlastně furt pracuje tam s&#160;elfama\nv&#160;borovym háji, či kde, a dělá dárky na vánoce a tudíž má tohle\njako takovou bokovku – zkrátka, podle zákona není vše potřebné\nobsazené a říká něco o&#160;úřadech, jak nás práskne, když jí\nnepřijmeme a jak má kámoše krakena, kterej je opravdu celkem přerostlý\nzviřátko a tak, pane.“</p>\n\n<p>Režisér svěsil ramena: „Ach, jo. Tak kde je?“</p>\n\n<p>„Tady za tou kulisou, ale radím vám pane, abyste se tam nekou-“\n<br />Režisér vykřikl a to bylo to poslední, co kdy udělal.</p>\n\n<p>Asistent smutně dodal: „-kal, protože je to Medúza a zkameníte, když\nse jí podíváte do očí.“</p>\n\n<p>Zpoza kulisy se ozvalo: „P-p-promiňte, to-to-to tosemiještě\nne-ne-nestalo. To-to-to budeasi ta-ta-ta tr-tréma.\nS-s-s-s-sssssssssssss&#173;ssssssssss. Do-do-dostanu tu práci?“</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "dekan",
  :title "Percentualita",
  :published #inst "2005-01-24T11:27:12.000-00:00",
  :url "percentualita",
  :category-url "jen-tak.aspx",
  :id 39,
  :description "",
  :category "Jen tak",
  :tags []},
 :416-novy-blog-ktery-stoji-za-pozornost.aspx
 {:html
  "\n<p>Nestává se často, že by v dnešní době vznikaly nové kvalitní\nčeské blogy se zajímavým obsahem. Ale teď se to stalo…</p>\n\n<p>Tohle opravdu stojí za pozornost! <a\nhref=\"http://blog.think-forth.com/\">THINK FORTH!</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-03-02T19:39:04.007-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nový blog, který stojí za pozornost",
  :published #inst "2012-03-02T19:39:03.943-00:00",
  :url "novy-blog-ktery-stoji-za-pozornost",
  :category-url "jen-tak.aspx",
  :id 416,
  :description
  "Nestává se často, že by v dnešní době vznikaly nové kvalitní české blogy se zajímavým obsahem. Ale teď se to stalo...",
  :category "Jen tak",
  :tags []},
 :175-proc-lide-nechteji-platit-za-software.aspx
 {:html
  "\n<p>To je otázka, na kterou stále hledám odpověď, kterou v tonto článku\nnenaleznete :D</p>\n\n<p>Po pročtení diskuze <a\nhref=\"http://diskuse.jakpsatweb.cz/index.php?action=vthread&amp;forum=4&amp;topic=32431\">V čem\nkódujete?</a>, mě docela zarazila následující věta:</p>\n\n<blockquote>\n\t<p>PSPad nebo Dreamweaver 8, podle nálady.</p>\n</blockquote>\n\n<p>Co mě na této větě zarazilo? Že pisatel používá podle nálady\nsoftware, který je zadarmo, nebo software, který stojí něco okolo patnácti\ntisíc kurun. Toto chování mi nepřipadá moc logické. Já kdybych si koupil\nDreamweaver za patnáct tisíc, tak bych se z něj snažil vytřískat co jde\n(a že toho jde opravdu hodně). Nevím, třeba pisatel vydělává takové\nsumy, že mu nevadí nepoužívat software za celkem vysokou částku. Ale divil\nbych se tomu.</p>\n\n<p>Další, pro mě zarážející, informací bylo něco ve smyslu: Cokoli, co\nzvýrazňuje syntaxi a je to zadarmo. Proč nejsou lidé ochotní platit za\nnástroje, které jim nemalou měrou dopomáhájí k slušným výdělkům?\nNepochopím…</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:23:08.440-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Proč lidé nechtějí platit za software?",
  :published #inst "2006-08-21T14:45:12.800-00:00",
  :url "proc-lide-nechteji-platit-za-software",
  :category-url "webdesign.aspx",
  :id 175,
  :description
  "To je otázka, na kterou stále hledám odpověď, kterou v tonto článku nenaleznete...",
  :category "Webdesign",
  :tags ["dreamweaver"]},
 :57-php2asp-net-konvertor.aspx
 {:html
  "\n<p>Začal jsem předělávat <a href=\"http://www.texy.info/\">Texy!</a> syntax\nconverter do .net. Opět jsem narazil na menší problém, nerozunim php, ve\nkterém je Texy! napsané a navíc se mi nechtělo implementovat 140kB\nzdrojových kódů od znovu. Naštěstí jsem našel <a\nhref=\"http://www.asp.net/migrationassistants/php2aspnet.aspx?tabindex=0&amp;tabid=1\">nástroj\nod Microsoftu</a>, který konvertuje PHP do ASP.NET, konkrétně do C# :)\nTakže většinu těžké práce mám za sebou, teď musim odchytat chyby (cca\n260), které vznikly při převodu a pak odladit&#8230;</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "PHP2ASP.NET konvertor",
  :published #inst "2005-04-28T13:20:00.000-00:00",
  :url "php2asp-net-konvertor",
  :category-url "webdesign.aspx",
  :id 57,
  :description "",
  :category "Webdesign",
  :tags []},
 :152-evoluce-ve-webovem-vyvoji.aspx
 {:html
  "\n<p>Možná jste si všimli, že se v poslední době pouští Microsoft do\nAJAXu. Jejich <a href=\"/clanek/129-zaciname-s-atlasem.aspx\">Atlas framework</a>\nje zatím v alfa stádiu, ale i tak je plně použitelný a funkční – až\nna pár bugů. Tímto frameworkem otevírá dveře vývojářům serverside\naplikací (typicky píšících v C#, Javě, VB.NET nebo i v PHP) ke vstupu\nna klienta. Atlas se snaží přinést do JavaScriptu i jakousi podporu OOP,\ntakže můžete používat namespacy, classy, interfejsy (fuj to je hnusný\nslovo – zdravím doc. Müllera), dědičnost a další vymoženosti, na\nkteré jsem zvyklý ze C#.</p>\n\n<p>Problém je ovšem v tom, že pořád musím psát v JavaScriptu. Nemám\nrád tenhle jazyk. Občas v něm něco napíšu, ale je to peklo – právě\nproto že v něm málo píšu, ho tak dobře neumím, a protože ho tak dobře\nneumím, tak v něm málo píšu. :) Atlas naštěstí přináší\ni deklarativní metodu psaní aplikací pomocí <a\nhref=\"/clanek/138-prvni-prakticka-ukazka-pouziti-atlasu.aspx\">XML-Scriptu</a>,\nkterý je mi podstatně bližší. Ale stejně v něm nejde napsat vše –\nhlavně vlastní komponenty.</p>\n\n<p>Protože bude Atlas součástí příští verze Visual Studia „Orcas“,\npřemýšlejí soudruzi v Microsoftu, jakým způsobem zjednodušit vývoj\naplikací v Atlasu, připravit kvalitní vývojové nástroje se všemi\nvymoženostmi (Intellisense, debugging apod.). Vzhledem k tomu, že je\nJavaScript dynamicky typovaný, je s Intellisence celkem problém – dneska\nse ve studiu objeví jen zřídka. To by ale nebyl Microsoft, kdyby nepřišel\ns něčím novým…</p>\n\n<h3 id=\"toc-na-scenu-prichazi-script\">Na scénu přichází Script#</h3>\n\n<p>Ano, je tu to, na co jsem dlouho čekal, konečně může psát klientské\nskripty v pořádném jazyku. O co tedy jde? O zimních prázdninách si\nNikhil Kothari – duchovní otec Atlas frameworku – uvědomil, že se v JS\npíše fakt blbě a že by bylo lepší psát v C# i skripty. Jenže jak\ndonutit prohlížeče, aby zpracovali C#? To je prakticky nemožné. Nikhil na\nto šel od lesa a napsal vlastní kompilátor, který místo MSIL generuje JS.\nPřidal k tomu ještě sscorelib a máme tu <strong>Script#</strong>\n(skriptšárp). Script# je fakticky C#, nemusíte se učit žádný nový jazyk\n(teda pokud umíte C# <span title=\"pozor mimoděkismus\">jako já</span>). Navíc\ndostanete v balení knihovnu, která obsahuje standardní DOM a vůbec vše, co\nmůžete najít v JavaSriptu. Kompilátor generuje JS kód určený pro Atlas\nframework, takže výsledkem může být jak <code>js</code> soubor, tak\n<code>dll</code>, kde jsou skripty jako resource – stejně jako je tomu\nu poslední verze Atlasu. Kompilátor zvládá DEBUG – včetně\npreprocesoru – i minimalizovat kód (a to jak ořezání bílých znaků,\ntak i náhradu jmen proměnných za zkratky jako <code>$0</code>). Je toho moc,\nnejlépe, když si to <a\nhref=\"http://www.nikhilk.net/Content/Samples/ScriptSharp.zip\">vyzkoušíte\nsami</a> nebo se podíváte na desetiminutovou <a\nhref=\"http://www.nikhilk.net/Content/Video/ScriptSharpIntro.wmv\">video\nukázku</a>. Zatím je kompilátor ve fázi funkčního prototypu a\nk dokonalosti potřebuje ještě hodně práce, ale jako ukázka možného\nsměru je to bomba.</p>\n\n<h3 id=\"toc-zajimavost-zaverem\">Zajímavost závěrem</h3>\n\n<p>Docela zajímavé je, že soudruzi v Google přemýšlejí podobně a\npodstatě totéž přinášejí ve svém Web Toolkitu.</p>\n\n<h3 id=\"toc-zdroj\">Zdroj</h3>\n\n<p><a href=\"http://www.nikhilk.net/Entry.aspx?id=121\">Nikhil Kothari –\nScript# Prototype</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:36:15.023-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Evoluce ve webovém vývoji",
  :published #inst "2006-05-23T07:57:31.347-00:00",
  :url "evoluce-ve-webovem-vyvoji",
  :category-url "asp-net-2-0.aspx",
  :id 152,
  :description "Jeden z možných směrů vývoje AJAXových aplikací.",
  :category "ASP.NET 2.0",
  :tags ["csharp" "javascript" "scriptsharp" "ajax"]},
 :192-exkluzivni-zpravy-z-vyvoje-atlas-map.aspx
 {:html
  "\n<p>Vývoj <a href=\"http://amapy.cz/\">map</a> trval ultra krátkou dobu. Něco\npod tři měsíce. Gattovi diagramy opět prokázali, že když chcete boha\nrozesmát – sdělte mu své plány. Dnes večer (ale raději až po půlnoci)\nmapy opět krapet dospějí. Lehká sumarizace, co je nového na Atlas mapách,\ndoplněná stručným komentářem – z pohledu vývojáře.</p>\n\n<p>Nové funkce: GPS souřadnice, nasosnutí i vyhledání.</p>\n\n<p>Brouci:</p>\n\n<h3 id=\"toc-opera\">Opera</h3>\n\n<p>Opera ano (skoro) – v průběhu celého vývoje map jsem testoval\ni v Opeře. Tento nejpomalejší prohlížeč (platí pro AJAX aplikace,\nkteré hooodně malují) používají skoro všichni mí přátelé, takže\nopomenout ho, dodám munici do debat svým názorovým oponentům – a to\nnechci :) Tak tento prohlížeč byl těsně před releasem map sestřelen\nunikátním fixem pro <acronym title=\"Internet Explorer\">IE</acronym>, jež\njediný ho donutí (kromě úpravy <acronym\ntitle=\"Hypertext Transfer Protocol\">HTTP</acronym> hlaviček) korektně <a\nhref=\"http://evil.che.lu/2006/9/25/no-more-ie6-background-flicker\">kešovat\npozadí</a>.</p>\n\n<p>Takže pozor, fixem fixovat jen IE, jinak XmlHttpRequest v Opeře\nstávkovat bude.</p>\n\n<p>Další „problém“ Opery. Její pedantské lpění na standardech\nbohužel způsobilo, že poslední dvě měřítka stále nefungují. DIV\no šířce půl miliónu px prostě vadí :) Má ale štěstí holka, protože\nten vadí i mě, a půjde-li vše ok, příští týden budou mapy šlapat pod\nOperou kompletně.</p>\n\n<p>PS: rychlost map v pořadí od nejrychlejšího prohlížeče: IE7, IE6, FF\na Opera (nejpomalejší).</p>\n\n<p>PS2: Safari více méně funguje, ale věnovat více se mu budu týden\npřespříští.</p>\n\n<h3 id=\"toc-kolecko-mysi\">Kolečko myši</h3>\n\n<p>Po ostrých debatách mezi zastánci GIS a těmi co o GIS vůbec nic\nnevědí ;) kolečko otočeno (pro ostatní, teď se chová jako na mapách\nGooglu)</p>\n\n<h3 id=\"toc-png-v-inernet-exploreru\">PNG v Inernet Exploreru</h3>\n\n<p>Implementace <acronym title=\"Portable Network Graphic\">PNG</acronym> v IE7\nse interně stále spoléhá na staré známé filtry IE6, jež mají tu pěknou\nvlastnost, že jich nelze aplikovat více přes sebe. (pro ostatní, bublina\nv IE7 už vypadá ok, bohužel jsme se museli rozloučit s efektem\nopacity)</p>\n\n<p>A to je zatím vše. O dalších opravených chybách se šířit\nnebudu ,–)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:49:17.357-00:00",
  :is-published true,
  :author "Daniel Steigerwald",
  :title "Exkluzivní zprávy z vývoje Atlas Map",
  :published #inst "2006-11-09T18:28:40.123-00:00",
  :url "exkluzivni-zpravy-z-vyvoje-atlas-map",
  :category-url "webdesign.aspx",
  :id 192,
  :description "Exkluzivní zprávy z vývoje Atlas Map",
  :category "Webdesign",
  :tags ["atlas" "amapy" "ajax"]},
 :331-proc-jsou-staticke-helpery-zlo.aspx
 {:html
  "\n<p>Minulý týden psal Arthur spotík o takovém tom <a\nhref=\"http://www.misantrop.info/742263-programatorsky-vikend.php\">víkendovém\nprogramování</a>, ve kterém šlo hlavně o to, že přešel na Vistu,\nvytvořil si gadget pro přehrávání ČRo a taky editor <code>hosts</code>\nsouboru. Napsal ho v C# a zmínil se o tom, že použil techniku, se kterou\nnejsem s to…</p>\n\n<p>Zkrátka podědil si generickou <code>Dictionary&lt;TKey, TValue&gt;</code> a\nrozšířil ji o serializaci. Dictionary není serializovatelná. Je to dáno\njak její generickou povahou (constraints pro atributy neexistují), tak tím,\nže sídlí v knihovně, která nesmí mít závislost na jiné, která\nserializaci zajišťuje.</p>\n\n<pre\n><code class=\"language-csharp\">public class SerializableDictionary&lt;TKey, TValue&gt;\n  : Dictionary&lt;TKey, TValue&gt;, ISerializable {\n  // ...\n}</code></pre>\n\n<p>To byla moje chvíle, vyčmuchal jsem zde codesmell (zbytečné dědění,\nkteré by šlo vyřešit kompozicí). <a\nhref=\"http://www.misantrop.info/742263-programatorsky-vikend.php#cmt_4\">Neomaleně\njsem vstoupil do diskuse</a> chválící gadget a sprostě Arthura pohanil.\nOmlouvám se za to. Mým úmyslem bylo ho postrčit o kus dál, možná\nrozšířit obzory. Prostě sprostá rada, která by mi v začátcích se C#\npomohla nebloudit labyrintem macatých tříd se spoustou dovedností a košatou\nhierarchií předků a potomků.</p>\n\n<h3 id=\"toc-alternativni-reseni\">Alternativní řešení</h3>\n\n<p>V diskusi, kterou jsem tímto vyvolal, padlo i to, že jde o porušení <a\nhref=\"http://www.borber.com/blog/zapouzdreni-vs-single-responsibility-principle\">Single\nResponsibility Principle</a>, které už rozebral Borek. Arthur tedy nabídl,\nalternativní řešení, jak se s problémem vypořádat:</p>\n\n<blockquote>\n\t<p>Samozřejmě jsem si mohl napsat i kašpárkovskou třídu, co má dvě\n\t<strong>statické metody</strong> (Serializuj a Deserializuj) a veřejný\n\tparametr „Dictionary“… šlo by to vyřešit mnoha způsoby, lišícími se\n\tco do pracnosti, elegance a efektivity, a já se rozhodl nedělat „composition\n\tblackbox“, ale podědit třídu – především proto, že bych musel\n\tzpřístupňovat spoustu veřejných metod od původní generiky, nebo\n\tdeklarovat vložený objekt jako veřejný.</p>\n</blockquote>\n\n<pre\n><code class=\"language-csharp\">public static class DictionarySerializer&lt;TKey, TValue&gt; {\n  public static byte[] Serialize(Dictionary&lt;TKey, TValue&gt; dictionary) {\n    // ...\n  }\n  public static Dictionary&lt;TKey, TValue&gt; Deserialize(byte[] data) {\n    // ...\n  }\n}</code></pre>\n\n<p>Přejdu teď <em>composition blackbox</em> – vrátím se snad k němu\nněkdy jindy, ale zastavím se u statických metod. Myslím si totiž, že to\nje další cesta do pekel… :)</p>\n\n<h3 id=\"toc-staticky-vs-instancne\">Staticky vs. Instančně</h3>\n\n<p>Na toto téma se vedlo jedno z vláken té jinak pěkné diskuse\no šikovném gadgetu. (Platíte koncesionářské poplatky?) Osobně zastávám\nnázor, že je lepší se statickým helperům vyhýbat. Jednak ze zkušenosti a\ndruhak z některých signálů a pouček správného OO návrhu.</p>\n\n<p>V objektových jazycích odvozených od C jsme si zvykli používat třídy.\nTřída je předpis, podle kterého se vyrábějí objekty. Objekty jsou\npřenašeči dat nebo službami. Mohou být tedy obdařeny rozhraním, přes\nkteré s ním komunikují jiné objekty. Jenže ve světě Céčkových\njazyků, můžeme mít tzv. statické členy. Statický člen existuje jen\njednou, po celou dobu života aplikace.</p>\n\n<p>Jenže, co je to <strong>život aplikace</strong>? Nevím jak je to přesně\nv PHP, ale myslím, že tam je to cca jeden požadavek. Statické proměnné tu\nslouží jako šikovná náhrada globálních proměnných a statické metody\ndovolují volat akce bez nudného vytváření instance třídy. To je jistě\nsuper. Ve světě dotnetu je to však mnohem složitější. V ASP.NET žije\naplikace dokud ji někdo nevypne, tj. neresetuje aplikační pool, nezmění\nkonfiguraci nebo neaktualizuje binárky. Takže u statického členu nikdy\nnetušíte, jak dlouho bude žít.</p>\n\n<p>Dalším problémem je <strong>konkurence</strong>. V PHP se aplikace\nspouští při každém požadavku a po jeho skončení opět vyhnije a to vše\nse děje v rámci jednoho vlákna. V ASP.NET žije aplikace mnoho požadavků,\nkteré jsou zpracovány samostatnými vlákny. Vzhledem k tomu, že statické\nčleny jsou v aplikaci jen jednou a to pro více vláken, musíte najednou\nzačít řešit konkurenční přístup, k těmto členům.</p>\n\n<p>Další z problémů statických členů je ten, že <strong>třída není\nobjekt</strong>, tudíž by se s členy třídy nemělo počítat\nv objektovém návrhu. :) Statické metody ani vlastnosti <strong>nelze popsat\nrozhraním</strong>, při jejich užití vzniká <strong>úzká vazba</strong>.\nTakovéto členy se také krásně vyhýbají dědičnosti. Nelze je přepsat\ntradičními postupy.</p>\n\n<p>Takhle bych ve zkratce shrnul hlavní nevýhody statického přístupu.\nPlatí jen pro určité případy. Nemusíte se s nimi nutně setkat a pro\nváš konkrétní případ mohou být i výhodné. Pokud však navrhujete API,\nkteré má být znovupoužitelné (hlavní výhoda OOP), nikdy nevíte,\nv jakém prostředí poběží. A když už píšeme objektově, tak proč\nrovnou nepsat tak, aby naše třídy znovupoužitel­né byly?</p>\n\n<h3 id=\"toc-jak-tedy-s-temi-helpery\">Jak tedy s těmi helpery?</h3>\n\n<p>Jak říká Michal Bláha, „statický helpery jsou výbornej syntax\nsugar.“ Jasně, proč ne? Ve skriptech může být statický helper jasným\npřínosem. Je ale třeba myslet na některá pravidla.</p>\n\n<p>Základním pravidlem, pokud chci vytvořit statický helper, je vytvořit\ninstanční implementaci. Dobrou ukázkou tohoto přístupu je například\n<code>System.IO.File</code>, který je statickou fasádou nad\n<code>System.IO.FileInfo</code>. Podobně funguje např. i metoda\n<code>Rarous.TexyNet.Texy.Process</code>, která slouží k rychlému převodu\ntextu do HTML, ale je tu i silné instanční API, které tato\nmetoda volá.</p>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p>Statické helpery jsou zlo, když jsou primárním návrhem a taky jediným.\nPokud dosahujete kompozice objektů pomocí dependency injection, jsou pro vás\nstatické helpery nedosažitelné (bez napsání instančního wraperu). Když\npíšete unit testy, nemůžete snadno statický helper nahradit. Pokud máte\nstatické vlastnosti, musíte myslet na konkurenční přístup a životnost\nzdrojů, které takto zapouzdřujete.</p>\n\n<pre\n><code class=\"language-csharp\">public interface IDictionarySerializer&lt;TKey, TValue, TData&gt; {\n  TData Serialize(IDictionary&lt;TKey, TValue&gt; dictionary);\n  IDictionary&lt;TKey, TValue&gt; Deserialize(TData data);\n}</code></pre>\n\n<p>Přece jen existuje více cest k cíli a je možné, že se někde šeredně\npletu. Jaký je váš pohled na věc?</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a href=\"http://www.misantrop.info/742263-programatorsky-vikend.php\">Martin\n\t\tMalý: Programátorský víkend</a></li>\n\n\t\t<li><a\n\t\thref=\"http://www.borber.com/blog/zapouzdreni-vs-single-responsibility-principle\">Borek\n\t\tBernard: Zapouzdření vs. Single Responsibility Principle</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-12-07T16:53:32.163-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Proč jsou statické helpery zlo?",
  :published #inst "2008-11-22T10:53:52.983-00:00",
  :url "proc-jsou-staticke-helpery-zlo",
  :category-url "asp-net-2-0.aspx",
  :id 331,
  :description
  "Minulý týden psal Arthur spotík o takovém tom víkendovém programování, ve kterém šlo hlavně o to, že přešel na Vistu, vytvořil si gadget pro přehrávání ČRo a taky editor hosts souboru. Napsal ho v C# a zmínil se o tom, že použil techniku, se kterou nejsem",
  :category "ASP.NET 2.0",
  :tags ["csharp" "oop" "static" "ioc"]},
 :332-inversion-of-control-v-asp-net-mvc.aspx
 {:html
  "\n<p>Dneska si ukážeme, jak využít modularity ASP.NET <acronym\ntitle=\"Model View Controller\">MVC</acronym> k tomu, abychom mohli snadno\nintegrovat <acronym title=\"Inversion of Control\">IoC</acronym> kontejner. Ten\npak bude sloužit k tvorbě controllerů a injekci jejich závislostí\n(dependecy injection). Jako kontejner použijeme Castle Windsor a konfigurační\n<acronym title=\"Domain Specific Language\">DSL</acronym> v jazyce <a\nhref=\"http://boo.codehaus.org/\">Boo</a> – Binsor.</p>\n\n<p><a href=\"http://asp.net/mvc\">ASP.NET MVC</a> je framework, který si za cíl\nbere jasné rozdělení odpovědností, modularitu, snadnou rozšiřitelnost a\nsnadnou testovatelnost aplikací nad ním postavených. Což jsou\nnejpalčivější neduhy „klasického ASP.NET.“</p>\n\n<h3 id=\"toc-inversion-of-control-a-dependency-injection\">Inversion of Control a\nDependency Injection</h3>\n\n<p><a href=\"http://martinfowler.com/articles/injection.html\">Inversion of\nControl</a> (IoC) je tak trochu jiný pohled na programování. Když píšete\naplikaci, nepíšete ji jako program, ale jako sadu komponent, kterým\n„vdechnete život“ pomocí konfiguračního skriptu. Každá komponenta má\nv systému svoji úlohu, a pokud nám přestane její funkcionalita vyhovovat,\nlze ji velice snadno nahradit zásahem na jednom místě. Aby to bylo opravdu\ntak snadné, musí nahrazovaná komponenta splňovat určitý kontrakt –\nimplementovat rozhranní.</p>\n\n<p>Přes tato rozhranní mezi sebou jednotlivé komponenty komunikují,\nvyužívají deklarované služby, posílají si data. Jenže, jak mají\nvědět, kterou komponentu mají za daným rozhranním hledat. Ony to vědět\nnemusejí, tedy, vlastně by vůbec neměly.</p>\n\n<p>Tak potom kdo? IoC kontejner!</p>\n\n<p>Kontejner je mozkem aplikace. Je to ten jediný, který ví, které\nkomponenty splňují určité kontrakty. Jak se to doví? Při startu kontejner\nnacpeme komponentami a on nám je později na vyžádání vrací. Dokonce jde\ntak daleko, že pokud si vyžádáme komponentu, vrátí nám ji včetně všech\njejích závislostí a závislosti závislostí. :) Dostanete kompletní graf\nobjektů, které jsou pro danou chvíli potřeba k vykonání dané činnosti a\njsou v kontejneru zaregistrované.</p>\n\n<p>Kontejner se tedy stará o <strong>dependency injection</strong>. Ale není\nto jediná služba, kterou nám dokáže poskytnout. Jeho další schopností je\n<strong>řídit životnost</strong> komponent. Už nikdy více nemusíte psát\nsingletony! Pokud potřebujete singleton, řeknete kontejneru a on se o to\npostará.</p>\n\n<h3 id=\"toc-castle-windsor\">Castle Windsor</h3>\n\n<p><a href=\"http://www.castleproject.org/container/index.html\">Windsor</a> je\njedním z takových kontejnerů určený pro dotnet. Jistě najdete spoustu\nalternativních jako <a href=\"http://www.springframework.net/\">Spring.Net</a>,\n<a href=\"http://structuremap.sourceforge.net/\">StructureMap</a>, <a\nhref=\"http://www.codeplex.com/unity\">Unity</a> nebo <a\nhref=\"http://ninject.org/\">Ninject</a>. Každý z nich má své výhody, jiné\npostupy, ale i omezení. Windsor jsem si vybral z několika důvodů:</p>\n\n<ol>\n\t<li>Je součástí opensource projektu Castle,</li>\n\n\t<li>tudíž má celkem velkou komunitu uživatelů i vývojářů</li>\n\n\t<li>a navíc dokáže s dalšími projekty z Castle spolupracovat.</li>\n\n\t<li>Má širokou škálu způsobů konfigurace: programově, programově přes\n\tfluent interface, <acronym title=\"Extensible Markup Language\">XML</acronym> a\n\thlavně pomocí Binsor.</li>\n</ol>\n\n<p>Na toto téma jsem měl menší vnitrofiremní prezentaci. Slajdy z ní si\nmůže také prohlédnout.</p>\n<!--[if !IE]> -->\n \t\t\t<object type=\"application/x-shockwave-flash\"\ndata=\"http://static.slideshare.net/swf/ssplayer2.swf?doc=sexy-infrastruktura-1224961364748731-9&amp;stripped_title\"\nwidth=\"520\" height=\"434\">\n \t\t\t<!-- <![endif]-->\n \t\t\t<!--[if IE]>\n\t\t\t<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"\n\t\t\t  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\"\n\t\t\t  width=\"520\" height=\"434\">\n\t\t\t  <param name=\"movie\" value=\"http://static.slideshare.net/swf/ssplayer2.swf?doc=sexy-infrastruktura-1224961364748731-9&amp;stripped_title\" />\n\t\t\t<!--><!--dgx-->\n<param name=\"loop\" value=\"true\" />\n\n<param name=\"menu\" value=\"false\" />\n\n<param name=\"allowfullscreen\" value=\"true\" />\n\n<param name=\"flashvars\" value=\"\" />\n \t\t\t</object>\n \t\t\t<!-- <![endif]-->\n<p>O Binsoru je ve slajdech také zmínka a jednou <a rel=\"bookmark\"\ntitle=\"Binsor síla konfigurace\"\nhref=\"/weblog/293-binsor-sila-konfigurace.aspx\">už jsem o něm psal</a>.</p>\n\n<h3 id=\"toc-integrace-s-asp-net-mvc\">Integrace s ASP.NET MVC</h3>\n\n<p>A konečně se dostávám k tomu, o čem tento spot vlastně je. Jak\nintegrovat Windsor kontejner do naší webové aplikace?</p>\n\n<p>Předpokládám, že máte ASP.NET MVC projekt již ve svém studiu. Pak je\nnutné mít binárky Windsoru. Pravděpodobně budou stačit ty z <a\nhref=\"http://switch.dl.sourceforge.net/sourceforge/castleproject/CastleProject-1.0-RC3.msi\">RC3</a>.\nOsobně používám aktuální verzi z <a\nhref=\"http://svn.castleproject.org:8080/svn/castle/trunk/\">trunku</a>. Přidejte\nsi reference na knihovny <code>Castle.Core</code>,\n<code>Castle.DynamicProxy</code>, <code>Castle.MicroKernel</code> a\n<code>Castle.Windsor</code>. Pak si budeme muset vytvořit novou továrnu na\nvýrobu controllerů. Vlastně nemusíme, již je součástí <a\nhref=\"http://www.codeplex.com/MVCContrib\">MVC Contrib</a>, jen jsem jí trochu\nzjednodušil.</p>\n\n<pre\n><code class=\"language-csharp\">using System;\nusing System.Web.Mvc;\nusing System.Web.Routing;\nusing Castle.Windsor;\n\nnamespace BlogSpots.Infrastructure {\n  public class WindsorControllerFactory : IControllerFactory {\n\n    private IWindsorContainer _container;\n\n    public WindsorControllerFactory(IWindsorContainer container) {\n      if (container == null) {\n        throw new ArgumentNullException(\"container\");\n      }\n      _container = container;\n    }\n\n    public virtual IController CreateController(RequestContext context, string controllerName) {\n      controllerName = controllerName.ToLower() + \"controller\";\n      return (IController)_container.Resolve(controllerName);\n    }\n\n    public virtual void ReleaseController(IController controller) {\n      var disposable = controller as IDisposable;\n      if (disposable != null) {\n        disposable.Dispose();\n      }\n\n      _container.Release(controller);\n    }\n  }\n}</code></pre>\n\n<p>Tato továrna bude fungovat pro Windsor. Ještě ale chci přidat podporu pro\nBinsor, který je součástí <a\nhref=\"https://rhino-tools.svn.sourceforge.net/svnroot/rhino-tools/trunk/rhino-commons/\">Rhino.Commons</a>.\nK těm se dostanete přes <acronym title=\"Subversion\">SVN</acronym> a spolu\ns nimi dostanete i aktuální verzi Windsoru. Do projektu si ještě přidáme\nreference na <code>Rhino.Commons</code> a <code>Rhino.Commons.Binsor</code>. Pak\nsi ještě vytvoříme <a rel=\"bookmark\"\ntitle=\"Proč jsou statické helpery zlo?\"\nhref=\"/weblog/331-proc-jsou-staticke-helpery-zlo.aspx\">statický helper</a> pro\npráci s kontejnerem.</p>\n\n<pre\n><code class=\"language-csharp\">using System;\nusing System.Web.Mvc;\nusing Castle.Windsor;\nusing Rhino.Commons;\n\nnamespace BlogSpots.Infrastructure {\n  public static class IoC {\n    private static readonly IWindsorContainer _container;\n\n    static IoC() {\n      _container = new RhinoContainer(\"windsor.boo\");\n    }\n\n    public static IWindsorContainer Container {\n      get {\n        return _container;\n      }\n    }\n  }\n}</code></pre>\n\n<p>Tím jsme si nainicializovali kontejner s konfigurací v souboru\n<code>windsor.boo</code>. Tak, a teď už nám zbývá jen zaregistrovat\ntovárnu pro naši aplikaci a napsat konfigurační skript.</p>\n\n<p>V <code>Global.asax</code> zaregistrujeme továrnu na controllery\nnásledovně:</p>\n\n<pre\n><code class=\"language-csharp\">protected void Application_Start() {\n  ControllerBuilder.Current.SetControllerFactory(new WindsorControllerFactory(IoC.Container));\n}</code></pre>\n\n<p>Do <code>web.config</code> přidáme registraci modulu, který nám umožní\nnastavit životnost objektu na jeden request:</p>\n\n<pre\n><code class=\"language-markup\">&lt;system.webServer&gt;\n  &lt;modules&gt;\n    &lt;add name=\"PerRequestLifestyle\"\n      type=\"Castle.MicroKernel.Lifestyle.PerWebRequestLifestyleModule, Castle.MicroKernel\" /&gt;\n  &lt;/modules&gt;\n&lt;/system.webServer&gt;</code></pre>\n\n<p><em>Tato registrace je pouze pro <acronym\ntitle=\"Internet Information Services\">IIS</acronym> 7 integrated mode, je\nnutné ji ještě přidat do <code>system.web\\httpModules</code>, aby vám\nfungovala i na DevServeru.</em></p>\n\n<h3 id=\"toc-boo-na-scenu\">Boo na scénu</h3>\n\n<p>Tímto máme za sebou vše důležité, pro napsání konfiguračního\nskriptu a spuštění aplikace. Pokud chcete přidat do VisualStudia podporu pro\nBoo, ve kterém jsou Binsor konfigurační skripty psané, doporučuju stáhnout\nsi a doinstalovat <a href=\"http://www.codeplex.com/boolangstudio\">BooLang\nStudio</a>.</p>\n\n<p>Pojďme tedy k vytvoření konfiguračního souboru! V rootu aplikace si\nvytvořte soubor <code>Windsor.boo</code> a nastavíme mu vlastnost <code>Build\nAction</code> na <strong>Content</strong>, aby se nám pěkně kopíroval při\npublikování projektu. Do konfiguráku zadejte následující řádky:</p>\n\n<pre\n><code class=\"language-boo\">import System.Web.Mvc from System.Web.Mvc\n\nfor controller in AllTypesBased of Controller(\"&lt;nazev assembly MVC projektu&gt;\"):\n  component controller.Name.ToLower(), controller:\n    lifestyle PerWebRequest</code></pre>\n\n<p>Takto jsme do kontejneru zaregistrovali všechny controllery v našem MVC\nprojektu. Postupně můžeme registrovat další komponenty a budovat naší\naplikaci, ale o tom zas někdy jindy. Tedy snad…</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a rel=\"bookmark\" title=\"Binsor síla konfigurace\"\n\t\thref=\"/weblog/293-binsor-sila-konfigurace.aspx\">Binsor síla\n\t\tkonfigurace</a></li>\n\n\t\t<li><a rel=\"bookmark\" title=\"Model binders v ASP.NET MVC\"\n\t\thref=\"/weblog/336-model-binders-v-asp-net-mvc.aspx\">Model binders v ASP.NET\n\t\tMVC</a></li>\n\n\t\t<li><a rel=\"bookmark\" title=\"DSL pro konfiguraci URL Routingu v ASP.NET MVC\"\n\t\thref=\"/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx\">DSL pro\n\t\tkonfiguraci URL Routingu v ASP.NET MVC</a></li>\n\n\t\t<li><a href=\"http://martinfowler.com/articles/injection.html\">Martin Fowler:\n\t\tInversion of Control</a></li>\n\n\t\t<li><a href=\"http://boo.codehaus.org/\">Jazyk Boo</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-04T08:55:40.277-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Inversion of Control v ASP.NET MVC",
  :published #inst "2008-11-24T10:30:02.140-00:00",
  :url "inversion-of-control-v-asp-net-mvc",
  :category-url "asp-net-2-0.aspx",
  :id 332,
  :description
  "Dneska si ukážeme, jak využít modularity ASP.NET MVC k tomu, abychom mohli snadno integrovat IoC kontejner. Ten pak bude sloužit k tvorbě controllerů a injekci jejich závislostí (dependecy injection). ",
  :category "ASP.NET 2.0",
  :tags ["mvc" "ioc" "windsor" "castle" "binsor" "boo"]},
 :295-povidani-o-asp-net-na-webexpu.aspx
 {:html
  "\n<p>Je to už pár měsíců, co mě oslovil <a href=\"http://dvanula.cz/\">Vašek\nStoupa</a>, zda bych nechtěl přednášet na <a\nhref=\"http://webexpo.cz/\">WebExpu</a> o <a href=\"http://asp.net/mvc/\">ASP.NET\nMVC</a>. <a href=\"http://webexpo.cz/prednaska/asp-net/\"\ntitle=\"Přednáška o ASP.NET na WebExpo 2008\"><img\nsrc=\"http://webexpo.cz/media/images/badge_webexpo150.gif\" class=\"right\"\nalt=\"WebExpo 2008\" /></a> Zprvu jsem váhal, protože nemám žádné\nprezentační zkušenosti a tak jsem to chtěl celé hodit na <a\nrel=\"friend met\" href=\"http://www.borber.com/\">Borka</a>. Jenže pak jsem si\nvzpomněl na skvělé přednášky z MIXu, kde nebyl pouze jeden\npřednášející, ale tandem.</p>\n\n<p>Slovo dalo slovo, Vašek i Borek souhlasili a my jsme zapsaní v programu\nkonference. :) Protože ASP.NET MVC ještě není ve stabilní formě API (ta by\nměla být více méně stabilní v betafázi, která se blíží), domluvili\njsme se na tom, že probereme více věcí.</p>\n\n<p>Doufám, že se Borek nebude zlobit, když prozradím naši předběžnou\nosnovu. Můžete se k ní vyjádřit v komentářích a my ji můžete\npřípadně vylepšit. :)</p>\n\n<h3 id=\"toc-osnova\">Osnova</h3>\n\n<ol>\n\t<li>WebForms – povídání o tom, kde je vhodné použít klasické WebForms\n\ta novinkách ve verzi 3.5</li>\n\n\t<li>AJAX – povíme si, jak je integrována podpora AJAXu v ASP.NET</li>\n\n\t<li>ADO.NET Data Service – bližší seznámení s REST službami\n\tpostavenými nad ADO.NET a ukázka ve spojení s AJAXem</li>\n\n\t<li>Dynamic Data – povídání a ukázka dynamicky vytvářených\n\tadministračních rozhraní ze schématu databáze.</li>\n\n\t<li>MVC – povídání a ukázka MVC frameworku, jak se liší od WebForms a\n\tmožná i spojení s Dynamic Data, to jak zbyde čas.</li>\n</ol>\n\n<p>Pokud vás tato témata zajímají, <a\nhref=\"http://webexpo.cz/registrace/#navstevnici\">přijďte se na nás\npodívat</a>, pokud nezajímají, přijďte se podívat na koktajícího\nrarouše… ;) Každopádně tam bude spousta jiných zajímavých přednášek,\ntřeba <a rel=\"friend met\" href=\"http://davidgrudl.com/\">Davidův</a> evergreen\no <a href=\"http://nettephp.com/\">Nette Frameworku</a>.</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a href=\"http://webexpo.cz/prednaska/asp-net/\"\n\t\ttitle=\"Přednáška o ASP.NET na WebExpo 2008\">WebExpo – ASP.NET 3.5 /\n\t\tfutures</a></li>\n\n\t\t<li><a href=\"http://webexpo.cz/registrace/#navstevnici\">WebExpo – registrace\n\t\tna konferenci</a></li>\n\n\t\t<li><a href=\"http://www.borber.com/blog/webexpo-2008\">Borek Bernard – WebExpo\n\t\t2008</a></li>\n\n\t\t<li><a href=\"http://www.sindelka.cz/cz/webexpo-2008/\">Pavel Šindelka –\n\t\tWebExpo 2008</a></li>\n\n\t\t<li><a\n\t\thref=\"http://www.misantrop.info/721398-webexpo-2008-a-web-2-0-expo-2008.php\">Webexpo\n\t\t2008 a Web 2.0 Expo 2008</a></li>\n\n\t\t<li><a\n\t\thref=\"http://www.sweb.cz/pichlik/archive/2008_10_05_archive.html#3982970343313795758\">Prezentace\n\t\tSpring Framework – Enterprise Java s lidskou tváří</a></li>\n\t</ul>\n</div>\n\n<p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/webexpo\">WebExpo</a>, <a\nrel=\"tag\" href=\"http://technorati.com/tag/aspnet\">Asp.Net</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/aspnetmvc\">ASP.NET MVC</a></p>\n\n<!-- by Texy2! -->",
  :keywords "webexpo asp.net mvc",
  :edited #inst "2008-10-10T12:34:05.443-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Povídání o ASP.NET na WebExpu",
  :published #inst "2008-09-04T19:38:39.807-00:00",
  :url "povidani-o-asp-net-na-webexpu",
  :category-url "webdesign.aspx",
  :id 295,
  :description
  "Na konferenci WebExpo budu společně s Borkem Bernardem přednášet o trendech v ASP.NET se spostou zajímavých ukázek. V tomto článku můžete obsah přednášky ovlivnit...",
  :category "Webdesign",
  :tags
  ["aspnet" "mvc" "ajax" "dataservices" "dynamicdata" "webexpo"]},
 :405-nejsem-schopny-dopsat-clanek-o-continuous-integration.aspx
 {:html
  "\n<p>Je třeba si to přiznat. Nedokážu vše. Např. nedokážu odpřednášet\nnebo napsat článek o Continuous Integration. Je to škoda, protože si\nmyslím, že toho o tom víc celkem dost, dlouho to praktikuju a tak, ale\nprostě je nad moje síly dát tomu lepší formu než konzultaci či\nworkshop.</p>\n\n<p>Každopádně jsem nad tím článkem strávil spoustu času a byla by\nškoda, kdyby se nikdy nedostal k očím dychtivých čtenářů. Proto jsem se\nrozhodl, že článek uvolním pod licencí Creative Commons, nabídnu ho ke\nstažení, těm co jim nevadí špatná forma. A pokud se najde dobrá duše,\nkterá se rozhodne článek dopsat/zeditovat a publikovat <a\nhref=\"htp://zdrojak.cz\">na zdrojáku</a>, nechť tak učiní. Jen musí zachovat\nlicenci a uvést mé jméno jako spoluautora. :) Toť pro dnešek vše.</p>\n\n<p>Jo a tady je <a\nhref=\"http://cid-bf922899c9fe1222.office.live.com/self.aspx/Public/Kontinu%C3%A1ln%C3%AD%20integrace.docx?sa=83070848\">ten\nzázrak</a>.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-06-14T07:53:58.273-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nejsem schopný dopsat článek o Continuous Integration",
  :published #inst "2011-06-14T07:50:45.570-00:00",
  :url "nejsem-schopny-dopsat-clanek-o-continuous-integration",
  :category-url "moje-prace.aspx",
  :id 405,
  :description
  "Je třeba si nalát čistého vína a přiznt si, že to nedokážu. Pokud se najde někdo lepší, kdo je schopný dovést článek do zdárrného konce, tady je k dispozici.",
  :category "Moje práce",
  :tags ["ci"]},
 :263-homepage-reloaded.aspx
 {:html
  "\n<p>Už je tomu nějakej ten týden, co jsem nasadil novou sociální <a\nhref=\"/\">homepage</a>. Po úpravách, které jí měly vystavovat jako\n<code>application/xhtml+xml</code> došlo k tomu, že jsem se na ní ve\nFirefoxu už nedostal.</p>\n\n<p>Měl jsem za to, že je chyba v mém systému a že je muj FF nějakej\nnabořenej, protože u <a href=\"http://www.maciweb.cz/\">Macíka</a> to třeba\nnedělalo. Proto jsem to ani moc neřešil. Jenže jsem si jednoho dne řekl,\nže to musím rozlousknout.</p>\n\n<h3 id=\"toc-jadro-pudla\">Jádro pudla</h3>\n\n<p>Chyba nakonec nebyla pouze v mém Firefoxu, ale šlo o kombinaci Firofox +\nSilverlight. Do svého Google Analytics kódu jsem měl totiž přidaný kód,\npro <a href=\"http://www.nikhilk.net/Silverlight-Analytics.aspx\">měření\nzastoupení Silverlight</a> pluginu, který jsem vzal od Nikhila Kothariho.\nProblém byl v tom, že plugin instancioval pomocí vytvoření\n<code>embed</code> značky přes <code>innerHTML</code>. To v kombinaci s\n<code>application/xhtml+xml</code> Firefox sestřelilo.</p>\n\n<h3 id=\"toc-reseni\">Řešení</h3>\n\n<p>Když si mě včera do Twittru přidal <a href=\"http://arcao.com/\">Arcao</a>,\nnašel jsem na jeho stránkách informaci, o které jsem dosud nevěděl.\nGoogle Analytics maj novej script pro měření. Takže ten jsem použil pro\nnovou verzi meho kontrolu na měření návštěvnosti. A začal si hrát\ns ověřováním Silverlightu. U IE jsem zůstal u metody inicializace\nActiveX objektu a využití jeho API. U Firefoxu jsme na to musel trochu jinak.\nNakonec jsem využil <acronym title=\"Plug-in API\">PAPI</acronym> a vlastnost\n<code>description</code>, která vrací verzi pluginu.</p>\n\n<p>Ale verze pluginu se neshoduje s komerčním označením Silverlightu. Musel\njsem tedy ještě přidat přepočet. Zatím je to takhle:</p>\n\n<table class=\"tabulka\">\n\t<thead>\n\t\t<tr>\n\t\t\t<th>Plug-in</th>\n\n\t\t\t<th>Silverlight</th>\n\t\t</tr>\n\t</thead>\n\n\t<tbody>\n\t\t<tr>\n\t\t\t<td>0.80</td>\n\n\t\t\t<td>WPF/e</td>\n\t\t</tr>\n\n\t\t<tr>\n\t\t\t<td>0.90</td>\n\n\t\t\t<td>Silverlight 1.0</td>\n\t\t</tr>\n\n\t\t<tr>\n\t\t\t<td>0.95</td>\n\n\t\t\t<td>Silverlight 1.1</td>\n\t\t</tr>\n\n\t\t<tr>\n\t\t\t<td>1.00</td>\n\n\t\t\t<td>Silverlight 2.0</td>\n\t\t</tr>\n\t</tbody>\n</table>\n\n<p>No a výsledný kód po nějaké kompresi vypadá takto:</p>\n\n<pre\n><code class=\"language-markup\">&lt;%@ Control Language=\"C#\" %&gt;\n&lt;script runat=\"server\"&gt;\nprivate string _ua;\npublic string UserAccount {\n  get { return _ua; }\n  set { _ua = value; }\n}\n&lt;/script&gt;\n&lt;script src=\"http://www.google-analytics.com/ga.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n&lt;% if (Page.Response.ContentType.ToLower() == \"text/html\") { %&gt;&lt;!--&lt;% } else { %&gt;// &lt;![CDATA[ &lt;% } %&gt;\ntry{var t=_gat._getTracker(\"&lt;%= UserAccount %&gt;\"),v=(function (){var v='',n={},s='Silverlight',a='AgControl',b=s+' Plug-In',x=['2.0','1.1','1.0'];n.a=window.navigator.userAgent;n.p=navigator.plugins;\ntry {if(n.a.indexOf('MSIE')&gt;=0){var c=new ActiveXObject(a+'.'+a);if(c)for(var i=0;i&lt;sv.length;i++)if(c.isVersionSupported(x[i])){v=s+'/'+x[i];break;}}\nelse if(n.p[b]){v=n.p[b].description;var d=v.split('.');if(d.length&gt;0)v=d[0]=='1'?s+'/2.0':d[0]=='0'&amp;&amp;d[1]=='95'?s+'/1.1':d[0]=='0'&amp;&amp;d[1]=='90'?s+'/1.0':d[0]=='0'&amp;&amp;d[1]=='80'?'WPF/E':'';}\n}catch(e){}return v;})(),a=t._addOrganic,b=t._setVar,q='q',s='s';\na('seznam.cz',q);a('centrum.cz',q);a('jyxo.cz',s);a('atlas.cz',q);a('zoohoo.cz',q);a('tiscali.cz','query');a('1.cz',q);a('volny.cz','search');\na('zoznam',s);a('atlas.sk','phrase');a('centrum.sk',q);a('morfeo.sk',q);a('szm','ws');a('azet',s+q);a('zoohoo.sk',q);\nt._initData();t._trackPageview();if(v)b(v);}catch(e){}\n&lt;% if (Page.Response.ContentType.ToLower() == \"text/html\") { %&gt;// --&gt;&lt;% } else { %&gt;// ]]&gt;&lt;% } %&gt;\n&lt;/script&gt;</code></pre>\n\n<p>Snad se bude hodit.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:40:08.170-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Homepage reloaded",
  :published #inst "2008-04-09T11:34:07.417-00:00",
  :url "homepage-reloaded",
  :category-url "webdesign.aspx",
  :id 263,
  :description
  "Konečně se mi podařilo odstranit nepříjemný bug na mojí nedávno spuštěné homepage. Analytics teď trackují bezproblémů a počítají i zastoupení Silverlightu.",
  :category "Webdesign",
  :tags ["silverlight" "analytics" "aspnet"]},
 :129-zaciname-s-atlasem.aspx
 {:html
  "\n<p><a href=\"http://atlas.asp.net/\">Atlas</a> je kódové označení pro\n<del>budoucí verzi ASP.NET, ale v&#160;současnosti je to</del> client side\nframework, který je nadstavbou pro ASP.NET 2.0. Atlas je produktem Microsoftu\na je ve fázi vývoje, v&#160;současné době je však dostatečně stabilní\na dopředně kompatibilní na to, abychom se s&#160;ním mohli seznámit a\nvytvářet aplikace. Současná verze oplívá „go-live“ licencí, takže\naplikace v&#160;něm vytvořené mohou být bez omezení nasazeny na\nprodukční servery.</p>\n\n<p>Atlas se koncepčně dělí na dvě části – klientskou a serverovou.\n<em>Klientská část</em> může bez problémů fungovat bez serverové,\nnaopak to ale neplatí. Základem Atlasu je tedy JavaScriptový framework,\nkterý si klade za cíl ulehčit vývoj tzv. AJAXových aplikací. Podobnou\niniciativou je např. <a href=\"http://prototype.conio.net/\">Prototype</a>,\nkterý vznikl u&#160;tvůrců Ruby on Rails.</p>\n\n<p>Framework samotný je rozdělen do několika vrstev: <img style=\"float:right\"\nsrc=\"/data/obrazky/atlas_klient.png\" alt=\"image\" /></p>\n\n<dl>\n\t<dt>Vrstva kompatibility</dt>\n\n\t<dd>Má na starosti vyrovnat rozdíly v&#160;implementaci JavaScriptu\n\tv&#160;různých prohlížečích. V&#160;současnosti podporuje\n\tInternetExplorer, Mozillu/Firefox a Safari. Opera je zatím mimo hru, ale snad\n\tse to s&#160;příchodem deváté verze změní (ta už by měla podporovat\n\tobjekt XmlHTTPRequest).</dd>\n\n\t<dt>Vrstva OOP</dt>\n\n\t<dd>Asi nejvíce kontroverzní vrstva, která se snaží přinést do\n\tJavaScriptu základy <acronym\n\ttitle=\"Objektově orientované programování\">OOP</acronym>. Přináší\n\tmožnosti dědičnosti, namespacy, abstraktní třídy a rozhranní :)</dd>\n\n\t<dt>Vrstva komponent</dt>\n\n\t<dd>Tato vrstva přináší klientské komponenty pro tvorbu uživatelského\n\trozhranní. Namátkou ListView, Timer, Button, Hyperlink aj. Tyto komponenty se\n\tpoužívají pouze na straně skriptů a jsou virtualizací struktur popsaných\n\tpomocí XHTML. Ne všechny komponenty jsou vizuální a jejich počet není\n\tkonečný, můžete si snadno vytvořit komponenty vlastní.</dd>\n\n\t<dt>Datová vrstva</dt>\n\n\t<dd>Má za úkol přistupovat k&#160;datům zprostředkovaným webovými\n\tslužbami a následně je zpřístupnit ve tvaru, se kterým je JavaScript\n\tschopný pracovat. V&#160;současné době dokáže Atlas bez problémů\n\tkonzumovat data z&#160;ASP.NET Webservices a <acronym\n\ttitle=\"Windows Communication Fundation\">WCF</acronym> a pomocí bridges\n\ti&#160;se službami třetích stran. Ale tento výrok není zcela přesný,\n\tAtlas prostě zvládne přijímat data ve formátech XML a <acronym\n\ttitle=\"JavaScript Object Notation\">JSON</acronym>, což jsou standardní\n\tformáty pro AJAXovou komunikaci.</dd>\n\n\t<dt>Deklarativní vrstva</dt>\n\n\t<dd>Tato vrstva si klade za cíl usnadnit programování tzv. deklarativní\n\tmetodou – něco jako XAML nebo XUL u&#160;tlustých klientů – a\n\tpřináší XML-Script. V&#160;tomto skriptu se nejsnadněji deklarují\n\tkomponenty, které jsou součástí stránky, jejich chování a svázání\n\ts&#160;daty a XHTML šablonami.</dd>\n</dl>\n\n<p>Tak to by měla být klientská část, která je nezávislá na platformě\nASP.NET. Doufám, že jsem na nic nezapomněl. Nad tím vším je postavena\n<em>serverová část</em>. Jedná se o&#160;sadu komponent – tzv.\nExtenderů. Extendery jsou typy komponent, které jsou časté ve WinFormových\naplikacích, a v&#160;podstatě rozšiřují funkčnost jiných komponent.\nNapř. aplikací <code>AutoCompleteExtender</code>u&#160;na\n<code>TextBox</code> dostaneme <em>TextBox s&#160;našeptávačem</em>.</p>\n\n<p>Základní komponentou je <code>ScriptManager</code>, bez něho jsou všechny\nkomponenty mrtvé. Ve ScriptManageru se připojují JavaScriptové knihovny a\nkomponenty, webové služby jako zdroje dat a definuje se zde šablona pro\nchybové hlášky. ScriptManager z&#160;těchto informací generuje výsledný\nXML-Script a načítá potřebné skripty z&#160;Assembly. (Klientská část\nAtlasu je pro potřeby ASP.NET zakompilovaná v&#160;Assembly a volaná pomocí\nhandleru WebResource.axd.)</p>\n\n<p>Tak a to by pro začátek mohlo stačit. Dnes jsme sfoukli takové uvedení\ndo problematiky, v&#160;příštím díle se podíváme na zoubek už\npraktickým ukázkám a začneme s&#160;nejsilnější komponentou &#8211;\n<code>UpdatePanel</code>. Ukážeme si, jak se pomocí něho dají snadno\npřevést současné ASP.NET aplikace na AJAXové.</p>\n\n<h3>Zajímavé odkazy</h3>\n\n<ul>\n\t<li><a href=\"http://atlas.asp.net/\">ASP.NET Atlas</a> &#8211; hlavní stránka\n\tprojektu</li>\n\n\t<li><a href=\"http://www.nikhilk.net/Category.ASPNET.aspx\">Nikhil Kothari</a>\n\t&#8211; hlavní architekt Atlasu</li>\n\n\t<li><a href=\"http://weblogs.asp.net/scottgu/\">Scott Guthrie</a> &#8211; šéf\n\tvývoje ASP.NET, ISS a Visual WebDeveloper</li>\n\n\t<li><a href=\"http://weblogs.asp.net/atlas/\">Atlas Announcements</a> &#8211;\n\tstránka s&#160;novinkami o&#160;Atlasu</li>\n</ul>\n\n<p>Zajímavých odkazů mám daleko víc, ale ty až v&#160;dalším díle\n;)</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-12T08:00:01.930-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Začínáme s Atlasem",
  :published #inst "2006-04-07T15:36:40.543-00:00",
  :url "zaciname-s-atlasem",
  :category-url "asp-net-2-0.aspx",
  :id 129,
  :description "První díl seriálu o Atlas Frameworku.",
  :category "ASP.NET 2.0",
  :tags []},
 :112-url-mania.aspx
 {:html
  "\n<p>Včera jsem se konečně dokopal k&#160;tomu, abych zprovoznil URL Rewriting.\nDíky tomu přes noc nefungovaly webové služby včetně syndikační, ale\nteď už by mělo být vše v&#160;pořádku. Pokud naleznete nějakou chybu,\nnapište mi prosím o&#160;ní.</p>\n\n<p>V&#160;současné době fungují na těchto stránkách asi tak čtyři verze\nURL krát dvě, protože vše jde requestovat i&#160;přes doménu\nrarous.aspweb.cz. To jen tak pro zajímavost. Říkám si, že takhle se\nkloudnýho PageRanku nedočkám, ale o&#160;ten mi stejně nejde :) Stejně to\nještě neni finální podoba jakou bych si představoval, ale na tu už\nmomentálně nezbýva čas&#8230;</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-02-23T10:52:06.503-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "URL Mania",
  :published #inst "2006-02-23T10:52:06.490-00:00",
  :url "url-mania",
  :category-url "gryphoon.aspx",
  :id 112,
  :description "O URL na mých stránkách.",
  :category "Gryphoon",
  :tags []},
 :35-stastne-a-vesele.aspx
 {:html
  "\n<p>Přeji šťastné a veselé prožití svátků Vánočních všem lidem\ndobré vůle i&#160;těm ostatním.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:49:49.440-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Šťastné a veselé",
  :published #inst "2004-12-24T00:00:00.000-00:00",
  :url "stastne-a-vesele",
  :category-url "jen-tak.aspx",
  :id 35,
  :description
  "Přeji šťastné a veselé prožití svátků Vánočních všem lidem dobré vůle i těm ostatním. ",
  :category "Jen tak",
  :tags []},
 :338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx
 {:html
  "\n<p>Binsor je skvělou <a rel=\"bookmark\"\ntitle=\"Inversion of Control v ASP.NET MVC\"\nhref=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">konfigurační DSL\npro Windsor IoC</a> kontejner. Proč nevyužít možností, které nám\nvyužití jazyka <a href=\"http://boo.codehaus.org/\">Boo</a> přináší a\nnerozšířit si Binsor o pár dalších pravidel pro konfiguraci <a\nrel=\"bookmark\" title=\"URL Routing v ASP.NET MVC\"\nhref=\"/weblog/296-url-routing-v-asp-net-cast-prvni.aspx\">routingu v ASP.NET\nMVC</a>?</p>\n\n<h3 id=\"toc-routing-v-asp-net-mvc\">Routing v ASP.NET MVC</h3>\n\n<p><code>System.Web.Routing</code> je jedním ze základních kamenů ASP.NET\nMVC. Přijímá parametry z URL a posílá je <code>MvcRouteHandler</code>u,\nkterý vybere controller a jeho akci, která má požadavek zpracovat. Routing\nje na MVC nezávislý a využívá se třeba i v ASP.NET Dynamic Data.</p>\n\n<p>Pokud chceme routing nakonfigurovat, máme několik možností, jak toho\ndosáhnout. Tou první je využít standardní API:</p>\n\n<pre\n><code class=\"language-csharp\">public void Application_Start() {\n  RouteTable.Routes.Add(\n    new Route(\"{resource}.axd/{*pathInfo}\", new StopRoutingHandler())\n  );\n\n  RouteTable.Routes.Add(\"default\",\n    new Route(\"{controller}/{action}/{id}\", new MvcRouteHandler()) {\n      Defaults = new RouteValueDictionary(new {\n        controller = \"Home\",\n        action = \"Index\"\n      })\n    }\n  );\n}</code></pre>\n\n<p>Jak jistě vidíte, psát takto routovací pravidla je celkem na dlouho. Kód\nobsahuje zbytečně mnoho šumu a můžete snadno něco opomenout. Proto je\nsoučástí MVC frameworku několik extenzí, které mají konfiguraci\nusnadnit:</p>\n\n<pre\n><code class=\"language-csharp\">public void Application_Start() {\n  RouteTable.Routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\n  RouteTable.Routes.MapRoute(\n    \"default\",\n    \"{controller}/{action}/{id}\",\n    new { controller = \"Home\", action = \"Index\" }\n  );\n}</code></pre>\n\n<p>Takový kód už je o poznání kratší, většina šumu už je pryč, ale\nstejně tu zůstává několik zbytečných znaků a na první pohled není\nvidět, co vlastně je ta anonymní třída. Navíc jde o konfiguraci a ta by\nsi zasloužila být v konfiguračním souboru. Změna routy si pak nevyžádá\nrekompilaci aplikace, ale pouze restart… Proto jsem se rozhodl vytvořit si\nvlastní konfigurační <acronym title=\"Domain Specific Language\">DSL</acronym>\na to za pomocí Boo.</p>\n\n<h3 id=\"toc-krok-prvni-navrh-dsl\">Krok první: návrh DSL</h3>\n\n<p>Začněme tedy s tím, jak by taková DSL měla vypadat. To, co má dělat,\nje už nastíněno výše. První můj návrh vypadal asi takto:</p>\n\n<pre\n><code class=\"language-boo\">ignore:\n  route \"{resource}.axd/{*pathInfo}\"\n\nmap:\n  route \"Default\", \"{controller}/{action}/{id}\":\n    defaults:\n      controller = \"Home\"\n      action = \"Index\"</code></pre>\n\n<p>Bloky <code>ignore</code> a <code>map</code> by mohli mít vícero potomků\n<code>route</code>. Tuto variantu jsem však záhy zapověděl, protože\nvyžaduje zbytečné odsazení navíc a v delších konfiguracích už nemusí\nbýt jasné, jestli zrovna jsme v bloku <code>ignore</code> nebo\n<code>map</code> popřípadě jiném. Tak jsem nad tím přemýšlel a nakonec\nzvolil následující variantu:</p>\n\n<pre\n><code class=\"language-boo\">ignore_route \"{resource}.axd/{*pathInfo}\"\n\nmap_route \"Default\", \"{controller}/{action}/{id}\":\n  defaults:\n    controller = \"Home\"\n    action = \"Index\"</code></pre>\n\n<p>Takže syntaxi bych měl, teď přijde ta veselejší část:\nimplementace.</p>\n\n<h3 id=\"toc-krok-druhy-implementace-dsl\">Krok druhý: implementace DSL</h3>\n\n<p>Jedním z důvodů proč jsou oblíbené dynamické jazyky jako Ruby a\nPython je meta programování. Meta programování nám umožňuje vytvářet\nnové programové konstrukce v jazyku, zkrátka obohatit jeho sémantiku. Já\nsi pro implementaci vybral Boo.</p>\n\n<p>Ačkoli je Boo statický jazyk, díky otevřenému konceptu kompilátoru,\nmůžeme jazyk obohacovat stejně efektivně, jako v jazyce dynamickém.\nVýhodou je, že gramatickou správnost našich rozšíření můžeme ověřit\npři kompilaci. Základním kamenem při tvorbě vlastních DSL jsou <em>meta\nfunkce</em>, které jsem však nepoužil, a <em>makra</em>.</p>\n\n<p><a href=\"http://boo.codehaus.org/Syntactic%20Macros\">Makro</a> je třída.\nAno lze ho napsat v jakémkoli jazyce nad <acronym\ntitle=\"Common Laguage Infrastructure\">CLI</acronym>. Stačí nám implementovat\nrozhraní <code>IAstMacro</code> a třídu pojmenovat s konvenčním\npřídomkem <code>Macro</code>, např. <code>Map_routeMacro</code>.\nV implementovaných metodách si pak můžete dle libosti hrát s <acronym\ntitle=\"Abstract Syntax Tree\">AST</acronym>. Takhle je v C# napsanej třeba\nBinsor. Já jsem však k implementaci routovacích maker zvolil přímo jazyk\nBoo, který má od verze 0.8.1 podporu pro snadné psaní maker přímo\nv jazyce.</p>\n\n<p>Začneme jednodušším makrem pro ignorování routy:</p>\n\n<pre\n><code class=\"language-boo\">import Boo.Lang.Extensions\nimport Boo.Lang.Compiler\nimport Boo.Lang.Compiler.Ast\nimport Boo.Lang.Compiler.Ast.Visitors\n\nmacro ignore_route:\n  path, = ignore_route.Arguments\n  block = Block()\n  block.Add([| RouteTable.Routes.Add(Route($path, StopRoutingHandler())) |])\n  return block</code></pre>\n\n<p>Pro snadnější pochopení si kód trochu popíšeme. Na prvních řádkách\nsi naimportujeme potřebné jmenné prostory. Klíčovým slovem\n<code>macro</code> zahájíme psaní makra a v zápětí mu přiřadíme\njméno, protože, co dokážeme pojmenovat, dokážeme ovládat. Pak si načteme\nprvní parametr a uložíme si ho do proměnné <code>path</code>. Pak si\nvytvoříme nový blok kódu. A teď začíná magic. Všechno co je v bloku\n<code>[| … |]</code> je normální kód v Boo, který se převede na AST.\nPomocí <code>$</code> lze do toho kódu zasahovat zvenčí, takže místo\n<code>$path</code> bude v kódu obsah proměnné <code>path</code>.\nPřipravený blok kódu pak vrátíme kompilátoru.</p>\n\n<p>Díky našemu makru se kód <code>ignore_route \"test\"</code> přeloží na\n<code>RouteTable.Routes.Add(Route(\"test\", StopRoutingHandler()))</code> a pokud\nje naimportován jmenný prostor <code>System.Web.Routing</code>, kompilátor\nvšemu rozumí a máme jednoduchou syntaxi pro definování\nignorovaných rout.</p>\n\n<p>Bylo to celkem snadné, že? Satačí pochopit základní princip. Ono totiž\nklíčové slovo <code>macro</code> není nic jiného než makro, které bere\njako první parametr název makra a následující blok je de facto\nimplementací metody <code>Expand</code>. :)</p>\n\n<p>Postoupíme dál. Makro <code>map_route</code> už bude o něco větší\noříšek, protože může obsahovat vnořené bloky <code>defaults</code>, kde\njsou vypsané výchozí hodnoty parametrů routy, a <code>constraints</code>,\nkde jsou podmínky, které tyto parametry musejí splňovat.</p>\n\n<pre\n><code class=\"language-boo\">macro map_route:\n  name, path = map_route.Arguments\n  defaults = map_route[\"defaults\"] as MacroStatement or MacroStatement()\n  constraints = map_route[\"constraints\"] as MacroStatement or MacroStatement()\n\n  block = Block()\n  block.Add([| route = Route($path, MvcRouteHandler()) |])\n  block.Add([| route.Defaults = RouteValueDictionary() |])\n  block.Add([| route.Constraints = RouteValueDictionary() |])\n\n  for exp as ExpressionStatement in defaults.Block.Statements:\n    binary = exp.Expression as BinaryExpression\n    block.Add([| route.Defaults.Add($(binary.Left.ToString()), $(binary.Right)) |])\n\n  for exp as ExpressionStatement in constraints.Block.Statements:\n    binary = exp.Expression as BinaryExpression\n    block.Add([| route.Constraints.Add($(binary.Left.ToString()), $(binary.Right)) |])\n\n  block.Add([| RouteTable.Routes.Add($name, route) |])\n\n  return block\n\nmacro defaults:\n  allowedParents as List = [ \"map_route\" ]\n  parent as MacroStatement = defaults.GetAncestor(NodeType.MacroStatement)\n  assert allowedParents.Contains(parent.Name)\n\n  parent[\"defaults\"] = defaults\n\nmacro constraints:\n  allowedParents as List = [ \"map_route\", \"ignore_route\" ]\n  parent as MacroStatement = constraints.GetAncestor(NodeType.MacroStatement)\n  assert allowedParents.Contains(parent.Name)\n\n  parent[\"constraints\"] = constraints</code></pre>\n\n<p>Makro <code>map_route</code> je trošku rozšířenou obdobou\n<code>ignore_route</code>, podívejme se na makro <code>defaults</code>, které\npřináší něco jiného. Zprvu si nadefinujeme, jaká makra mohou toto makro\nobsahovat, a následně ověříme, že opravdu není v jiném makru. Pak\nvezmeme kód tohoto makra a pošleme ho ke zpracování nadřazenému makru.\nŽádný kód generovat nebudeme. Makro <code>constraints</code> je na tom\ntéměr stejně, jen předpokládá, že bude i v <code>ignore_route</code>,\ncož zatím není implementováno, ale budiž.</p>\n\n<p>Vraťme se k makru <code>map_route</code> a konkrétně k <code>for</code>\ncyklům. Tam totiž projíždíme předané kusy kódu. Jednotlivé řádky\npovažujeme za výrazy. Konkrétně výraz přiřazení, což je binární\nvýraz. Binární výraz má vždy pravou a levou stranu a operátor. Na levé\nstraně máme klíče do <code>RouteValueDictionary</code>, což jsou řetězce.\nProto levou stranu musíme převést na řetězec metodou\n<code>ToString()</code>. Pravá strana je hodnota přidružená ke klíči a\nmůže to být cokoli (<code>object</code>). Takže tam i cokoli pošleme.</p>\n\n<p>Vezmeme oba kusy kódu a uložíme je do souboru\n<code>RoutingMacros.boo</code></p>\n\n<h3 id=\"toc-krok-treti-uzivani-dsl\">Krok třetí: užívání DSL</h3>\n\n<p>Než začneme makra využívat, musíme si je nejprve naimportovat. Na\nzačátek souboru <code>Windsor.boo</code> přidáme řádky:</p>\n\n<pre\n><code class=\"language-boo\">import file from RoutingMacros.boo\nimport System.Web.Routing\nimport System.Web.Mvc</code></pre>\n\n<p>No a potom už můžeme na konci souboru přidávat routovací pravidla.</p>\n\n<h3 id=\"toc-update\">Update</h3>\n\n<p>Kompletní skripty pro routování naleznete v článku <a rel=\"bookmark\"\ntitle=\"Oprava předchozích článků\"\nhref=\"/weblog/341-oprava-predchozich-clanku.aspx\">Oprava předchozích\nčlánků</a>, kde jsem provedl několik oprav v makru\n<code>ignore_route</code> a lehký refactoring.</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a rel=\"bookmark\" title=\"URL Routing v ASP.NET MVC\"\n\t\thref=\"/weblog/296-url-routing-v-asp-net-cast-prvni.aspx\">URL Routing v ASP.NET\n\t\tMVC</a></li>\n\n\t\t<li><a rel=\"bookmark\" title=\"Inversion of Control v ASP.NET MVC\"\n\t\thref=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">Inversion of Control\n\t\tv ASP.NET MVC</a></li>\n\n\t\t<li><a rel=\"bookmark\" title=\"Model Binders v ASP.NET MVC\"\n\t\thref=\"/weblog/336-model-binders-v-asp-net-mvc.aspx\">Model Binders v ASP.NET\n\t\tMVC</a></li>\n\n\t\t<li><a rel=\"bookmark\" title=\"Oprava předchozích článků\"\n\t\thref=\"/weblog/341-oprava-predchozich-clanku.aspx\">Oprava předchozích\n\t\tčlánků</a></li>\n\n\t\t<li><a href=\"http://boo.codehaus.org/\">Boo</a></li>\n\n\t\t<li><a href=\"http://boo.codehaus.org/Syntactic%20Macros\">Boo Macros</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-14T16:45:00.120-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "DSL pro konfiguraci URL Routingu v ASP.NET MVC",
  :published #inst "2008-12-27T15:11:56.423-00:00",
  :url "dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc",
  :category-url "webdesign.aspx",
  :id 338,
  :description
  "Binsor je skvělou konfigurační DSL pro Windsor IoC kontejner. Proč nevyužít možností, které nám využití jazyka Boo přináší a nerozšířit si Binsor o pár dalších pravidel pro konfiguraci routingu v ASP.NET MVC?",
  :category "Webdesign",
  :tags ["boo" "bindor" "aspnet" "routing" "mvc"]},
 :330-komponenty-a-nastroje-od-devexpress-zdarma.aspx
 {:html
  "\n<p>Firma DevExpress je známá vývojem vizuálních komponent – v poslední\ndobě zejména pro dotnet, ale dříve také např. pro VCL nebo Delphi. Další\njejich aktivitou jsou nástroje pro zvýšení produktivity práce CodeRush a\nRefactor! Pro, což jsou plug-iny do Visual Studia. No a nedávno došlo\nk uvolnění bezplatné sady komponent a express verze nástrojů.</p>\n\n<h3 id=\"toc-vizualni-komponenty-pro-asp-net\">Vizuální komponenty pro\nASP.NET</h3>\n\n<p><a\nhref=\"http://www.devexpress.com/Products/Free/WebRegistration60/\">Balíček\nbezplatných komponent</a> obsahuje 21 kusů, jako tag cloud, menu,\nstránkovač, záložky, rss čtečku nebo callback panel. Určitě jsou mnohé\nz nich užitečné. :) Integrují se do toolboxu VS 2005 i 2008. <a\nhref=\"http://www.devexpress.com/Products/Free/WebRegistration60/\">Stáh­nout</a>\nsi je můžete zdarma po vyplnění registrace (jméno a e-mailová adresa).</p>\n\n<h3 id=\"toc-nastroje-pro-zvyseni-produktivity\">Nástroje pro zvýšení\nproduktivity</h3>\n\n<p>Pokud jste viděli videa o VS 2010, možná jste si všimli, že bude\npodporovat spoustu pěkných code snippets, příkazy pro generování kódu\npřes smart tagy apod. Tohle a mnohem víc umí už léta CodeRush.\nA DevExpress nyní přišli Xpress verzí, která přináší zdarma vybrané\nfunkce zdarma. Je to třeba:</p>\n\n<dl>\n\t<dt>inteligentní vkládání ze schránky</dt>\n\n\t<dd>když napíšete sadu fieldů a zkopírujete ji a pak vložíte do\n\tkonstruktru, automaticky se vytvoří inicializace těchto fieldů,</dd>\n\n\t<dt>navigace po referencích</dt>\n\n\t<dd>kurzorem najedete do názvu proměnné a pomocí klávesy <code>TAB</code>\n\tpřeskakujete po všech jejích výskytech,</dd>\n\n\t<dt>generování kódu</dt>\n\n\t<dd>to se hodí při TDD stylu práce, kdy napíšete test pro neexistující\n\ttřídy a metody a necháte si je přes smart tag vygenerovat,</dd>\n\n\t<dt>inteligentní selekce</dt>\n\n\t<dd>numerickou klávesou <code>+</code> se označí nejbližší logická\n\tjednotka, a opakovaným stiskem třeba celý řádek, potom blok a tak dále,\n\thodí se to třeba při psaní LINQ dotazů, které pak třeba chcete vložit do\n\tzávorky a zavolat třeba metodu <code>Take</code> nebo <code>ToList</code>.\n\tZmáčknete třikrát <code>+</code> a pak <code>(</code> a celý LINQ dotaz je\n\tozávorkovaný.</dd>\n</dl>\n\n<p>Krom výše zmiňované funkcionality CodeRush jsou přibaleny i některé\nskvělé refaktoringy z Refactor! Pro. Z těch zajímavějších vyberu třeba\nkonverzi delegáta na lambda výraz, vytvoření lokální proměnné\nz označeného kusu kódu, komprimace na samo implementující property,\npřevod ternárního operátoru na <code>if</code> a zase zpátky, přesun typu\ndo samostatného souboru a další užitečné refactoringy.</p>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p>Osobně jsem spokojeným vlastníkem plné verze <a\nhref=\"http://devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/\">CodeRush\na Refactor!</a> Pro a používám spoustu dalších vychytávek, které\nv bezplatné verzi nejsou, ale i tak může být velice zajímavá, protože\nspousta věcí je velice návykových, a když je to zadarmo…</p>\n\n<p>No prostě doporučuju minimálně alespoň vyzkoušet.</p>\n\n<p><em>Poznamka: Vzhledem k licenční politice Microsoftu, nefunguje CodeRush\nXpress v Express edicích Visual Studia. Pro jejich použití potřebujete\nalespoň Standard verzi.</em></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-11-17T07:24:35.773-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Komponenty a nástroje od DevExpress zdarma",
  :published #inst "2008-11-16T18:53:16.813-00:00",
  :url "komponenty-a-nastroje-od-devexpress-zdarma",
  :category-url "webdesign.aspx",
  :id 330,
  :description
  "Firma Developer Express uvolnila sadu vizuálních koponent jak pro WinForms, tak pro WebForms a aby toho nebylo málo, tak i Xpress verzi skvělého CodeRush.",
  :category "Webdesign",
  :tags ["coderush" "refactor" "vs2008"]},
 :202-osecenske-stranky-ziskaly-oceneni-v-krajskem-kole-souteze-zlaty-erb-2007.aspx
 {:html
  "\n<blockquote>\n\t<p>Ve čtvrtek 15. 3. 2007 se konalo na Krajském úřadě Libereckého kraje\n\tvyhlášení krajského kola soutěže Zlatý erb 2007. Byli zde přítomni\n\tvšichni ocenění ze všech kategorií. Ceny v několika kategoriích\n\tudíleli: hejtman Libereckého kraje Petr Skokan, Radim Zika – náměstek\n\thejtmana pověřeného vedením resortu rozvoje venkova, zemědělství,\n\tživotního prostředí a informatiky, Bohdan Tomáš – ředitel KÚLK, Jan\n\tSavický z pořádajícího sdružení Zlatý erb a zástupci\n\tsponzorských firem.</p>\n\n\t<p>Vzhledem k tomu, že Osečná na podzim minulého roku získala titul\n\tměsto, byla hodnocena v kategorii měst. Přes nesrovnatelné porovnaní\n\tpodmínek zpracovatelů byla hodnocena Osečná na třetím místě za Jabloncem\n\tnad Nisou a Českou Lípou, městy III. typu, které mají se svoji prezentací\n\tjiž veliké zkušenosti. V již jmenovaných bývalých okresních městech se\n\to stránky starají školení pracovníci pověřených odborů, zatímco\n\tv Osečné vytvořili stránky obce dva nadšenci Aleš Roubíček z Druzcova\n\ta Jiří Hauzer z Osečné ve svém volném čase, kteří průběžně tyto\n\tživé stránky aktualizují. Tato skutečnost stojí v dnešní uspěchané\n\tdobě za zamyšlení a určitě je obrazem dobře se rozvíjející občanské\n\tspolečnosti.</p>\n</blockquote>\n\n<p>Zdroj: Liberecký den</p>\n\n<h3 id=\"toc-souvisejici\">Související</h3>\n\n<ul>\n\t<li><a href=\"http://tuni.vslib.cz/clanek/2764/\">Studenti TUL vyhráli nad\n\tprofesionály</a></li>\n\n\t<li><a href=\"http://www.osecna.info/\">Stránky města Osečná</a></li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:41:51.337-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title
  "Osečenské stránky získaly ocenění v krajském kole soutěže Zlatý erb 2007 ",
  :published #inst "2007-03-21T13:21:28.827-00:00",
  :url
  "osecenske-stranky-ziskaly-oceneni-v-krajskem-kole-souteze-zlaty-erb-2007",
  :category-url "jen-tak.aspx",
  :id 202,
  :description "no comment :)",
  :category "Jen tak",
  :tags ["zlatyerb" "osecna"]},
 :224-druha-sance-pro-brno.aspx
 {:html
  "\n<p>V pátek jsem se rozhodl dát Brnu druhou šanci a vyrazil na Elektru do\nFlédy. Musím uznat že tato akce byla zdařilejší než <a\nhref=\"/weblog/203-cybertronic-ii-nejlepsi-parba-roku.aspx\">rozpačitý\nCybertronic II</a>. Bohužel nejel s námi <a\nhref=\"http://mikemaly.net/\">Mike</a>. Tak jsme u alespoň často telefonovali.\n:) Jel jsem tam hlavně na vystoupení <a href=\"http://dj.tomivega.com/\">Tommiho\nVegy</a> a <a href=\"http://www.djorbith.com/\">Orbitha</a>, jenže jak jsem pak\npoznal, oba hráli ve stejný čas, tak jsem víc času trávil u Tommiho. :)\nPřece jen Orbitha mám tu čest potkávat živě častěji. Tommi Vega hrál na\nbarové stagi, před mím se to tam snažil rozpumpovat Shala – jeho setík\njsem si náramně užíval, páč hrál spoustu mejch oblíbenejch kousků,\nkterý v poslední době točím.</p>\n\n<p>Tommi začínal Phantomem od Justice a lidi začínal pomalu roztancovávat.\nJak jsem si stačil všimnout, na Flédě bylo celkem dost lidí ale jen malé\nprocento tancovalo a to se mi moc nelíbí. Nemám rád stojící čumily.\nBrněnky jsou celkem sympatická, akurát jsou z Brna… :( Domů jsme se\nvydali už před druhou hodinou, takže dál už nevim, jaký to bylo. :)</p>\n\n<div><embed type=\"application/x-shockwave-flash\"\nsrc=\"http://picasaweb.google.com/s/c/bin/slideshow.swf\" width=\"400\" height=\"267\"\nflashvars=\"host=picasaweb.google.com&amp;RGB=0x333333&amp;feed=http%3A%2F%2Fpicasaweb.google.com%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5116008328804765169%3Fkind%3Dphoto%26alt%3Drss\"\npluginspage=\"http://www.macromedia.com/go/getflashplayer\" /></div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T13:58:22.960-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Druhá šance pro Brno",
  :published #inst "2007-09-30T17:04:39.280-00:00",
  :url "druha-sance-pro-brno",
  :category-url "muzika.aspx",
  :id 224,
  :description
  "V pátek jsem se rozhodl dát Brnu druhou šanci a navštívil jsem Elektru.",
  :category "Muzika",
  :tags []},
 :444-manifest-nejen-objektove-orientovaneho-vyvoje.aspx
 {:html
  "\n<p>Narazil jsem na velmi zajímavý <a href=\"http://notonlyoo.org/\">manifest\nNejen objektově orientovaného vývoje</a> a myslím, že by neměl ujít\npozornosti ani tady v československu.</p>\n\n<h3 id=\"toc-preklad-manifestu\">Překlad Manifestu</h3>\n\n<p>Objevujeme lepší způsoby vývoje software tím, že jej tvoříme a\npomáháme při jeho tvorbě ostatním. Při této práci jsme dospěli\nk těmto hodnotám:</p>\n\n<ul>\n\t<li><strong>Funkce a typy</strong> před třídami</li>\n\n\t<li><strong>Čistota</strong> před mutacemi</li>\n\n\t<li><strong>Kompozice</strong> před dědičností</li>\n\n\t<li><strong>Funkce vyššího řádu</strong> před <em>method\n\tdispatch</em></li>\n\n\t<li><strong>Option</strong> před <code>null</code></li>\n</ul>\n\n<p>Tak jest, přestože je v bodech napravo hodnota (kromě <code>null</code>),\nbodů nalevo si ceníme více.</p>\n\n<h3 id=\"toc-principy\">Principy</h3>\n\n<p>Ctíme následující principy:</p>\n\n<ul>\n\t<li>Učení se vícero paradigmat nám umožňuje lepší řešení\n\tproblémů.</li>\n\n\t<li>Používáme nejvhodnější paradigmata pro daný problém, nejen ta,\n\tkterá aktuálně ovládáme.</li>\n\n\t<li>Upřednostňujeme přemýšlení nad nejlepším řešením problému před\n\tslepým následováním <em>best practice</em>, směrnic, vzorů a\n\tframeworků.</li>\n\n\t<li>Upřednostňujeme reprezentaci invariant na úrovni typů před\n\treprezentací na úrovni hodnot.</li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-03-25T20:26:05.853-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Manifest Nejen Objektově Orientovaného Vývoje",
  :published #inst "2013-03-25T14:01:23.110-00:00",
  :url "manifest-nejen-objektove-orientovaneho-vyvoje",
  :category-url "moje-prace.aspx",
  :id 444,
  :description
  "Volný překlad manifestu Nejen Objektově Orientovaného Vývoje.",
  :category "Moje práce",
  :tags []},
 :85-beztabulkove-renderovani-controlu-v-asp-net-2-0.aspx
 {:html
  "\n<p>Již delší dobu jsem se pídil po tom, jak vyřešit takový malý problém\ns <code>asp:Login</code> controlem a podobným, které se dají krásně\npřepsat pomocí šablonování, ale vždy zůstane obalová tabulka. Tato\ntabulka je natvrdo napsaná v&#160;kódu tohoto velice užitečného controlu.\nKaždá třída odvozená od <code>WebControl</code> má definovaný základní\nelement, od kterého se odvozuje renderování výsledného kódu. Bázovým\nelementem všech složitějších controlů je v&#160;ASP.NET 2.0&#160;právě\nelement <code>table</code>, čímž se porušují pravidla přístupnosti a\nvůbec semantický pohled na výsledný <acronym\ntitle=\"Extensible Markup Language\">XHTML</acronym>.</p>\n\n<p>Nakonec jsem <a\nhref=\"http://blog.dreamprojections.com/archive/2005/04/08/783.aspx\">našel\nřešení na jednom blogu</a> a ještě ho trochu poupravil.</p>\n\n<pre><code class=\"language-csharp\">using System;\nusing System.Data;\nusing System.Configuration;\nusing System.Web;\nusing System.Web.Security;\nusing System.Web.UI;\nusing System.Web.UI.WebControls;\nusing System.Web.UI.WebControls.WebParts;\nusing System.Web.UI.HtmlControls;\n\nnamespace PBSoftware.Gryphoon.Controls\n{\n        public class Login : System.Web.UI.WebControls.Login\n        {\n                protected override HtmlTextWriterTag TagKey\n                {\n                        get\n                        {\n                                return HtmlTextWriterTag.Div;\n                        }\n                }\n\n                protected override void Render(HtmlTextWriter writer)\n                {\n                        WebControl div = new WebControl(TagKey);\n\n                        if (LayoutTemplate == null)\n                                LayoutTemplate = new LoginTemplate();\n\n                        LayoutTemplate.InstantiateIn(div);\n\n                        Controls.Clear();\n                        Controls.Add(div);\n\n                        div.CopyBaseAttributes(this);\n                        div.RenderControl(writer);\n                }\n        }\n\n        public class LoginTemplate : ITemplate\n        {\n                public LoginTemplate() { }\n\n                public void InstantiateIn(Control container)\n                {\n                        HtmlGenericControl fieldset = new HtmlGenericControl(\"fieldset\");\n                        HtmlGenericControl legend = new HtmlGenericControl(\"legend\");\n                        legend.InnerText = \"Přihlášení do aplikace\";\n\n                        Label userNameLabel = new Label();\n                        userNameLabel.ID = \"UserNameLabel\";\n                        userNameLabel.AssociatedControlID = \"UserName\";\n                        userNameLabel.Text = \"Uživatel:\";\n\n                        TextBox userNameTextBox = new TextBox();\n                        userNameTextBox.ID = \"UserName\";\n\n                        RequiredFieldValidator userNameRequired = new RequiredFieldValidator();\n                        userNameRequired.ID = \"UserNameRequired\";\n                        userNameRequired.ControlToValidate = \"UserName\";\n                        userNameRequired.ErrorMessage = \"Uživatelské jméno je povinné.\";\n                        userNameRequired.ToolTip = \"Uživatelské jméno je povinné.\";\n                        userNameRequired.Text = \"*\";\n                        userNameRequired.ValidationGroup = \"Login1\";\n\n                        Label passwordLabel = new Label();\n                        passwordLabel.ID = \"PasswordLabel\";\n                        passwordLabel.AssociatedControlID = \"Password\";\n                        passwordLabel.Text = \"Heslo:\";\n\n                        TextBox passwordTextBox = new TextBox();\n                        passwordTextBox.ID = \"Password\";\n                        passwordTextBox.TextMode = TextBoxMode.Password;\n\n                        RequiredFieldValidator passwordRequired = new RequiredFieldValidator();\n                        passwordRequired.ID = \"PasswordRequired\";\n                        passwordRequired.ControlToValidate = \"Password\";\n                        passwordRequired.ErrorMessage = \"Heslo je povinné.\";\n                        passwordRequired.ToolTip = \"Heslo je povinné.\";\n                        userNameRequired.Text = \"*\";\n                        passwordRequired.ValidationGroup = \"Login1\";\n\n                        CheckBox rememberMe = new CheckBox();\n                        rememberMe.ID = \"RememberMe\";\n                        rememberMe.Text = \"Pamatuj si mě.\";\n\n                        Literal failureText = new Literal();\n                        failureText.ID = \"FailureText\";\n                        failureText.EnableViewState = false;\n\n                        Button loginButton = new Button();\n                        loginButton.ID = \"LoginButton\";\n                        loginButton.CommandName = \"Click\";\n                        loginButton.Text = \"Přihlásit se\";\n                        loginButton.ValidationGroup = \"Login1\";\n\n                        HtmlGenericControl br = new HtmlGenericControl(\"br\");\n\n                        fieldset.Controls.Add(legend);\n                        fieldset.Controls.Add(userNameLabel);\n                        fieldset.Controls.Add(userNameTextBox);\n                        fieldset.Controls.Add(userNameRequired);\n                        fieldset.Controls.Add(br);\n                        fieldset.Controls.Add(passwordLabel);\n                        fieldset.Controls.Add(passwordTextBox);\n                        fieldset.Controls.Add(passwordRequired);\n                        fieldset.Controls.Add(br);\n                        fieldset.Controls.Add(rememberMe);\n                        fieldset.Controls.Add(failureText);\n                        fieldset.Controls.Add(loginButton);\n\n                        container.Controls.Add(fieldset);\n                }\n        }\n}</code></pre>\n\n<p><del>Předem upozorňuju, že tento control musí mít přidělenou nějakou\nšablonu, jinak nebude fungovat</del>. Ještě na tom zapracuju, protože se mi\nnelíbí některé chování.</p>\n\n<p><strong>Update:</strong> Připsal jsem defaultní šablonu.</p>\n\n<!-- generated by Texy! -->",
  :keywords "asp.net beztabulkový login control",
  :edited #inst "2005-12-22T01:26:02.670-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Beztabulkové renderování controlů v ASP.NET 2.0",
  :published #inst "2005-11-30T10:39:00.000-00:00",
  :url "beztabulkove-renderovani-controlu-v-asp-net-2-0",
  :category-url "asp-net-2-0.aspx",
  :id 85,
  :description "Jak odstranit obalové tabulky u controlů ASP.NET 2.0",
  :category "ASP.NET 2.0",
  :tags []},
 :432-dip-ioc-a-di-dil-druhy.aspx
 {:html
  "\n<p><a\nhref=\"http://rarous.net/weblog/431-dip-ioc-a-di-dil-prvni.aspx\">V minulém\ndíle</a> jsem si začal pohrávat s myšlenkou, že to, jak nedokážeme\nsdělovat to, co chceme říct, ovlivňuje schopnost chápat těch, kterým\nmyšlenky směřujeme. Řešením je jistě dialog, ve kterém se snažíme\ndobrat k podstatě sdělení, ale v kódu a asi i na blogu dialog nějak\npokulhává.</p>\n\n<p>Minule jsme se snažil naznačit, že i když se snažíme dodržovat\ndomněle správné postupy a poučky, tak se stejně dostaneme do potíží.\nČím to je? Vždyť nám to šlo tak hezky, proč to bylo špatně?</p>\n\n<p>Snažil jsem se také dokázat, že dependency injection nemá nic\nspolečnýho s DIP nebo IoC. Doufám, že vám v mnohých případech\nzatrnulo. Takže jsme ve stavu, kdy máme v aplikaci DI, ale po DIP nebo IoC\nani památky. Teď se vrátím k poslednímu kroku, kde jsme zavedli závislost\ndoménového modelu na datové vrstvě.</p>\n\n<p>Všimněte si, že vrstva, která by měla mít vyšší úroveň abstrakce\nsi vytváří závislost na celkem konkrétní datové vrstvě. Když bychom\naplikovali IoC, museli bychom změnit konstruktor našeho publikačního\nmanažera na něco takového: <code>PublishingManager(IRepository&lt;Article&gt;\nrepository)</code>. Tím jsme zavedli závislost na abstrakci (všimněte si,\nže nám nějak zmizely konkrétní dotazy z ArticleRepo­sitory), naše\ntřída už nemá znalost, jaká implementace repository bude za běhu\ndoručena. Ale stále jsme nezavedli DIP!</p>\n\n<p>Vždyť DIP je obecný princip. IoC je přeci vzor, podle kterého se DIP\ndosáhne a DI je jeho konkrétní implementací. Nebo to dost často někde čtu\nnebo slýchám. Jak to, že teda mám zavedenou DI, mám zavedený IoC, ale po\nDIP ani památky? Že by to všechno bylo jinak?</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-10-26T15:09:30.603-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "DIP, IoC a DI - díl druhý",
  :published #inst "2012-10-26T14:47:16.777-00:00",
  :url "dip-ioc-a-di-dil-druhy",
  :category-url "moje-prace.aspx",
  :id 432,
  :description
  "V motivačním díle jsme se pustili do vytváření sprasené architektury, dle nejlepšího uvážení, držíce se chytrých pouček. Teď si ukážeme, co bylo špatně.",
  :category "Moje práce",
  :tags []},
 :46-zmeny-2.aspx
 {:html
  "\n<p>Pokračování seriálu o&#160;změnách začnu pro mě změnou\nnejdůležitější a tou je změna mého zevnějšku. Už jsem začal\npřemýšlet o&#160;tom že budu muset měnit fotku na titulní stráce,\nprotože jsem vypadal už úplně jinak, ale nakonec jsem zvolil cestu\njednodušší. Vrátil jsme se ke svému starému osvědčenému vzhledu,\ntakžeje ta fotka zase aktuální :) Pro porovnání se můžete podívat jak\njsem byl zarostlej na <a\nhref=\"http://pluto.pslib.cz/malym/fotky/krutec/?show=2005-01-25-svatba\">mikových\nstránkách</a>.</p>\n\n<p>Další změnu jsem avizoval již v&#160;předchozích spotech. Pracuju na\nkompletním přepracování těchto stránek. Už mám připravenou databázi a\nnapsanou větší část bussiness logiky nové verze redakčního systému\nGryphoon. Ta bude umět vést několik blogů zároveň &#8211; prozradim jen,\nže připravuji novou sekci věnovanou muzice &#8211; lepší podporu pro\npublikování několika autorů zároveň včetně uživatelských rolí.\nSystém by měl být velice odolný proti komentářovému spamu, bude\npodporovat dynamickou správu stylů a bude mít zcela nový editor\npříspěvků. Publikování bude možné z&#160;webového rozhranní, e-mailem\nnebo pomocí webové služby prakticky jakkoliv. No a celé to poběží na\nASP.NET 2. Tak ja se jdu učit na zkoušku z&#160;X36DSA.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Změny 2",
  :published #inst "2005-02-06T12:00:00.000-00:00",
  :url "zmeny-2",
  :category-url "gryphoon.aspx",
  :id 46,
  :description "",
  :category "Gryphoon",
  :tags []},
 :169-nova-alba-v-galerii.aspx
 {:html
  "\n<p>Tehle měsíc je fakt náročnej, každou chvíli nějaká oslava nebo kalba\n:) a to ještě není konec…</p>\n\n<p>Začnu tou nejstarší (dlouho slibovanou) akcí <a\nhref=\"/galerie/2006-05-26_Paul_van_Dyk/default.aspx\">Paul van Dyk</a>, konečně\njsem se dokopal k tomu vybrat pár fotek z toho kvanta, co jsme nafotili ;)\nještě mě čeká přebrat Vibrations. Pak tu máme dva Hegeše <a\nhref=\"/galerie/2006-07-07_Heges/default.aspx\">7. 7.</a> a <a\nhref=\"/galerie/2006-07-21_Heges/default.aspx\">21. 7.</a> a jeden <a\nhref=\"/galerie/2006-07-20_Duplex/default.aspx\">Duplex</a>. Posledním mega albem\njsou fotky ze <a\nhref=\"/galerie/2006-07-08-2_Zuzky_narozky/default.aspx\">Zuzčiných\nnarozenin</a>.</p>\n\n<p>Příjemný pohled, přeje Aleš.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T15:25:45.927-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nová alba v galerii",
  :published #inst "2006-07-26T10:28:56.693-00:00",
  :url "nova-alba-v-galerii",
  :category-url "kamaradi.aspx",
  :id 169,
  :description "Přidal jsem pár dalších alb do galerie.",
  :category "Kamarádi",
  :tags []},
 :408-actioninterceptor-pro-asp-net-mvc.aspx
 {:html
  "\n<p>V pátek jsem na twitteru <a\nhref=\"http://twitter.com/alesroubicek/status/127324625041494017\">publikoval</a>\n<code>ActionInterceptor</code> a záhy jsem dostal <a\nhref=\"http://twitter.com/#!/kolman/status/127326719358156800\">reakci od Dana\nKolmana</a>, „proč ne <code>ActionFilterAttribute</code>?“ Sice jsem to na\ntwitteru <a\nhref=\"http://twitter.com/alesroubicek/status/127327835063992320\">shrnul</a>, ale\nklidně si to shrnu ještě jednou a obšírněji. Dělá mi to\ntotiž dobře.</p>\n\n<h3 id=\"toc-action-filtry\">Action Filtry</h3>\n\n<p><a\nhref=\"http://www.asp.net/mvc/tutorials/understanding-action-filters-cs\">Action\nfiltry</a> jsou – už od první verze ASP.NET MVC – způsobem, jak\nrozšiřovat akce o znovupoužitelné aspekty. Můžete tak zabalit často\npoužívané koncepty a jednoduše je aplikovat tam, kde je to třeba. Jenže\naction filtry mají několik zásadních omezení:</p>\n\n<ol>\n\t<li>Nepřijde mi úplně košer, aby atributy byly nositeli jednotky práce.\n\tJejich úkolem je <em>poskytovat metadata, nikoli funkcionalitu</em>.</li>\n\n\t<li>Do verze 3 tu nebyla možnost injektovat závislosti, ve 3. verzi přibyl\n\t<a\n\thref=\"http://bradwilson.typepad.com/blog/2010/10/service-location-pt5-idependencyresolver.html\">service\n\tlokátor</a> (<code>IDependencyResolver</code>), který má k dokonalosti velmi\n\tdaleko.</li>\n\n\t<li>Pokud chci přidat aspekt, musím zasahovat do rozšiřovaného kódu.</li>\n</ol>\n\n<p>Všechny tři body jsou pro mne velmi <strong>zásadní chyby\nv návrhu</strong> a použitelnosti. Jak je vyřešit?</p>\n\n<h3 id=\"toc-action-interceptor\">Action interceptor</h3>\n\n<p>Ve svých aplikacích spokojeně používám <a\nhref=\"http://docs.castleproject.org/Windsor.MainPage.ashx\">IoC kontejner\nCastle.Windsor</a>, který umožňuje snadno vkládat aspekty. Děje se tak\npomocí dynamicky vytvářených proxy nad dekorovanými objekty. Jak se má\naspekt chovat a kde aplikovat můžeme snadno popsat v objektu, který\nimplementuje rozhraní <code>IInterceptor</code>.</p>\n\n<p>Ze základního popisu to nemusí být zcela zřejmé, ale aspekty můžete\naplikovat pouze na virtuální metody. Proto když chcete přidávat aspekt do\nvašich kontrolerů musíte sáhnout k tomu, že všechny akce budou\n<code>virtual</code> (což je IMO nesmysl) nebo prostě využijete již\nexistující extension pointy, které MVC framework nabízí. Kupodivu jsou to\nznámé metody, které se objevují i v Action filterech. Implementace Action\ninterceptoru bude tedy vypadat následovně:</p>\n\n<pre\n><code class=\"language-csharp\">using System;\nusing System.Linq;\nusing System.Web.Mvc;\nusing Castle.DynamicProxy;\n\npublic abstract class ActionInterceptor : IInterceptor, IActionFilter, IResultFilter {\n\n public void Intercept(IInvocation invocation) {\n    switch (invocation.Method.Name) {\n      case \"OnActionExecuting\":\n        Intercept(invocation, OnActionExecuting);\n        break;\n      case \"OnActionExecuted\":\n        Intercept(invocation, OnActionExecuted);\n        break;\n      case \"OnResultExecuting\":\n        Intercept(invocation, OnResultExecuting);\n        break;\n      case \"OnResultExecuted\":\n        Intercept(invocation, OnResultExecuted);\n        break;\n    }\n    invocation.Proceed();\n  }\n\n  void Intercept&lt;TContext&gt;(IInvocation invocation, Action&lt;TContext&gt; action) {\n    action(invocation.Arguments.First() as TContext);\n  }\n\n  public virtual void OnActionExecuting(ActionExecutingContext filterContext) {\n\n  }\n\n  public virtual void OnActionExecuted(ActionExecutedContext filterContext) {\n\n  }\n\n  public virtual void OnResultExecuting(ResultExecutingContext filterContext) {\n\n  }\n\n  public virtual void OnResultExecuted(ResultExecutedContext filterContext) {\n\n  }\n}</code></pre>\n\n<p>Užití je pak už pouhé podědění a přepsání patřičné metody\npodobně jako u Action filtrů.</p>\n\n<h3 id=\"toc-aplikace-aspektu\">Aplikace aspektu</h3>\n\n<p>Takovýto aspekt můžeme aplikovat několika způsoby. Nejpřímější\ncestou, bez nutnosti modifikovat cíl aspektu, je konfigurace kontejneru:</p>\n\n<pre\n><code class=\"language-csharp\">Component.\n  For&lt;LoggingInterceptor&gt;().\n  Lifestyle.Transient,\n\nComponent.\n  For&lt;HomeController&gt;().\n  Lifestyle.Transient.\n  Interceptors&lt;LoggingInterceptor&gt;()</code></pre>\n\n<p>A jedem. :)</p>\n\n<p>Další možností je aplikovat interceptor podobně jako action filtr –\npomocí atributu:</p>\n\n<pre\n><code class=\"language-csharp\">[Authorization]\npublic class HomeController : System.Web.Mvc.Controller {\n\n}\n\npublic class AuthorizationAttribute : Castle.Core.InterceptorAttribute {\n  public AuthorizationAttribute()\n    : base(typeof(AuthorizationInterceptor)) {\n  }\n}</code></pre>\n\n<p>Každý ze způsobů užití má své přednosti. Konfiguraci kontejneru\npoužívám tehdy, když potřebuji přidat dočasné nebo velice obecné\naspekty. Naopak, pokud potřebuji explicitně vyjádřit nějaký koncept\n(autorizaci, invalidaci cache apod.), který má být při čtení controlleru\nzřejmý, použiji atributy.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-10-24T07:05:00.417-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "ActionInterceptor pro ASP.NET MVC",
  :published #inst "2011-10-23T10:19:28.777-00:00",
  :url "actioninterceptor-pro-asp-net-mvc",
  :category-url "asp-net-2-0.aspx",
  :id 408,
  :description
  "Taková malá ukázka toho, jak mít čistší kód v ASP.NET MVC pomocí AOP a Windsor kontejneru.",
  :category "ASP.NET 2.0",
  :tags ["aspnetmvc" "windsor" "aop"]},
 :135-eric-prydz-poprve-v-praze.aspx
 {:html
  "\n<p>V&#160;pátek jsem navštívil společně s&#160;kamarády <a\nhref=\"http://www.vibrations.cz/\">Vibrations</a>, kde mimo jiné premiérově\nvystoupil jeden z&#160;mých nejoblíbenějších DJs <a\nhref=\"http://www.ericprydz.com/\">Eric Prydz</a>. Konečně jsem si mohl na\nživo a s&#160;pořádným zvukem vychutnat Erikův live set. A&#160;byla to\nopravdu bomba! Kubovi se Erikovo vystoupení moc nelíbilo, ale já s&#160;<a\nhref=\"http://mikemaly.net/\">mikem</a> jsme si to dokonale užívali. <img\nclass=\"right\" src=\"/data/obrazky/vibrations.jpg\" alt=\"Vibrations Live\" /> Eric\nnastoupil s&#160;dokonalostí zvanou <strong>1 2 3</strong>&#160;kterou vydal\nspolečně s&#160;<a href=\"http://www.axwell.nu/\">Axwellem</a> pod jmenovkou\n<em>AxEr</em>, následoval remix The Drill, pravděpodobně Erikův :) pak už\nse to vezlo jeden dobrej elektro-houseovej kus za druhým, namátkou\nz&#160;těch co jsem poznal: Draft (Remix), Sucker DJ (Remix), Good Life\n(Remix), A&#160;Bit Patchy (Remix), Sweet Dreams (steve angello bootleg remix),\nCopy Rat, Re-Match, Aftermath (Paolo Mojo Remix), Tomas Andersson… Prostě\ngeniální dvě hodiny house music. Pak jsme se šli trochu vyvětrat na chodbu\na na hodinu jsme zapluli do Chilličili, kde hráli do pohody ve stylu Boba\nSinclara :) Takže každej kdo tam nebyl má čeho litovat, ale nemusí, už za\nměsíc se do Prahy přiřítí další ze Swedish House Mafia &#8211; <a\nhref=\"http://www.steveangello.tv/\">Steve Angello</a>!</p>\n\n<h3>Další čtení</h3>\n\n<ul>\n\t<li><a\n\thref=\"http://www.mikemaly.net/clanek/12-vodafone-vibrations-report.aspx\">Mikův\n\treport z&#160;akce</a></li>\n\n\t<li><a\n\thref=\"http://www.mikemaly.net/galerie/2006-04-14_vodafone_vibrations/default.aspx\">Mikovy\n\tfotky z&#160;akce</a></li>\n</ul>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-20T12:34:00.237-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Eric Prydz poprvé v Praze - update",
  :published #inst "2006-04-18T09:16:00.000-00:00",
  :url "eric-prydz-poprve-v-praze",
  :category-url "muzika.aspx",
  :id 135,
  :description
  "Menší report z akce. Přidány odkazy na další report a fotky.",
  :category "Muzika",
  :tags []},
 :230-microsoft-koupil-licenci-od-eolas.aspx
 {:html
  "\n<p>Microsoft koupil licenci od Eolas, což znamená, že již brzy z Internet\nEploreru zmizí ono otravné „Click to activate“ u emebeded prvků na\nstránce.</p>\n\n<p>Toto chování se objevilo v březnu loňského roku, kdy přišla firma\nEolas s tím, že má patentovaný způsob vkládání pluginů do stránky,\nkterý používá Internet Explorer, a že to tak nesmí být. Microsoft proto\nvydal update, který vyžadoval, aby každý prvek vkládaný přes tagy\n<code>applet</code>, <code>object</code> a <code>embed</code> byl aktivovaný\nuživatelem pomocí kliknutí.</p>\n\n<p>Existuje tu však možnost vkládat embed prvky přes JavaScript bez nutnosti\naktivace. Dokonce existuje několik volně dostupných skriptů (např. <a\nhref=\"http://knowhow.dgx.cz/eolas-workaround/\">od DGX</a>), které stačí\nvložit do stránky a ty vyjmou všechny embed prvky z html a opět je vloží\npomocí scriptu, čímž je problém prakticky vyřešen. Ale udivuje mne, že\nto skoro nikdo nepoužívá.</p>\n\n<p>V prosinci by měla vyjít aktualizace, která toto chování opět vrátí\ndo stavu před březnem 2006.</p>\n\n<h3 id=\"toc-souvisejici\">Související</h3>\n\n<ul>\n\t<li>David Grudl: <a\n\thref=\"http://latrine.dgx.cz/jak-obejit-aktivovani-pluginu-v-ie\">Jak obejít\n\taktivování pluginů v IE</a></li>\n\n\t<li>Pete LePage: <a\n\thref=\"http://blogs.msdn.com/ie/archive/2007/11/08/ie-automatic-component-activation-changes-to-ie-activex-update.aspx\">IE\n\tAutomatic Component Activation</a></li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:18:48.340-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Microsoft koupil licenci od Eolas",
  :published #inst "2007-11-09T10:09:46.260-00:00",
  :url "microsoft-koupil-licenci-od-eolas",
  :category-url "webdesign.aspx",
  :id 230,
  :description
  "Microsoft koupil licenci od Eolas, což znamená, že již brzy z Internet Eploreru zmizí ono otravné \"Click to activate\" u emebeded prvků na stránce.",
  :category "Webdesign",
  :tags ["ie" "eolas" "plugin"]},
 :94-black-depeche-by-alessio-busta.aspx
 {:html
  "\n<ol>\n\t<li>Depeche Mode &#8211; Useless (The Kruder and Dorfmeister Session)\n\t[Mute]</li>\n\n\t<li>Moby &#8211; Beatiful (Laurent Konrad Remix) [Mute]</li>\n\n\t<li>Deep Dish &#8211; Sacramento [Positiva]</li>\n\n\t<li>Fisherspooner &#8211; Never Win (Black Strobe Remix) [EMI]</li>\n\n\t<li>Tomcraft &#8211; Sureshot (Original Mix) [Kosmo]</li>\n\n\t<li>Mojado &#8211; El Torro [Magik]</li>\n\n\t<li>Ghost &#8211; Hey You (Original Mix) [Ghoststyle]</li>\n\n\t<li>Depeche Mode &#8211; Enjoy The Silence (Timo Maas Extended Remix)\n\t[Mute]</li>\n\n\t<li>David Guetta feat. JD Davis &#8211; In Love With Myself (David Guetta &amp;\n\tJoachim Gurraud Remix) [EMI]</li>\n\n\t<li>Goldfrapp &#8211; Ohh la la (Original Extended Mix) [Mute]</li>\n\n\t<li>Slam &#8211; This World (Hugg &amp; Pepp Remix) [Soma]</li>\n\n\t<li>Depeche Mode &#8211; A&#160;Pain That I'm Used To (Telex Remix) [Mute]</li>\n\n\t<li>Deep Dish feat. Steve Nicks &#8211; Dreams [Positiva]</li>\n</ol>\n\n<p>Ke stažení <a href=\"/files/alessio_busta_-_black_depeche.wma\">Black Depeche\nby Alessio Busta</a> (WMA 96&#160;kbps; 47,6&#160;MiB)</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-13T19:22:34.660-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Black Depeche by Alessio Busta",
  :published #inst "2005-12-13T16:44:17.557-00:00",
  :url "black-depeche-by-alessio-busta",
  :category-url "muzika.aspx",
  :id 94,
  :description
  "Další mix od Alessia, tentokráté v černé barvě zvuku...",
  :category "Muzika",
  :tags []},
 :384-integrace-gitu-do-vs-2010.aspx
 {:html
  "\n<p>Bohužel i přes přítomnost skvělého <a\nhref=\"http://code.google.com/p/tortoisegit/\">TortoiseGit</a>, který integruje\nfunkce gitu přímo do Windowsího shellu, neexistuje pro git slušná integrace\ndo Visual Studia ala VisualSVN. Dneska se podíváme na\nalternativní cestu.</p>\n\n<h3 id=\"toc-visual-studio-2010\">Visual Studio 2010</h3>\n\n<p>Visual Studio se v poslední verzi dočkalo značného přepsání. Krom\ntoho, že bylo překlopeno do <acronym\ntitle=\"Windows Presentation Foundation\">WPF</acronym>, stalo se i snadno\nrozšiřitelným díky <acronym\ntitle=\"Managed Extensibility Frmework\">MEF</acronym>. Do samotného Visual Studa\ntak přibyl správce rozšíření podobný tomu, který znáte třeba\nz Firefoxu. Ano, včetně podpory pro procházení existujícími\nrozšířeními.</p>\n\n<h3 id=\"toc-powerconsole\">PowerConsole</h3>\n\n<p>Jedním z takovým rozšíření je i <a\nhref=\"http://visualstudiogallery.msdn.microsoft.com/en-us/67620d8c-93dd-4e57-aa86-c9404acbd7b3\">PowerConsole</a>.\nTato konzola umožňuje psát scripty nad Visual Studiem a přímo v něm. Ke\nscriptování se nabízí hned několik jazyků: PowerShell, IronPython a\nIronRuby. Možnosti jsou omezeny pouze vaší představivostí, protože máte\npřístup jak k API Visual Studia, tak i k celému grafu MEF komponent.\nA samozřejmě v případě PowerShellu i ke všemu, co PS umí.</p>\n\n<h3 id=\"toc-posh-git\">POSH git</h3>\n\n<p>A tím se pomalu dostávám k <a\nhref=\"http://github.com/dahlbyk/posh-git\">POSH gitu</a>. Je to sada scriptů pro\nPowerShell, která zpřehledňuje výpisy gitu, přidává TAB expansion pro\nrychlejší psaní git příkazů a taky přidává některé vlastní\ncmdletty.</p>\n\n<p>Když si spojíte všechny tři věci dohromady, máme tu integraci gitu do\nprostředí Visual Studia! Je to teprve začátek. Ale myslím si, že slibný.\nMyslím, že by se výstup gitu dal projektovat do Solution Exploreru. Zatím\njsem si s tím hrát nestihl, ale vypdá to slibně…</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-03-18T07:08:49.653-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Integrace gitu do VS 2010",
  :published #inst "2010-03-18T06:25:44.287-00:00",
  :url "integrace-gitu-do-vs-2010",
  :category-url "tuning.aspx",
  :id 384,
  :description
  "Jak integrovat git do nového Visual Studia trochu netradiční cestou.",
  :category "Tuning",
  :tags ["git" "visualstudio" "powershell"]},
 :281-firefox-pouzitelny-i-ve-viste.aspx
 {:html
  "\n<p>Za tu dobu, co <a href=\"/weblog/179-moje-prvni-zkusenosti-s-vistou.aspx\">jsem\nna Vistě</a>, jsem většinu času používal pouze Internet Explorer.\nSamozřejmě mám v systému Firefox, Operu i Safari. V naší branži je to\nnutnost. Před několika měsíci k nim <a\nhref=\"/weblog/252-v-zajeti-socialnich-siti.aspx\">přibyl Flock</a>, který se\ntak nějak stal mým hlavním prohlížečem. Firefox 2.0 jsem nepoužíval\nz několika důvodů.</p>\n\n<ol>\n\t<li>Ve Vistě je fakt hnusnej, nehodí se tam.</li>\n\n\t<li>Žere zbytečně pamět.</li>\n\n\t<li>Neměl pro mě žádnou přidanou hodnotu oproti kompaktnímu IE7.</li>\n</ol>\n\n<p>Ale blýská se na lepší časy. S příchodem Firefoxu 3.0 se mnohé\nmění. První beta verze sice byly ještě hnusnější než dvojka, ale už\nposlední bety vypadaly přívětivěji. Pak jsem objevil několik zajímavých\nrozšíření, který dodají Firefoxu 3.0 konečně <strong>look &amp; feel\nWindows Vista</strong>. Prvním je <a href=\"http://jdem.cz/adp12\">Glasser</a>,\nkterý dodá prostředí více skla subsystému Aero, a druhým <a\nhref=\"http://jdem.cz/adp27\">Hide menubar</a>, který schová hlavní nabídkový\npruh – vyvolat lze stiskem klávesy <code>Alt</code>. Konečně se nebojím\nFirefox zapínat! :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:20:15.680-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Firefox použitelný i ve Vistě",
  :published #inst "2008-06-08T19:34:54.223-00:00",
  :url "firefox-pouzitelny-i-ve-viste",
  :category-url "webdesign.aspx",
  :id 281,
  :description
  "Jak nastavit Firefox 3.0, aby skutečně zapadl do systému Windows Vista? ",
  :category "Webdesign",
  :tags ["firefox" "windows" "vista" "flock" "ie7" "glasser"]},
 :392-soldier-of-darkness.aspx
 {:html
  "\n<p>Pořádný techno sound undergroundu.</p>\n\n<div class=\"haudio\">\n\t<ol>\n\t\t<li class=\"item\"><span class=\"contributor\">Extrawelt</span> — <span\n\t\tclass=\"title\">YeahButNoButYeah</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Sasha</span> &amp; <span\n\t\tclass=\"contributor\">Ray Lamontagne</span> — <span\n\t\tclass=\"title\">Eclipse</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Cirez D</span> — <span\n\t\tclass=\"title\">Bauerpost</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">King Unique</span> — <span\n\t\tclass=\"title\">2000000 Suns – John Digweed &amp; Nick Muir Remix</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Steve Parker</span> — <span\n\t\tclass=\"title\">Switch Box</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Sasha</span> — <span\n\t\tclass=\"title\">Coma</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Zero 7</span> — <span\n\t\tclass=\"title\">Futures – Carl Craig Remix</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Abe Duque</span> &amp; <span\n\t\tclass=\"contributor\">Virginia</span> — <span class=\"title\">Following My\n\t\tHeart – Oliver Huntemann Remix</span></li>\n\t</ol>\n\n\t<p><span class=\"category\">dj set</span> <span class=\"contributor\">Alessio\n\tBusta</span> – <span class=\"title\">Soldier of Darkness</span></p>\n</div>\n<!--[if !IE]> -->\n \t\t\t<object type=\"application/x-shockwave-flash\"\ndata=\"//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-soldier-of-darkness%2F&amp;embed_uuid=f7632f95-e9a2-498d-84bf-7f2b5f14a293&amp;stylecolor=&amp;embed_type=widget_standard\"\nwidth=\"100%\" height=\"160\">\n \t\t\t<!-- <![endif]-->\n \t\t\t<!--[if IE]>\n\t\t\t<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"\n\t\t\t  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\"\n\t\t\t  width=\"100%\" height=\"160\">\n\t\t\t  <param name=\"movie\" value=\"//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-soldier-of-darkness%2F&amp;embed_uuid=f7632f95-e9a2-498d-84bf-7f2b5f14a293&amp;stylecolor=&amp;embed_type=widget_standard\" />\n\t\t\t<!--><!--dgx-->\n<param name=\"loop\" value=\"true\" />\n\n<param name=\"menu\" value=\"false\" />\n\n<param name=\"allowfullscreen\" value=\"true\" />\n\n<param name=\"flashvars\" value=\"\" />\n \t\t\t</object>\n \t\t\t<!-- <![endif]-->\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-09-29T14:12:40.973-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Soldier of Darkness",
  :published #inst "2010-07-01T14:48:36.610-00:00",
  :url "soldier-of-darkness",
  :category-url "muzika.aspx",
  :id 392,
  :description "Pořádný techno sound undergroundu. ",
  :category "Muzika",
  :tags []},
 :403-lepsi-udalosti-v-csharp.aspx
 {:html
  "\n<p>Když se <a\nhref=\"http://channel9.msdn.com/Shows/Going+Deep/Anders-Hejlsberg-Questions-and-Answers\">nedávno\nptali Anderse Hejlsberga</a> na to, co by nejradši v C# změnil nebo udělal\njinak, kdyby mohl, odpověděl, že by zrušil události. Přesněji, že by je\nspojil s konceptem vlastností. Na první pohled jsou totiž vlastnosti a\nudálosti celkem podobné, ale na druhý zjistíte, že události mají\npoměrně složitou syntaxi a vyžadují psát ne moc pěkný kód.</p>\n\n<p>Dřív (C# 1.0) to asi o moc líp udělat nešlo, ale dnes tomuto přání\nmůžeme plně vyhovět. Stačí události vystavovat jako vlastnosti typu\n<code>IObservable&lt;T&gt;</code>. Toto rozhraní je jednou z novinek <acronym\ntitle=\"Base Class Library\">BCL</acronym> .net 4.0 a hlavně reaktivních\nextenzí (Rx.net).</p>\n\n<p>Pokud píšete nový kód, zvažte užití <code>IObservable&lt;T&gt;</code>\nnamísto událostí. Např. <a\nhref=\"http://msdn.microsoft.com/en-us/library/dd233189.aspx\">F# má události\ntakto řešené nativně</a>.</p>\n\n<h3 id=\"toc-ze-stareho-na-novy\">Ze starého na nový</h3>\n\n<p>Vezměme si <a\nhref=\"http://msdn.microsoft.com/en-us/library/aa645739(v=vs.71).aspx\">ukázkovou\ndeklaraci události v C#</a>:</p>\n\n<p>Dříve jsme museli definovat vlastní typ delegáta události:</p>\n\n<pre\n><code class=\"language-csharp\">public delegate void ChangedEventHandler(object sender, EventArgs e);</code></pre>\n\n<p>Pak vystavit událost tohoto typu:</p>\n\n<pre><code class=\"language-csharp\">public event ChangedEventHandler Changed;</code></pre>\n\n<p>A nakonec někde v kódu událost odpálit:</p>\n\n<pre><code class=\"language-csharp\">if (Changed != null)\n  Changed(this, e);</code></pre>\n\n<p>Nehledě na podivné přetížení operátoru pro zavěšení ovladače\nudálosti:</p>\n\n<pre\n><code class=\"language-csharp\">List.Changed += new ChangedEventHandler(ListChanged);</code></pre>\n\n<p>Nové verze jazyka a BCL nám přinesly mnohá usnadnění od\n<code>EventHandler&lt;TEventArgs&gt;</code>, přes automatického odvození typu\ndelegáta až po lambda výrazy. To však nic nezměnilo na samotné koncepci\nudálostí…</p>\n\n<p>A teď si to tedy přepišme na sjednocený model vlastností a událostí\ns užitím <code>IObservable&lt;T&gt;</code>:</p>\n\n<pre\n><code class=\"language-csharp\">readonly Subject&lt;Unit&gt; changed = new Subject&lt;Unit&gt;();\n\npublic IObservable&lt;Unit&gt; Changed {\n  get { return changed; }\n}</code></pre>\n\n<p>V kódu událost vyvoláme následovně:</p>\n\n<pre><code class=\"language-csharp\">changed.OnNext(new Unit());</code></pre>\n\n<p>A ke zpracování události se přihlásíme takhle:</p>\n\n<pre><code class=\"language-csharp\">List.Changed.Subscribe(ListChanged);</code></pre>\n\n<p>Krom čistšího kódu (všimněte si absence defenzivního kódu a\npřetěžování operátorů, které na první pohled nemusí být každému\njasné, co dělá) máme i spoustu dalších výhod, které přináší\nreaktivní programování.</p>\n\n<p>PS. Třidy <code>Subject&lt;T&gt;</code> a <code>Unit</code> nejsou\nsoučástí BCL, ale zmiňovaných Rx.net. Do projektu si je přidáte pomocí\n<strong>nuget</strong> příkazu <code>Install-Package Rx-Main</code>.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-05-11T14:04:44.933-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Lepší události v C#",
  :published #inst "2011-05-10T14:11:57.353-00:00",
  :url "lepsi-udalosti-v-csharp",
  :category-url "asp-net-2-0.aspx",
  :id 403,
  :description
  "Každý, do přišel do styku s jazykem C#, jistě ví, jak se s události v něm pracuje. A taky jistě může potvrdit, že to není žádná slast. Pojďme se podívat, jak definovat události v C# o něco lépe.",
  :category "ASP.NET 2.0",
  :tags ["csharp" "rx"]},
 :26-bezeselemovaci-rucovicky.aspx
 {:html
  "\n<p><a\nhref=\"http://www.pixy.cz/blogg/clanky/bezeselemovaci-rucovicky.html\">Běžešelemovací\nřůčovičky</a> je nová hra pro úspěšné SEO obdorníky, aby si dokázali\njak jsou dobří. Zbytečná ztráta času…</p>\n\n<h3>Update</h3>\n\n<p>Je zajímavé sledovat souboj na Googlu. Včera byl Pixy až na druhé\nstránce, dnes už sedí na prvním místě, je vidět jakou podporu má\nv české internetové komunitě. Takže pokud se Pixy do soutěže\nněpřihlásí, pravděpodobně nebude mít soutěž žádného výherce na\nprvním místě :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:48:57.203-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Běžešelemovací řůčovičky",
  :published #inst "2004-08-18T20:00:00.000-00:00",
  :url "bezeselemovaci-rucovicky",
  :category-url "jen-tak.aspx",
  :id 26,
  :description "",
  :category "Jen tak",
  :tags []},
 :241-pozor-zmena-feedu.aspx
 {:html
  "\n<p>Protože chystám, rozsáhlé změny ve struktuře webu a nemůžu zaručit\nfunkčnost všech URL na RSSka, změnte si prosím URL na <a\nhref=\"http://feeds.feedburner.com/rarous-weblog\">http://feeds.feedburner.com/rarous-weblog</a>,\ntato bude fungovat vždy. Děkuji za pochopení.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2007-12-22T07:29:00.110-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pozor změna feedu",
  :published #inst "2007-12-22T07:28:59.940-00:00",
  :url "pozor-zmena-feedu",
  :category-url "moje-prace.aspx",
  :id 241,
  :description
  "Protože chystám, rozsáhlé změny ve struktuře webu a nemůžu zaručit funkčnost všech URL na RSSka, změnte si prosím URL na http://feeds.feedburner.com/rarous-weblog, tato bude fungovat vždy. Děkuji za pochopení.",
  :category "Moje práce",
  :tags []},
 :284-temer-novy-rarous-weblog.aspx
 {:html
  "\n<p>Poslední týden jsem trávil úpravami tohoto blogu. Měl jsem už nějaký\nnástřel grafiky už několik dní před tím, dokonce rozběhaný na <a\nhref=\"/weblog/\">úvodní straně blogu</a>. :) Jenže abych to mohl posunout\ndál i do článků, musel jsem šáhnout do šablon blogu. Jenže\nprezentační vrstva, byla napsaná tak nepoužitelně a každá změna\nvyžadovala dost práce.</p>\n\n<p>Měl jsem před sebou dvě možnosti. Nechat to být a počkat až napíšu\nnový systém, nebo upravit stávající. Jenže čekat sám na sebe, až něco\nnapíšu, to bych se taky nemusel dočkat… ;) Nakonec jsem napsal zbrusu novou\nprezentační vrstvu nad <a href=\"http://www.gryphoon.net/\">starým\nsystémem</a>.</p>\n\n<p>Rozhodl jsem se pokračovat v započatém stylu, který jsem zvolil pro\nsvoji <a rel=\"me home\" href=\"/\">homepage</a>, tedy <a\nhref=\"/weblog/236-mvc-unit-testy.aspx\">návrhový vzor MVP</a> pro prezentační\nčást a <a\nhref=\"/weblog/271-active-record-vs-repository-pattern.aspx\">Repository</a> pro\ndatovou. Využil a trochu rozšířil některé entity modelu o další\nvlastnosti a přidal některé nové. Pro výpis článků a komentářů na\nstránce jsem napsal serverové prvky založené na <a\nhref=\"/weblog/278-genericky-kontejner-a-repeater.aspx\">Generickém\nrepeateru</a>. Pak jsem se dostal k formuláři pro přidávání komentářů.\nAktuální WebForms implementace se mi moc nelíbila a tak jsem se rozhodl\noprášit <a href=\"/weblog/245-nforms-pro-asp-net.aspx\">NForms</a> a povolat je\ndo služby.</p>\n\n<p>Musel jsem odladit několik bugů, protože tohle bylo poprvé, co jsem je\npoužil. :) Ale nakonec se z toho vyklubal celkem použitelný a elegantní kus\nsoftwaru. Proč elegantní? Líbí se mi <a\nhref=\"/weblog/247-validace-v-nforms-pro-asp-net.aspx\">definování validačních\npravidel</a> (sice zatím pouze serverových), znovupoužitelnost\nkódu apod.</p>\n\n<h3 id=\"toc-nforms-v-akci\">NForms v akci</h3>\n\n<p>Když jsem vymýšlel, jak vlastně budu nově komentáře zpracovávat,\nrozhodl jsem se pro handler, který bude obsluhovat požadavky na akce a zavolá\nsprávnou třídu, která má požadavek zpracovat – v tomto případě\nukládač komentářů. (Tento model jsem zvolil protože, každá třída by\nměla dělat pouze jednu věc, proto komentáře nezpracovává ta samá, co\nprezentuje články.) Jenže teď jsem stál před problémem, že budu muset\ndefinovat ten samý formulář na dvou místech. Naštěstí u NForms to\nnení třeba.</p>\n\n<p>Podědil jsem novou třídu <code>CommentForm</code> z formuláře NForms.\nV ní jsem nadefinoval, jaká políčka a s jakými pravidly se mají\nvytvořit. Kód vypadá nějak tak:</p>\n\n<pre\n><code class=\"language-csharp\">using System;\nusing System.Collections.Generic;\nusing System.Collections.Specialized;\nusing Rarous.NForms;\nusing Rarous.NForms.Validation;\n\nnamespace Rarous.Net.Components {\n  public class CommentsForm : Form {\n    public const string ArticleUrl = \"comment_article_url\";\n    public const string ArticleId = \"comment_article_id\";\n    public const string Validity = \"comment_validity\";\n    public const string Text = \"comment_text\";\n    public const string UserName = \"comment_user_name\";\n    public const string UserEmail = \"comment_user_email\";\n    public const string UserWeb = \"comment_user_web\";\n    public const string UserAnswer = \"comment_user_answer\";\n    public const string Submit = \"comment_submit\";\n\n    public CommentsForm()\n      :this(null) {\n    }\n\n    public CommentsForm(NameValueCollection data)\n      : this(data, null) {\n    }\n\n    public CommentsForm(NameValueCollection data, List&lt;string&gt; messages)\n      : base(data, messages) {\n      CreateForm();\n      BindData();\n    }\n\n    private void CreateForm() {\n      AddHidden(ArticleUrl);\n      AddHidden(ArticleId);\n      AddHidden(Validity);\n\n      AddTextArea(Text, \"Text komentáře:\", 10, 55).\n        Required(\"Text příspěvku je povinný.\");\n      AddText(UserName, \"Jméno:\").\n        Required(\"Jméno je povinné.\");\n      AddText(UserEmail, \"E-mail:\").\n        SetEmptyValue(\"@\");\n      AddText(UserWeb, \"Web:\").\n        SetEmptyValue(\"http://\");\n\n      AddText(UserAnswer, \"Odpověď je pivo:\").\n        AddRule(\"Zadejte pivo.\", s =&gt; String.Compare(\"pivo\", s, true) == 0);\n\n      AddSubmit(Submit, \"Přidat komentář\");\n    }\n  }\n}</code></pre>\n\n<p>Tento formulář pak použivám ve View i handleru. V handleru se\nvytváří s daty poslanými přes POST, která se pak validují a dále\nzpracovávají. Líbí se mi, že data se předávají jako\n<code>NameValueCollection</code>, díky tomu se dá bez problému načítat z\n<code>Request.Forms</code>, <code>Request.QueryString</code>, nebo z kolekce\n<code>Cookies.Values</code>. Těmi můžu data předvyplňovat, nebo je nechat\nvalidovat a tak. V budoucnu by mohlo přibýt i inteligentní vytváření\nobjektů…</p>\n\n<h3 id=\"toc-dalsi-featury\">Další featury</h3>\n\n<ol>\n\t<li>U komentářů jsem oprášil Gravatary, které jsem tu už kdysi míval.\n\tPoužil jsem <a\n\thref=\"http://dotnetkicks.googlecode.com/svn/trunk/DotNetKicks/Incremental.Kick/Web/Controls/User/Gravatar.cs\">implementaci\n\tz dotnetKicks</a>, kde se používá lokální cachování.</li>\n\n\t<li>Bezpečnostní otázka se vyplňuje JavaScriptem, takže už vás nebude\n\totravovat.</li>\n\n\t<li>Po letech jsem přidal stránkování v článcích. Jak na hlavní\n\tstránce blogu, tak v rubrikách.</li>\n\n\t<li>Zvýrazňovač syntaxe teď funguje jen napůl, protože už přestal\n\tstačit mým potřebám. Čekám na uvolnění zvýrazňavoče z Codeplexu,\n\tkterý by měl být o dost lepší.</li>\n</ol>\n\n<p>Jsou to takové drobnosti, ale mám z nich radost, protože jsem je dlouho\ndobu odbýval.</p>\n\n<h3 id=\"toc-zaverem\">Závěrem</h3>\n\n<p>Ještě mi zbývá pár věcí dopsat, aktualizovat odkazy v článcích na\nnové URL, ale už jsou to spíš drobnosti (doufám). Ještě bych chtěl\nzávěrem poděkovat <a rel=\"friend met\"\nhref=\"http://www.latrine.cz/\">Davidovi</a> a <a\nhref=\"http://blog.filosof.biz/\">Honzovi</a>, protože u nich jsem se dost\ninspiroval. Taky děkuju <a rel=\"friend co-worker met\"\nhref=\"http://www.exik.com/\">Exíkovi</a> za hodnotné připomínky, <a\nrel=\"friend met\" href=\"http://www.jerrysohn.net/\">Jerrymu</a> za hosting a\nnaší zahradě za příjemné pracovní prostředí atd.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:17:20.960-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Téměř nový rarouš.weblog",
  :published #inst "2008-06-23T10:42:53.163-00:00",
  :url "temer-novy-rarous-weblog",
  :category-url "moje-prace.aspx",
  :id 284,
  :description
  "Poslední týden jsem pilně pracoval na předělání tohoto blogu do nového kabátku. Pojďtě se podívat, jak to dopadlo.",
  :category "Moje práce",
  :tags ["gryphoon" "mvp" "repository" "nforms" "gravatar"]},
 :150-prehledna-konfigurace.aspx
 {:html
  "\n<p>Dnes vyšel na Vyvojar.cz článek s názvem <a\nhref=\"http://www.vyvojar.cz/Default.aspx?tabid=1&amp;newsType=ArticleView&amp;articleId=409\">Konfigurace\nv .NET</a>, kde autor pěkně ukazuje XML Serializaci složitějších objektů\ndo XML. Po tud se mi to líbí a nemám námitek. Ovšem k jakému účelu je\nto použito – nemám slov.</p>\n\n<p>Ať žijí půlmegové a větší konfiguráky!</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:37:30.260-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Přehledná konfigurace",
  :published #inst "2006-05-18T06:10:55.520-00:00",
  :url "prehledna-konfigurace",
  :category-url "asp-net-2-0.aspx",
  :id 150,
  :description "Reakce na Konfigurace v .NET",
  :category "ASP.NET 2.0",
  :tags ["xml"]},
 :456-reaktivni-programovani.aspx
 {:html
  "\n<p>V&nbsp;uplynulém roce se začaly hejbat ledy okolo rektivních extenzí a\nreaktivního programování vůbec. A&nbsp;já byl u&nbsp;toho.&nbsp;:)</p>\n\n<h3 id=\"toc-reaktivni-manifest\">Reaktivní manifest</h3>\n\n<p>Byl publikován <a href=\"http://www.reactivemanifesto.org/\">Reaktivní\nmanifest</a>, který se snaží definovat, jak mají reaktivní aplikace vypadat\na&nbsp;proč.</p>\n\n<ol>\n    <li>Mají reagovat na události</li>\n\n    <li>Mají reagovat na zátěž</li>\n\n    <li>Mají reagovat na selhání</li>\n\n    <li>Mají reagovat na uživatele</li>\n</ol>\n\n<p>Manifest vyjadřuje moje snažení v&nbsp;uplynulých letech, takže jsem ho\nsamozřejmě signoval.</p>\n\n<h3 id=\"toc-czpodcast\">CZPodcast</h3>\n\n<p>Již potřetí jsem byl pozván do CZPodcastu, abychom se pobavili\no&nbsp;reaktivním programování, reaktivním manifestu a reaktivních\nextenzích.</p>\n\n<iframe width=\"660\" height=\"180\"\nsrc=\"//www.mixcloud.com/widget/iframe/?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Fcz-podcast-92-reaktivn%C3%AD-programov%C3%A1n%C3%AD%2F&amp;embed_uuid=9e0ea1a4-5e5c-4f6e-9299-ddcd287bb341&amp;replace=0&amp;hide_cover=1&amp;embed_type=widget_standard&amp;hide_tracklist=1\"\nframeborder=\"0\"></iframe>\n\n<div style=\"clear: both; height: 3px; width: 652px;\"></div>\n\n<p\nstyle=\"display: block; font-size: 11px; font-family: 'Open Sans', Helvetica, Arial, sans-serif; margin: 0px; padding: 3px 4px; color: rgb(153, 153, 153); width: 652px;\"><a\nhref=\"http://www.mixcloud.com/alesroubicek/cz-podcast-92-reaktivn%C3%AD-programov%C3%A1n%C3%AD/?utm_source=widget&amp;amp;utm_medium=web&amp;amp;utm_campaign=base_links&amp;amp;utm_term=resource_link\"\ntarget=\"_blank\" style=\"color:#808080; font-weight:bold;\">CZ Podcast 92&nbsp;&ndash;\nReaktivní programování</a><span> by </span><a\nhref=\"http://www.mixcloud.com/alesroubicek/?utm_source=widget&amp;amp;utm_medium=web&amp;amp;utm_campaign=base_links&amp;amp;utm_term=profile_link\"\ntarget=\"_blank\" style=\"color:#808080; font-weight:bold;\">Aleš\nRoubíček</a><span> on</span><a\nhref=\"http://www.mixcloud.com/?utm_source=widget&amp;utm_medium=web&amp;utm_campaign=base_links&amp;utm_term=homepage_link\"\ntarget=\"_blank\" style=\"color:#808080; font-weight:bold;\"> Mixcloud</a></p>\n\n<div style=\"clear: both; height: 3px; width: 652px;\"></div>\n\n<h3 id=\"toc-devfest-pardubice\">DevFest Pardubice</h3>\n\n<p>Na DevFestu jsem měl přednášku o&nbsp;Reaktivním programování a\nreaktivních extenzích.</p>\n\n<iframe width=\"560\" height=\"315\" src=\"//www.youtube.com/embed/CzmWzG_QsUE\"\nframeborder=\"0\"></iframe>\n    ",
  :keywords "",
  :edited #inst "2014-04-03T18:00:00.663-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Reaktivní programování",
  :published #inst "2014-04-03T18:00:00.663-00:00",
  :url "reaktivni-programovani",
  :category-url "moje-prace.aspx",
  :id 456,
  :description
  "V uplynulém roce se začaly hejbat ledy okolo rektivních extenzí a reaktivního programování vůbec. A já byl u toho.",
  :category "Moje práce",
  :tags []},
 :377-domenove-dotazy.aspx
 {:html
  "\n<p>V každé aplikaci, kde se pracuje s daty, se dostaneme do situace, kdy se\nnad daty potřebujeme dotazovat. Pokud přijmeme za svůj vzor Repository,\nmůžeme se dostat do situace, podobné té v následující ukázce:</p>\n\n<pre\n><code class=\"language-csharp\">public interface IArticlesRepository {\n  Article FindById(long id);\n  IEnumerable&lt;Article&gt; FindAll(PagingInfo paging);\n  IEnumerable&lt;Article&gt; FindByCategory(Category category, PagingInfo paging);\n  IEnumerable&lt;Article&gt; FindByAuthor(User author, PagingInfo paging);\n  IEnumerable&lt;Article&gt; FindByTag(string tag, PagingInfo paging);\n}</code></pre>\n\n<p>Jak vidno s každým typem dotazu, rozšiřujeme rozhraní naší\nrepository. Což porušuje <a\nhref=\"http://en.wikipedia.org/wiki/Open/closed_principle\">Open/closed\nprinciple</a> – jeden z pilířů <a\nhref=\"http://en.wikipedia.org/wiki/Solid_%28Object_Oriented_Design%29\">Solidní</a>\narchitektury. Ten nám říká, že objekt by měl být otevřený\nk rozšíření, ale uzavřený k modifikaci. Přidáváním dalších metod\nho očividně rozšiřujeme. Jak na to?</p>\n\n<p>Jedním z možných řešení je zavedení dotazovacích objektů, kde\nvyužijeme kompozice k docílení lepšího návrhu. A protože jde o obecný\nmechanismus, můžeme ho pěkně generalizovat. Dále budu předpokládat, že\npracujeme vůči datovému zdroji podporujícímu LINQ dotazování, jako je\nNHibernate.Linq, LINQ2SQL nebo EntityFramework.</p>\n\n<pre\n><code class=\"language-csharp\">public interface IQueryObject&lt;T&gt; {\n  int Count(IQueryable&lt;T&gt; table);\n  IEnumerable&lt;T&gt; Fetch(IQueryable&lt;T&gt; table);\n  T FetchOne(IQueryable&lt;T&gt; table);\n}</code></pre>\n\n<p>Dotazovací objekt má tři metody. První spočítá kolik objektů splňuje\npodmínky dotazu. Druhá vrátí kolekci vybraných objektů a poslední vrací\njedinečný záznam. K takovému rozhraní si můžeme vytvořit bázovou\ntřídu, která nám pomůže s rychlejším vytvářením konkrétních\ndotazů.</p>\n\n<pre\n><code class=\"language-csharp\">public abstract class QueryObjectBase&lt;T&gt; : IQueryObject&lt;T&gt; {\n\n  protected QueryObjectBase&lt;T&gt;(PagingInfo paging) {\n    Paging = paging;\n  }\n\n  public PagingInfo Paging { get; private set; }\n\n  protected abstract IQueryable&lt;T&gt; CreateQuery(IQueryable&lt;T&gt; table);\n\n  public virtual int Count(IQueryable&lt;T&gt; table) {\n    return CreateQuery(table).Count();\n  }\n\n  public virtual IEnumerable&lt;T&gt; Fetch(IQueryable&lt;T&gt; table) {\n    return CreateQuery(table).\n      Skip(Paging.Skip).\n      Take(Paging.PageSize).\n      ToArray();\n  }\n\n  public virtual T FetchOne(IQueryable&lt;T&gt; table) {\n    return CreateQuery(table).FirstOrDefault();\n  }\n}</code></pre>\n\n<p>Konkrétní dotazovací objekt pak ve většině případů implementuje\njedinou metodu, která vrací LINQ dotaz. V případě potřeby si však\nkonkrétní implementace může připravené metody změnit k obrazu svému.\nMáme zde zavedenou i konvenci stránkování, která předchází generování\nneomezených dotazů do databáze. A teď už nám zbývá jen zabalit to\npěkně do nějakého DAO objektu.</p>\n\n<pre\n><code class=\"language-csharp\">public interface IQueryExecutor&lt;T&gt; {\n  int Count(IQueryObject&lt;T&gt; query);\n  IEnumerable&lt;T&gt; Fetch(IQueryObject&lt;T&gt; query);\n  T FetchOne(IQueryObject&lt;T&gt; query);\n}</code></pre>\n\n<p>DAO objekt jediný zná konkrétní implementaci datového uložiště,\nkterou předává do dotazovacího objektu jako\n<code>IQueryable&lt;T&gt;</code>. Výsledné použití v praxi může pak\nvypadat následovně:</p>\n\n<pre\n><code class=\"language-csharp\">var articles = _articlesDao.Fetch(new CategoryArticlesQuery(category, pagingInfo));</code></pre>\n\n<p>Kde konkrétní implementace dotazovacího objektu vypadá takto:</p>\n\n<pre\n><code class=\"language-csharp\">public class CategoryArticlesQuery : QueryObjectBase&lt;Article&gt; {\n\n  public CategoryArticlesQuery(Category category, PagingInfo paging)\n    : base(paging) {\n    Category = category;\n  }\n\n  public Category Category { get; private set; }\n\n  protected override IQueryble&lt;Article&gt; CreateQuery(IQueryable&lt;Article&gt; table) {\n    return from article in table\n           where article.Category == Category\n              &amp;&amp; article.IsPublished\n           orderby article.PublishDate descending\n           select article;\n  }\n}</code></pre>\n\n<p>Výhodou i je, že pokud potřebujeme upravit dotaz, děláme to vždy jen\njednou na jednom místě.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-01-30T13:58:19.303-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Doménové dotazy",
  :published #inst "2010-01-30T13:53:12.107-00:00",
  :url "domenove-dotazy",
  :category-url "asp-net-2-0.aspx",
  :id 377,
  :description
  "Dneska se podíváme na zoubek dotazování nad doménovými objekty. Jak refaktorovat IRepository na autonomní query objekty...",
  :category "ASP.NET 2.0",
  :tags ["linq" "design" "patterns" "architecture"]},
 :346-uziti-repository-v-radicich.aspx
 {:html
  "\n<p>Dost už bylo infrastruktury, pojďme si ji trochu užít! :) Dneska si\nukážeme jak používat naší infrastrukturu, která by nám měla spoustu\nvěcí usnadnit. Proto jí vlastně tady tvořím.</p>\n\n<h3 id=\"toc-dependency-injection-a-bindovani-modelu\">Dependency injection a\nbindování modelu</h3>\n\n<p>Vytvoříme si řadič, který bude pracovat řekněme s uživateli – to\nje taková věc, která je nutná snad v každé aplikaci. Ruku na srdce,\naplikace bez uživatelů je tak trochu k ničemu. Tak pojďme na to!</p>\n\n<pre\n><code class=\"language-csharp\">[HandleErrors]\npublic class UsersController : System.Web.Mvc.Controller {\n\n  private IUsersRepository _usersRepository;\n\n  public UsersController(IUsersRepository usersRepository) {\n    _usersRepository = usersRepository;\n  }\n\n  [ActionName(\"Rest\")]\n  [AcceptVerbs(HttpVerbs.Post)]\n  public ActionResult Create(FormCollection forms) {\n\n    var user = new User();\n    if (ModelState.IsValid == false) {\n      throw new ValidationException();\n    }\n\n    UpdateModel(user, forms.ToValueProvider());\n    _usersRepository.Save(user);\n\n    return Json(user);\n  }\n}</code></pre>\n\n<p>Krátké a úderné. Jde o klasický řadič, který má závislost na\nrepository uživatelů. Tuto závislost si nechává nainjektovat přes\nkonstruktor. O její životní cyklus se nestará, to řeší <acronym\ntitle=\"Inversion of Controll\">IoC</acronym> kontejner. Pak tu máme akci, která\nzpracovává POST dotazy řekněme na URL <code>/Users</code>, to teď není\npodstatné. Tato akce by měla vytvořit nového uživatele z dat, která\npřišla v POSTu (<code>FormCollection</code>).</p>\n\n<p>Pokud nejsou data v pořádku, tak vyhodíme validační výjimku. O to,\njak se tato data mapují na model uživatele, se opět řadič nestará, to je\nvěc model binderu. Pokračujeme dále k uložení uživatele, někam. Kam a\njakým způsobem je řadiči opět šumák, to je starost repository. Nakonec\npošleme zpátky hotového uživatele jako <acronym\ntitle=\"JavaScript Object Notation\">JSON</acronym> objekt.</p>\n\n<p>A to je pro dnešek vše… :)</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a rel=\"bookmark\" title=\"ActiveRecord vs. Repository pattern\"\n\t\thref=\"/weblog/271-active-record-vs-repository-pattern.aspx\">ActiveRecord vs.\n\t\tRepository pattern</a></li>\n\n\t\t<li><a rel=\"bookmark\" title=\"Inversion of Control v ASP.NET MVC\"\n\t\thref=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">Inversion of Control\n\t\tv ASP.NET MVC</a></li>\n\n\t\t<li><a rel=\"bookmark\" title=\"Model binders v ASP.NET MVC\"\n\t\thref=\"/weblog/336-model-binders-v-asp-net-mvc.aspx\">Model binders v ASP.NET\n\t\tMVC</a></li>\n\n\t\t<li><a rel=\"bookmark\" title=\"DSL pro konfiguraci URL Routingu v ASP.NET MVC\"\n\t\thref=\"/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx\">DSL pro\n\t\tkonfiguraci URL Routingu v ASP.NET MVC</a></li>\n\n\t\t<li><a rel=\"bookmark\" title=\"Jaký pohled si vybrat?\"\n\t\thref=\"/weblog/343-jaky-pohled-si-vybrat.aspx\">Jaký pohled si vybrat?</a></li>\n\n\t\t<li><a rel=\"bookmark\" title=\"Persistence modelu pomocí ActiveRecord\"\n\t\thref=\"/weblog/345-persistence-modelu-pomoci-activerecord.aspx\">Persistence\n\t\tmodelu pomocí ActiveRecord</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-29T10:12:49.323-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Užití repository v řadičích",
  :published #inst "2009-01-25T10:18:39.737-00:00",
  :url "uziti-repository-v-radicich",
  :category-url "asp-net-2-0.aspx",
  :id 346,
  :description
  "Dost už bylo infrastruktury, pojďme si ji trochu užít! :) Dneska si ukážeme jak používat naší infrastrukturu, která by nám měla spoustu věcí usnadnit. Proto jí vlastně tady tvořím.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "mvc" "binders" "ioc" "repository" "rest"]},
 :104-houselesson-vol-2.aspx
 {:html
  "\n<p>01. Gadjo – So Many Times (Original Dub Mix) [Ambassade] 02. Discobuster\nvol. 2 – Sticky Rhythm (DJ Tonka Remix) [Disco Galaxy] 03. Axwell feat.\nSteve Edwards – Watch the Sunrise (Bob Sinclar Remix) [AxTone] 04. Doobie\nBrothers vs. Filo &amp; Perry – Long Train Running [White]\n05. Shapeshifters – Incredible (Denis the Menace &amp; Jerry Ropero's Full\nVocal Mix) [EMI] 06. Soul Central – I Need You Now (Extended Mix)\n[Defected] 07. Bob Sinclar – I Feel For You 2005 (I Feel For Disco Mix)\n[Defected] 08. Supafly vs. Fishbowl – Let's Get Down (Full Intention Club\nMix) [Ultra] 09. Atlantic Soul feat. Tony Lindsay – Just Got Paid\n(Stonebridge Remix) [Rootz] 10. Supermongo – Why [CD-R] 11. Rasmus\nFaber – Get Over Here (Axwell Club Remix) [Farplane]</p>\n\n<p>Ke stažení <a href=\"/files/alessio_busta_-_houselesson_vol_2.wma\"\nonclick=\"javascript:_gat._getTracker(\">Alessio Busta presents HouseLesson vol.\n2</a> (WMA 96 kbps; 45,1 MiB)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T15:20:21.090-00:00",
  :is-published true,
  :author "alessio busta",
  :title "HouseLesson vol. 2",
  :published #inst "2006-01-30T14:40:06.737-00:00",
  :url "houselesson-vol-2",
  :category-url "muzika.aspx",
  :id 104,
  :description
  "Další set z rukou Alessia Busty. Tentokrát ve stylu Vocal House.",
  :category "Muzika",
  :tags []},
 :447-zatocime-s-null.aspx
 {:html
  "\n<p>Chtěl bych se v takové kratké sérii blogů dostat k jednotlivým bodům\n<a href=\"/weblog/444-manifest-nejen-objektove-orientovaneho-vyvoje.aspx\">NOOO\nmanifesta a jeho principům</a>. V této sérii, bych chtěl vyjádřit, proč\nse k tomuto manifestu hlásím, a i ukázat pár praktických důsledků\nv hodnotách a principech obsažených.</p>\n\n<p>Dnes se zastavíme u toho, proč preferuji <strong>Option</strong> před\n<em>null</em> a proč:</p>\n\n<blockquote>\n\t<p>Upřednostňujeme reprezentaci invariant na úrovni typů před reprezentací\n\tna úrovni hodnot.</p>\n</blockquote>\n\n<h3 id=\"toc-problematika-null\">Problematika null</h3>\n\n<p>Snad každý, kdo se zabývá programováním narazil na problém s\n<code>null</code> hodnotami. Většinou se projevuje tak, že z ničeho nic\ndostaneme někde <code>NullReferenceException</code> (NRE) a máme po ptákách.\nTento problém je celkem častý a <a\nhref=\"http://blogs.msdn.com/b/dsyme/archive/2013/03/25/quote-of-the-week-quot-what-can-c-do-that-f-cannot-quot.aspx\">odhaduje\nse, že každý rok má za následek ztrátu $1B</a>. To je pro představu\n1 000 000 000 USD. Ztráta je způsobena jak samotným projevem, tak\ni náklady vynaloženými na obranu před <code>NRE</code>.</p>\n\n<h3 id=\"toc-obrana\">Obrana</h3>\n\n<p>Jistě znáte techniky defenzivního programování, jako jsou <em>Code\nContracts</em> v jejich různých mutacích, které efektivně zvyšují\nnáklady na tvorbu a správu přebujelé code base, v který aby se čert\nvyznal. Další se snaží o zavedení nového syntaktického prvku, který\nvypadá následovně: <code>foo?bar()</code> a dělá to samé co <code>if (foo\n!= null) foo.bar();</code>. Pořád jen to jen maskování symptomů. Ne\nřešení problému.</p>\n\n<h3 id=\"toc-prevence\">Prevence</h3>\n\n<p>Další možností je používat jazyky, jako je třeba F#, které\n<code>null</code> nemají. (Ok, F# zná <code>null</code>, ale musíte si\nexplicitně o něj říct a označit tak potenciálně nebezpečný kód, jinak\nby asi moc nemohl pracovat s již existujícími .net knihovnami.) Většinou\nse jedná o funkcionální jazyky se sofistikovanými typovými systémy.</p>\n\n<p>Nechme se inspirovat některými dobrými vzory:</p>\n\n<h3 id=\"toc-null-object\">Null Object</h3>\n\n<p>Pokud děláte TDD, nebo se zajímáte o návrhové vzory, jistě už jste\nna tento vzor narazili. Jde o to, že ve vašem systému máte definované\n„implementační“ třídy, které nemají žádnou implementaci, nebo\nprostě jen nikdy nevyhazují výjimky. Slouží pouze k tomu, že pokud\nsystému nenabídneme nějakou jinou funkční implementaci, nemusíme se\nobávat <code>NRE</code>, protože tu máme bezpečný <em>Null Object</em>.</p>\n\n<p>Já ho třeba používám vždycky, když implementuji logování:</p>\n\n<pre\n><code class=\"language-csharp\">ILogger logger = NullLogger.Instance;\npublic ILogger Log {\n  get { return logger; }\n  set { logger = value ?? NullLogger.Instance; }\n}</code></pre>\n\n<p>Po inicializaci je logger nastaven na instanci <code>NullLogger</code>u.\nLogger je možné injektovat, ale pokud se někdo pokusí podstrčit\n<code>null</code>, tak si podržíme <code>NullLogger</code>. Za předpokladu,\nže se <code>logger</code> nepoužívá nikde jinde, než v property, máme\nbezpečno a nemusíme psát spoustu defenzivního kódu jako:</p>\n\n<pre><code class=\"language-csharp\">if (Log != null) Log.Info(\"foo\");</code></pre>\n\n<p>Samozřejmě to není jediný případ užití. Další, z možných\nimplementací, je vyjádření speciálního stavu, jako třeba:</p>\n\n<pre\n><code class=\"language-csharp\">public class AsyncResult {\n  public AsyncResult(XElement response) {\n    Response = response;\n  }\n  public XElement Response { get; set; }\n}\n\npublic class QueryInProgress : AsyncResult {\n  public QueryInProgress() : base(null) { }\n}</code></pre>\n\n<p>Tohle je <em>Null Object</em> implementovaný v SOA. Systém dostane ke\nzpracování nějaký požadavek (dotaz) a když se následně zeptá na\nvýsledek, dostane buď Null Object <code>QueryInProgress</code>, který\nříká, že dotaz se ještě zpracovává, nebo už samostatnou odpověď.\n<strong>Null Object může mít i sémantický význam.</strong></p>\n\n<h3 id=\"toc-option\">Option</h3>\n\n<p>Jazyky, které podporují pattern-matching, umožňuji práci s typem\nOption:</p>\n\n<pre\n><code class=\"language-fsharp\">let exists (x : int option) =\n    match x with\n    | Some(x) -&gt; true\n    | None -&gt; false</code></pre>\n\n<p><code>None</code> nám nahrazuje <code>null</code>, ale nejedná se\no hodnotu, ale o typ. Typ <code>Option</code> je totiž definován jako\ngenerické disjunktivní sjednocení:</p>\n\n<pre\n><code class=\"language-fsharp\">type Option&lt;'T&gt; =\n  | None\n  | Some of 'T</code></pre>\n\n<p>Na rozdíl od vzoru <code>Null Object</code> tu neztrácíme nutnost\nrozhodování se, jak se v případě <code>None</code> zachovat. Nadruhou\nstranu, máme speciální případ explicitně sémanticky vyjádřen na\núrovni typu.</p>\n\n<h3 id=\"toc-maybe\">Maybe</h3>\n\n<p><code>Maybe</code> je v případě užití celkem podobný\n<code>Option</code> s tím rozdílem, že jde o monad. Krom toho, že je opět\nparametricky polymorfní (generický), splňuje i požadavky na monadičnost.\nMonadičnost nám <em>umožňuje kompozici</em> a můžeme i využít\nvlastostí jazyka jako je LINQ, který je postavený nad sekvenčním monadem,\nale nic nám nebrání ho použít i nad jinými. Třeba právě\nnad maybe.</p>\n\n<p>Nepotřebujeme však nutně Haskell, abychom mohli využívat všech výhod.\nTohle je třeba C#:</p>\n\n<pre\n><code class=\"language-csharp\">return TryGetCachedData(message, metadata, request).Match(\n  some: data =&gt; CachedResult(message.RequestId, data, stats),\n  none: () =&gt; Result(message, context, metadata, request, stats));</code></pre>\n\n<p>Implementaci <code>Maybe</code> monadu z ukázky najdete <a\nhref=\"https://gist.github.com/rarous/5355792\">v tomto gistu</a>.</p>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p>Null je zlo. Je možné s ním bojovat silou nebo inteligencí. Já byl\nvždycky slabý a líný, proto preferuji výše zmíněné <em>možnosti</em>\nprevence před samotnou obranou. Náš projekt sice není úplně imuní vůči\n<code>null</code>, ale díky <em>Null Objectu</em> a <em>Maybe monadu</em>,\nkteré se dají krásně kombinovat, je kód čistší a méně náchylný\nk chybám. Snad. :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-04-13T06:31:19.263-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zatočíme s null",
  :published #inst "2013-04-11T13:29:00.000-00:00",
  :url "zatocime-s-null",
  :category-url "moje-prace.aspx",
  :id 447,
  :description
  "Malé zastavení nad \"chytrými\" způsoby řešení problematiky null pointerů.",
  :category "Moje práce",
  :tags ["nooo" "monad" "patterns"]},
 :168-novy-kabatek-pro-microsoft-com.aspx
 {:html
  "\n<p>Microsoft připravuje redesign svých stránek. Jak vypadá současný stav\nse můžete podívat na <a\nhref=\"http://preview.microsoft.com/en/us/default.aspx\">Microsoft.com\nPreview</a> (POZOR: IE only). Jako homepage mi přijde dostatečně výrazná\ni&#160;celkem přehledná, ale zatim mi nefunguje formulář pro hledání,\načkoliv je v&#160;takovém pěkném zašupovacím boxu :) Ještě to chce\ntrochu zapracovat i&#160;na těch &#8222;bílých&#8220; místech. Kód se chce\ntvářit jako XHTML 1.0&#160;Strict, ale i&#160;na Trasitional má ještě\nhodně daleko.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-07-25T10:45:05.093-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nový kabátek pro Microsoft.com",
  :published #inst "2006-07-25T09:50:17.313-00:00",
  :url "novy-kabatek-pro-microsoft-com",
  :category-url "webdesign.aspx",
  :id 168,
  :description
  "Redesign homepage Microsoft.com, preview verze funkční pouze v MSIE :(.",
  :category "Webdesign",
  :tags []},
 :256-mikroformaty-duvod-proc-pouzivat-xhtml.aspx
 {:html
  "\n<p>Minulý týden jsme si prodiskutovali <a\nhref=\"/weblog/254-david-se-vrhl-na-goliase-xhtml.aspx\">pár mýtů na téma HTML\nvs. XHTML</a>. Zjistili jsme, že v HTML 4 jsou hodnoty atributů\n<code>id</code> a <code>class</code> citlivé na velikost písmen\n(přinejmenším v CSS a JavaScriptu). Shodli jsme se na tom, že DTD je\npřežitek, a že za spoustou mýtů stojí prasata, která jsou podvědomě\nspojována s HTML.</p>\n\n<p>Dneska si povíme o jedné věci, která nám možná přidá na hodnotě\nXHTML a tou jsou <a href=\"http://microformats.org/\">mikroformáty</a>.</p>\n\n<h3 id=\"toc-mikroformaty\">Mikroformáty</h3>\n\n<p>Mikroformáty jsou sémanticky obohacené části XHTML kódu. Ačkoli se pro\njejich definovaná využívá atributů (<code>class</code>, <code>rel</code>,\n<code>rev</code>…), které jsou samozřejmě definovány v HTML,\nk získávání jejich cenných dat se obecně využívá XML parserů. Proto\nje lepší mít stránky v dobře sestaveném XHTML, než v plně validním\nHTML – samozřejmě pokud chcete mikroformáty využívat. Ale proč\nby ne.</p>\n\n<h3 id=\"toc-uzivame-v-praxi\">Uživáme v praxi</h3>\n\n<p>Když se podíváte do pravého sloupce (možná je až dole), na první\npohled tam nenajdete nic zajímavého, vlastně kecám. Hned nahoře jsou moje\nkontaktní údaje, k jejich definici jsem použil mikroformátu <a\nhref=\"http://microformats.org/wiki/hcard\">hCard</a>, který slouží k popisu\nvizitkových dat a je kompatibilní se standardním formátem\n<em>vCard</em>.</p>\n\n<p>O kousek niž je další box s titulem <strong>Kolegové a\nkamarádi</strong>, není to nic jiného než blogroll s odkazy na mé kolegy,\nkamarády a další dobré lidi :). Při jeho tvorbě jsem použil špetku\nmikroformátu zvaného <a href=\"http://gmpg.org/xfn\">XFN</a>. Tento slouží\nk definici meziblogových vztahů.</p>\n\n<p>Mezi těmito boxy je jiný, tako co žádný mikroformát nepoužívá, ale\ninformuje o tom, že stále hledám nějakého šikovného kolegu, co umí\ndobře C# a chtěl by se mnou spolupracovat na <a\nhref=\"http://firmy.atlas.cz/\">Atlasu firem</a> a s ním spojených interních\nsystémech. Práce je to opravdu zajímavá, rozšíříš si obzory a navíc\nmožnost pracovat s tak milými a sympatickými lidmi…</p>\n\n<h3 id=\"toc-s-cim-na-ne\">S čím na ně?</h3>\n\n<p>Jo k praktickému využití mikroformátů ještě schází podpora\nv prohlížečích. Do odnoží firefoxu se dá doinstalovat nástroj <a\nhref=\"https://addons.mozilla.org/en-US/firefox/addon/4106\">Operator</a>, který\nje určitě dobrým pomocníkem při vývoji a je propojen na některé služby,\nkteré s MF umí pracovat. Nativní podpora pro mikroformáty je slibována ve\nFirefoxu 3 a Internet Exploreru 8 (znamená to, že bude konečně umět\nXHTML?). Dále se po internetu válej nějaký skripty, které slouží\nk transformaci na jiné formáty, CSSka pro zvýrazňování mikroformátů ve\nstránce a tak.</p>\n\n<p>Tagy: <a href=\"http://technorati.com/tag/microformats\">Microformats</a>, <a\nhref=\"http://technorati.com/tag/xhtml\">XHTML</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:45:59.860-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Mikroformáty - Důvod proč používat XHTML",
  :published #inst "2008-02-12T11:04:57.267-00:00",
  :url "mikroformaty-duvod-proc-pouzivat-xhtml",
  :category-url "webdesign.aspx",
  :id 256,
  :description
  "Minulý týden jsme si prodiskutovali pár mýtů na téma HTML vs. XHTML. Dneska si povíme o jedné věci, která nám možná přidá na hodnotě XHTML a tou jsou mikroformáty.",
  :category "Webdesign",
  :tags
  ["microformats" "xhtml" "xfn" "hcard" "operator" "firefox" "ie8"]},
 :418-co-je-spatne-se-service-locatorem.aspx
 {:html
  "\n<p>Service Locator je obecný návrhový vzor, který dodává jeho uživatelům\ninstance požadovaných služeb. Existuje několik variant implementace tohoto\nvzoru a dokonce jsou od něj odvozeny i další specifcké vzory.</p>\n\n<h3 id=\"toc-singleton\">Singleton</h3>\n\n<p>Nejjednodušší implementaci service locatoru zná asi každý, kdo kdy\ns návrhovými vzory koketoval – je jím starý známý Singleton! Krom\ntoho, že Singleton svou vnitřní implementací zajišťuje garantovaný\nlifetime instance, tak tuto instanci i poskytuje – typicky pomocí statické\nvlastnosti <code>Instance</code> v horších jazycích pak <acronym\ntitle=\"nebudu říkat metoda, protože statická metod je IMO nesmysl\">funkcí</acronym>\n<code>getInstance()</code>.</p>\n\n<h3 id=\"toc-abstract-factory\">Abstract Factory</h3>\n\n<p>Další z častých implementací service locatoru je Factory, jde\no další konkrétnější odvozeninu vzoru, která má semantiku nejen\ninstance dodávat, ale i vytvářet. V důslednějších variantách má\nfactory na starosti i řádnou destrukci vytvořeného objektu. Já to\nnazývám „šrotovným“. :) Factory většinou vytváří nové instance\npomocí metody <code>Create()</code> nebo nějaké její variace.</p>\n\n<h3 id=\"toc-genericky-service-locator\">Generický Service Locator</h3>\n\n<p>Další častou implementací je obecný service locator v mnoha\naplikacích/fra­meworcích taky přezdívaný jako <code>Registry</code> nebo\n<code>Kernel</code> a podobně. Základním rozhraním většiny IoC kontejnerů\nje právě takovýto service locator. Většinou instance dostaneme zavoláním\nmetody <code>GetInstance()</code> nebo <code>Resolve()</code>.</p>\n\n<p>Jak vidíte, vzory jsou to známé, celkem běžně užívané, narážíme\nna ně denně. Tak co je špatně? Proč někdo používá označení Service\nLocator pejorativně?</p>\n\n<h3 id=\"toc-usage-pattern\">Usage pattern</h3>\n\n<p>Service locator totiž není jen návrhovým vzorem, ale i <strong>vzorem\nužití.</strong> A tady narazíme na jádro pudla. Vezměme si mou oblíbenou\nukázku se Singletonem. Tento vzor jal se býti častován anti-patternem. Je to\nsnad, kvůli tomu, že by to byl špatný návrhový vzor? Myslím, že ne.\nTento vzor se spojil v lidských hlavách se vzorem užití, který <strong>je\nšpatný</strong>!</p>\n\n<p>Ruku na srdce, kolikrát ve svém kódu voláte, třeba\n<code>HttpContext.Current</code> místo toho, abyste si ho nechali injektovat\nkonstruktorem?</p>\n\n<pre\n><code class=\"language-csharp\">public class SomeWebFoo {\n  public void DoWork() {\n    // code\n    if (HttpContext.Current.IsDebuggingEnabled) {\n    // code\n  }\n}\n\npublic class BetterWebFoo {\n  readonly HttpContextBase httpContext;\n\n  public BetterWebFoo(HttpContextBase httpContext) {\n    this.httpContext = httpContext;\n  }\n\n  public void DoWork() {\n    // code\n    if (httpContext.IsDebuggingEnabled) {\n    // code\n  }\n}</code></pre>\n\n<p>První třída používá Service Locator usage pattern, druhá inversion of\ncontrol. V prvním případě skrytě přistupujeme přes statickou vlastnost\n(globální proměnná) k instanci konkrétního typu. Druhá třída svou\nzávislost veřejně deklaruje, ale je jí navíc jedno, jaký konkrétní typ\ndostane – závisí pouze na abstrakci. Proč je první třída ve většině\npřípadů horší nechám už na vás. Určitě na to přijdete. ;)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-04-16T18:03:51.257-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Co je špatně se Service Locatorem?",
  :published #inst "2012-04-16T17:56:13.617-00:00",
  :url "co-je-spatne-se-service-locatorem",
  :category-url "moje-prace.aspx",
  :id 418,
  :description
  "No, právě. Záleží z jakého úhlu pohledu se na to koukáme...",
  :category "Moje práce",
  :tags ["patterns"]},
 :163-jsou-tam.aspx
 {:html
  "\n<p>„Kdo?“ „Néé, co!“</p>\n\n<p>Odedneška mám dovolenou (až do konce příštího týdne) a tak jsem se\npodíval na zoubek <a href=\"/clanek/154-to-se-mi-zase-neco-povedlo.aspx\">mým\nztraceným komentářům</a>. Postup jak na to jsem si už dopředu vymyslel.\nVyužil jsem toho, že si všechny komentáře syndikuju v <a\nhref=\"http://reader.google.com/\">Google Readeru</a>. Přepsané komentáře jsem\nsi v GR označil labelem a využil možnosti takový label sdílet (ve formátu\nAtom). Napsal jsem si importér z Atomu do SQL Update příkazu a začal\nsosat data.</p>\n\n<p>Ano sosat jsem musel postupně, protože GR exporty mají jen dvacet položek\na já potřeboval těch komentářů vysosnout zhruba 200 :) Takže jsem musel\nručně odštítkovat naimportované komentáře a opět provést import. No\nalespoň část toho procesu se mi povedlo zautomatizovat a ušetřit tak pár\nhodin práce :)</p>\n\n<p>Důležité však je, že většina komentářu je zase ve své původní\npodobě a na spráném místě. Bohužel přibližně deset komentářů jsem\nv onen osudný den nestihl nasyndikovat. Ty jsou asi nenávratně pryč, teda\npokud je někdo nemá někde v útrobách své čtečky :) Kdyby je náhodou\nněkdo našel, prosím o jejich vrácení :D</p>\n\n<p>Děkuji za pozornost.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:28:03.863-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jsou tam :)",
  :published #inst "2006-06-28T14:33:14.787-00:00",
  :url "jsou-tam",
  :category-url "jen-tak.aspx",
  :id 163,
  :description "Podařilo se mi zrestaurovat ztracené komentáře :)",
  :category "Jen tak",
  :tags ["rss" "atom" "google" "reader"]},
 :154-to-se-mi-zase-neco-povedlo.aspx
 {:html
  "\n<p>Tak se mi povedlo díky mému pospíchání přepsat všechny komentáře\nk&#160;příspěvkům &#8211; takové znehodnocení informací :( Je mi\nz&#160;toho smutno. O&#160;tom, že bych měl databázi zálohovanou silně\npochybuju, to jsem ale vůl. takže pozor, až budu příště psát\n<code>UPDATE</code>, musim připsat i <code>WHERE</code>! Kretén, kterén a\nještě jednou kretén&#8230;</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-05-23T19:04:33.377-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "To se mi zase něco povedlo",
  :published #inst "2006-05-23T18:54:38.820-00:00",
  :url "to-se-mi-zase-neco-povedlo",
  :category-url "jen-tak.aspx",
  :id 154,
  :description "Přepsal jsem si všechny komentáře.",
  :category "Jen tak",
  :tags []},
 :118-rss-galerie.aspx
 {:html
  "\n<p>Dnes jsem zprovoznil nový RSS export pro syndikaci galerií na mém webu.\nPro ty, co mají zájem: <a href=\"/ws/syndikace.asmx/RssGalerie\">RSS\ngalerie</a></p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-13T07:41:39.517-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "RSS Galerie",
  :published #inst "2006-03-13T07:41:39.517-00:00",
  :url "rss-galerie",
  :category-url "gryphoon.aspx",
  :id 118,
  :description "Zprovoznil jsem nový RSS export.",
  :category "Gryphoon",
  :tags []},
 :110-nova-verze-galerie.aspx
 {:html
  "\n<p>Možná jste si všimli, že mám na svých stránkách <a\nhref=\"/galerie.aspx\">fotogalerii</a>. Tahle galerie je jednou z&#160;plug-in\nkomponent redakčního systému Gryphoon a je postavená na <a\nhref=\"http://picasa.google.com/\">Picasa</a> Raw XML formátu. U&#160;většiny\nprogramů, které dělají html galerie, je nevýhoda, že je layout výsledné\ngalerie pevně daný. Toto omezení se někdy dá vyřešit pomocí vytvoření\nvlastní šablony, ale většinou je tato technika celkem složitá a navíc je\nvýsledkem pouze sada statických souborů. Další možností je použít\nnějakou free dynamickou galerii. Ta většinou všechno řeší přes\ndatabázi, ale zase je nezávislá na desktopové aplikaci.</p>\n\n<p>Můj plug-in je závislý na výše zmiňované Picase a její exportní\nšabloně <em>XML gallery</em>. Výsledný export se nahraje na ftp, nebo se\nvyužije možnost uploadu zazipované galerie přímo přes rozhranní\nGryphoonu. Vložení galerie do stránky je stejně tak složité, jako tam\nvložit obyčejný label :)</p>\n\n<pre><code class=\"language-markup\">&lt;%@ Register TagPrefix=\"Gryphoon\" TagName=\"Galerie\" Src=\"~/controls/Galerie.ascx\" %&gt;\n…\n&lt;Gryphoon:Galerie ID=\"Galerie1\" runat=\"server\" Folder=\"~/galerie\" ParseDateFromFolder=\"true\"&gt;\n&lt;!-- šablony částí stránky --&gt;\n&lt;/Gryphoon:Galerie&gt;</code></pre>\n\n<p>Pomocí vlastnosti <code>Folder</code> nastavíme adresář, kde jsou\nuloženy adresáře s&#160;exporty z&#160;Picasy. Pomocí vlastnosti\n<code>ParseDateFromFolder</code> povoluje parsování data z&#160;názvu\nsložky Alba. To je proto, že já i&#160;mí kamarádi, kteří také\npoužívají Gryphoon, jsme zvyklí pojmenovávat složky exportů\nv&#160;následujícím tvaru <code>yyyy-mm-dd_jmeno_alba</code>. Dokonce lze\npoužít i&#160;rozšířenou formu, kdy se album vztahuje k&#160;nějakému\núseku dnů, pak se použije název složky ve tvaru\n<code>yyyy-mm-dd-dd_jmeno_alba</code>. Takže pokud je tato vlastnost nastavena\nna <strong>true</strong>, lze v&#160;šablonách použít\n<code>Container.Date</code> pro výpis data kdy bylo album pořízeno.</p>\n\n<p>U&#160;staré verze zde končily možnosti nastavení výsledného vzhledu\ngalerie, protože vše bylo natvrdo napsáno v&#160;kódu kontrolu. Nová verze\npřichází se šablonováním. Máme tu sedm šablon pro nastavení vzhledu\njednotlivých částí v&#160;různých stavech galerie. Každá šablona má\nsvou vlastní sadu vlastností, které lze použít. Nutností je si šablony\nnadefinovat, jinak Galerie fungovat nebude, protože nemá předprogramované\nšablony &#8211; to snad v&#160;příští verzi.</p>\n\n<p>Poslední věc, která se ještě musí udělat, je svázání dat pomocí\npříkazu <code>DataBind()</code> ve stránce, která má v&#160;sobě galerii\nvloženou.</p>\n\n<pre><code class=\"language-csharp\">void Page_Load(object sender, EventArgs e){\n...\nDataBind();\n}</code></pre>\n\n<p>Ke stažení <a href=\"/files/GryphoonGallery.zip\">Gryphoon Gallery v0.82</a>\n(Zip, 4,87KiB)</p>\n\n<p><strong>Update</strong> ke stažení nyní i&#160;ukázka použití a lehká\núprava galerie.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-02-19T08:41:56.673-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nová verze galerie",
  :published #inst "2006-02-18T18:51:00.000-00:00",
  :url "nova-verze-galerie",
  :category-url "gryphoon.aspx",
  :id 110,
  :description
  "Vytvořil jsem novou verzi galerie a dávám ji volně k použití.",
  :category "Gryphoon",
  :tags []},
 :287-pripravte-se-na-vyrezy.aspx
 {:html
  "\n<p>Včera jsme se podívali na mikroformáty v Texy! Dnes si představíme\nnovinku, kterou přináší Internet Explorer ve verzi 8. Tou novinkou jsou\nWebSlices – webové výřezy.</p>\n\n<h3 id=\"toc-prakticke-vyuziti\">Praktické využítí</h3>\n\n<p>Výřezy umožňují, aby uživatel mohl sledovat změny části webové\nstránky. Podobně jako u <a\nhref=\"http://cyber.law.harvard.edu/rss/rss.html\"><acronym\ntitle=\"Really Simple Sindycation\">RSS</acronym></a> nebo <a\nhref=\"http://tools.ietf.org/html/rfc4287\">Atom</a> jde o syndikaci obsahu malé\nčásti webové stránky. Prakticky to může vypadat třeba následovně.</p>\n\n<p>U svých článků často přidávám odkazy na související články.\nJenže je všechny nezadám při publikaci článku, ale spíš postupně\npřidávám a třeba když narazím na nějaký pěkný článek k tématu, tak\nho přidám. Jenže to už spousta lidí má dočteno a třeba se už nevrátí,\nnedozví se, že přibyly zajímavé odkazy na dané téma. S <a\nhref=\"http://msdn.microsoft.com/en-us/library/cc304073(VS.85).aspx\">WebSlice</a>,\nmůžu označit tento kousek článku k odběru a pokud má čitatel zájem,\npřidá si ho. Potom když přidám nějaký zajímavý odkaz, čtenář o tom\nbude vědět.</p>\n\n<p>Jiný příklad, který mě napadá. Stránky nějakého hudebního festivalu\nobsahují informace o ceně a množství volných vstupenek. Tyto informace se\nv čase mění – čím je fesťák blíž, tím cena roste a počet\nvstupenek klesá. Na takovou informaci je celkem zbytečné vytvářet RSS feed.\nStačí ji prostě označit jako výřez. Já třeba ještě nejsem rozhodnutý,\njestli půjdu, nebo chci vědět, kolik aktuálně vstupenka stojí a kolik jich\nzbývá, aby se mnou mohli jít i kamarádi. Tak se přihlásím k odběru\ntakové informace.</p>\n\n<p>Uplatnění vidím i jinde.</p>\n\n<h3 id=\"toc-technicke-zpracovani\">Technické zpracování</h3>\n\n<p>Výřezy jsou části stránky označené třídou <code>hslice</code> a\n<strong>nějakým id</strong> a obsahující elementy s třídou\n<code>entry-title</code> a <code>entry-content</code> z mikroformátu <a\nhref=\"http://microformats.org/wiki/hatom\">hAtom</a>. Živý příklad ze <a\nrel=\"bookmark\"\nhref=\"/weblog/286-zapisujeme-mikroformaty-pomoci-texy.aspx\">včerejšího\nčlánku</a> je lepší než tisíc slov:</p>\n\n<pre\nclass=\"texy\"><code>/--div .[#related hslice]\n== Související .[entry-title]\n.[entry-content]\n* [clanek(282)]\n* [clanek(267)]\n* [clanek(256)]\n* [microformats-cz]\n\\--div</code></pre>\n\n<p>Když uživatel najede nad tento kus článku, objeví se tlačítko pro\nsubskripci:</p>\n\n<div class=\"image\"><img src=\"/data/obrazky/webslice.png\"\nalt=\"zvýrazněný výřez stránky\" /></div>\n\n<p>Po jeho odsouhlasení se stránka přidá do oblíbených a do feedů. Po\nrozkliknutí se objeví náhledové okno s aktuálním výřezem:</p>\n\n<div class=\"image\"><img src=\"/data/obrazky/webslice2.png\"\nalt=\"náhled výřezu stránky\" /></div>\n\n<h3 id=\"toc-dalsi-moznosti\">Další možnosti</h3>\n\n<p>U výřezů funguje automatické nalezení podobně jako u RSS a Atom\nfeedů, vlastně jsou ve stejné nabídce, ale jsou odlišeny fialovou ikonkou\nvýřezu. Automaticky se vybere první nalezený výřez. Pokud ale chcete\nnabídnout k přihlášení jako první jiný výřez, lze to ovlivnit\nvložením <code>meta</code> tagu do hlavičky:</p>\n\n<pre\n><code class=\"language-markup\">&lt;link rel=\"default-slice\" type=\"application/x-hatom\" href=\"#related\" /&gt;</code></pre>\n\n<p>Mění se pouze obsah atributu <code>href</code> v němž je cesta\nk výřezu. Jak jsem již říkal, ten musí být označen atributem\n<code>id</code> tudíž je přes jeho hodnotu odkazovatelný.</p>\n\n<p>Dále je možné omezit platnost výřezu pomocí <a\nhref=\"/weblog/267-vkladani-data-do-stranky.aspx\">date-patternu</a> s třídou\n<code>endtime</code> nebo periodu aktualizace za pomocí třídy\n<code>ttl</code>:</p>\n\n<pre\n><code class=\"language-markup\">&lt;p&gt;Úryvek se aktualizuje jednou za &lt;span class=\"ttl\"&gt;60&lt;/span&gt; minut.&lt;/p&gt;</code></pre>\n\n<p>Lze i definovat vzhled výřezu a pracovat s nimi na úrovni JS API, ale to\nuž je mimo rámec tohoto článku.</p>\n\n<h3 id=\"toc-format-hatom\">Formát hAtom</h3>\n\n<p>Jak jsem již psal výše, výřezy jsou z části postavené na\nmikroformátu <a href=\"http://microformats.org/wiki/hatom\">hAtom</a>. Ten\nslouží k definování něčeho jako Atom feed ve stránce. Dají se jím\ncelkem trefně popsat blogové zápisky, protože obsahuje téměř všechny\ntřídy, které se můžou k popisu blogového zápisku hodit. Proto když\nbudete dělat novou šablonu pro svůj blog, zkuste se u tohoto mikroformátu\ninspirovat.</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a rel=\"bookmark\"\n\t\thref=\"/weblog/286-zapisujeme-mikroformaty-pomoci-texy.aspx\">Zapisujeme\n\t\tmikroformáty pomocí Texy!</a></li>\n\n\t\t<li><a href=\"/weblog/267-vkladani-data-do-stranky.aspx\">Vkládání data do\n\t\tstránky</a></li>\n\n\t\t<li><a rel=\"bookmark\"\n\t\thref=\"http://www1.mraveniste.org/weblog/2005/03/09-kotvy.html\">Jan Bien:\n\t\tNamísto kotvy úryvek</a></li>\n\n\t\t<li><a\n\t\thref=\"http://met.blog.root.cz/2008/06/25/bbc-nasadilo-a-opet-odstranilo-mikroformaty/\">Martin\n\t\tHassman: BBC nasadilo a opět odstranilo mikroformáty</a></li>\n\n\t\t<li><a\n\t\thref=\"http://msdn.microsoft.com/en-us/library/cc304073(VS.85).aspx\">Specifikace\n\t\tWebSlice na MSDN</a></li>\n\n\t\t<li><a\n\t\thref=\"http://msdn.microsoft.com/en-us/library/cc196992(VS.85).aspx\">Další\n\t\tinformace o WebSlice na MSDN</a></li>\n\n\t\t<li><a href=\"http://microformats.org/wiki/hatom\">Mikroformát hAtom</a></li>\n\t</ul>\n</div>\n\n<p>Tagy: <a rel=\"tag\"\nhref=\"http://technorati.com/tag/microformats\">Microformats</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/webslice\">WebSlice</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/ie8\">IE8</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:14:28.460-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Připravte se na výřezy",
  :published #inst "2008-06-25T15:00:46.097-00:00",
  :url "pripravte-se-na-vyrezy",
  :category-url "webdesign.aspx",
  :id 287,
  :description
  "Včera jsme se podívali na mikroformáty v Texy! Dnes si představíme novinku, kterou přináší Internet Explorer ve verzi 8. Tou novinkou jsou WebSlices – webové výřezy.",
  :category "Webdesign",
  :tags ["webslices" "ie8" "microformats" "texy"]},
 :95-nova-generace-webu.aspx
 {:html
  "\n<p>Nechci tu mluvit o&#160;aktivitách jako je Web 2.0, ale o&#160;současných\nnebo velmi brzkých technologiích. Určitě už jste slyšeli něco\no&#160;<acronym title=\"Asynchronous JavaScript and XML\">AJAX</acronym>u, ať\nuž o&#160;tom fotbalovém nebo o&#160;tom webovém. Já o&#160;tom fotbalovém\nnic nevím, takže se chci věnovat tomu mě bližšímu.</p>\n\n<p>AJAX je buzword dneška, ačkoliv nejde o&#160;zas tak novou technologii,\ndnes prožívá svůj boom. Oblibu si získal asi díky <a\nhref=\"http://www.gmail.com/\">GMailu</a>, který je v&#160;něm napsaný. Pokud\njde o&#160;nějakou zajímavou technologii, kterou AJAX bezesporu je, nebyl by\nto <a href=\"http://www.microsoft.com\">Microsoft</a>, aby u&#160;toho chyběl.\nI&#160;Microsoft má svoje AJAXové aplikace a nemusíme chodit pro vodu\ndaleko, stačí do adresního řádku napsat <a\nhref=\"http://www.start.com\">Start.com</a> a máme tu hned jednu.</p>\n\n<p><strong>Start.com</strong> je taková testovací laboratoř nápadů\nMicrosoftích vývojářů. Prvotním úkolem bylo vytvoření\npersonalizovaného portálu. Velice pěkná myšlenka, která funguje. Obdobnou\nvěc potom spustil i&#160;<a href=\"http://www.google.com/ig\">Google</a> a\nposléze vznikla i&#160;betaverze <a href=\"http://www.live.com\">Windows\nLive</a>, která se Start.com značně podobá.</p>\n\n<p><strong>Live.com</strong> je nový portál Microsoftu a podle všeho se\njedná o&#160;transformaci MSN. Live.com je stránka, kde je hledací\npolíčko, které hledá přes MSN Search. Tím by se asi oproti současnému\nMSN portálu značně degradovala, proto je zbytek stránky určen jen vám a\nvy si s&#160;ním můžete dělat, co se vám zlíbí. Když namátkou vyberu\n&#8222;dlaždice&#8220;, které mě zaujali, jako třeba hodiny, lokální\npočasí, RSS čtečka, kurzovní lístek a mnoho dalších, dojdu\nk&#160;omezenému počtu. Ovšem tento počet není limitním. Každý si\nmůže napsat vlastní &#8222;dlaždici&#8220;, kterou si do stránky\nnainstaluje. Pokud nejste dostatečně fundovaní na to, abyste si napsali\ndlaždici vlastní, můžete navštívit stránky <a\nhref=\"http://www.microsoftgadgets.com/\">http://www.mi&#173;crosoftgadget&#173;s.com/</a>,\nkde najdete spoustu dalších dlaždic z&#160;rukou komunitních\nvývojářů.</p>\n\n<p><strong>Atlas</strong>. Teď konečně přicházím k&#160;tomu, proč tenhle\nspot píšu. <a href=\"http://atlas.asp.net\">Atlas</a> je totiž nový framework\npro psaní JavaScriptových aplikací postavených nejen na AJAXu. Zatím\nexistuje pouze v&#160;testovací verzi bez Go-live licence, ale i&#160;tak se\ns&#160;ním dají dělat velice zajímavé věci. On Atlas bude pravděpodobně\nsoučástí příští verze ASP.NET, proto se s&#160;nim dá pracovat jak na\nklientské části, tak i&#160;na serverové. Používá se zde do značné\nmíry deklarativního programování, zavádí se určitá typovost, OOP a\njednoduchý přístup k&#160;webovým službám. Na Atlasu jsou postaveny oba\nvýše zmiňované portály, ale třeba i&#160;<a\nhref=\"http://local.live.com\">http://local&#173;.live.com</a>, což je nová\nverze MSN Virtual Earth.</p>\n\n<p>Atlas je pro mě velice slibnou a zajímavou technologií a určitě\no&#160;ní ještě něco napíšu &#8211; snad i&#160;něco praktičtějšího.\nZávěrem ještě malá vsuvka. Systém dlaždic je součástí nové plochy a\nSidebaru ve Windows Vista. :)</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-14T09:11:57.850-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nová generace webu",
  :published #inst "2005-12-14T09:11:57.790-00:00",
  :url "nova-generace-webu",
  :category-url "webdesign.aspx",
  :id 95,
  :description "Kam směřují webové aplikace, ale nejen ony.",
  :category "Webdesign",
  :tags []},
 :44-programatorska-soutez.aspx
 {:html
  "\n<p>Dnes mi přišel e-mail od <a href=\"http://www.aspweb.cz\">ASPWEBu</a>, že\npořádají s&#160;<a href=\"http://www.microsoft.com\">Microsoftem</a> soutěž\nv&#160;programování webových služeb. To mi přišlo vhod, právě\nprovádím rekonstrukci svého redakčního systému Gryphoon a plánuji\ni&#160;publikování prostřednictvím WS a e-mailu. Tak to je pro mě aspoň\no&#160;důvod víc se do toho pustit. :)</p>\n\n<p>Navíc je nyní možné na ASPWEBu provozovat &#8222;dvojkové&#8220;\naplikace! Tak se mi z&#160;plánováného upgradu redakčního systému\nGryphoon vyklubala kompletní migrace na ASP.NET 2.0! To mám radost. Tak teď\nhůrá do práce.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:48:32.923-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Programátorská soutěž",
  :published #inst "2005-02-02T00:00:00.000-00:00",
  :url "programatorska-soutez",
  :category-url "moje-prace.aspx",
  :id 44,
  :description "",
  :category "Moje práce",
  :tags []},
 :162-hudebni-novinky-pro-zacatek-leta.aspx
 {:html
  "\n<p>Začíná nám léto, to si žádá velké pařby se spoustou výborné\nmuziky. Právě vycházejí skvělé věci, na které se těším už půl\nroku, takže směle do nich!</p>\n\n<p>První věc už vyšla u&#160;labelu <a\nhref=\"http://www.joiarecords.com/\">Joia Records</a> a jmenuje se <a\nhref=\"http://mp3.juno.co.uk/MP3/SF222194-01-01-01.mp3\">Click</a>. Věcička\nhodně povedená a na svědomí ji má známá dvojka <em>Steve Angello &amp;\nSebastian Ingrosso</em>.</p>\n\n<p>Druhá v&#160;hodně podobné náladě výjde u&#160;labelu <a\nhref=\"http://www.refune.com/\">Refune</a> pod názvem <a\nhref=\"http://mp3.uniquedist.info/samplesC053/REF006A1.mp3\">Otherwize Then</a> a\nstojí za ní duo <em>Steve Angello &amp; Laidback Luke</em>.</p>\n\n<p>Třetí věc výjde u&#160;labelu <a href=\"http://www.sizerecords.com/\">Size\nRecords</a> pod názvem <a\nhref=\"http://mp3.uniquedist.info/samplesC047/SIZE013A.mp3\">Sexy F***</a> a ta\nje z&#160;rukou <em>Who's&#160;who</em> alias Steva Angella.</p>\n\n<p>Prozatím poslední skvělou věcí je <a\nhref=\"http://mp3.uniquedist.info/samplesC052/JOIA025A.mp3\">Fatz Theme</a>/<a\nhref=\"http://mp3.uniquedist.info/samplesC052/JOIA025B.mp3\">Flycker</a>.\nVychází u&#160;labelu <a href=\"http://www.joiarecords.com/\">Joia Records</a>\na je z&#160;rukou <em>Sheridan</em>a alias Erica Prydze.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-06-27T13:10:13.753-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Hudební novinky pro začátek léta",
  :published #inst "2006-06-27T13:08:15.850-00:00",
  :url "hudebni-novinky-pro-zacatek-leta",
  :category-url "muzika.aspx",
  :id 162,
  :description
  "Začíná nám léto, to si žádá velké pařby se spoustou výborné muziky. Právě vycházejí skvělé věci, na které se těším už půl roku, takže směle do nich!",
  :category "Muzika",
  :tags []},
 :264-weblogy-cz-ve-vasem-mobilu.aspx
 {:html
  "\n<p>Víte o tom, že službu W3B můžete využívat i ve vašem mobilu?\nMobilní verzi najdete na adrese <a\nhref=\"http://www.weblogy.cz/m\">http://www.weblogy.cz/m</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:38:29.497-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Weblogy.cz ve vašem mobilu",
  :published #inst "2008-04-10T10:52:22.610-00:00",
  :url "weblogy-cz-ve-vasem-mobilu",
  :category-url "webdesign.aspx",
  :id 264,
  :description
  "Víte o tom, že službu W3B můžete využívat i ve vašem mobilu? Mobilní verzi najdete na adrese http://www.weblogy.cz/m",
  :category "Webdesign",
  :tags ["weblogy"]},
 :147-webcasty-z-mix06.aspx
 {:html
  "\n<p>O <a href=\"http://www.mix06.com/\">Mix06</a> jsem se už zmiňoval\nv&#160;souvislosti s&#160;<a href=\"http://atlas.asp.net/\">ASP.NET Atlas</a> a\ntento týden byly uvolněny <a href=\"http://sessions.mix06.com/\">záznamy\npřednášek</a>. Záznamy jsou zpracovány velice slušně, po celou dobu\nvidíte jak přednášejícího, tak prezentaci a dema. Osobně doporučuji\nsérii věnovanou Atlasu:</p>\n\n<ul>\n\t<li><a\n\thref=\"http://sessions.mix06.com/view.asp?sessionChoice=2001&amp;disc=&amp;pid=NGW014&amp;yearChoice=2005\">Developing\n\ta Better User Experience with Atlas</a> by Shanku Niyogi</li>\n\n\t<li><a\n\thref=\"http://sessions.mix06.com/view.asp?sessionChoice=2001&amp;disc=&amp;pid=NGW052&amp;yearChoice=2005\">Designing\n\ta Better User Experience with AJAX and Atlas</a> by Rick Spencer</li>\n\n\t<li><a\n\thref=\"http://sessions.mix06.com/view.asp?sessionChoice=2001&amp;disc=&amp;pid=NGW002&amp;yearChoice=2005\">Building\n\tComponents and Services for the Programmable Web</a> by Nikhil Kothari</li>\n</ul>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-05-11T16:31:32.397-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Webcasty z Mix06",
  :published #inst "2006-05-11T16:31:32.367-00:00",
  :url "webcasty-z-mix06",
  :category-url "asp-net-2-0.aspx",
  :id 147,
  :description "Linky na zajímavá videa z konference Mix06.",
  :category "ASP.NET 2.0",
  :tags []},
 :188-axwell-club-mode.aspx
 {:html
  "\n<p>Původně byl tento mix určený pro Competition na Axwellově foru, ale\nnestihl jsem uzávěrku. Byla by škoda, aby tenhle mix zapadl :) Vybíral jsem\nspíš starší clubové věci. Pravidla byla dost striktní (max 30min, pouze\nAxwellova tvorba, MP3 128 kbps apod.) :) Doufám, že se bude líbit.</p>\n\n<ol>\n\t<li>Axwell – Feel The Vibe (Extended Vocal Mix)</li>\n\n\t<li>Room 5 feat. Oliver Chaetham – Make Luv (Axwell Remix)</li>\n\n\t<li>Playmaker – Black Pony (Axwell &amp; Stonebridge Club Mix)</li>\n\n\t<li>Mambana – Felicidad (Axwell Vocal Mix)</li>\n\n\t<li>Axwell – Lead Guitar (Axwell Club)</li>\n\n\t<li>Axwell feat. Charles Salter – I Found You (Classic Edit)</li>\n</ol>\n\n<p>Ke stažení <a href=\"/files/alessio_busta_-_axwell_club-mode.mp3\"\nonclick=\"javascript:_gat._getTracker(\">Alessio Busta – Axwell Club-mode</a>\n(MP3 128 kbps, 27,3 MiB)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T15:07:26.030-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Axwell Club-mode",
  :published #inst "2006-10-27T11:58:53.720-00:00",
  :url "axwell-club-mode",
  :category-url "muzika.aspx",
  :id 188,
  :description "Jeden z \"plážových mixů\" Alessia Busty ;)",
  :category "Muzika",
  :tags []},
 :69-definice-jazyka.aspx
 {:html
  "\n<p>Na webstandards.org vyšel pěkný článek o tom <a\nhref=\"http://www.webstandards.org/buzz/archive/2005_09.html#a000558\">jak\nsprávně definovat jazyk</a> v XHTML dokumentech.</p>\n\n<ol>\n\t<li>Pokud je stránka jednojazyčná nebo napsaná převážně v jednom jazyce\n\tdefinujte jazyk dokumentu pomocí <code>&lt;html xml:lang=\"cs\" ...</code>. Nikdy\n\ttak nečiňte pomocí <code>&lt;body&gt;</code>.</li>\n\n\t<li>Nepoužívejte meta tag <em>Content-Language</em>.</li>\n\n\t<li>Pokud se v textu vyskytují fragmenty v jiném jazyce než je definován v\n\t<code>&lt;html&gt;</code>, tak je označte atributem <code>xml:lang</code>,\n\tbuďto u třeba u celého odstavce <code>&lt;p xml:lang=\"en\"&gt;</code> nebo\n\tjen vybranou frázi uzavřete do <code>&lt;span xml:lang=\"en\"&gt;english\n\twords&lt;/span&gt;</code>.</li>\n</ol>\n\n<p>Tyto pravidla platí pro XHTML 1.1 publikované jako\n<strong>aplication/xhtml+xml</strong>. Pokud používáte XHTML\n1.0 publikované jako <strong>text/html</strong> musíte deklaraci zdvojit\npřidáním atributu <code>lang</code>. U HTML se zase neuvádí\n<code>xml:lang</code>, ale pouze <code>lang</code>. Je to celkem sranda, asi\nproto nemám rád XHTML 1.0. Začínám přemýšlet o tom, že budu tyhle\nstránky nabízet jako HTML 4.0 pro prohlížeče, které XHTML\n1.1 neznají :)</p>\n\n<!-- by Texy2! -->",
  :keywords "xhtml lang jazyk definice",
  :edited #inst "2008-04-19T19:18:30.387-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Definice jazyka",
  :published #inst "2005-09-07T11:38:21.000-00:00",
  :url "definice-jazyka",
  :category-url "webdesign.aspx",
  :id 69,
  :description "Jak správně definovat jazyk XHTML dokumentu.",
  :category "Webdesign",
  :tags []},
 :329-rest-aplikace-pomoci-asp-net-mvc.aspx
 {:html
  "\n<p>Jednou z důležitých novinek v beta verzi ASP.NET MVC je bezesporu\nmožnost přetěžování akcí a ve spolupráci s filtry na typ požadavku\nmůžeme přejít na REST přístup k architektuře webové aplikace.</p>\n\n<p>Ačkoli si mnoho lidí myslí, že když píšou v ASP.NET MVC, mají rovnou\n<acronym title=\"Representational state transfer\">REST</acronym> out of the box,\nnení tomu tak. V plném RESTu se totiž nedostávají do URL slovesa (akce),\nnýbrž pouze předměty. Typický scénář <acronym\ntitle=\"Create Read Update Delete\">CRUD</acronym> operací může vypadat\nnásledovně:</p>\n\n<pre><code>POST /Customers/Create/\nGET /Customers/Detail/1\nPOST /Customers/Update/1\nGET /Customers/Delete/1</code></pre>\n\n<p>Takovéto akce snadno pokryjeme s výchozí routou\n<code>/{controller}/{action}/{id}</code> a řadič\n<code>CustomersController</code> může vypadat nějak tak:</p>\n\n<pre\n><code class=\"language-csharp\">public class CustomersController : Controller {\n  public ActionResult Create(Customer customer) {\n    // TODO: create customer\n  }\n\n  public ActionResult Detail(int id) {\n    // TODO: find customer by id\n  }\n\n  public ActionResult Update(int id, Customer customer) {\n    // TODO: update customer\n  }\n\n  public ActionResult Delete(int id) {\n    // TODO: delete customer\n  }\n}</code></pre>\n\n<p>Jenže POSTování a GETování je jen slabou podmnožinou povolených\noperací na HTTP protokolu. Správný REST přístup pro CRUD operace by měl\nvypadat následovně:</p>\n\n<pre><code>POST /Customers\nGET /Customers/1\nPUT /Customers/1\nDELETE /Customers/1</code></pre>\n\n<h3 id=\"toc-co-je-pro-to-treba-udelat\">Co je pro to třeba udělat?</h3>\n\n<p>Začneme od routy. Přidáme novou routu pro\n<code>CustomersController</code>:</p>\n\n<pre\n><code class=\"language-csharp\">routes.MapRoute(\n  \"REST Customers\",\n  \"Customers/{id}\",\n  new { controller = \"Customers\", action = \"Rest\", id = \"\" }\n);</code></pre>\n\n<p>A původní kód obohatíme o pár atributů:</p>\n\n<pre\n><code class=\"language-csharp\">public class CustomersController : Controller {\n\n  [ActionName(\"Rest\")]\n  [HttpPost]\n  public ActionResult Create(Customer customer) {\n    // TODO: save Customer to database\n    return new HttpStatusCodeResult((int)HttpStatusCode.OK);\n  }\n\n  [ActionName(\"Rest\")]\n  [HttpGet]\n  public ActionResult Detail(int id) {\n    // TODO: load Customer from database\n    return View(\"Detail\");\n  }\n\n  [ActionName(\"Rest\")]\n  [HttpGet]\n  public ActionResult Index() {\n    // TODO: load Customers from database\n    return View(\"Index\");\n  }\n\n  [ActionName(\"Rest\")]\n  [HttpPut]\n  public ActionResult Update(int id, Customer customer) {\n    // TODO: update Customer in database\n    return new HttpStatusCodeResult((int)HttpStatusCode.OK);\n  }\n\n  [ActionName(\"Rest\")]\n  [HttpDelete]\n  public ActionResult Delete(int id) {\n    // TODO: delete Customer from database\n   return new HttpStatusCodeResult((int)HttpStatusCode.OK);\n  }\n}</code></pre>\n\n<p>A máme REST :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-08-30T15:00:50.877-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "REST aplikace pomocí ASP.NET MVC",
  :published #inst "2008-10-26T11:20:59.783-00:00",
  :url "rest-aplikace-pomoci-asp-net-mvc",
  :category-url "asp-net-2-0.aspx",
  :id 329,
  :description
  "Jednou z důležitých novinek v beta verzi ASP.NET MVC je bezesporu možnost přetěžování akcí a ve spolupráci s filtry na typ požadavku můžeme přejít na REST full přístup k architektuře webové aplikace. Jak na to?",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "mvc" "rest"]},
 :67-css-2-1-v-internet-exploreru-7.aspx
 {:html
  "\n<p>Včera vyšel <a\nhref=\"http://blogs.msdn.com/ie/archive/2005/09/02/460115.aspx\">článek na\nieblogu</a>, který přináší k diskusi několik vlastností parseru <acronym\ntitle=\"Cascading Style Sheet\">CSS</acronym> v připravovaném <acronym\ntitle=\"Internet Explorer\">IE</acronym>. Zajímavé je, že zpracování stylů\nbude odlišné pro Standard mod od Quirk modu. Quirk mode bude spracovávat CSS\nstejně jako to dělá IE6 s všemi chybami, což by mělo zajistit funkčnost\nsoučasného kódu i v novém prohlížeči. Naproti tomu Standard mode se na\nnic ohlížet nebude a pojede <a href=\"http://www.w3.org/TR/CSS21/\">podle\nstandardu</a>. V důsledku by neměli fungovat různé hacky, kterými dnes\nkodéři odlišují IE od moderních prohlížečů.</p>\n\n<p>Doufám, že implementace Standard modu bude dostatečně kvalitní, že\nhacky nebudou nadále potřeba. Držim Microsoftu palce – hlavně kvůli\nsobě ;).</p>\n\n<!-- by Texy2! -->",
  :keywords "CSS 2.1 Internet Explorer 7",
  :edited #inst "2008-04-19T19:12:08.740-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "CSS 2.1 v Internet Exploreru 7",
  :published #inst "2005-09-03T11:14:29.000-00:00",
  :url "css-2-1-v-internet-exploreru-7",
  :category-url "webdesign.aspx",
  :id 67,
  :description "Jak to bude s CSS v novém prohlížeči od Microsoftu.",
  :category "Webdesign",
  :tags []},
 :72-spadly-disk.aspx
 {:html
  "\n<p>Dnes jsem se probudil, do nejhoršího snu. Přestože jsem večer počítač\nnevypínal, ráno byl vypnutý. To už bylo podezřelé. Zapnul jsem ho a\nvyskočila hláška, že nějakej soubor chybí a že systém nemůže\nnastartovat. Tak jsem rychle sáhl po instalačním CD Windows a chtěl\nvyužít konzulu pro obnovení systému. V&#160;té jsem zjistil, že má data\nse odebrala do křemíkového nebe&#8230;</p>\n\n<p>Proč zrovna já?? Asi začnut zálohovat i&#160;jinam než na\ndisk&#8230;</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Spadlý disk",
  :published #inst "2005-10-07T08:29:42.000-00:00",
  :url "spadly-disk",
  :category-url "jen-tak.aspx",
  :id 72,
  :description "To nasere.",
  :category "Jen tak",
  :tags []},
 :131-atlas-april-ctp.aspx
 {:html
  "\n<p>Dnes v&#160;noci vyšla nová verze Atlasu, stahovat můžete na <a\nhref=\"http://atlas.asp.net\">domovských stránkách</a>. Dubnová verze\npřináší především opravu chyb březnové a přináší trochu nové\nfunkčnosti.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-11T07:33:35.623-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Atlas April CTP",
  :published #inst "2006-04-11T07:33:35.627-00:00",
  :url "atlas-april-ctp",
  :category-url "asp-net-2-0.aspx",
  :id 131,
  :description "Nová verze Atlasu.",
  :category "ASP.NET 2.0",
  :tags []},
 :209-texy-net-na-codeplexu.aspx
 {:html
  "\n<p>Dneska jsem vypustil <a href=\"http://www.codeplex.com/texynet/\">Texy.net na\nCodePlex</a>. Vypublikoval jsem první Wiki stránky uploadoval <a\nhref=\"http://www.codeplex.com/texynet/Release/ProjectReleases.aspx?ReleaseId=4460\">RC1</a>\na <a\nhref=\"http://www.codeplex.com/texynet/Release/ProjectReleases.aspx?ReleaseId=4461\">RC2</a>\nverzi a experimentální <em>PhalangerProvi­der</em>. Vloženy jsou i <a\nhref=\"http://www.codeplex.com/texynet/SourceControl/ListDownloadableCommits.aspx\">zdrojáky</a>.\nK RTM verzi zbývá již jen dopsat dokumentaci, najít a opravit <a\nhref=\"http://www.codeplex.com/texynet/WorkItem/List.aspx\">bugy</a>.</p>\n\n<p>Pokud mátě někdo zájem se do projektu zapojit, dveře jsou\notevřené.</p>\n\n<h3 id=\"toc-co-je-v-planu-po-1-0-rtm\">Co je v plánu po 1.0 RTM</h3>\n\n<p>PhalangerProvider nebo IronPythonProvider nebo IronRubyProvider, který bude\nplně použitelný se současným API Texy.net. Nejde o nic jiného než\nvyužít kompilátorů pro dynamické jazyky do kterých už byla nebo bude\nTexy! portována. Zajímavé je, že byl uvolněn <a\nhref=\"http://texier.rubyforge.org/\">Texier</a> což je Texy na Ruby, ale\nIronRuby je ještě neuvolněná. Naproti tomu je venku IronPython skoro ve\nverzi 2.0, ale <a href=\"http://blog.zirafka.cz/\">žirafka</a> jeste svoji PyTexy\nneuvolnila (: No a nakonec Phalanger. Vněm se Texy zkompilovat podařilo, ale\nfurt se mi to nějak nezdá. <a\nhref=\"http://tomasp.net/blog/aspnettexy.aspx\">Tomášova verze</a> mi\nneumožňuje konfigurovat moduly, což je dost zásadní věc…</p>\n\n<p>No a pak, nebo mezi tím, konečně něco jako to, čemu předběžně\nříkám <strong>Texy#</strong> :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T20:58:56.383-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Texy.net na CodePlexu",
  :published #inst "2007-05-24T21:11:15.727-00:00",
  :url "texy-net-na-codeplexu",
  :category-url "asp-net-2-0.aspx",
  :id 209,
  :description "Dneska jsem vypustil Texy.net na CodePlex...",
  :category "ASP.NET 2.0",
  :tags ["texynet" "codeplex"]},
 :375-zacal-jsem-cvicit-tdd-katu.aspx
 {:html
  "\n<p>Co je to za blbost, říkáte si.</p>\n\n<h3 id=\"toc-kazdy-cvici\">Každý cvičí</h3>\n\n<p>Když se podíváte do jakékoli oblasti lidského působení, zjistíte, že\nvšichni mistři pravidelně cvičí, aby se zdokonalovali nebo jen udržovali\nformu. Proč by programátoři měli být něco extra? I programátoři musí\ncvičit! Jen cvičením dosáhnete požadované formy.</p>\n\n<h3 id=\"toc-katy\">Katy</h3>\n\n<p>Pro cvičení programátorů dnes vznikají různé <a\nhref=\"http://en.wikipedia.org/wiki/Kata\">katy</a> (znáte z karate nebo juda),\nkteré jsou v podobě zadání, které byste měli zvládnout naimplementovat\npomocí TDD za určitý čas. Cvičení takové katy by vám mělo přejít do\nkrve, každý stisk klávesy by měl být zcela automatický a intuitivní,\npodobně jako se cvičí katy v karate. Abyste to vše stihli, musíte\nminimalizovat saháni na myš na úplné <acronym\ntitle=\"NESAHAT!\">minimum</acronym>. Musíte se naučit ovládat vaše vývojové\nprostředí a dostat z něj maximum. Musíte se naučit dělat věci co\nnejjednodušeji, ale výsledek musí být uspokojivě kvalitní. <em>Čistý\nkód</em>.</p>\n\n<h3 id=\"toc-hudba\">Hudba</h3>\n\n<p>U katy byste měli mít správný rytmus, aby vše odsejpalo jak má. Proto\nje důležitý výběr správné hudby, která udává rytmus a podporuje\nsprávné flow vašeho cvičení. Mnozí si vybírají nějakou klasiku, třeba\nRachmaninova. Já si vybral taneční klasiku <a\nhref=\"http://beatport.com/u/r4Z8\">Pryda – Aftermath (Original Extended\nMix)</a>, která má zajímavé progresivní pasáže a navíc trvá celých\n15 minut. Na jedno 30minutové cvičení mi tedy vyjde poslech přesně 2×.\nMůj cíl, je dát celou katu na <strong>jeden jediný poslech</strong>.</p>\n\n<h3 id=\"toc-vyzva\">Výzva</h3>\n\n<p>Když si vytyčíte nějaké cíle, musíte jim něco obětovat, sáhnout si\nna dno svých možností. Pojďte do toho také! Pojďte cvičit a staňte se\nmistry! Někteří budou nuceni doinstalovat lepší nástroje, které zvýší\njejich produktivitu, jiní přijdou na to, že jazyk, ve kterém píší, je\nzdržuje a <acronym title=\"true story\">budou muset switchnout na\nproduktivnější</acronym>. :) Pojďte se poměřovat, každé ráno po\ncvičení hoďte svůj výsledek na štěbeták s tagem <a\nhref=\"http://twitter.com/#search?q=%23tddkatacz\">#tddkatacz</a>.</p>\n\n<h3 id=\"toc-co-cvicit\">Co cvičit</h3>\n\n<p>Já osobně začínám cvičit <a\nhref=\"http://osherove.com/tdd-kata-1/\">StringCalculator</a> katu od Roye\nOsherova, ale je jich víc. Jsou tu katy na počítání prvočísel, výpočet\nvýsledku bowlingu, převod římských čísel na arabská apod. Pokud se\nchcete inspirovat doporučuji navštívit stránky <a\nhref=\"http://katas.softwarecraftsmanship.org/\">http://katas.softwarecraftsmanship.org/</a>.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-12-28T10:19:40.230-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Začal jsem cvičit TDD katu",
  :published #inst "2009-12-27T10:02:39.907-00:00",
  :url "zacal-jsem-cvicit-tdd-katu",
  :category-url "webdesign.aspx",
  :id 375,
  :description
  "Zapojte se společně se mnou do cvičení TDD katy. Co to vlastně je? Proč to dělat?",
  :category "Webdesign",
  :tags ["tdd" "kata" "craftmanship"]},
 :252-v-zajeti-socialnich-siti.aspx
 {:html
  "\n<p>Nedávno jsem zkusil nainstalovat sociální prohlížeč <a\nhref=\"http://www.flock.com/\">Flock</a>. Nebylo to poprvé, ale tehdá jsem\nještě nebyl tak socializovaně zasíťován. Teď už jsem, tak mu zkouším\ndávat druhou šanci.</p>\n\n<p>Jako hlavní prohlížeč používám <acronym\ntitle=\"Internet Explorer 7\">IE7</acronym> ve Vistě a jsem s ním plně\nspokojen, používám i zbylé z velké čtverky (Firefox, Safari, <acronym\ntitle=\"dá-li se její pidi podíl počítat mezi velké\">Opera</acronym>) –\npro pracovní účely, jako programátor webových aplikací je nemohu\nignorovat.</p>\n\n<p>Po tom, co jsem si přečetl zprávičku, že Flock 1.1 bude podporovat\ni moji oblíbenou <a href=\"http://picasa.google.com\">Picasu</a>, řekl jsem si,\nže bych ho měl zase zkusit. Tak jsem si v pátek nainstalovat verzi 1.0 a\nzačal objevovat její možnosti.</p>\n\n<h3 id=\"toc-nove-zapojen\">Nově zapojen</h3>\n\n<p>Díky Flocku jsem se zapojil do dalších web 2.0 sítí :). První byl <a\nhref=\"http://www.twitter.com/\">twitter</a> a začal jsem microblogovat. Hned\npři registraci jsem pozval pár svých známých a první, kdo se mnou začal,\nnebyl nikdo jiný než <a href=\"http://www.mraveniste.org/\">Jan Bien\n„Mravenec“</a> – duchovní syn služby <a\nhref=\"http://www.weblogy.cz\">Weblogy.cz</a>.</p>\n\n<p>Dobrý na twittru je, že do něj můžete posílat zprávy i přes Jabber\n(např. <a href=\"http://talk.google.com/\">Google Talk</a>) nebo SMSkou. Ve\nFlocku pak vidíte vaše kontakty s jejich aktuálními stavy. :)</p>\n\n<p>Při hlubším zkoumání jsem zjistil, že přes tlačítko pro\npřihlašování <acronym title=\"Realy Simple Sindication\">RSS</acronym>\nkanálů lze přidávat kanály i do <a href=\"http://reader.google.com/\">Google\nReaderu</a>, který používám jako čtečku kanálů. To se mi líbí,\nv IEčku jsem dosud používal bookmarklet. Další věcí, která mě mile\npřekvapila, bylo, že bookmarky lze ukládat do online služby <a\nhref=\"http://del.icio.us/\">del.icio.us</a>. Tuto službu jsem dosud\nnepoužíval, ale už je na čase. :) Takže to je zatím poslední sociální\nsíť, ve které jsem uvízl.</p>\n\n<p>Budu Flock ještě pár dní zkoušet a možná po necelých dvou letech\nopustím IE7… Možná také po této zkušenosti obnovíme myšlenku\nzesocializovat službu Weblogy. Kdo ví…</p>\n\n<h3 id=\"toc-souvisejici\">Související</h3>\n\n<ul>\n\t<li><a href=\"/clanek/191-socialni-site.aspx\">Sociální sítě</a></li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:39:04.800-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "V zajetí sociálních sítí",
  :published #inst "2008-01-27T12:09:50.340-00:00",
  :url "v-zajeti-socialnich-siti",
  :category-url "webdesign.aspx",
  :id 252,
  :description
  "Nedávno jsem zkusil nainstalovat sociální prohlížeč [flock]. Nebylo to poprvé, ale tehdá jsem ještě nebyl tak socializovaně zasíťován. Teď už jsem, tak mu zkouším dávat druhou šanci. ",
  :category "Webdesign",
  :tags ["flock" "ie7" "twitter" "reader" "delicious"]},
 :156-texy-alternativa-k-politice-cssd.aspx
 {:html
  "\n<p>Na poli českého webdesignu zuří těžké agitační boje o to koho\nvolit. Vůdčí osobnosti české blogerské scény zbrojí proti KSČSSD, ale\nobjevuje se tu i <a\nhref=\"http://blog.filosof.biz/zhoubne-standardy-braome-se/\">nová vlna brojičů\nproti Texy</a>.</p>\n\n<div class=\"center image\"><img src=\"/data/obrazky/fuck_texy.jpg\"\nalt=\"bilboard odpůrců Texy\" />\n\t<p>Kdo asi stojí za nechutnou kampaňí?</p>\n</div>\n\n<p>Ano i Texy se stala otázkou přesvědčení a tak vězte, že kdo\nnepoužívá <a href=\"http://www.texy.info/\">Texy ke generování úhledného\nXHTML kódu</a>, je zákonitě voličem levice! Ano vážení, je tomu bohužel\ntak. Kdo nevolí Texy volí Jistoty a prosperity HTML syntaxe. Je tato volba\nopravdu tak špatná? To nechám na čtenářích, nechť se rozhodnou koho\nbudou volit.</p>\n\n<div class=\"center image\"><img\nsrc=\"http://www.dgx.cz/kartinki/co-voli-filosof.jpg\"\nalt=\"že by změna kabátů?\" />\n\t<p>Pravda se pomalu začíná odkrývat…</p>\n</div>\n\n<p>PS. Všimněte si <a href=\"http://www.weblogy.cz/\"\ntitle=\"všimněte si motta webu\">politického optimismu</a> největšího\nmravence v zemi, který si myslí, že se agregovalo, agreguje a agregovat\nbude… Držme mu palce, protože těch vlád a režimů Weblogy.cz ještě moc\nnezažily.</p>\n\n<p>PPS. Dave, já taky nevolím ČSSD ;) <del>Ovšem, nejsem osobnost…</del>\n<ins>Tak už jsem :)</ins></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:35:28.443-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Texy, alternativa k politice ČSSD",
  :published #inst "2006-05-30T12:55:05.327-00:00",
  :url "texy-alternativa-k-politice-cssd",
  :category-url "webdesign.aspx",
  :id 156,
  :description
  "Na poli českého webdesignu zuří těžké agitační boje o to koho volit. Vůdčí osobnosti české blogerské scény zbrojí proti KSČSSD, ale objevuje se tu i nová vlna brojičů proti Texy.",
  :category "Webdesign",
  :tags ["texy"]},
 :451-jak-teda-s-tema-vyjimkama-v-busines-logice.aspx
 {:html
  "\n<p>Na develu se rozvíjí debaty o tom, zda je zpátečnické odrazovat od\nvyhazování výjimek. Já patřím mezi zpátečníky. :) Tady je moje\nodpovědˇ, kterou je IMO škoda nemít veřejně dostupnou, takže ji publikuju\ni tady na blogu.</p>\n\n<p>Na začátek je dobré se opřít o nějakou autoritu, proto tady pro\nzačátek ocituju <a\nhref=\"http://blogs.msdn.com/b/kcwalina/archive/2005/03/16/396787.aspx\">.net\nFramework Design Guidelines doporučení k výjimkám</a>:</p>\n\n<ol>\n\t<li>Nevracejte chybové kódy. K tomuto účelu jsou určeny výjimky.</li>\n\n\t<li>Vyhazujte výjimky pokud dojde k běhové chybě. Pokud člen nemůže\n\túspěšně provést úkol za nějž nese zodpovědnost, mělo by to být\n\tpovažováno za běhovou chybu a měla by být vyhozena výjimka.</li>\n\n\t<li>Pokud se dostanete do stavu, kterému nepomůže žádné ošetření\n\tvýjimky, proveďtě ukončení procesu pomocí\n\t<code>Environment.Fa­ilFast()</code>.</li>\n\n\t<li>Nepoužívejte výjimky k formálnímu řízení toku programu.\n\tS výjimkou systémových selhání by vždy měl existovat způsob jak se\n\tvyhnout vyhazování výjimek.</li>\n\n\t<li>Zvažte důsledky vyhozené výjimky na výkon.</li>\n\n\t<li>Vždy zdokumentujte všechny výjimky vyhazované veřejnými členy\n\tz důvodu porušení jejich kontraktu.</li>\n\n\t<li>Nemějte veřejné členy, které mají nebo nemají vyhazovat výjimky na\n\tzákladě nějakého parametru. <code>Type GetType(string name, bool\n\tthrowOnError)</code></li>\n\n\t<li>Nemějte veřejné členy které vracejí výjimku jako návratovou hodnotu\n\tnebo out parametr.</li>\n\n\t<li>Nastavte všechny relevatní vlastnoti vyhazované výjimky.</li>\n\n\t<li>Preferujte užití systémových výjimek před vlastními.</li>\n\n\t<li>Vlastní výjimky vyhazujte v případě, že vyžadují odlišný způsob\n\tošetření než existující typy výjimek.</li>\n\n\t<li>Nikdy nevytvářejte vlastní typ výjimky, jen proto, aby váš team měl\n\tnějakou vlastní výjimku.</li>\n\n\t<li>Vyhazujte co nejkonkrétnější výjimky.</li>\n\n\t<li>Nevracejte chybové kódy z obav o výkonostní dopady při vyhazování\n\tvýjimek.</li>\n\n\t<li>Používejte vzory jako TryParse, které snižují negativní dopady na\n\tvýkon způsobené vyhazováním výjimek.</li>\n</ol>\n\n<p>Z texu je zřejmé, že vyhazování výjimek má své opodstatnění.\nDůležité je však v jakých scénářích se výjimky vyhazovat mají a\nv jakých ne.</p>\n\n<p>Často se tu objevují příklady s validací vstupních hodnot nebo třeba\nautentikace uživatele. Začněme validátorem:</p>\n\n<p>Primární zodpovědností validátoru je validovat hodnoty. Je nevalidní\nhodnota příčinou nemožnosti korektní práce validátoru (důvodem\nk vyhození výjimky)? Není (viz bod <code>2</code>). Můžeme to řešit\nvracením primitivy jako je <code>bool</code>. Já si však myslím, že taková\nhodnota je nedostatečná. Potřebujeme výsledek validace zpropagovat někam,\nkde se s ním bude dále pracovat. Vyhodíme tedy výjimku a tu pak odchytíme?\nTím se ale dostáváme k bodu <code>4</code>. Lepším řešením je definovat\nkomplexní návratový typ:</p>\n\n<pre\n><code class=\"language-fsharp\">type ValidationResult =\n  | Valid\n  | Invalid of ValidationError list</code></pre>\n\n<p>Pokračujme s autentikací uživatele. Běžnou praxí je vyhazování\n<code>SecurityException</code> pokud se nepovede uživatele autentikovat.\nVýjimka se pak nechá probublat do UI vrstvy, kde se ošetří a uživateli se\nzobrazí hláška, že zadal špatné jméno nebo heslo. Opět však jde\no porušení 4. bodu. Autentikace tam může vracet opět <code>bool</code>\nnebo rovnou instanci <code>User</code> a v případě nevydařené autentikace\n<code>null</code>. Tím se zbavíme bezpečnostních výjimek, ale zase si\nzavedeme potenciální chybu v podobě <code\ntitle=\"NullReferenceException\">NRE</code>… Proto si opět myslím, že by se\nměl vracet adekvátní typ:</p>\n\n<pre\n><code class=\"language-fsharp\">type AuthenticationResult =\n  | NotAuthenticated\n  | Authenticated of User</code></pre>\n\n<p>Autentikační modul samozřejmě může vyhazovat výjimky, ale většinou\nbudou spojené s nefungující infrastrukturou (LDAP, SQL nebo jinej auth\nprovider), to je totiž validní důvod, proč nemůže autentikace\ndoběhnout.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-05-17T14:14:05.207-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak teda s těma výjimkama v busines logice?",
  :published #inst "2013-05-17T14:11:33.710-00:00",
  :url "jak-teda-s-tema-vyjimkama-v-busines-logice",
  :category-url "moje-prace.aspx",
  :id 451,
  :description "Jak to vidím s výjimkama v business logice já.",
  :category "Moje práce",
  :tags []},
 :276-chybka-se-vloudila.aspx
 {:html
  "\n<p>V kódu, který jsem publikoval před nedávnem v článku <a\nhref=\"/weblog/268-vyhledavani-komponent-v-asp-net-strance.aspx\">Vyhledávání\nkomponent v ASP.NET stránce</a>, se vyskytla chyba. Za její odhalení děkuju\nMartinovi Davidovi (DaMa). Opravený kód jsem přepublikoval.</p>\n\n<h3 id=\"toc-v-cem-byla-chyba\">V čem byla chyba?</h3>\n\n<p>Mylně jsem se domníval, že všechny NamingContainery implementují\nrozhraní <code>INamingContainer</code>. Jenže je tu drobná past.\n<code>HtmlForm</code>, základní kámen WebForms, toto rozhraní neimplementuje\na přesto slouží jako bariéra v rekurzivním prohledávání. Řešením\nnakonec bylo přidání do podmínky, kde kontroluju implementaci\nINamingContaineru i kontrolu na <code>HtmlContainerControl</code>. To\nje vše.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T13:41:34.473-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Chybka se vloudila",
  :published #inst "2008-05-26T12:59:34.820-00:00",
  :url "chybka-se-vloudila",
  :category-url "asp-net-2-0.aspx",
  :id 276,
  :description
  "V kódu, který jsem publikoval před nedávnem v článku Vyhledávání komponent v ASP.NET stránce, se vyskytla chyba. Za její odhalení děkuju Martinovi Davidovi (DaMa). Opravený kód jsem přepublikoval.",
  :category "ASP.NET 2.0",
  :tags []},
 :83-electrohouse-mix.aspx
 {:html
  "\n<ol>\n\t<li>Cirez D &#8211; Re-Match [Mouseville]</li>\n\n\t<li>Audio Bullys &#8211; Get Get Down (with Steve Angello) [EMI]</li>\n\n\t<li>Inner City &#8211; Good Life (Gogh's&#160;Only House of My Dubstrumental)\n\t[CD-R]</li>\n\n\t<li>Dam Sweet &#8211; Say It Again (Elektrodub) [Net's&#160;Work]</li>\n\n\t<li>Disconstruction vol. 1 &#8211; Re-Disco [Emotiva]</li>\n\n\t<li>The Bravery &#8211; Unconditional (Benny Benassi Dub) [Island]</li>\n\n\t<li>P. Diddy &#8211; Jack U (Hell Mix) [Gigolo]</li>\n\n\t<li>Who's&#160;who? &#8211; Lipstick [Size]</li>\n\n\t<li>Pryda &#8211; Aftermath (12\" mix) [Pryda]</li>\n\n\t<li>Goldfrapp &#8211; Number 1 (Steve Angello Remix) [Mute]</li>\n\n\t<li>Tocadisco &#8211; You're Not Good For Me (Tocadisco's&#160;Re&#173;cover\n\tMix) [Superstar]</li>\n\n\t<li>Cirez D &#8211; Teaser [Joia]</li>\n</ol>\n\n<p>Ke stažení: <a href=\"/files/alessio_busta_-_electrohouse.wma\">Alessio Busta\n&#8211; Electrohouse</a> (WMA 96&#160;kbps; 43,9&#160;MiB)</p>\n\n<!-- generated by Texy! -->",
  :keywords "alessio busta electro house",
  :edited #inst "2005-12-13T19:04:56.630-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Electrohouse Mix",
  :published #inst "2005-11-25T08:35:48.620-00:00",
  :url "electrohouse-mix",
  :category-url "muzika.aspx",
  :id 83,
  :description "Debutový mix deejaye Alessia Busty.",
  :category "Muzika",
  :tags []},
 :227-magenta-neni-ruzova.aspx
 {:html
  "\n<p><a href=\"http://en.wikipedia.org/wiki/Magenta\">Magenta</a> je jedna\nz&#160;<span title=\"nebo mích, jako že se míchá\">mých</span> oblíbených\nbarev. V&#160;pondělí se začali objevovat první nadšenci nasazující tuto\nbarvu na své weby v&#160;domnění, že podporují růžovou pro říjen.\nNení tomu tak.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2007-10-04T14:51:18.210-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Magenta není růžová",
  :published #inst "2007-10-04T14:46:03.213-00:00",
  :url "magenta-neni-ruzova",
  :category-url "webdesign.aspx",
  :id 227,
  :description
  "Vím, že chcete podpořit boj proti rakovině prsu, ale vážení, podpořte ho růžovou, né magentou!",
  :category "Webdesign",
  :tags []},
 :383-alessio-busta-destination-saturn.aspx
 {:html
  "\n<p>Dneska se podíváme zpátky do minulosti na to, jak se cestovalo na Saturn\nze začátku roku 2007. Pěkně progresivním způsobem!</p>\n\n<div class=\"haudio\">\n\t<ol>\n\t\t<li class=\"item\"><span class=\"contributor\">City Sneakerz</span> – <span\n\t\tclass=\"title\">You Don’t Own Me</span> (Smax &amp; Gold Instrumental Mix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Sebastien Leger</span> – <span\n\t\tclass=\"title\">Saturn</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Pryda</span> – <span\n\t\tclass=\"title\">Rymd</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Henrik B</span> – <span\n\t\tclass=\"title\">Soul Haven</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Roman Salzger</span> – <span\n\t\tclass=\"title\">Turn Up The Sun</span> (Classic Mix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Richard Grey</span> – <span\n\t\tclass=\"title\">Life Goes On</span> (Richard Grey Dubby Mix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Stonebridge</span> – <span\n\t\tclass=\"title\">S.O.S</span> (Playmaker Deep Dub)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Cirez D</span> – <span\n\t\tclass=\"title\">Knockout</span> (John Dahlbäck at Huggeland 2006 Remix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Depeche Mode</span> – <span\n\t\tclass=\"title\">Lilian</span> (Robag Wruhme Krüzy Fückking Düb)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Michel de Hey</span> vs. <span\n\t\tclass=\"contributor\">Grooveyard</span> – <span class=\"title\">Compound</span>\n\t\t(Shinedoe Remix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Fairmont</span> – <span\n\t\tclass=\"title\">Gazebo</span> (Sebastien Leger Remix)</li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">DJ Andrew</span> – <span\n\t\tclass=\"title\">Crackhead</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Alex Gaudino</span> – <span\n\t\tclass=\"title\">Destination Calabria</span> (Laidback Luke Remix)</li>\n\t</ol>\n\n\t<p>Ke stažení <span class=\"category\">dj set</span> <a rel=\"enclosure\"\n\thref=\"http://www.rarousmusic.com/mp3/alessio_busta_-_destination_saturn-rm.mp3\"><span\n\tclass=\"contributor\">Alessio Busta</span> – <span class=\"title\">Destination\n\tSaturn</span></a> (MP3 128 kbps; 67,8 MiB)</p>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-03-15T11:02:49.987-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Alessio Busta - Destination Saturn",
  :published #inst "2010-03-15T10:58:19.100-00:00",
  :url "alessio-busta-destination-saturn",
  :category-url "muzika.aspx",
  :id 383,
  :description
  "Dneska se podíváme zpátky do minulosti na to, jak se cestovalo na Saturn ze začátku roku 2007. Pěkně progresivním způsobem!",
  :category "Muzika",
  :tags []},
 :238-cekani-na-asp-net-extensions.aspx
 {:html
  "\n<p>Dneska snad maj vyjít ASP.NET Extensions CTP, které mimo jiné obsahují\ni ASP.NET MVC framework. Těšim se jak malý dítě, ale protože tu ještě\nnení, koukal jsem na přednášku o frameworku Nette. Taky pěkné.</p>\n\n<p><a href=\"http://www.avc-cvut.cz/avc.php?id=5258\">Pěknou přednáškou</a>\nv podání Davida Grudla (<a href=\"http://dgx.cz/\">-dgx-</a>), jsem se jenom\nnamlsal (no ten <del>pitel</del><ins>pytel</ins> chipsů k tomu taky prasknul).\nNo zatim jsem prolítnul ve čtečce příspěvky, který o ASP.NET MVC vyšly\na udělal z nich <a\nhref=\"http://www.google.com/reader/shared/user/02522501341949674670/label/aspnet-mvc\">stránku</a>.\nVybral jsem jen hodnotné, které jsou o něčem. :) No a když jsem udělal\nten souhrn o <a\nhref=\"http://www.google.com/reader/shared/user/02522501341949674670/label/aspnet-mvc\">ASP.NET\nMVC</a>, tak proč bych ho neudělal i pro <a\nhref=\"http://www.google.com/reader/shared/user/02522501341949674670/label/nette\">Nette</a>?\nNevim… <a\nhref=\"http://www.google.com/reader/shared/user/02522501341949674670/label/nette\">Tady</a> je.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:09:32.193-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Čekání na ASP.NET Extensions",
  :published #inst "2007-12-07T20:12:33.900-00:00",
  :url "cekani-na-asp-net-extensions",
  :category-url "asp-net-2-0.aspx",
  :id 238,
  :description
  "Dneska snad maj vyjít ASP.NET Extensions CTP, které mimo jiné obsahují i ASP.NET MVC framework. Těšim se jak malý dítě, ale protože tu ještě není, koukal jsem na přednášku o frameworku Nette. Taky pěkné.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "mvc" "nette" "nforms"]},
 :426-par-slintu-o-windows-phone-7.aspx
 {:html
  "\n<p>Pořád vídám nářky na WP7, jak si ho někdo nemůže customizovat, vrtat\nse v tom, neběží mu 5 aplikací najednou, 20 widgetů na home screenu. Jak\nje nudný a uzavřený.</p>\n\n<p>Úplně celý já, proto mi vyhovuje. Nechci se v tom vrtat, nechci, aby\ntelefon neustále vyžadoval/strhával mou pozornost. Nepotřebuju hromadu\nzbytečných aplikací. Ty důležité tam jsou a stejně je používám jen\nobčas, když je potřebuju.</p>\n\n<p>Pro mně je důležitý, aby to dobře hrálo MP3, podporovalo playlisty a\nSmartDJ taky není k zahození. Posílat fotky přímo na FB a vidět fotky\nostatních přímo na dlaždicích je fajn. Stejně tak změny statusů. <em>Put\npeople in front</em> je způsob jakým mám customizovanej telefon. A to mi\nžádná jiná platforma nejen nenabízí, ale ani neumožňuje.</p>\n\n<p>To, že moje Omnie 7 nepůjde upgradovat na WP8. No a co? Ten telefon je dva\nroky starej, 8GB storage mi už stejně nestačí, takže budu upgradovat tak\njako tak (ale ne kvůli SW). Když jsem si ji kupoval, netušil, jsem, že už\nnevytáhnu foťák, tak se něco lepšího bude hodit…</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-08-30T10:26:13.720-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pár slintů o Windows Phone 7",
  :published #inst "2012-08-30T10:26:13.693-00:00",
  :url "par-slintu-o-windows-phone-7",
  :category-url "jen-tak.aspx",
  :id 426,
  :description
  "Pořád vídám nářky na WP7, jak si ho někdo nemůže customizovat, vrtat se v tom, neběží mu 5 aplikací najednou, 20 widgetů na home screenu. Jak je nudný a uzavřený. ",
  :category "Jen tak",
  :tags ["wp7"]},
 :374-osetreni-chybovych-stavu-v-asp-net-mvc.aspx
 {:html
  "\n<p>Každá aplikace se může dostat do stavu, kdy není vše, jak má být, a\nnastane chyba. Tyto stavy bychom neměli ignorovat, ale pečlivě ošetřovat.\nJak na to se podíváme v tomto spotu.</p>\n\n<p>ASP.NET obsahuje poměrně sofistikovaný mechanismus na zpracování chyb.\nUkazuje celkem podrobné chybové výpisy, které jsou nám vývojářům velice\nužitečné. Nicméně nejsou užitečné naším uživatelům a ještě mohou\nleccos prozradit našim útočníkům. Proto by v produkci měly být tyto\nhlášky zakázané.</p>\n\n<h3 id=\"toc-konfigurace\">Konfigurace</h3>\n\n<p>Každá aplikace v produkci by měla mít nastavené pěkné chybové\nstránky, bez podrobností, co se stalo, ale s informacemi, kam dál uživatel\nmůže pokračovat. Popřípadě mu pomoci nalézt to, co hledal. K tomu\nslouží konfigurační element <code>customErrors</code>, kde můžeme nastavit\nrežim zobrazování a jednotlivé stránky, které se mají zobrazit na\nurčitý chybový kód.</p>\n\n<p>Bohužel, systém je navržen zcela kokotsky a pokud chcete v konfiguraci\nnastavit pro 404 a 500 jiné stránky, jsou vraceny s kódem 200. Proto\nvyužijeme jen následující konfiguraci. Zbylá je celkem k ničemu.</p>\n\n<pre><code class=\"language-markup\">&lt;customErrors mode=\"RemoteOnly\" /&gt;</code></pre>\n\n<p>Tím docílíme toho, že všechny requesty, které nejsou z tohoto serveru\nobdrží pěkné chybové stránky. Dotaz z daného serveru dostane podrobný\nchybový výpis, což se může hodit.</p>\n\n<h3 id=\"toc-zpracovani-chyb\">Zpracování chyb</h3>\n\n<p>ASP.NET MVC má v sobě základní mechanismus pro ošetřování chyb. Je\njím ActionFilter <code>HandleError</code>, který renderuje pohled\n<code>Error.aspx</code>, pokud dojde k probublání neošetřené výjimky až\ndo akce řadiče.</p>\n\n<pre\n><code class=\"language-csharp\">[HandleError]\npublic class MyController : Controller {\n}</code></pre>\n\n<p>Procento chyb, takto zachytitelných, jistě není malé, ovšem není 100%.\nNemusíme chodit pro příklad daleko a stačí udělat chybku v šabloně\npohledu. Hned tu máme nepěknou chybovou stránku.</p>\n\n<p>Takovouto chybu odchytíme až v Global.asax:</p>\n\n<pre\n><code class=\"language-csharp\">protected void Application_Error() {\n\n#if DEBUG\n  return;\n#endif\n\n  Exception exception = Server.GetLastError();\n\n  Response.Clear();\n\n  RouteData routeData = new RouteData();\n  routeData.Values.Add(\"controller\", \"Error\");\n\n  if (IsPageNotFoundException(exception as HttpException)) {\n    routeData.Values.Add(\"action\", \"NotFound\");\n  }\n  else {\n    routeData.Values.Add(\"action\", \"Error\");\n  }\n\n  Server.ClearError();\n\n  IController errorController = new ErrorController();\n  errorController.Execute(new RequestContext(new HttpContextWrapper(Context), routeData));\n}</code></pre>\n\n<p>Pokud máme aplikaci v debug modu (typicky u vývojáře) je vhodné nechat\nchyby probublat až k němu. Pokud jsme ale v releasu musíme chybu zpracovat.\nNa výpis chybové stránky nám poslouží <code>ErrorController</code>, který\nmá dvě akce: <code>NotFound</code> pro 404 a <code>Error</code> pro 500.</p>\n\n<pre\n><code class=\"language-csharp\">public class ErrorController : Controller {\n\n  [StatusCode(HttpStatusCode.NotFound)]\n  public ActionResult NotFound() {\n    return View();\n  }\n\n  [StatusCode(HttpStatusCode.InternalServerError)]\n  public ActionResult Error() {\n    return View();\n  }\n}</code></pre>\n\n<p>Díky způsobu hledání šablon v ASPX View enginu, můžeme na\n<code>Error</code> využít stejnou <code>Error.aspx</code> ve složce\n<code>Shared</code> jako pro chyby zachycené už na řadiči.</p>\n\n<h3 id=\"toc-neplatna-referencni-identita\">Neplatná referenční identita</h3>\n\n<p>Teď se ještě dostaneme k tomu, proč tu máme zpracování\n<code>HttpException</code> s kódem 404. Kde se vezme?</p>\n\n<p>Typicky, když máme nějakou detail page, snažíme se pomocí nějakého\njedinečného identifikátoru natáhnout zobrazovanou entitu. Pokud žádnou\nnenajdeme je vhodné vyhodit výjimku a protože jsme na úrovni webové\naplikace, měla by to být <code>HttpException</code> s kódem\n<code>404</code>, která říká, že hledaná stránka nebyla nalezena.</p>\n\n<p>Její zpracování už máme výše vyřešeno. A to je snad pro dnešek\nvše. :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-12-22T18:22:11.790-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Ošetření chybových stavů v ASP.NET MVC",
  :published #inst "2009-12-22T12:50:33.123-00:00",
  :url "osetreni-chybovych-stavu-v-asp-net-mvc",
  :category-url "asp-net-2-0.aspx",
  :id 374,
  :description
  "Každá aplikace se může dostat do stavu, kdy není vše, jak má být, a nastane chyba. Tyto stavy bychom neměli ignorovat, ale pečlivě ošetřovat. Jak na to se podíváme v tomto spotu.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "mvc" "404"]},
 :134-opet-novinky-v-asp-net.aspx
 {:html
  "\n<p>ASP.NET team dnes uvolnil kompletní zdrojové kódy všech Providerů.\nkteré jsou ASP.NET 2.0&#160;k&#160;nalezení. Autoři věří, že to pomůže\nk&#160;vytváření vlastních providerů. Licence je k&#160;použití jak\nv&#160;komerčních, tak nekomerčních projektech. <a\nhref=\"http://download.microsoft.com/download/a/b/3/ab3c284b-dc9a-473d-b7e3-33bacfcc8e98/ProviderToolkitSamples.msi\">K&#160;dostání\nu&#160;vašeho prodejce.</a></p>\n\n<p>Nedávno psal <a href=\"http://weblogs.asp.net/scottgu/\">ScottGu</a>, aby\nvývojáři nenasazovali na produkční servery aplikace v&#160;<em>Debug\nmodu</em>. Důvodů je hned několik. Aplikace je pomaleší (není\noptimalizovaný kód), žere víc paměti a v&#160;neposlední řadě se\nnecachují zdroje předávané přes WebResource.axd. Toho si všiml\ni&#160;můj kolega Dan Steigerwald, když testoval Atlas. Takže pozor! Raději\nsi zkontrolujte, zda máte ve vašem produkčním <strong>web.config</strong>\nsouboru uvedeno <code>&lt;compilation debug=\"false\" /&gt;</code> a nezapomeňte\nvypnout i&#160;traceování, to rovněž ubírá na výkonu.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-14T07:08:43.563-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Opět novinky v ASP.NET",
  :published #inst "2006-04-14T07:07:56.037-00:00",
  :url "opet-novinky-v-asp-net",
  :category-url "asp-net-2-0.aspx",
  :id 134,
  :description "Pár novinek z ASP.NET.",
  :category "ASP.NET 2.0",
  :tags []},
 :404-prepinani-featur-a-vetveni-abstrakci.aspx
 {:html
  "\n<p>Správa několika verzí aplikace vždy přináší komplexitu, která\nzvyšuje náklady na vývoj i na údržbu. Běžnou praktikou je, že se\nzdrojové kódy v repositoři větví (branching) v určitých Milestonech,\nkteré se potom stabilizují a po releasu udržují, zatím co v hlavní větvi\n(trunk, main) se pokračuje ve vývoji. S příchodem <acronym\ntitle=\"Distributed Version Control System\">DVCS</acronym> se rozmohlo lokální\nvětvení po featurách, čímž se různorodost verzí aplikace ještě víc\nrozrostla.</p>\n\n<p>Naproti tomu tu máme agilní praktiky jako je Continuous Integration a\nContinuous Delivery, které nám říkají, že všichni commitují často do\nhlavní větve, čímž se předchází integračním problémům. Continuous\nDelivery navíc říká, že „aplikace má pouze <strong>jedinou\nverzi</strong> – tu <strong>aktuální</strong>.“ Jak to ale udělat, když\nrozsah některých featur přesahuje rámec sprintu? Ano, můžeme udělat\nfeature branch, ale tím porušujeme pravidlo, že všechno je v hlavní\nvětvi! Poslední verze TeamCity sice podporuje workflow s personal buildy\nvůči feature branchi, ale to je integrační smell.</p>\n\n<h3 id=\"toc-branch-by-abstraction\">Branch by abstraction</h3>\n\n<p>Existuje <a\nhref=\"http://continuousdelivery.com/2011/05/make-large-scale-changes-incrementally-with-branch-by-abstraction/\">lepší\nřešení!</a> Proč nevyužít technik <acronym\ntitle=\"Object Oriented Programming\">OOP</acronym> jako je polymorfismus a\n<acronym title=\"Inversion of Control\">IoC</acronym>? Je to krapet\nsložitější, než branchování v repositoři, ale zároveň nás to donutí\nzamyslet se nad architekturou aplikace a ve výsledku bude IMO lepší.\nV aplikaci můžeme mít nekolik implementací požadované funkcionality,\nkteré jsou následně injektovány na základě konfigurace. Některé mohou\nbýt stabilní a používat se v produkčním prostředí, zatímco\nu vývojáře poběží aktuální edge implementace, na které se pracuje.</p>\n\n<p>Takže implementaci kódu máme vyřešenou, ale jak na to v uživatelském\nrozhraní?</p>\n\n<h3 id=\"toc-feature-toggles\">Feature toggles</h3>\n\n<p>Pokud naše UI není přímo generováno aplikačním kódem, kde by se dala\nvyužít předchozí technika, musíme sáhnout po nečem trochu jiném – <a\nhref=\"http://martinfowler.com/bliki/FeatureToggle.html\">přepínačích\nfeatur</a>. Začneme tím, že každá feature má svůj jedinečný\nidentifikátor. Každá featura je zařazena do uživatelského rozhraní\ns tímto identifikátorem a na základě konfigurace je opět rozhodnuto, zda\ndojde k jejímu zobrazení uživateli nebo ne. Takto se dají nejen snadno\nodříznout nestabilní featury z produkčního prostředí, ale dá se to\nvyužít i k takovým věcem, jako je A/B testování, čí postupné\nspouštění featury do produkce, jak to znáte z oblíbených služeb jako je\nFacebook nebo Twitter. ;)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-06-11T09:05:41.093-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Přepínání featur a větvení abstrakcí",
  :published #inst "2011-06-11T09:01:43.860-00:00",
  :url "prepinani-featur-a-vetveni-abstrakci",
  :category-url "moje-prace.aspx",
  :id 404,
  :description
  "Jistě mi dáte za pravdu, že správa verzí rozsáhlého systému není žádná slast a je poměrně nákladná. Dnes si ukážeme dvě techniky, které by nám měli umožnit snížit náklady a zvýšit flexibilitu systému.",
  :category "Moje práce",
  :tags ["ci" "agile" "oop" "ioc"]},
 :440-funkcionalni-pristup-ke-kolekcim.aspx
 {:html
  "\n<p>Když vidíte začátečníka pracovat s kolekcemi, často se setkáte\ns tím, že možností první volby je iterace pomocí cyklů a změna stavu.\nDíky tomu máme spoustu rozbitých aplikací. Ruku na srdce, kdo z vás nemá\nve své codebase něco podobného:</p>\n\n<pre\n><code class=\"language-csharp\">var list = new List();\nforeach (var item in someCollection) {\n  // ... some work\n  list.Add(item);\n}\nreturn list;</code></pre>\n\n<p>Nádhera! :)</p>\n\n<p>Zapomeňte na cykly a mutace, kdo se v tom má vyznat a hledat chyby? Buďte\ndeklarativní.</p>\n\n<h3 id=\"toc-disclaimer\">Disclaimer</h3>\n\n<p>Následující řádky používají techniku obvyklou ve funkcionálních\njazycích – rekurzi. Je dost možné, že váš jazyk nemá podporu na\núrovni kompilátoru pro rekurzi (tail recursion se optimalizuje tak, že se\npřepíše na cyklus) a může docházet k tomu, že vám bude přetékat\nzásobník. V první řadě vždy musíte vědět, co děláte. Ale to platí\nobecně o všem v programování. C# optimalizovat rekurzi neumí, přesto\nmůžete používat funkcionální koncepty, např. LINQ, který je\nimplementovaný pomocí iterátorů. Následující ukázky budou v F#, který\nrekurzi optimalizovat umí.</p>\n\n<p>Všechny ukázky si můžete vyzkoušet přímo ve vašem prohlížeči na\nwebu <a href=\"http://www.tryfsharp.org/create/rarous/HigherOrderListOps.fsx\">Try\nF#</a>. Jednotlivé ukázky stačí označit a stisknout\n<code>Ctrl+Enter</code>.</p>\n\n<p>Článek vychází z <a\nhref=\"http://matt.might.net/articles/higher-order-list-operations/\">Higher-order\nlist operations</a>.</p>\n\n<h3 id=\"toc-rekurze\">Rekurze</h3>\n\n<p>Když zjistíte, že cykly ne, většinou přejdete na rekurzi. Častou\nchybou však je, že píšete příliš mnoho kódu. Proč? Protože vám třeba\nchybí znalosti o knihovnách nebo konstruktech jazyka, které nám umožní\npsát kódu méně. Pojďme si ukázat, jak psát kódu méně a jak některé\nknihovní funkce vlastně fungují.</p>\n\n<h3 id=\"toc-pricitani-jedne\">Přičítání jedné</h3>\n\n<p>Máme za úkol napsat funkci, která projde seznam čísel a přičte ke\nkaždému prvku jedničku. V implementaci použijeme datovou strukturu spojový\nseznam (v C# spíše než <code>LinkedList&lt;T&gt;</code> použijeme\n<code>ImmutableList&lt;T&gt;</code> z NuGet balíčku\n<code>Microsoft.Bcl.Immutable</code>) a využijeme rekurze:</p>\n\n<pre\n><code class=\"language-fsharp\">let rec add1 lst =\n    if List.isEmpty lst then []\n    else (List.head lst) + 1 :: add1 (List.tail lst)\n\nadd1 [1; 2; 3]</code></pre>\n\n<p>Že jde o rekurzivní funkci nám říká klíčové slovo <code>rec</code>.\nFunguje to tak, že vezmu první prvek seznamu a přičtu k němu jedničku,\nten pak připojím k seznamu (operátor <code>::</code>), který se spočítá\nobdobně ze zbytku vstupního seznamu. Pokud je seznam prázdný (nebo jsme\ndošli na konec – každý spojový seznam končí prázdným polem),\nvrátíme prázdný seznam. Tím se nám rekurze ukončí.</p>\n\n<h3 id=\"toc-odcitani-jedne\">Odčítání jedné</h3>\n\n<p>Obdobně naimplementujeme i odčítání:</p>\n\n<pre\n><code class=\"language-fsharp\">let rec sub1 lst =\n    if List.isEmpty lst then []\n    else (List.head lst) - 1 :: sub1 (List.tail lst)\n\nsub1 [1; 2; 3]</code></pre>\n\n<p>Ok, máme funkcionální datovou strukturu, máme rekurzi, je to už teda\nfunkcionální kód?</p>\n\n<p>Tak určitě ne.</p>\n\n<h3 id=\"toc-knihovni-funkce\">Knihovní funkce</h3>\n\n<p>Další častou chybou je používání podmínek a ukecaného kódu vůbec.\nNavíc když se na obě funkce podíváme blíže, zjistíme, že to jsou\nv podstatě duplicity a jediné, co je odlišuje, je operace sčítání nebo\nodčítání. Když se oprostíme od implementačních detailů, zjistíme, že\nneděláme nic jiného než mapování. A tak jde kód přepsat do\njednodušší podoby:</p>\n\n<pre\n><code class=\"language-fsharp\">let inc x = x + 1\nlet dec x = x - 1\n\nList.map inc [1; 2; 3]\nList.map dec [1; 2; 3]</code></pre>\n\n<p>Nejprve jsme si definovali pomocné funkce pro inkrementaci a dekrementaci\nprvku a pak použili knihovní funkci <code>List.map</code>, která projde\nvšechny prvky seznamu a na každý aplikuje předanou funkci (v C# je obdobou\n<code>Enumerable.Select</code>). Důležitým detailem, který nemusí být na\nprvní pohled zřejmý, je, že nedojde k úpravě předaného seznamu, ale\nk vytvoření seznamu nového.</p>\n\n<h3 id=\"toc-high-order-function\">High order function</h3>\n\n<p>Jak bychom takovou funkci <code>map</code> naimplementovali? Zkusíme to\npomocí jednoduché generalizace našich funkcí <code>add1</code> a\n<code>sub1</code>. Už jsme si říkali, že se liší jen v operaci\npřičtení/odečtení jedničky. Takže z našich funkcí vytvoříme funkci\nvyššího řádu:</p>\n\n<pre\n><code class=\"language-fsharp\">let rec map f lst =\n    if List.isEmpty lst then []\n    else f(List.head lst)::map f (List.tail lst)\n\nmap inc [1 .. 3]</code></pre>\n\n<p>Funkce vyššího řádu se vyznačují tím, že jako parametr přijímají\njinou funkci, která definuje, co se uvnitř bude dít (obdoba vzoru strategie\nz objektového světa). Funkce je takřka stejná jako naše konkrétní\nukázky. Jediný rozdíl je, že nyní aplikujeme předanou funkci na první\nprvek seznamu a pak už je to stejný. Teď tedy máme funkci vyššího řádu,\nale pořád je toho kódu zbytečně moc.</p>\n\n<h3 id=\"toc-pattern-matching\">Pattern matching</h3>\n\n<p>Další skvělou vlastností mnoha funkcionálních jazyků je <em>pattern\nmatching</em> – volba výsledku na základě strukturální podobnosti. Naši\n<code>map</code> funkci můžeme hezky zjednodušit na:</p>\n\n<pre\n><code class=\"language-fsharp\">let rec mapMatch f lst =\n    match lst with\n    | [] -&gt; []\n    | head::tail -&gt; f head::mapMatch f tail\n\nmapMatch dec [1 .. 3]</code></pre>\n\n<p>Kód je de facto stejný jako v předchozím případě, jen nám zmizelo\nvolání knihovních funkcí <code>List.isEmpty</code>, <code>List.head</code> a\n<code>List.tail</code> a místo nich máme vzory. Prázdný seznam se mapuje na\nprázdný seznam, seznam s nějakým prvkem se dle vzoru rozdělí na\n<code>head</code> a <code>tail</code>. Na <code>head</code> se aplikuje funkce a\nnový <code>tail</code> se vypočítá rekurzí.</p>\n\n<h3 id=\"toc-list-comprehension\">List comprehension</h3>\n\n<p>Možná jste si všimli, že jsem v ukázkách najednou přestal psát\n<code>[1; 2; 3;]</code> pro vytvoření seznamu tří čísel, ale přešel\nk zápisu <code>[1 .. 3]</code>. Funkcionální jazyky mívají pro kolekce\nvětší pochopení a tak nezvládají jen tupé vyjmenování prvků, ale\nrozumí i složitějším konstrukcím pro vytvoření seznamu (platí i pro\npole a sekvence). Zde byl použit operátor rozsahu <code>..</code>. Ve\nskutečnosti můžeme jít mnohem dál a aplikovat třeba rovnou\ni mapování:</p>\n\n<pre><code class=\"language-fsharp\">[for x in 1 .. 3 -&gt; x + 1]</code></pre>\n\n<p>Výsledek je stejný jako v předchozích příkladech. Kód je minimální.\nMyšlenka zřejmá.</p>\n\n<h3 id=\"toc-filtrovani-kolekci\">Filtrování kolekcí</h3>\n\n<p>Další možností, kde můžeme využít funkce vyššího řádu a\npokusíme se zbavit podmínek, je filtrování kolekcí. Funkce\n<code>filter</code> vrací prvky ze vstupního pole, které splňují předaný\npredikát:</p>\n\n<pre\n><code class=\"language-fsharp\">let even x = x % 2 = 0\n\nlet rec filter p lst =\n    if List.isEmpty lst then []\n    elif p (List.head lst) then List.head lst::filter p (List.tail lst)\n    else filter p (List.tail lst)\n\nfilter even [1 .. 10]</code></pre>\n\n<p>Nejprve jsme si definovali predikát pro sudá čísla, který budeme\npoužívat i v dalších ukázkách, a pak funkci <code>filter</code>\nimplementovanou pomocí podmínek a knihovních funkcí (F# má samozřejmě\nfunkci <code>List.filter</code> již implementovanou, v C# ji hledejte pod\nnázvem <code>Enumerable.Where</code>). Filtr je o něco složitější než\nmapování, protože se musíme rozhodnout, které prvky chceme a které ne. Ty\nprvky, které splňují predikát připojíme před zbytek počítaného\nseznamu. Pokud prvek predikát nesplňuje, pokračuje dál ve výpočtu seznamu.\nU prázdného seznamu ukončíme rekurzi.</p>\n\n<p>S využitím pattern matchingu kód vypadá následovně:</p>\n\n<pre\n><code class=\"language-fsharp\">let rec filterMatch p lst =\n    match lst with\n    | [] -&gt; []\n    | hd::tl when p hd -&gt; hd::filterMatch p tl\n    | hd::tl -&gt; filterMatch p tl\n\nfilterMatch even [1 .. 10]</code></pre>\n\n<p>Pěkné, že? A ještě ukázka s <em>list comprehension</em>:</p>\n\n<pre\n><code class=\"language-fsharp\">[for x in 1 .. 10 do if even x then yield x]</code></pre>\n\n<p>Všimněte si, že zde se nám šipka <code>-&gt;</code> z ukázky pro\nmapování změnila na <code>do ... yield</code>. Schválně si to zkuste, že\njde o stejný kód. Tady už bohužel kompaktní zápis nefunguje, protože tam\npotřebujeme vložit filtrovací podmínku.</p>\n\n<h3 id=\"toc-agregace-kolekci\">Agregace kolekcí</h3>\n\n<p>Další častou operací, kterou se seznamy můžeme dělat, je jejich\nagregace. Ve funkcionálních jazycích se často můžeme potkat s funkcí\n<code>fold</code> (v C# <code>Enumerable.Aggregate</code>):</p>\n\n<pre\n><code class=\"language-fsharp\">let rec foldr cons nil lst =\n    match lst with\n    | [] -&gt; nil\n    | hd::tl -&gt; cons hd (foldr cons nil tl)\n\nfoldr (+) 0 [1 .. 4]</code></pre>\n\n<p>Parametr <code>cons</code> je konstrukční funkce výsledku,\n<code>nil</code> reprezentuje prázdný prvek.</p>\n\n<p>A ještě <em>tail recursive</em> varianta pro efektivnější zpracování\nkompilátorem:</p>\n\n<pre\n><code class=\"language-fsharp\">let rec foldl cons nil lst =\n    match lst with\n    | [] -&gt; nil\n    | hd::tl -&gt; foldl cons (cons hd nil) tl\n\nfoldl (+) 0 [1 .. 4]</code></pre>\n\n<h3 id=\"toc-zipovani\">Zipování</h3>\n\n<p>Další velice důležitou funkcí je <code>zip</code>, která vezme dva\nseznamy a vytvoří z nich jeden tvořený dvojicemi, podobně jako zip\nu vaší bundy.</p>\n\n<pre\n><code class=\"language-fsharp\">let rec zip lst1 lst2 =\n    match lst1, lst2 with\n    | [], [] -&gt; []\n    | hd1::tl1, hd2::tl2 -&gt; (hd1, hd2)::zip tl1 tl2\n\nzip [1 .. 3] ['a' .. 'c']</code></pre>\n\n<p>Žádný velký objev. :) Novinkou je matchování na více prvků a\nzavedení n-tic (tuples). Zip je velice šikovná funkce. Schválně jestli vás\nnapadne nějaké rozumné užití. Nebojte se o něj podělit třeba\nv komentářích.</p>\n\n<p>Také si všimněte, že tu mícháme jabka (<code>int</code>) s hruškama\n(<code>char</code>) a vše funguje. Není to tím, že by F# byl slabě typový,\nale tím, že naše funkce jsou plně generické! Schválně si zkuste\nv předchozích ukázkách změnit vstupní data.</p>\n\n<h3 id=\"toc-rozepnuti\">Rozepnutí</h3>\n\n<p>Opakem zipování je <code>unzip</code>, která nám ze seznamu dvojic\nudělá dva seznamy prvků. A protože nám tato funkce vrací dva seznamy,\nzačíná to být trochu tricky:</p>\n\n<pre\n><code class=\"language-fsharp\">let rec unzip lst =\n    match lst with\n    | [] -&gt; ([], [])\n    | (x, y)::tl -&gt;\n        let (xs, ys) = unzip tl\n        (x::xs, y::ys)\n\nunzip [(1, 'a'); (2, 'b'); (3, 'c')]</code></pre>\n\n<p>Taková nepěkná věc je, že si musíme začít pamatovat výsledek\nrekurzivního volání, se kterým dále pracujeme. Všimněte si také, že F#\numí rozpadnout n-tici do samostatných chlívečků. Nebudu říkat\nproměnných, protože <code>let</code> vazba je neměnná.</p>\n\n<h3 id=\"toc-continuation\">Continuation</h3>\n\n<p>Co bychom to byly za funkcionáře, kdybychom nechali takové imperativní\npřiřazování v naší jinak čisté implementaci? Jak se jen zbavit\npřiřazení? Co třeba za pomocí continuation? Nic vám to neříká? Co\ntřeba callback? Ten už jistě znáte. :)</p>\n\n<pre\n><code class=\"language-fsharp\">let rec unzipk k lst =\n    match lst with\n    | [] -&gt; k [] []\n    | (x, y)::tl -&gt; unzipk (fun xs ys -&gt; k (x::xs) (y::ys)) tl\n\nunzipk (fun xs ys -&gt; xs) [(1, 'a'); (2, 'b'); (3, 'c')]</code></pre>\n\n<p>V této formě musí uživatel funkce přidat callback, ale na druhou stranu\nsi může vybírat, co vlastně chce za výsledek. Funkcionální kompozice\nje mocná.</p>\n\n<h3 id=\"toc-partitioning\">Partitioning</h3>\n\n<p>Partitioning je něco jako filtrování, jen nám opět vrací dva seznamy.\nJeden s pozitivními výsledky a druhý s negativními:</p>\n\n<pre\n><code class=\"language-fsharp\">let rec partition p lst =\n    match lst with\n    | [] -&gt; ([], [])\n    | hd::tl -&gt;\n        let (ins, outs) = partition p tl\n        if p hd then (hd::ins, outs)\n        else (ins, hd::outs)\n\npartition even [1 .. 10]</code></pre>\n\n<p>Implementace je dost podobná unzipování, jen teď máme na vstupu pouze\njeden prvek a rozhodujeme se, do kterého seznamu ho zařadíme. A opět\nmůžeme implementaci udělat pomocí continuation:</p>\n\n<pre\n><code class=\"language-fsharp\">let rec partitionk p k lst =\n    match lst with\n    | [] -&gt; (k [] [])\n    | hd::tl -&gt; partitionk p (fun ins outs -&gt;\n                                if p hd then k (hd::ins) outs\n                                else k ins (hd::outs)) tl\n\npartitionk even (fun evens odds -&gt; evens) [1 .. 10]</code></pre>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p>Ukázali jsme si, jak si ušetřit spoustu práce pomocí funkcionálního\npřístupu ke kolekcím. Implementace jednotlivých funkcí je jen ukázkou, jak\nsnadno se dají takové věci implementovat a rychlým průletem, co všechno F#\numí. Sice jsme se jen sklouzli po povrchu, ale jako základ je to celkem\nslušný, ne? :)</p>\n\n<p>Zkuste si pohrát <a\nhref=\"http://www.tryfsharp.org/create/rarous/HigherOrderListOps.fsx\">se\nspustitelnými ukázkami</a>. Zkuste mapování a filtrování implementovat\npomocí continuation. Zkuste si třeba <code>filter</code> implementovat pomocí\n<code>partition</code>. Většina kombinátorů lze totiž implementovat pomocí\npouhých tří základních, ale k tomu zase třeba jindy.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-03-24T17:11:29.583-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Funkcionální přístup ke kolekcím",
  :published #inst "2013-03-07T07:34:49.233-00:00",
  :url "funkcionalni-pristup-ke-kolekcim",
  :category-url "moje-prace.aspx",
  :id 440,
  :description
  "Dneska zabrousíme do vod funkcionálních a ukážeme si implementaci některých důležitých funkcí vyššího řádu.",
  :category "Moje práce",
  :tags ["fsharp"]},
 :325-whats-up.aspx
 {:html
  "\n<p>Možná si říkáte, tady to umřelo, nic se neděje. Možná máte pravdu.\nJe to tím, že poslední dobou toho mám docela dost. Krom příprav na\nsobotní <a href=\"http://webexpo.cz/prednaska/asp-net/\">přednášku</a>, jsem\nse musel věnovat shánění a následnému stěhování a nyní už\ni zařizování, což mě docela vytěžuje. :) Navíc v novém bytě ještě\nnemám zaveden internet, tak jsem téměř mužem v off-linu.</p>\n\n<p>K příležitosti <a href=\"http://www.webexpo.cz/\">WebExpa</a> jsem si\nvytvořil <a\nhref=\"http://www.google.com/calendar/embed?src=thtd3v3ci017a69t1ba0p5p8vc&#64;group.calendar.google.com&amp;ctz=Europe/Prague\">kalendář</a>,\nkde bych se chtěl nejspíš pohybovat, uvidíme, jak to nakonec dopadne.</p>\n\n<p>No a když už se to tak blíží, tak Microsoft nezapoměl vydat <a\nhref=\"http://www.microsoft.com/downloads/details.aspx?familyid=a24d1e00-cd35-4f66-baa0-2362bdde0766&amp;displaylang=en&amp;tm\">beta\nverzi ASP.NET MVC</a> o němž chceme s Borkem povídat. Neni to jediný\nrelease před konferencí, například vyšel i <a\nhref=\"http://www.microsoft.com/silverlight\">Silverlight 2</a> o němž bude po\nnás povídat Štěpán Bechynský.</p>\n\n<p>Vzhledem k tomu, že změny mezi Preview 5 a Beta verzí nejsou nikterak\nveliké (stačí pár drobných úprav, aby vše opět běželo jak má, budeme\nna přednášce tedy ukazovat už Betu. Já už jsem převedl moji ukázkovou\naplikaci. Ta bude aplikace našeho tuaregského intranetu, takže žádná\nukázková spatlanina, ale aplikace z reálného života. Dobré je, že na ní\nmůžu ukázat jak ASP.NET MVC, tak ADO.NET Data Service, které v projektu\ntaké používám.</p>\n\n<p>Tak pokud budete na WebExpu, tak mě nezapomeňte přijít pozdravit ;)</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li>[clanek(295)]</li>\n\n\t\t<li><a\n\t\thref=\"http://haacked.com/archive/2008/10/16/aspnetmvc-beta-release.aspx\">Phil\n\t\tHaack: ASP.NET MVC Beta Released!</a></li>\n\n\t\t<li><a\n\t\thref=\"http://weblogs.asp.net/scottgu/archive/2008/10/16/asp-net-mvc-beta-released.aspx\">Scott\n\t\tGuthrie: ASP.NET MVC Beta Released</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-10-17T09:16:21.550-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "What's Up?",
  :published #inst "2008-10-16T15:38:37.717-00:00",
  :url "whats-up",
  :category-url "webdesign.aspx",
  :id 325,
  :description
  "Možná si říkáte, tady to umřelo, nic se neděje. Možná máte pravdu.",
  :category "Webdesign",
  :tags ["webexpo" "aspnet" "mvc" "dataservices" "silverlight"]},
 :217-syntax-sugar-ala-if-exists.aspx
 {:html
  "\n<p>Kolega Bouda se na svém <a\nhref=\"http://blog.vyvojar.cz/pbouda/archive/2007/07/25/ifx-bylo-li-by-libo-cuk-ek.aspx\">vývojářském\nblogu</a> zamýšlí nad tím, zda by nebylo dobré rozšířit syntaxi jazyka\nC# o&#160;příkaz <code>ifx</code> (<strong>if</strong>\ne<strong>x</strong>ists), který by měl zpřehlednit/zjed&#173;nodušit zápis\n<code>if (this.someRef != null) ...</code> na <code>ifx (this.someRef)\n...</code>, podobně jako to umí ECMAScript.</p>\n\n<p>Můj názor je takový, že v&#160;C# by se takovéto konstrukce zavádět\nneměly. Pokud má někdo averzi k&#160;operátorům <code>!</code> a\n<code>!=</code>, ostatně jako já, dá se to obejít jiným syntaktickým\ncukrem. Ne na úrovni jazyka, ale na úrovni API.</p>\n\n<pre><code class=\"language-csharp\">public static class Is {\n  public static bool Null(object item) {\n    return item == null;\n  }\n  public static bool NotNull(object item) {\n    return item != null;\n  }\n}</code></pre>\n\n<p>Zápis s&#160;použitím této minitřídy by pak vypadal <code>if\n(Is.NotNull(this.someRef)) ...</code>. Na jednu stranu je zápis čitelnější\ni&#160;pro necéčkaře, na druhou je o&#160;něco delší a je v&#160;něm\nvíce závorek&#8230;</p>\n\n<p>Nebo je tu možnost přejít na <a\nhref=\"http://research.microsoft.com/specsharp/\">Spec#</a>, který podporuje\nnon-nullable types.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2007-07-26T10:52:41.533-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Syntax sugar alá If Exists",
  :published #inst "2007-07-26T08:01:05.037-00:00",
  :url "syntax-sugar-ala-if-exists",
  :category-url "asp-net-2-0.aspx",
  :id 217,
  :description "Reakce na ifx - bylo-li by libo cukříček? ",
  :category "ASP.NET 2.0",
  :tags []},
 :354-zdroje-o-asp-net-mvc-pro-zacatecniky.aspx
 {:html
  "\n<p>Možná hledáte nějaký materiál, který vám pomůže začít s ASP.NET\nMVC. Pojďme se podívat, jaké máte možnosti.</p>\n\n<h3 id=\"toc-knihy\">Knihy</h3>\n\n<p>Asi nejčastějšími studijními materiály jsou knihy. Protože je ASP.NET\nMVC ještě hodně mladý framework, který ještě nebyl oficiálně vydán\n(produkční verze), žádná kniha ještě nevyšla. Ale minimálně na dvou se\nusilovně již několik měsíců pracuje. Ještě lepší zprávou je, že\njejich rozpracované verze jsou už nyní k dispozici!</p>\n\n<p>Za první knihou <strong>ASP.NET MVC Framework Unleashed</strong> stojí\nSenior Program Manager ASP.NET MVC a autor jedné z nejprodávanějších knih\no ASP.NET  – <a href=\"http://stephenwalther.com/blog/\">Stephen Walther</a>.\nJednotlivé kapitoly publikuje na svém blogu. Ty budou po jejím dokončení\nz blogu staženy. Publikovány byly zatím tyto kapitoly:</p>\n\n<ol>\n\t<li><a\n\thref=\"http://stephenwalther.com/blog/archive/2009/02/05/chapter-1-an-introduction-to-asp.net-mvc.aspx\">Chapter\n\t1 – An Introduction to ASP.NET MVC</a></li>\n\n\t<li><a\n\thref=\"http://stephenwalther.com/blog/archive/2009/02/07/chapter-2-building-a-simple-asp.net-mvc-application.aspx\">Chapter\n\t2 – Building a Simple ASP.NET MVC Application</a></li>\n\n\t<li><a\n\thref=\"http://stephenwalther.com/blog/archive/2009/02/13/chapter-3-understanding-controllers.aspx\">Chapter\n\t3 – Understanding Controllers</a></li>\n\n\t<li><a\n\thref=\"http://stephenwalther.com/blog/archive/2009/02/21/chapter-4-understanding-views.aspx\">Chapter\n\t4 – Understanding Views</a></li>\n\n\t<li><a\n\thref=\"http://stephenwalther.com/blog/archive/2009/02/27/chapter-5-understanding-models.aspx\">Chapter\n\t5 – Understanding Models</a></li>\n\n\t<li><a\n\thref=\"http://stephenwalther.com/blog/archive/2009/03/03/chapter-6-understanding-html-helpers.aspx\">Chapter\n\t6 – Understanding HTML Helpers</a></li>\n\n\t<li><a\n\thref=\"http://stephenwalther.com/blog/archive/2009/02/06/chapter-2-understanding-routing.aspx\">Chapter\n\t9 – Understanding Routing</a></li>\n</ol>\n\n<p>Další knihou je <strong>Professional ASP.NET MVC 1.0</strong> z rukou\npánů <a href=\"http://weblogs.asp.net/scottgu/\">Scott Guthrie</a>, <a\nhref=\"http://haacked.com/\">Phil Haack</a>, <a\nhref=\"http://www.hanselman.com/\">Scott Hanselman</a> a <a\nhref=\"http://blog.wekeroad.com/\">Rob Conery</a>. Pokud nevíte, kdo jsou tito\npánové zač, tak byste to měli rychle dohnat. ScottGu je autorem ASP.NET a\ndnes je vicepresidentem vývojářské divize Microsoftu. Phil je Senior Program\nManager ASP.NET MVC, Routingu a integrace dynamických jazyků do ASP.NET.\nScottHa byl první, kdo loni na MIXu ASP.NET MVC presentoval a Rob Conery je\nautorem ukázkové aplikace – a především poučných screencastů z její\ntvorby – StoreFront, která je postavená na MVC frameworku. Z knihy byla\nzatím uvolněna <a\nhref=\"http://aspnetmvcbook.s3.amazonaws.com/aspnetmvc-nerdinner_v1.pdf\">první\nkapitola</a>, která je průvodcem krok za krokem jak začít stavět aplikaci\ns ASP.NET MVC.</p>\n\n<h3 id=\"toc-ukazkove-aplikace\">Ukázkové aplikace</h3>\n\n<p>Pokud se vám dobře učí čtením zdrojových kódů, není nic lepšího,\nnež si <a\nhref=\"http://aspnet.codeplex.com/SourceControl/changeset/view/21528\">zdrojové\nkódy ASP.NET MVC</a> stáhnout na CodePlexu. Z nich můžete pochytit ledasco,\nale jak s tím dělat aplikace už moc ne. Proto tu jsou ukázkové aplikace.\nTou první a asi nejrozsáhlejší je <a\nhref=\"http://blog.wekeroad.com/mvc-storefront/\">MVC Storefront</a>. Jenže její\nzdrojáky byly chvíli na CodePlexu, pak je Rob smazal a slibuje, že brzy budou\nnové – aktuální. Další ukázková aplikace vznikla pro potřeby druhé\njmenované knihy a jmenuje se <a\nhref=\"http://nerddinner.codeplex.com/\">Nerddinner</a>.</p>\n\n<h3 id=\"toc-webcasty\">Webcasty</h3>\n\n<p>Když ještě nejsou k <a\nhref=\"http://blog.wekeroad.com/mvc-storefront/\">MVC Storefront</a> zdrojáky,\ntak vězte, že k němu je asi pětadvacet screencastů! Rob zde provádí\nvývojem e-shopu. Během té doby prozkoumává různá zákoutí webového\nvývoje, vylepšuje design aplikace, užívá užitečných komponent atd.\nRozhodně stojí za zhlédnutí.</p>\n\n<p>Další videa, která vám snad pomohou s MVC frameworkem začít, najdete\npřímo na stránkách <a href=\"http://asp.net/mvc/\">ASP.NET MVC</a>.</p>\n\n<h3 id=\"toc-zaznamy-prednasek\">Záznamy přednášek</h3>\n\n<p>Doporučení hodné jsou záznamy z loňského MIXu a PDC,\nkonkrétně tyto:</p>\n\n<ol>\n\t<li><a href=\"http://sessions.visitmix.com/?selectedSearch=T22\">Developing\n\tASP.NET Applications Using the Model View Controller Pattern</a></li>\n\n\t<li><a href=\"http://channel9.msdn.com/pdc2008/PC21/\">ASP.NET MVC : A New\n\tFramework for Building Web Applications</a></li>\n</ol>\n\n<p>Na letošním MIX, který bude již příští týden, bude asi\n5 přednášek věnovaných ASP.NET MVC a očekává se, že tam bude také\nuvedena jeho finální verze.</p>\n\n<p>Na loňském WebExpu jsem měli s Borkem <a\nhref=\"http://2008.webexpo.cz/prednaska/asp-net/\">přednášku o ASP.NET Futures\na o MVC</a> jsem také mluvili. Přednáška se natáčela, a pokud bude\nzáznam zveřejněn, tak tam možná najdete pár zajímavých\ninformací. :)</p>\n\n<h3 id=\"toc-blogy\">Blogy</h3>\n\n<p>Zatím největším zdrojem a zároveň nejroztříštěnějším jsou\nblogspoty. Nejvíc informací najdete na blozích již výše zmiňovaných\npánů. Do jejich společnosti se rád vloudím i <a\nhref=\"/weblog/tag/mvc.aspx\">se svojí troškou do mlýna</a>, ale troufnu si\ntvrdit, že v některých už jde o trošičku pokročilejší témata a pro\njejich pochopení byste už něco měli mít načteno a nazkoušeno. :)</p>\n\n<p>No koukám, že se mi tady z toho stává pěkná linkfarma, tak to raději\nukončím a doufám, že se máte od čeho odrazit…</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-03-11T18:57:54.230-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zdroje o ASP.NET MVC pro začátečníky",
  :published #inst "2009-03-11T18:51:04.013-00:00",
  :url "zdroje-o-asp-net-mvc-pro-zacatecniky",
  :category-url "webdesign.aspx",
  :id 354,
  :description
  "Možná hledáte nějaký materiál, který vám pomůže začít s ASP.NET MVC. O pár možná vim, tak se pojďme podívat, jaké máte možnosti. ",
  :category "Webdesign",
  :tags ["aspnet" "mvc"]},
 :277-komunity-na-vlne-la-trine-na-startu.aspx
 {:html
  "\n<p>Jak už <a href=\"http://www.misantrop.info/692934-otvirak.php\">napsal\nMisantrop</a>, <a rel=\"friend met\" href=\"http://davidgrudl.com/\">David Grudl</a>\nspustil <a href=\"http://www.latrine.cz/\">novou La Trine</a> a hned začíná\nsólokaprem. Podle mě trefil na jednu z <a\nhref=\"http://www.latrine.cz/moc-divna-cisla-kolem-blog-cz\">největších\nkunďáren roku</a> – samozřejmě až po koupi Atlasu ;). Zatímco všichni\n<a\nhref=\"http://myego.cz/item/michal-illich-prodal-karluv-most-aka-blog-cz\">opěvují\nMichalovy obchodní schopnosti</a> a gratulují mu k prodeji firmy Nově, <a\nhref=\"http://www.latrine.cz/moc-divna-cisla-kolem-blog-cz\">někteří\nnechápou</a>.</p>\n\n<p>Já taky nechápu. Stejně jako jsem nechápal po prodeji Atlasu. Teď už\nchápu leccos. Dneska jde prostě o to, komu zůstane černej Pert, než\nsplaskne bublina. A podle toho jak jsou dneska vytažený ceny a hlavně za\njakýkoli komunity, bude to celkem <strong>brzo</strong>. Takže děcka, pokud\nmáte nějakou komunitu, střelte ji co nejrychleji. Možná si brzo budou kluci\nz líbka trhat vlasy, že to tý Nově nestřelili zrovna oni. A nebo se taky\nšeredně pletu a plácám tropické šílenosti.</p>\n\n<p>Ale nechť každý posoudí dle svého rozumu a znalostí…\nČas ukáže.</p>\n\n<h3>Související</h3>\n\n<ul>\n\t<li><a href=\"http://www.latrine.cz/moc-divna-cisla-kolem-blog-cz\">David\n\tGrudl – Moc divná čísla kolem Blog.cz</a></li>\n\n\t<li><a href=\"http://www.misantrop.info/692934-otvirak.php\">Martin Malý –\n\tOtevírák</a></li>\n\n\t<li><a\n\thref=\"http://myego.cz/item/michal-illich-prodal-karluv-most-aka-blog-cz\">Radek\n\tHulán – Michal Illich prodal Karlův most (aka Blog.cz)</a></li>\n\n\t<li><a href=\"http://jyxo.blog.cz/0805/cet-21-jyxo\">Michal Illich – CET 21 +\n\tJYXO</a></li>\n\n\t<li><a\n\thref=\"http://buzzmag.cz/nova-koupila-jyxo-za-6-8-mil-eur-dalsi-info-o-drazbe-weblogy-28-05-2008/\">Pavel\n\tNeuman – Nova koupila Jyxo za 6–8 mil. EUR + další info o dražbě\n\tWeblogy</a></li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-05-29T22:40:29.613-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Komunity na vlně, La Trine na startu",
  :published #inst "2008-05-29T21:54:04.770-00:00",
  :url "komunity-na-vlne-la-trine-na-startu",
  :category-url "webdesign.aspx",
  :id 277,
  :description
  "Jak už napsal Misantrop, David Grudl spustil novou La Trine a hned začíná sólokaprem. Podle mě trefil na jednu z největších *** roku - samozřejmě až po koupi Atlasu ;).",
  :category "Webdesign",
  :tags []},
 :82-co-posloucham.aspx
 {:html
  "\n<p>Než vyrazim na na Ekonomiku pro podnikatele, tak ještě přispěju pár\ntipama na dobrou muziku, která mě zaujala v&#160;posledních týdnech. Tak\nv&#160;první řadě to je sobotní <a href=\"http://www.ggdag.com\">Gigiho</a>\npořad Il Cammino, který běží od 19.00&#160;na <a\nhref=\"http://www.m2o.it\">M2O</a>. Spousta věcí, které jsou v&#160;tomto\npořadu slyšet brzy výjde i&#160;na CDčách, takže enjoy!</p>\n\n<p>Další věci jsou trošku z&#160;jiného soudku.</p>\n\n<ul>\n\t<li>Goldfrapp &#8211; Number 1</li>\n\n\t<li>The Bravery &#8211; Unconditional Remixes</li>\n\n\t<li>VA &#8211; Ministry of House vol. 10</li>\n\n\t<li>Remixy Eurythmics &#8211; Sweet Dreams</li>\n\n\t<li>Inner City &#8211; Good Life</li>\n</ul>\n\n<p>A&#160;samozřejmě novinky z&#160;labelů <a\nhref=\"http://www.pryda.net\">Pryda</a>, <a\nhref=\"mai&#108;&#116;&#111;&#58;&#99;&#111;&#110;&#116;&#97;&#99;&#116;&#64;&#109;&#111;&#117;&#115;&#101;&#118;&#105;&#108;&#108;&#101;&#45;&#114;&#101;&#99;&#46;&#99;&#111;&#109;\">Mouseville</a>\na <a href=\"http://www.sizerecords.com/\">Size Records</a>. Tak přeji dobrý\nposlech a já letim na cviko ;)</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Co poslouchám",
  :published #inst "2005-11-24T17:35:02.157-00:00",
  :url "co-posloucham",
  :category-url "muzika.aspx",
  :id 82,
  :description "Pár tipů na dobrou muziku poslední doby.",
  :category "Muzika",
  :tags []},
 :141-remember-me-or-not.aspx
 {:html
  "\n<p>Taky se vám stalo, že jste chtěli využích svělých dovedností\nMemberShip Provideru a Login controls, a když jste zaškrtli <em>Remember\nMe</em>, tak se to chopvalo úplně stejně? Tak to jste narazili na chybu,\nteda alespoň podle mě to chyba je. Podle vývojářů ASP.NET je to <em>by\ndesign</em> :(</p>\n\n<p>Problém je v&#160;tom, že ASP.NET 2.0&#160;načítá životnost\nperzistentní i&#160;neperzistentní cookie z&#160;web.configu a to pouze\nz&#160;jedné hodnoty! Tato hodnota je pro obě metody stejná, tak v&#160;čem\nje rozdíl? ASP.NET 1.x načítalo pro neperzistentní cookie stejnou hodnotu\nz&#160;web.configu, ale perzistentní cookie byla natvrdo asi na 50&#160;let.\nTeď opravdu nechápu, k&#160;čemu mi je perzistentní cookie, když expiruje\nza stejnou dobu jako neperzistentí&#8230;</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-26T09:53:27.180-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Remember Me or not?",
  :published #inst "2006-04-26T09:51:47.243-00:00",
  :url "remember-me-or-not",
  :category-url "asp-net-2-0.aspx",
  :id 141,
  :description "Ukázka špatného návrhu ASP.NET 2.0",
  :category "ASP.NET 2.0",
  :tags []},
 :215-ironruby-je-tu-a-vs-2008-beta2-jiz-brzy.aspx
 {:html
  "\n<p>John Lam a ScottGu dnes oznámili možnost stažení <a\nhref=\"http://iunknown.typepad.com/IronRuby-Pre-Alpha1.zip\">zdrojáků\nIronRuby</a> a mimo jiné také to, že VS 2008 beta2 výjde již tento týden\na je z 99% feature complete. To jsou myslím dobré zprávy.</p>\n\n<p>IronRuby je čerstvou implementací Ruby na platformě .NET, postavenou nad\nnovou vrstvou <acronym title=\"Dynamic Language Runtime\">DLR</acronym>, která by\nměla být společná pro Python, Ruby, <acronym\ntitle=\"JavaScript\">JS</acronym>, <acronym title=\"VisualBasic\">VB</acronym> a\ntajně doufám, že jednou i pro PHP ;) IronRuby je zatím v plenkách ve\nverzi 0.1 Pre-Alpha. Neobsahuje ani všechny vlastnosti jazyka a skoro žádné\nstandardní knihovny (rubařské), ale do jejich tvorby se klidně budete moci\nzapojit. Projekt bude hostován na <a href=\"http://rubyforge.org/\">RubyForge</a>\na to pod <acronym title=\"Microsoft Permissive Licence\">MSPL</acronym>.</p>\n\n<h3 id=\"toc-update\">Update</h3>\n\n<p>Visual Studio 2008 beta 2 je již venku. Stahovat můžete <a\nhref=\"http://msdn2.microsoft.com/en-us/vstudio/aa700831.aspx\">zde</a>.</p>\n\n<h3 id=\"toc-souvisejici\">Související</h3>\n\n<ul>\n\t<li>John Lam – <a\n\thref=\"http://www.iunknown.com/2007/07/a-first-look-at.html\">First look at\n\tIronRuby</a></li>\n\n\t<li>Scott Guthrie – <a\n\thref=\"http://weblogs.asp.net/scottgu/archive/2007/07/23/first-look-at-ironruby.aspx\">First\n\tlook at IronRuby</a></li>\n</ul>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:32:57.690-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "IronRuby je tu a VS 2008 beta2 již brzy",
  :published #inst "2007-07-23T21:37:41.000-00:00",
  :url "ironruby-je-tu-a-vs-2008-beta2-jiz-brzy",
  :category-url "asp-net-2-0.aspx",
  :id 215,
  :description
  "John Lam a ScottGu dnes oznámili možnost stažení zdrojáků IronRuby a mimo jiné také to, že VS 2008 beta2 výjde již tento týden a je z 99% feature complete. To jsou myslím dobré zprávy.",
  :category "ASP.NET 2.0",
  :tags ["vs" "vs2008" "ironruby" "dlr"]},
 :334-odpojte-se-k-nam.aspx
 {:html
  "\n<p>Sháníme posily do našeho týmu. Pokud znáš dobře dotnet nebo Javu a\nchceš se učit novým věcem, tak čti dál.</p>\n\n<h3 id=\"toc-predstaveni\">Představení</h3>\n\n<p>Jsme <a href=\"http://www.twareg.com/\">Twareg</a> (čteme tuareg, ale někdy\ni tvarek), firma zabývající se vývojem webových aplikací, které jsou\nvýkonné, dostupné a škálovatelné. K tomu primárně užíváme platformu\n<a href=\"http://www.microsoft.com/net/\">Microsoft .NET</a> (C#, ASP.NET).\nPoužíváme nejmodernější technologie (např. <a\nhref=\"/weblog/tag/mvc.aspx\">ASP.NET MVC</a>, Dynamic Data, <acronym\ntitle=\"Windows Communication Foundation\">WCF</acronym>, „Velocity“) a\nsnažíme se o moderní postupy při vývoji našeho software. Všichni máme\nzkušenosti z portálu <a href=\"http://www.atlas.cz/\">Atlas.cz</a> a jsme\nochotní se o ně podělit. Když řeknu, že jsme dynamický tým, asi bych\nlhal. Představte si dynamický tým a svou představu vynásobte\ndeseti. :)</p>\n\n<p>Naše kancelář je vybavena různobarevnými pěnovými míčky, a když\nvás někdo naštve, můžete si po něm hodit. Dostáváme stravenky a chodíme\nje společně projíst někam na Anděla. Věhlasný je také náš rituál\nvaření, který jsme si přinesli z Atlasu.</p>\n\n<p>Pokud hledáte naše webové stránky, <del>tak vězte, že jsme si žádné\nještě nestihli udělat, ale máme to v plánu.</del> <ins>najdete je na\nadrese <a href=\"http://www.twareg.com/\">www.twareg.com</a>.</ins> Pokud vás\nzajímá naše zázemí, tak vězte, že jsme spřátelenou společností <a\nhref=\"http://www.ataxo.cz/\">Ataxa</a> a sídlíme ve stejné budově.</p>\n\n<h3 id=\"toc-na-cem-delame\">Na čem děláme</h3>\n\n<p>Našim hlavním produktem je codename „Hyas“. Je to reklamní systém,\nkterý si klade za cíl poučit se z chyb konkurenčních systémů, zachovat\nsi jejich výhody a přinést něco nového. Být prostě lepší. Jak prosté.\nNyní máme téměř připravené jádro systému, které půjde brzo do\ntestování. Potřebujeme ale další lidi, kteří by nám pomohli nad ním\nnapsat veřejné API (SOAP, REST), administrační/u­živatelské rozhranní a\ndalší potřebné komponenty. Pokud vás toto zajímá, neváhejte mě <a\nrel=\"me\" href=\"/#kontakt\">kontaktovat</a>!</p>\n\n<p>Pokud byste raději dělali na webech, je tady ta možnost také. Děláme na\nWeb 2.0 projektech založených na znovupoužitelných komponentách (a tím\nrozhodně nemyslím jen server controly). Aktuálně děláme katalog nightlife\npodniků se silnou integrací sociálních prvků. A ve frontě čekaj další\nneméně zajímavé. Pokud se na nich chcete podílet, <a rel=\"me\"\nhref=\"/#kontakt\">ozvěte se mi</a>!</p>\n\n<h3 id=\"toc-koho-hledame\">Koho hledáme</h3>\n\n<p>Předně schopné vývojáře. Takové, co mají chuť se učit novým věcem\na chtějí se o své poznatky dělit. :) Takové, co mají týmového ducha,\nkterým nevadí zůstat občas v práci dýl a zahrát si třeba Wiičko nebo\njít společně do kina, na bowling nebo jenom na jedno.</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a href=\"/weblog/288-konec-dobry-vsechno-dobre.aspx\">Konec dobrý, všechno\n\t\tdobré!</a></li>\n\n\t\t<li><a href=\"/weblog/300-vyvojova-infrastruktura.aspx\">Vývojová\n\t\tinfrastruktura</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-03-01T10:54:18.763-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Odpojte se k nám!",
  :published #inst "2008-12-02T08:29:53.647-00:00",
  :url "odpojte-se-k-nam",
  :category-url "webdesign.aspx",
  :id 334,
  :description
  "Sháníme posily do našeho týmu. Pokud znáš dobře dotnet nebo Javu a chceš se učit novým věcem, tak čti dál.",
  :category "Webdesign",
  :tags ["twareg" "aspnet" "csharp" "mvc" "wcf" "velocity"]},
 :450-jak-rozbehat-bower-ve-visual-studiu.aspx
 {:html
  "\n<p>Takový malý tutoriálek pro command line junkies, jak si rozběhat <a\nhref=\"https://github.com/bower/bower\">bower</a> ve Visual Studiu.</p>\n\n<p>Nainstalujte si Chockolatey:</p>\n\n<pre><code>@powershell -NoProfile -ExecutionPolicy unrestricted -Command \"iex ((new-object net.webclient).DownloadString('https://chocolatey.org/install.ps1'))\" &amp;&amp; SET PATH=%PATH%;%systemdrive%\\chocolatey\\bin</code></pre>\n\n<p><em>(<code>Win+R</code>, <code>Ctrl+V</code>, <code>Enter</code>)</em></p>\n\n<p>Nainstalujte si Node:</p>\n\n<pre><code>cinst nodejs.install</code></pre>\n\n<p>Vytvořte si profil pro nuget konzoli\n<code>%UserProfile%\\Documents\\WindowsPowerShell\\NuGet_profile.ps1</code> a do\nněj přidejte:</p>\n\n<pre><code>Set-Alias npm \"C:\\Program Files\\nodejs\\npm.cmd\"\nSet-Alias bower \"~\\AppData\\Roaming\\npm\\bower.cmd\"</code></pre>\n\n<p>Spusťte si Visual Studio, otevřete Package Management Consoli a\nnapište:</p>\n\n<pre><code>npm install -g bower</code></pre>\n\n<p>A jedem. :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-05-03T13:14:34.940-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak rozběhat Bower ve Visual Studiu",
  :published #inst "2013-05-03T13:13:41.253-00:00",
  :url "jak-rozbehat-bower-ve-visual-studiu",
  :category-url "moje-prace.aspx",
  :id 450,
  :description
  "Takový malý tutoriálek pro command line junkies, jak si rozběhat bower ve Visual Studiu. ",
  :category "Moje práce",
  :tags []},
 :10-gigi-rulez-aktualizace.aspx
 {:html
  "\n<p>Tak jsem se dnes <a\nhref=\"http://www.scody.net/ggdag/forum/topic.asp?TOPIC_ID=13540\">dočetl</a>,\nže <a href=\"http://www.gigidagostino.com\">Gigi D'Agostino</a> bude vydávat\ndalší singl &#8211; Complex (visione Inedita) &#8211; a na singlu mají být\ndalší čtyři nové tracky. Tak jsem zvědav. Vyjít by měla 23.&#160;3.\nspolečně s&#160;<strong>Con il nastro rosa</strong>, kterou Gigi remixoval\nspolečně s&#160;<a href=\"http://www.molella.com\">Molellou</a>. Ta bude mít\n6&#160;tracků &#8211; dva mixy od Gigiho a jeden od Mollyho a jejich rádio\nverze.</p>\n\n<h3>Oprava</h3>\n\n<p>Tak Complex ještě není nový singl, ale MediaRecords vydávají sampler,\nna kterém budou tyto tracky:</p>\n\n<ol>\n\t<li>Gigi D'Agostino &#8211; Complex (Versione Inedita)</li>\n\n\t<li>Gipsy &#8211; Gipsy (Original mix)</li>\n\n\t<li>Tom Neville &#8211; Just fuck (Deep down dirty original mix)</li>\n\n\t<li>Mario Piu &#8211; Champ Elysées (Plus mix)</li>\n\n\t<li>Cappella &#8211; Angel (Mas mix)</li>\n</ol>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "GiGi RuleZ (aktualizace)",
  :published #inst "2004-03-18T21:00:00.000-00:00",
  :url "gigi-rulez-aktualizace",
  :category-url "muzika.aspx",
  :id 10,
  :description "Gigi vydává dva nové singly.",
  :category "Muzika",
  :tags []},
 :454-legacy-code-writer-part-2.aspx
 {:html
  "\n<p>Dostal jsi nový úkol, implementovat jednoduchou featuru do korporátního\nprojektu. Jenže ten kód byl past vedle pasti.</p>\n\n<p>Produkoval jsi legacy kód, kvůli <em>Legacy code writerovi</em>.</p>\n\n<h3 id=\"toc-nikdo-nepise-legacy-code-od-zakladu\">Nikdo nepíše legacy code od\nzákladu</h3>\n\n<p>Je dost možný, že vám <a\nhref=\"http://rarous.net/weblog/453-legacy-code-writer-part-1.aspx\">první\ndíl</a> zněl trochu povědomně. Každý z nás se dost pravděpodobně\nv podobné situaci ocitl.</p>\n\n<p>Nyní, prosím, zkuste přehodnotit svou víru ve zlého <em>Legacy code\nwritera</em>. Myslíte si, že opravdu existuje? Jste si jistí, že pokaždé\nkdyž narazíte na legacy code, tak k němu existuje mystický můž, který to\ncelé napsal od základu?</p>\n\n<p>Víte čemu věřím já? Že tento muž vůbec neexistuje, že je to jen\nvelice příjemná a pohodlná zástěrka. Není tu žádná taková osoba,\nkterá by byla zodpovědná za celej ten bordel. Špatný programátor, Legacy\ncode writer, je jen fiktivní postavou vytvořenou k tomu, aby nám pomohl\nobhájit naše malé, přetrvávající, hříchy.</p>\n\n<p>Došel jsem k názoru, že <strong>psaní legacy code je distribuovanou\naktivitou</strong>. Každý z nás do tohoto vleklého procesu, třeba\ni nevědomky, přispívá.</p>\n\n<p>Zbytečně nezahazujte čas pátráním, kdo za to může, protože to\n<strong>my všichni</strong>. Každý z nás!</p>\n\n<h3 id=\"toc-legacy-code-je-jako-prach\">Legacy code je jako prach</h3>\n\n<p>Pokud neuklízíte, neustále se usazuje a je jedno jestli se díváte\nnebo ne.</p>\n\n<p>Každý kus kódu, pokud je spravován více lidmi, tíhne k tomu stávat se\nšpagetami nebo lasagněmi. Entropie má potřebu růst. Je to absolutně\npřirozený proces.</p>\n\n<p>Nevěříte?</p>\n\n<p>Zkuste se na to podívat z jiného úhlu pohledu: <strong>Kód přirozeně\nnetíhne k tomu být čím dál tím lepší pouhým přidáváním featur\nhordou programátorů.</strong></p>\n\n<p>Mně to zní jako jednoduchý přírodní zákon: <strong>Živý kód tíhne\nk tomu, stávat se horším, dokud nedojde k záměrnému aplikování síly\nproti přirozené potřebě entropie růst.</strong></p>\n\n<p>Legacy code je to, co získáte, pokud nejste odhodlaný přísně aplikovat\ndobré zásady při správě kódu.</p>\n\n<h3 id=\"toc-dve-spatna-rozhodnuti-se-vzajemne-nekompenzuji-komuluji\">Dvě\nšpatná rozhodnutí se vzájemně nekompenzují. Komulují!</h3>\n\n<p>První verze byla pravděpodobně navržená dobře. Šlo to celkem snadno,\npřed programátorem byl list nepopsaného papíru. :)</p>\n\n<blockquote>\n\t<p>Každý dokáže navrhout dobrý kód na zelený louce a udržovat ho po dobu\n\ttří měsíců. Pouze profesionální vývojář to zvládne i po dobu\n\tnásledujících let.</p>\n</blockquote>\n\n<p>Nekritizujte prvního progrmátora, on možná odvedl velmi slušnou práci.\nJenže jak na chvilku polevíte, začnou se objevovat první nepatrné\nčástečky legacy kódu. Problém s částečkama legacy kódu je jako\ns korálama: mají potřebu se na sebe lepit až z nich nakonec vznikne\nnepropustná bariera pevná jako skála, se kterou už nepohnete.</p>\n\n<p>Zaveďte <strong>dočasnou proměnnou</strong> a vězte, že další\nprogramátor se bude cítit oprávněn na ní nalepit nějakou funkcionalitu.\nUdělejte <strong>copy&amp;paste</strong> maličké pětiřádkové\nfunkcionality a čekejte že vaše budoucí já v jedné z těch kopií\nzmění dva řádky a připraví tak jeho nástupce, kteří se to pokusí\nrefactorvat, o několik vlasů. Nejspíš to vzdají.</p>\n\n<p><strong>Vynechte unit test</strong> a vězte, že další team si\npomyslí:</p>\n\n<blockquote>\n\t<p>Předchozí programátor si myslel, že pokrýt tuhle funkcionalitu testy je\n\tpříliš nákladné. No, teď to určitě nebude o nic snažší. Takže se na\n\tto taky vyprdneme.</p>\n</blockquote>\n\n<p>A tady to začne chátrat. Taky se tomu taky říká <a\nhref=\"http://cs.wikipedia.org/wiki/Teorie_rozbit%C3%A9ho_okna\">teorie rozbitého\nokna</a>…</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-06-02T11:37:56.010-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Legacy code writer - part 2",
  :published #inst "2013-06-02T11:27:45.663-00:00",
  :url "legacy-code-writer-part-2",
  :category-url "moje-prace.aspx",
  :id 454,
  :description "Druhá část povídánek o legacy kódu.",
  :category "Moje práce",
  :tags []},
 :119-statistika.aspx
 {:html
  "\n<p>Když jsem ve volné chvíli projížděl statistiky, nemohl jsem\nnepostřehnout, že veliký podíl na mé návštěvnosti má <a\nhref=\"http://borber.com/\">Borek</a>, který už na mě několikrát odkázal a\njá na něj pořád ne :) Tímto to chci napravit, sic pozdě, protože <a\nhref=\"http://borber.com/blog/\">Borkův blog</a> už asi znáte z&#160;<a\nhref=\"http://www.weblogy.cz\">Weblogy.cz</a>. Borek píše o&#160;zajímavých\ntématech a hlavně často o&#160;dotnetu, Windows a Office. Dalším dobrým\npočinem je <a href=\"http://borber.com/roundedbox/\">RoundedBox</a> komponenta\npro ASP.NET, která dělá boxy s&#160;kulatými rohy. Jde na to různými\nzpůsoby a pro programátory je to snadná cesta k&#160;docílení zaoblení na\nwebu.</p>\n\n<p>Dalším statistickým údajem je veliký zájem o&#160;ověření pravosti\nWindows :) Tu bohužel neprovádím ;) Na to tu jsou jiní. Zkuste třeba\nnainstalovat tu novou utilitku, co je ke stažení přes Windows update &#8211;\no&#160;víkendu postnu i&#160;fotky, co to dělá &#8222;zlodějům&#8220;.</p>\n\n<p>Když jsem u&#160;tý statistiky, pohrál jsem si se statistikama na Pokecu,\nod zítřka by měly počítat skutečný počet uživatelů v&#160;chatu. Jo\ndržte nám palce, zejtra ráno se bude nasazovat nová verze <a\nhref=\"http://pokec.atlas.cz/\">Pokecu</a> &#8211; ta, co jsem se v&#160;ní\nšťoural. Tak jsem zvědav, jak se osvědčí, jestli bude stabilnější nebo\nhrušková&#8230;</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-17T15:55:42.207-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Statistika",
  :published #inst "2006-03-14T15:19:29.123-00:00",
  :url "statistika",
  :category-url "jen-tak.aspx",
  :id 119,
  :description "Data vyplívající z grafů.",
  :category "Jen tak",
  :tags []},
 :350-registrace-svc-handleru-pro-iis7.aspx
 {:html
  "\n<p>Náš intranet používá pro AJAXy ADO.NET Data Services, což je pěkný\nREST framework. Tento framework je postavený nad <code>IQueryable</code> (tedy\n<acronym title=\"Language Integrated Query\">LINQ</acronym>) a také nad <acronym\ntitle=\"Windows Communication Foundation\">WCF</acronym>. Nedávno jsme\nprováděli přeinstalace serverů a tak se stalo, že AJAXové dotazy začaly\nvracet 404.</p>\n\n<p>Bylo to divné, protože jinde to fungovalo a vždy stačil\n<code>xcopy</code> deployment. Tak jsem zkusil zadat adresu služby do\nprohlížeče a zase 404. Proč to nejde? Koukám na mapování handlerů\nv konfiguraci IIS7 a helemese chybí <code>svc</code> binding. Ale proč?\nVždyť je všechno nainstalovaný jak má bejt.</p>\n\n<p>Po chvilce pátrání jsme našel jednoduché řešení. Stačí spustit\nregistraci ručně:</p>\n\n<pre><code>\"%systemroot%\\Microsoft.NET\\Framework\\v3.0\\Windows Communication Foundation\\ServiceModelReg.exe –i\"</code></pre>\n\n<p>Pro 64-bitové systémy pak:</p>\n\n<pre><code>\"%systemroot%\\Microsoft.NET\\Framework64\\v3.0\\Windows Communication Foundation\\ServiceModelReg.exe –i\"</code></pre>\n\n<p>Dnes mi píše Radek, že přesouval intranet na Domain Controller, aby nebyl\nna našich vývojových strojích a že mu AJAXy vracej 404. Takže tohle je\ni tak trochu pro něj.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-03-01T13:25:19.513-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Registrace svc handleru pro IIS7",
  :published #inst "2009-02-23T10:55:08.443-00:00",
  :url "registrace-svc-handleru-pro-iis7",
  :category-url "webove-sluzby.aspx",
  :id 350,
  :description
  "Občas se může stát, že vám na novém webovém serveru nepoběží WCF služby. Náprava je velice snadná. Tady je.",
  :category "Webové služby",
  :tags ["dataservices" "iis7" "wcf" "svc"]},
 :425-testy-konvenci-s-xunit-net.aspx
 {:html
  "\n<p>V každé dobře navržené aplikaci by se měly dodržovat nějaké\nkonvence, které nám umožní psát flexibilní a dopředně kompatibilní\nkód, který není třeba často měnit. Je vhodné mít tyto konvence někde\nzdokumentované. Nejlépe pak formou spustitelných tes­tů.</p>\n\n<h3 id=\"toc-ukazka-z-praxe\">Ukázka z praxe</h3>\n\n<p>Zrovna teď řešim messaging za pomocí Rhino.ESB a narazil jsem na\npotřebu, aby všechny zprávy měly bezparametrický konstruktor a stejně tak\ni jejich vlastnosti. Jal jsem se psát test a vypadlo mi něco takového:</p>\n\n<pre\n><code class=\"language-csharp\">[Fact]\npublic void MessagesShouldHaveParameterlessContructor()\n{\n    var asm = typeof(Message).Assembly;\n    var query = from type in asm.GetTypes()\n                where type.Namespace == typeof(Message).Namespace\n                select type;\n\n    Assert.True(query.All(HasDefaultConstructor));\n}\n\nstatic bool HasDefaultConstructor(Type type)\n{\n    return type.GetConstructor(Type.EmptyTypes) != null;\n}</code></pre>\n\n<p>Super, projdu všechny typy z namespace, kde sídlí zprávy, a zjistím,\njestli mají bezparametrický konstruktor. Pokud to všechny zprávy splňují,\nnení problém. Jenže, když jedna tuto konvenci nesplní, jak ji rychle\nnajít? Můžeme přidat nějaký druh výpisu na konzoli, jakou zprávu zrovna\ntestujeme, ale to už porušujeme hned několik doporučení, jak psát <acronym\ntitle=\"Readable, Trust-worthy, Maintainable\">RTM</acronym> testy.</p>\n\n<p>Lepším řešením je využít toho, co nám nabízí framework. Nejde\no nic jiného než data driven test. Na to má xUnit.net <code>Theory</code>.\nUděláme lehký refactoring a z jednoho ne moc říkajícího testu uděláme\nserii kokrétních testů, kde hezky uvidíme, které zprávy byly\ntestovány:</p>\n\n<pre\n><code class=\"language-csharp\">public static IEnumerable&lt;object[]&gt; MessageTypes\n{\n    get\n    {\n        var asm = typeof(Message).Assembly;\n        var query = from type in asm.GetTypes()\n                    where type.Namespace == typeof(Message).Namespace\n                    select new object[] { type };\n        return query;\n    }\n}\n\n[Theory]\n[PropertyData(\"MessageTypes\")]\npublic void MessagesShouldHaveParameterlessContructor(Type type)\n{\n    Assert.True(HasDefaultConstructor(type));\n}\n\nstatic bool HasDefaultConstructor(Type type)\n{\n    return type.GetConstructor(Type.EmptyTypes) != null;\n}</code></pre>\n\n<p>Vidíte, ani to moc nebolelo a máme future-proof testy, které nám\nohlídají potřeby frameworků a zároveň mají velkou vypovídací hodnotu.\nKdyž se podívám na výsledek testů, tak hned vidím, která třída konvenci\nnedodržuje.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-08-23T11:26:43.183-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Testy konvencí s xUnit.net",
  :published #inst "2012-08-23T11:21:12.133-00:00",
  :url "testy-konvenci-s-xunit-net",
  :category-url "moje-prace.aspx",
  :id 425,
  :description
  "V každé dobře navržené aplikaci by se měly dodržovat nějaké konvence, které nám umožní psát flexibilní a dopředně kompatibilní kód, který není třeba často měnit.;",
  :category "Moje práce",
  :tags ["xunit"]},
 :293-binsor-sila-konfigurace.aspx
 {:html
  "\n<p>Pokud se dostanete do stádia, kdy potřebujete takovou architekturu, kde je\npotřeba používat plug-iny třetí strany, kde je potřeba snadno vyměnit\nkomponentu za jinou, přichází ke slovu nějaký druh konfigurace.</p>\n\n<p>Velice často se můžeme setkat s konfigurací komponent v XML. Ať už je\nto <a href=\"http://msdn.microsoft.com/en-us/library/ms972319.aspx\">Provider\npattern</a> známý z ASP.NET, či vlastní konfigurační sekce, nebo\nkonfigurace Windsor kontejneru, pořád tu máme XML. Jeho ohromnou výhodou je,\nže se dají systémové komponenty snadno překonfigurovat bez nutnosti celý\nsystém překompilovat. Stačí pouhý restart aplikace. Navíc nástrojů na\neditaci a validaci XML máme nepočítaně, takže změnu konfigurace zvládne\ntéměř každý.</p>\n\n<p>Velkou nevýhodou XML, je jeho omezené výrazivo. Špatně se v něm píše\n<code>foreach</code> nebo <code>if</code>. Prostě na složitější konstrukce\nje potřeba programovací jazyk. A nebo skriptovací!</p>\n\n<h3 id=\"toc-boo-na-scenu\">Boo na scénu</h3>\n\n<p><a href=\"http://boo.codehaus.org/\">Boo</a> je staticky typovaný objektový\njazyk nad <a\nhref=\"http://en.wikipedia.org/wiki/Common_Language_Infrastructure\"><acronym\ntitle=\"Common Language Infrastructure\">CLI</acronym></a> (dot net) inspirovaný\nsyntaxí <a href=\"http://www.python.org/\">Pythonu</a>. Jeho hlavní silou je\nmetaprogramování. Na úrovni kompilátoru se snadno dají psát makra.\nTakových maker lze využít k tvorbě přehledných <a\nhref=\"http://en.wikipedia.org/wiki/Domain_Specific_Language\"><acronym\ntitle=\"Domain Specific Language\">DSL</acronym></a> a jednou z takových je\ni Binsor.</p>\n\n<h3 id=\"toc-windsor-boo-binsor\">Windsor + Boo = Binsor</h3>\n\n<p><a href=\"http://www.castleproject.org/container/index.html\">Windsor</a> je <a\nhref=\"http://martinfowler.com/articles/injection.html\"><acronym\ntitle=\"Inversion of Control\">IoC</acronym> kontejner</a> na platformě dot net a\nje součástí <a href=\"http://www.castleproject.org/\">opensource projektu\nCastle</a>. Windsor má v základu dvě možnosti jak konfigurovat\nkomponenty.</p>\n\n<ol>\n\t<li>Programově na úrovni mikrokernelu.</li>\n\n\t<li>XML konfigurací.</li>\n</ol>\n\n<p>XML konfigurace je nejčastěji užívanou možností, kvůli výše\npopsaným výhodám. V trunku se nedávnou objevila i konfigurace pomocí DSL\nna principu fluent interface přímo v C#. Taková konfigurace je velice\npěkná, ale je tu pořád nutnost při každé změně znova celý projekt\nkompilovat. Proto je tu <a\nhref=\"http://www.ayende.com/Blog/category/451.aspx\">Binsor</a>, který si bere\nsílu programovacího jazyka, efektnost XML konfigurace a navíc jednoduchost a\npřímočarost syntaxe.</p>\n\n<h3 id=\"toc-konfigurace-komponent\">Konfigurace komponent</h3>\n\n<p>Nejčastější aktivitou s Binsorem nejspíš bude registrace\nkomponent. :)</p>\n\n<pre\n><code class=\"language-boo\">component 'my_component', IServiceContract, ServiceImplementation:\n    # nastavime parametr konstruktoru\n    constructorParameter = 10\n    # nastavime vlastnost sluzby\n    SomeProperty = \"Hello Word!\"</code></pre>\n\n<p>Kód je v celku jednoduchý. Na prvním řádku začínamé klíčovým\nslovem <code>component</code>, které říká, že registrujeme komponentu.\nPrvním parametrem je název komponenty, přes který se na ní můžeme\nodkazovat. Druhý parametr je rozhranní služby a třetí je konkrétní\nimplementace, která bude při rozpoznání kontejnerem vrácena, např.\n<code>IoC.Container.Resolve&lt;IServiceContract&gt;()</code>. Za dvojtečkou\npokračuje výčet nastavovaných vlastností a parametrů. Můžeme takto\nnastavovat i speciální vlastnost ovlivňující životnost objektu.</p>\n\n<pre\n><code class=\"language-boo\">component HttpRequest:\n    lifestyle Singleton</code></pre>\n\n<p>Všimněte si, že se ani nemusí při registraci uvádět referenční\nnázev nebo abstraktní typ. Může se klidně rovnou registrovat typ\nkonkrétní, který se bude v tomto případě chovat jako singleton. Takovéto\nukázky jsou fešné, ale nic, co bychom nezvládli pomocí XML. Pojďme\ntrochu dál.</p>\n\n<pre\n><code class=\"language-boo\">for type in AllTypesBased of Controller(\"MyApplication.Web\"):\n    component type</code></pre>\n\n<p>Tento kód zaregistruje všechny controllery (třídy, které jsou potomky\ntřídy <code>Controller</code>) z assembly <code>MyApplication.Web</code>.\nKrom generické metody <code>AllTypesBased</code>, je tu ještě generická\nmetoda <code>AllTypesWithAttribute</code> a negenerická <code>AllTypes</code>.\nVšechny mají jako parametr název assembly, jejíž typy procházejí.</p>\n\n<h3 id=\"toc-facility\">Facility</h3>\n\n<p>Neméně důležitou součástí konfigurace jsou facility, které dodávají\nkontejneru nové možnosti a zapouzdřují větší sady komponent do logických\njednotek. Pro ukázku konfigurace ActiveRecord komponent pomocí Binsoru:</p>\n\n<pre\n><code class=\"language-boo\">facility ActiveRecordFacility:\n    configuration:\n        @isWeb = true, isDebug = true\n        assemblies = [ Assembly.Load(\"MyApplication.Entities\") ]\n        config(keyvalues, item: add):\n            show_sql = true\n            command_timeout = 5000\n            cache.foo.use_query_cache = false\n            dialect = 'NHibernate.Dialect.MsSql2005Dialect'\n            connection.provider = 'NHibernate.Connection.DriverConnectionProvider'\n            connection.driver_class = 'NHibernate.Driver.SqlClientDriver'\n            connection.connection_string = 'connectionString1'</code></pre>\n\n<h3 id=\"toc-shrnuti\">Shrnutí</h3>\n\n<p>Osobně se mi možnosti konfigurace přes Binsor velice líbí, ale je celkem\nmožné, že ne každému to může vyhovovat. Pokud ale používáte Windsor a\npřijde vám XML konfigurace nepřehledná, je toto možná cesta, jak z toho\nven. Pokud chcete nějaké lepší příklady, doporučuju si stáhnout SVN\nrepository\n<code>https://rhino-tools.svn.sourceforge.net/svnroot/rhino-tools/trunk/rhino-commons</code>\na projít si testy. Jako editor se mi osvědčil <a\nhref=\"http://sharpdevelop.net/OpenSource/SD/\">SharpDevelop</a>, který má\npodporu pro Boo přímo v základu, nebo doinstalovat <a\nhref=\"http://www.codeplex.com/BooLangStudio\">BooLang Studio</a> do Visual\nStudia.</p>\n\n<p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/ioc\">IoC</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/windsor\">Windsor</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/binsor\">Binsor</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/boo\">Boo</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-14T10:33:43.943-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Binsor – síla konfigurace",
  :published #inst "2008-08-25T15:18:09.473-00:00",
  :url "binsor-sila-konfigurace",
  :category-url "asp-net-2-0.aspx",
  :id 293,
  :description
  "Pojďme si přiblížit možnosti konfigurační DSL pro Windsor kontejner v jazyce Boo.",
  :category "ASP.NET 2.0",
  :tags
  ["ioc" "windsor" "castle" "binsor" "dsl" "boo" "activerecord"]},
 :397-single-responsibility-principle-in-the-wild.aspx
 {:html
  "\n<p>Tak jsem se tak koukal na <a\nhref=\"http://channel9.msdn.com/posts/Cloud-Cover-Episode-32-AppFabric-Caching\">poslední\nCloudCover</a>, kde představovali novou službu Windows Azure AppFabric\nCaching. Služba je to jistě zajímavá a je jednou z možností jak zajistit\n<em>session state affinity</em> v Azure. Ale proč o tom píšu.</p>\n\n<p>Součástí epizody byla i živá ukázka, jak přidat cachování do\nexistující aplikace.</p>\n\n<blockquote>\n\t<p>Teď to možná některé <a href=\"http://www.nhforge.org/\">NHibernate</a>\n\tznalé veterány zaskočí, ale v Microsoftím světě ORM si o něčem jako\n\t2nd level cache můžete nechat zdát. Vůbec tam spoustu krásných věcí\n\tnemají, ale o tom třeba až jindy.</p>\n</blockquote>\n\n<p>No prostě tam měli repository (používat repository, tam kde je LINQ, je\nuž samo o sobě obskurní, ale budiž), která vypadala nějak tak:</p>\n\n<pre\n><code class=\"language-csharp\">public class ProductsRepository : IProductsRepository {\n\n  public List&lt;string&gt; GetProducts() {\n\n    List&lt;string&gt; products = null;\n\n    NorthwindEntities context = new NorthwindEntities();\n    var query = from product in context.Products\n                select product.ProductName;\n\n    products = query.ToList();\n\n    return products;\n  }\n}</code></pre>\n\n<p>Mno, měli tedy respository produktů, která vracela názvy všech produktů\npřímo z databáze. No a pak se jali přidat cachování takového listu:</p>\n\n<pre\n><code class=\"language-csharp\">public class ProductsRepository : IProductsRepository {\n\n  DataCacheFactory dcf;\n\n  public ProductsRepository() {\n    dcf = new DataCacheFactory();\n  }\n\n  public List&lt;string&gt; GetProducts() {\n\n    List&lt;string&gt; products = null;\n\n    DataCache dc = dcf.GetDefaultCache();\n\n    products = dc.Get(\"products\");\n\n    if (products != null) {\n      return products;\n    }\n\n    NorthwindEntities context = new NorthwindEntities();\n    var query = from product in context.Products\n                select product.ProductName;\n\n    products = query.ToList();\n\n    dc.Put(\"products\", products);\n\n    return products;\n  }\n}</code></pre>\n\n<p>Úžasné! Jenže tím jsme porušili <a\nhref=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\">princip\njediné zodpovědnosti</a>. Teď se nám repository účastní hned na dvou\nzáležitostech – na své původní (načíst data z databáze) a nově na\ncachování načtených dat. Takže to smrdí. <strong>It smels like\nrefactoring time!</strong></p>\n\n<h3 id=\"toc-jak-na-to\">Jak na to?</h3>\n\n<p><em>Cachování je věc hodná vlastního aspektu.</em> Když se podíváme\nna výsledný kód, zjistíme, že jsme neudělali nic jiného než, že jsme\nodekorovali načítání dat logikou pro cachování. Tudíž zvolíme vzor\n<strong>dekorátor</strong>! Repository vrátíme do původního stavu, protože\nten svůj účel splňuje a přidáme další třídu s jedinou\nzodpovědností:</p>\n\n<pre\n><code class=\"language-csharp\">public class CachedProductsRepository : IProductsRepository {\n\n  const string ProductsKey = \"products\";\n\n  readonly DataCacheFactory cacheFactory;\n  readonly IProductsRepository repository;\n\n  public CachedProductsRepository(DataCacheFactory cacheFactory, IProductsRepository repository) {\n    this.cacheFactory = cacheFactory;\n    this.repository = repository;\n  }\n\n  public List&lt;string&gt; GetProducts() {\n\n    var cache = cacheFactory.GetDefaultCache();\n    var products = cache.Get(ProductsKey);\n\n    if (products == null) {\n      products = repository.GetProducts();\n      dc.Put(ProductsKey, products);\n    }\n\n    return products;\n  }\n}</code></pre>\n\n<p>No a máme to! Dokonce si teď můžeme vybrat, kdy chceme používat cache\nnebo sahat do databáze přímo. A to vše díky díky dodržování <a\nhref=\"http://en.wikipedia.org/wiki/Open/closed_principle\">Open/Closed\nprinciple</a> a jednoduché kompozici objektů, které dělají jen a pouze to,\nco mají. :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-11-20T15:57:41.303-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Single Responsibility Principle in the wild",
  :published #inst "2010-11-20T13:31:55.940-00:00",
  :url "single-responsibility-principle-in-the-wild",
  :category-url "asp-net-2-0.aspx",
  :id 397,
  :description
  "Dneska jsme narazil na jeden příklad, který byl opět ukázkou špatného návrhu a tak mě inspiroval. Inspiroval k jednoduché ukázce, jak špatný návrh krapet vylepšit.",
  :category "ASP.NET 2.0",
  :tags []},
 :86-asp-net-2-0---vlastnosti-pro-jednotlive-browsery.aspx
 {:html
  "\n<p>ASP.NET 2.0&#160;přichází s&#160;tzv. deklarativním programováním.\nV&#160;podstatě nemusíte napsat ani řádku zdrojového kódu a ono to\nfunguje. Zdrojovým kódem myslím program v&#160;nějakém vyšším\nprogramovacím jazyce, jako C# nebo VB.NET. Samozřejmě se vše programuje ve\nzdroji prezentační části. Ale to tu teď nechci rozebírat.</p>\n\n<p>Při zkoumání nových vlastností ASP.NET 2.0&#160;jsem narazil na\nzajímavou fičůrku. Většinu vlastností, které se deklarují v&#160;aspx\nsouboru, je možné prefixovat <strong>browser tagem</strong>. Ten vychází ze\nsouboru *.browser, kde je daný prohlížeč definován. Pomocí toho prefixu\nse dají deklarovat vlastnosti uživatelských prvků pro každý prohlížeč\nzvlášť. Následující příklad vypíše pozdrav pro daný\nprohlížeč.</p>\n\n<pre><code class=\"language-markup\">&lt;asp:Label ID=\"Label1\" runat=\"server\"\n        ie:Text=\"Zdravíme Internet Explorer\"\n        mozilla:Text=\"Zdravíme Firefox\"\n        opera:Text=\"Zdravíme Operu\"\n        Text=\"Zdravíme ostatní\" /&gt;</code></pre>\n\n<p>Dokonce to funguje i&#160;s odlišováním verzí. Následuje tabulka\ns&#160;několika ukázkovými prohlížeči.</p>\n\n<table>\n\t<tr>\n\t\t<th>prefix</th>\n\n\t\t<th>prohlížeč</th>\n\t</tr>\n\n\t<tr>\n\t\t<td>IE</td>\n\n\t\t<td>jakýkoliv Internet Explorer</td>\n\t</tr>\n\n\t<tr>\n\t\t<td>Netscape3</td>\n\n\t\t<td>Netscape Navigator 3.x</td>\n\t</tr>\n\n\t<tr>\n\t\t<td>Netscape4</td>\n\n\t\t<td>Netscape Communicator 4.x</td>\n\t</tr>\n\n\t<tr>\n\t\t<td>Netscape6to9</td>\n\n\t\t<td>Netscape 6.0+</td>\n\t</tr>\n\n\t<tr>\n\t\t<td>Mozilla</td>\n\n\t\t<td>Firefox</td>\n\t</tr>\n\n\t<tr>\n\t\t<td>Opera</td>\n\n\t\t<td>Opera</td>\n\t</tr>\n</table>\n\n<!-- generated by Texy! -->",
  :keywords "asp.net 2.0 browser tag",
  :edited #inst "2005-12-22T01:30:00.013-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "ASP.NET 2.0 - Vlastnosti pro jednotlivé browsery",
  :published #inst "2005-11-30T15:55:33.797-00:00",
  :url "asp-net-2-0---vlastnosti-pro-jednotlive-browsery",
  :category-url "asp-net-2-0.aspx",
  :id 86,
  :description "Zajímavůstka z oblasti deklarativního programování.",
  :category "ASP.NET 2.0",
  :tags []},
 :149-polivkova.aspx
 {:html
  "\n<p><em>Psát webové aplikace v PHP je jako jíst polívku vidličkou.</em></p>\n\n<p>Ano, sice se najíte, ale dá vám to mnohem víc práce než lžící, ale\nto nejlepší zůstane na dně. Co je vám platné, že víte přesný postup\npřípravy polívky, víte jaké koření a ingredience se do ní dávají?</p>\n\n<p>Častým argumentem konzumentů polívek vidličkou bývá, že se ta\npolívka dá z talíře přece vypít. Ano, to je fakt, ale to už se nebavíme\no konzumaci polívky vidličkou.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:37:08.617-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Polívková",
  :published #inst "2006-05-15T08:44:30.240-00:00",
  :url "polivkova",
  :category-url "jen-tak.aspx",
  :id 149,
  :description "Něco o té polívce s nudlema.",
  :category "Jen tak",
  :tags ["php"]},
 :396-muj-pohled-na-fsharp-se-meni.aspx
 {:html
  "\n<p>Za posledních pár měsíců se mi celkem změnil pohled na F#. Ještě do\nnedávna jsem si myslel, na co další jazyk, když C# zvládá funkcionální\nparadigma taky obstojně?</p>\n\n<p>Ale pak jsem psal v C# pár aplikací, kde docházelo k masivnímu\npřelívání dat a jejich transformaci. V podstatě jednoduchý funkcionální\nkód jsem obaloval poměrně košatou objektovou strukturou. A pak jsem začal\nčíst knihu <a\nhref=\"http://www.amazon.com/Expert-2-0-Experts-Voice-Syme/dp/1430224312\">Expert\nF# 2.0</a> a měl pár pěkných <em>aha momentů</em>. A začal jsem vidět,\njak jsem si mohl spoustu práce ušetřit…</p>\n\n<p>Teoreticky. :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-11-09T14:31:58.273-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Můj pohled na F# se mění",
  :published #inst "2010-11-09T14:04:37.770-00:00",
  :url "muj-pohled-na-fsharp-se-meni",
  :category-url "asp-net-2-0.aspx",
  :id 396,
  :description "Krátké zamyšlení k mému postoji k jazyku F#",
  :category "ASP.NET 2.0",
  :tags ["fsharp"]},
 :23-zkousky.aspx
 {:html
  "\n<p>Přesto, že mám zkouškové období, upravuju tyhle stránky dál.\nDolaďuju nový styl a připravuju nový věci. Těd třeba jsem předělal a\nzprovoznil sekci Školní práce, kde jsou zatím moje semestrálky.</p>\n\n<p>No a v&#160;pondělí jsem dělal první zkoušku, byla z&#160;Elektroniky a\ndostal jsem za čtyři, takže to musim zkusit znovu. Co se dá dělat, už aby\nbyly prázdniny :) Ale do těch je ještě daleko.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zkoušky",
  :published #inst "2004-06-10T11:51:45.000-00:00",
  :url "zkousky",
  :category-url "skola.aspx",
  :id 23,
  :description "",
  :category "Škola",
  :tags []},
 :191-socialni-site.aspx
 {:html
  "\n<p>Sociální sítě se vezou na vlně Webu 2.0, již jsem také uvízl.</p>\n\n<p>Do kterých to sítí že jsem uvízl? Jsou to <a\nhref=\"http://last.fm/\">last.fm</a> a <a\nhref=\"http://linkedin.com/\">LinkedIn</a>.</p>\n\n<ul>\n\t<li><a href=\"http://www.last.fm/user/rarous\">Můj profil na last.fm</a></li>\n\n\t<li><a href=\"http://www.linkedin.com/in/rarous\">Můj profil na LinkedIn</a></li>\n</ul>\n\n<hr />\n\n<p>Podčarou: <a href=\"http://www.last.fm/music/Alessio%20Busta\">Alessio Busta\nna last.fm</a>, heh pokud chcete přibýt do úzké skupinky vyvolených\nposluchačů, zapněte si last.fm player a <a\nhref=\"http://rarousmusic.com/mp3/alessio_busta_-_electro_session_part_5-rm.mp3\">poslouchejte</a> ;)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:04:33.683-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Sociální sítě",
  :published #inst "2006-11-08T09:52:19.753-00:00",
  :url "socialni-site",
  :category-url "jen-tak.aspx",
  :id 191,
  :description
  "Sociální sítě se vezou na vlně Webu 2.0, již jsem také uvízl.",
  :category "Jen tak",
  :tags ["web20"]},
 :158-texy-net-1-0-beta.aspx
 {:html
  "\n<h3 id=\"toc-update\">Update</h3>\n\n<p><img src=\"/data/obrazky/texy-net.png\" class=\"right\" alt=\"Texy.net logo\" />\nBeta 2 respektuje změny v rozhranní <a\nhref=\"http://www.texy.info/cz/xmlrpc\">Texy! XML-RPC</a> a již plně podporuje\ndefinování povolených classů, stylů a tagů. Zatím nevyřešenou věcí je\nkomprese přenášeného textu. <strong>Verze beta 1 již není funkční a je\nnutné jí nahradit betou 2!</strong></p>\n\n<h3 id=\"toc-ke-stazeni\">Ke stažení</h3>\n\n<ul>\n\t<li><a href=\"/data/soubory/Texy-net-10-beta2.zip\">Texy.net 1.0 beta 2</a>\n\t(obsahuje potřebné knihovny, dokumentaci a zdrojové kódy)</li>\n\n\t<li><a href=\"/data/soubory/TexyNet.vsi\">Šablona do Visual Studia s ukázkou\n\tpoužití</a></li>\n</ul>\n\n<hr />\n\n<p>Konečně jsem dopsal knihovnu, která zpřístupňuje <a\nhref=\"http://www.texy.info/cz/\">Texy!</a> pro dotnet 2.0 aplikace. Knihovna\ninterně využívá <a href=\"http://www.texy.info/cz/xmlrpc\">Texy! XML-RPC</a>\nza pomocí knihovny <a href=\"http://www.xml-rpc.net/\">XML-RPC.net</a>.\nImplementováno je skoro vše, krom GZip komprimace přenosu (v příští\nverzi přibude možnost přenos komprimovat) <del>a ještě není plně\nfunkční definování povolených classů, stylů a tagů – konkrétní\nimplementaci musím ještě probrat s <a\nhref=\"http://www.dgx.cz/trine/\">DGX</a> :)</del></p>\n\n<h3 id=\"toc-ukazka-pouziti\">Ukázka použití</h3>\n\n<pre\n><code class=\"language-markup\">&lt;%@ Page Language=\"C#\" AutoEventWireup=\"true\"  CodeFile=\"Default.aspx.cs\" Inherits=\"_Default\" %&gt;\n\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head runat=\"server\"&gt;\n    &lt;title&gt;Ukázka Texy.net&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form id=\"form1\" runat=\"server\"&gt;\n    &lt;div&gt;\n    &lt;asp:TextBox ID=\"Input\" runat=\"server\" TextMode=\"multiline\"&gt;&lt;/asp:TextBox&gt;\n    &lt;br /&gt;&lt;asp:Button ID=\"SubmitButton\" runat=\"server\" OnClick=\"SubmitButton_Click\" Text=\"Převést\" /&gt;\n    &lt;asp:Literal ID=\"Output\" runat=\"server\"&gt;&lt;/asp:Literal&gt;\n    &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n\n<pre\n><code class=\"language-csharp\">using System;\nusing System.Data;\nusing System.Configuration;\nusing System.Web;\nusing System.Web.Security;\nusing System.Web.UI;\nusing System.Web.UI.WebControls;\nusing System.Web.UI.WebControls.WebParts;\nusing System.Web.UI.HtmlControls;\nusing PBSoftware.Gryphoon.TexyRpc;\n\npublic partial class _Default : System.Web.UI.Page\n{\n    protected void SubmitButton_Click(object sender, EventArgs e)\n    {\n        Texy texy = new Texy(Input.Text);\n        bool useConfiguration = true;\n\n        texy.Configuration.HeadingModule.Top = 3;\n\n        Output.Text = texy.ToXhtml(useConfiguration);\n    }\n}</code></pre>\n\n<p>Ukázková stránka obsahuje tlačítko <code>SubmitButton</code> po jehož\nstisknutí dojde k převedení obdahu TextBoxu <code>Input</code> pomocí Texy!\na výsledek je vypsám pomocí Literalu <code>Output</code>.</p>\n\n<p>Knihovnu uvolňuji k volnému použití pod <strong>Creative\nCommons</strong> licencí. Případné připomínky zanechte v komentářích.\n:) V balíčku je i <a\nhref=\"/sandbox/texy-doc/index.html\">dokumentace</a>.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:34:18.630-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Texy.net 1.0 beta 2",
  :published #inst "2006-06-19T15:30:00.000-00:00",
  :url "texy-net-1-0-beta",
  :category-url "asp-net-2-0.aspx",
  :id 158,
  :description
  "Uvolňují druhou beta verzi dotnet knihovny zpřístupňující Texy!",
  :category "ASP.NET 2.0",
  :tags ["texynet"]},
 :194-prednaska-o-msbuild.aspx
 {:html
  "\n<p>Minulý týden jsem měl malou přednášku pro své kolegy, která si kladla\nza cíl proniknout do tajů MSBuildu, aspoň trošku. Malinko, prostě vědět\no čem je řeč :)</p>\n\n<p>Slíbil jsem, že dám slidy k dispozici na mým blogu, teda tady, tak jo.\nPřikládám <a href=\"/data/soubory/MSBuild.ppt\">prezentaci</a>. Možná taky\nještě jeden spot věnuji podrobnějšímu výkladu, ale to by se mi muselo\nhodně chtít :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:43:28.900-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Přednáška o MSBuild",
  :published #inst "2006-11-14T17:57:05.463-00:00",
  :url "prednaska-o-msbuild",
  :category-url "moje-prace.aspx",
  :id 194,
  :description "Slidy z přednášky o MSBuild.",
  :category "Moje práce",
  :tags ["msbuild"]},
 :391-dancing-monster.aspx
 {:html
  "\n<p>Další z řady nesmyslných hudebních počinů z Vinohradské dílny.\nTentokrát ve stylu surového techna.</p>\n\n<div class=\"haudio\">\n\t<ol>\n\t\t<li class=\"item\"><span class=\"contributor\">Cirez D</span> — <span\n\t\tclass=\"title\">Exit</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Dubfire</span> — <span\n\t\tclass=\"title\">Rejekt</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Nic Fanciulli</span> &amp; <span\n\t\tclass=\"contributor\">Andy Chatterley</span> — <span\n\t\tclass=\"title\">Talla-Hause</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Loco Dice</span> — <span\n\t\tclass=\"title\">La Bicicletta</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Paolo Mojo</span> — <span\n\t\tclass=\"title\">He's The Man</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Boombeck</span> — <span\n\t\tclass=\"title\">Dance I Said</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Popof</span> — <span\n\t\tclass=\"title\">Roxy</span></li>\n\n\t\t<li class=\"item\"><span class=\"contributor\">Cirez D</span> — <span\n\t\tclass=\"title\">The Tumble</span></li>\n\t</ol>\n\n\t<p><span class=\"category\">dj set</span> <span class=\"contributor\">Alessio\n\tBusta</span> – <span class=\"title\">Dancing Monster</span></p>\n</div>\n<!--[if !IE]> -->\n \t\t\t<object type=\"application/x-shockwave-flash\"\ndata=\"//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-dancing-monster%2F&amp;embed_uuid=95b27781-1310-4945-b19d-450bc5ae5e16&amp;stylecolor=&amp;embed_type=widget_standard\"\nwidth=\"100%\" height=\"160\">\n \t\t\t<!-- <![endif]-->\n \t\t\t<!--[if IE]>\n\t\t\t<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"\n\t\t\t  codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\"\n\t\t\t  width=\"100%\" height=\"160\">\n\t\t\t  <param name=\"movie\" value=\"//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-dancing-monster%2F&amp;embed_uuid=95b27781-1310-4945-b19d-450bc5ae5e16&amp;stylecolor=&amp;embed_type=widget_standard\" />\n\t\t\t<!--><!--dgx-->\n<param name=\"loop\" value=\"true\" />\n\n<param name=\"menu\" value=\"false\" />\n\n<param name=\"allowfullscreen\" value=\"true\" />\n\n<param name=\"flashvars\" value=\"\" />\n \t\t\t</object>\n \t\t\t<!-- <![endif]-->\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-09-29T14:12:21.160-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Dancing Monster",
  :published #inst "2010-06-29T16:56:59.760-00:00",
  :url "dancing-monster",
  :category-url "muzika.aspx",
  :id 391,
  :description
  "Další z řady nesmyslných hudebních počinů z Vinohradské dílny. Tentokrát ve stylu surového techna.",
  :category "Muzika",
  :tags []},
 :240-asp-net-mvc-je-venku-v-preview-verzi.aspx
 {:html
  "\n<p>Je tomu pár hodin, co Microsoft uvolnil ASP.NET Extensions CTP. Součástí\nbalíčku je ASP.NET MVC framework, nové extenze pro AJAX, podpora\nSilverlightu, Scraffolding framework pro WebForms i MVC a podpora REST like\ndatových služeb.</p>\n\n<p>No není toho zrovna málo, jen škoda, že se to nevešelo do\n3.5 frameworku. Paralelně má vyjít „Astoria“ alias ADO.NET Entity\nFramework, což je ORM postavené nad LINQem.</p>\n\n<p>No nebudu déle zdržovat. Stáhnout si můžete <a\nhref=\"http://asp.net/downloads/3.5-extensions/\">ASP.NET Extensions</a> a ještě\n<a href=\"http://asp.net/downloads/3.5-extensions/MVCToolkit.zip\">MVC\nToolkit</a>. Přečíst si o nich můžete tady: <a\nhref=\"http://www.google.com/reader/shared/user/02522501341949674670/label/aspnet-mvc\">Zdroje\no ASP.NET MVC</a>.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:08:24.460-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "ASP.NET MVC je venku v preview verzi",
  :published #inst "2007-12-10T07:39:03.917-00:00",
  :url "asp-net-mvc-je-venku-v-preview-verzi",
  :category-url "webdesign.aspx",
  :id 240,
  :description
  "Je tomu pár hodin, co Microsoft uvolnil ASP.NET Extensions CTP.",
  :category "Webdesign",
  :tags ["aspnet" "mvc" "silverlight" "rest"]},
 :70-nazpet-z-dovolene.aspx
 {:html
  "\n<p>V&#160;sobotu jsem se vrátil z&#160;týdenní dovolené v&#160;Chorvatsku.\nByl jsem ve městě Punat na ostrově Krk. Počasí bylo dostatečně pěkné\nna focení pěkných snímků :) ale i&#160;na koupání a opalování.</p>\n\n<p>Už tři dny před odjezdem jsem se vysekal na kole a sedřel jsem si obě\nruce a narazil pravou, se kterou ještě teď nemůžu moc dělat namáhavé\nvěci. Na dovolenou jsme jeli autem, takže jsem nespal 48&#160;hodin, a\nnakonec jsem si s&#160;sebou dovezl nějakýho bacila, takže jsem 4&#160;dny\nz&#160;dovolený proležel v&#160;horečkách v&#160;posleteli. Náramně jsem\nsi to užil.</p>\n\n<div class=\"center image\"><img src=\"/images/dovolena.jpg\" alt=\"foto z dovolené\"\n/>\n\t<p>Večerní pohled z&#160;pláže na město Krk (vpravo) a ostrov Cres\n\t(vlevo)</p>\n</div>\n\n<p>Poslední den jsem šel s&#160;rodičema na oběd do místní restaurace a\nnakonec jsem podlehl a dal si <strong>Callamari</strong>. Byl to můj první\npokus o&#160;pozření &#8222;mořských plodů&#8220; a myslim, že\ni&#160;poslední. Jinak se mi dovolená líbila a mám z&#160;ním i&#160;pár\npěkných fotek. Až zprovoznim galerii, tak je tam umístim :)</p>\n\n<!-- generated by Texy! -->",
  :keywords "dovolena, krk, punat, kalamari",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nazpět z dovolené",
  :published #inst "2005-09-20T22:27:49.000-00:00",
  :url "nazpet-z-dovolene",
  :category-url "jen-tak.aspx",
  :id 70,
  :description "V sobotu jsem se vrátil z dovolené.",
  :category "Jen tak",
  :tags []},
 :282-mikroformaty-v-hledani-yahoo.aspx
 {:html
  "\n<p>Dnes se podíváme na jedno z praktických užití <a\nhref=\"http://www.microformats.org/\">mikroformátů</a> – sémantické\nhledání. Možná jste si už položili otázku, k čemu vlastně ty\nmikroformáty jsou dobré. Ok, mají přidávat nějakou sémantiku do\ndokumentu, u hCard je přínos zřejmý, ale co dál? Jednou z možností jak\nvyužít sémanticky obohacené dokumenty je bohatší hledání.</p>\n\n<h3 id=\"toc-aktivace-modulu\">Aktivace modulů</h3>\n\n<p><a href=\"http://search.yahoo.com/\">Yahoo Search</a> nedávno přišlo\ns takzvaným uživatelsky upravitelným hledáním. Registrovaný uživatel si\nmůže do hledání přidat sémantické moduly, které upraví interpretaci\nvýsledků. V základu jsou však aktivní pouze tři moduly upravující\nvýsledky z Flickeru, Videa a Yahoo Travel. Zbylé si uživatel musí aktivovat\nsám. Jak na to?</p>\n\n<ol>\n\t<li>Přejděte na <a href=\"http://jdem.cz/adsb5\">stránku s výsledky</a>.</li>\n\n\t<li>Rozbalte nabídku <em>Customize</em></li>\n\n\t<li>Vyberte <em>Browse Gallery</em></li>\n\n\t<li>Zaškrtněte si třeba LinkedIn a stiskněte <em>Add</em></li>\n\n\t<li>Pak tlačítko <em>Add</em> zmáčkněte ještě jendou</li>\n\n\t<li>A pak zmáčkněte tlačítko <em>Save</em></li>\n</ol>\n\n<p>No nyní už můžete využívat sémanticky bohatší výsledky z LinkedIn\nve výsledcích hedání. Aktivace modulů není to, zrovna procházka\nrůžovým sadem, Yahoo by mělo trochu zapracovat na použitelnosti. Ale ve\nvýsledku to funguje a to je hlavní.</p>\n\n<h3 id=\"toc-jak-to-vypada-v-praxi\">Jak to vypadá v praxi</h3>\n\n<p>V základu tedy máte generické výsledky fulltextu.</p>\n\n<div class=\"image\"><img src=\"/data/obrazky/y_generic.png\"\nalt=\"generický výsledek hledání\" width=\"580\" height=\"76\" /></div>\n\n<p>Po aktivaci sémantického modulu <strong>LinkedIn</strong>, se struktura\nvýsledku změní .</p>\n\n<div class=\"image\"><img src=\"/data/obrazky/y_semantic.png\"\nalt=\"sémantický výsledek hledání\" width=\"377\" height=\"115\" /></div>\n\n<p>Po aktivaci sémantického modulu <strong>Last.fm</strong> vypadá výsledek\ninterpreta následovně.</p>\n\n<div class=\"image\"><img src=\"/data/obrazky/y_music.png\"\nalt=\"sémantický výsledek hledání\" width=\"578\" height=\"214\" /></div>\n\n<p>Zatím je to jedna z prvních vlaštovek, tuším, že mikroformáty\npoužívá v hledání i <a href=\"http://www.technorati.com/\">Technorati</a>,\nale každý jiným způsobem. <a href=\"http://www.google.cz/\">Google</a> má\nněco podobného pro Youtube a obrázky. V <a\nhref=\"http://search.live.com/\">Live Search</a> jsem nic podobného\nnepostřehl… Pro mě osobně je zajímavé sledovat vývoj na tomto poli a\njsem zvědavý, jakých implementací se dočkáme dále.</p>\n\n<h3 id=\"toc-souvisejici\">Související</h3>\n\n<ul>\n\t<li><a href=\"/weblog/267-vkladani-data-do-stranky.aspx\">Vkládání data do\n\tstránky</a></li>\n\n\t<li><a\n\thref=\"/weblog/256-mikroformaty-duvod-proc-pouzivat-xhtml.aspx\">Mikroformáty –\n\tdůvod proč používat XHTML</a></li>\n</ul>\n\n<p>Tagy: <a rel=\"tag\"\nhref=\"http://technorati.com/tag/microformats\">Microformats</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/search\">Search</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:19:32.180-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Mikroformáty v hledání Yahoo",
  :published #inst "2008-06-10T14:26:12.010-00:00",
  :url "mikroformaty-v-hledani-yahoo",
  :category-url "webdesign.aspx",
  :id 282,
  :description
  "Dnes se podíváme na jedno z praktických užití mikroformátů – sémantické hledání.",
  :category "Webdesign",
  :tags ["microformats" "yahoo" "search"]},
 :180-personalizace-rss-exportu-z-weblogy-cz.aspx
 {:html
  "\n<p>V článku <a\nhref=\"http://www.dgx.cz/trine/item/dobry-web-je-nasim-nedostiznym-vzorem\">Dobrý\nweb je naším vzorem</a> na La Trine došlo i na téma <a\nhref=\"http://www.weblogy.cz/\">Weblogy.cz</a> a personalizace. Někdo si\nposteskl, že se na této službě vyskytují články, o které nemá zájem,\na že by některé zdroje neměly být v této službě agregovány.</p>\n\n<p>Pokud tedy nechcete články z některého ze zdrojů na Weblozích vidět,\nstačí si v <a href=\"http://www.weblogy.cz/zdroje/\">seznamu zdrojů</a>\nnežádaný zdroj zablokovat pomocí volby blokovat, za jménem zdroje. Málo\nkdo však ví, že podobně jde personalizovat i RSS export z této\nslužby.</p>\n\n<p>Konkrétně <a\nhref=\"http://www.dgx.cz/trine/item/dobry-web-je-nasim-nedostiznym-vzorem#comment-7646\">DGX\nsi posteskl</a>, že to nejde. No a dnešní článek je otom, že to jde. :)\nJak na to?</p>\n\n<p>Například pokud se vám nelíbí články z mého blogu, přidejte si do\nadresy <a href=\"http://www.weblogy.cz/export/rss/\">RSS exportu Weblogů</a>\nparametr <code>blacklist=146</code>. Kde 146 je id mého blogu. Toto id\nzjistíte právě v URL tlačítka blokovat. Takže výsledný export bez\nRarouš Weblogu bude mít URL:\n<code>http://www.weblogy.cz/export/rss/?blacklist=146</code>. Parametr blacklist\npřijímá kolekci idček oddělených čárkou, takže tímto způsobem\nmůžete zakázat více zdrojů.</p>\n\n<p>A to je vše.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:17:01.157-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Personalizace RSS exportu z Weblogy.cz",
  :published #inst "2006-09-14T13:21:44.800-00:00",
  :url "personalizace-rss-exportu-z-weblogy-cz",
  :category-url "webdesign.aspx",
  :id 180,
  :description
  "Nedokumentované přepínače pro RSS export oblíbené agregační služby.",
  :category "Webdesign",
  :tags ["rss" "weblogy"]},
 :411-czpodcast.aspx
 {:html
  "\n<p><a href=\"http://www.jirifabian.net/\">Filemon</a> a <a\nhref=\"http://www.dagblog.cz/\">Dagi</a> si mě pozvali <a\nhref=\"http://java.cz/article/cz-podcast-57-pokec-s-alesem-roubickem-o-windows-azure-code-retreat-a\">na\nslovíčko do CZpodcastu</a>, abychom si popovídali o vývoji jak ho\nvidím já.</p>\n\n<p>Pokud vás to zajímá, můžete <a\nhref=\"http://s3-eu-west-1.amazonaws.com/czpodcast-1/czpodcast57.mp3\">přiložit\nsvé ucho sem</a>.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-11-26T09:01:24.107-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "CZpodcast",
  :published #inst "2011-11-26T08:59:21.740-00:00",
  :url "czpodcast",
  :category-url "jen-tak.aspx",
  :id 411,
  :description
  "Filemon a Dagi si mě pozvali na slovíčko do CZpodcastu, abychom si popovídali o vývoji jak ho vidím já.",
  :category "Jen tak",
  :tags ["podcast" "azure" "coderetreat" "agile"]},
 :201-africanism-mix-by-alessio-busta.aspx
 {:html
  "\n<ol>\n\t<li>Africanism feat Jesse Garcia – Copagabana</li>\n\n\t<li>Africanism by Yves Larock – Zookey (Lift Your Legs Up)\n\t(Original Mix)</li>\n\n\t<li>Copyright – We can Rise (Energy Re-Edit)</li>\n\n\t<li>Africanism All Stars – Summer Moon (Bob Sinclar Remix)</li>\n\n\t<li>Junio Jack – E-Samba (David Penn Remix)</li>\n\n\t<li>Africanism by Martin Solveig – Madam</li>\n\n\t<li>Omar – It's So (Bob Sinclar Vocal Mix)</li>\n\n\t<li>Axwell feat. Steve Edwards – Watch the Sunrise (Bob Sinclar Mix)</li>\n\n\t<li>Africanism All Stars – Hard (Bob Sinclar Original Mix)</li>\n\n\t<li>Africanism by Martin Solveig – Edony (Crowdy Short Edit)</li>\n\n\t<li>Africanism by Bob Sinclar – Juju Beat / Feelappela</li>\n\n\t<li>Bob Sinclar – I feel for You (I feel for disco Mix)</li>\n\n\t<li>Gossip – Standing in the way of control (Playgroup Mix)</li>\n\n\t<li>Tomaz vs. Filterheadz – Sunshine</li>\n</ol>\n\n<p>Ke stažení <a\nhref=\"http://www.rarousmusic.com/mp3/alessio_busta_-_africanism_mix-rm.mp3\"\nonclick=\"javascript:_gat._getTracker(\">Africanism Mix by Alessio Busta</a>\n(MP3 128 kbps; 62,5 MiB)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T14:10:26.507-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Africanism Mix by Alessio Busta",
  :published #inst "2007-03-07T08:37:26.830-00:00",
  :url "africanism-mix-by-alessio-busta",
  :category-url "muzika.aspx",
  :id 201,
  :description "Africanism vol. 4",
  :category "Muzika",
  :tags []},
 :359-vracet-list-je-spatne.aspx
 {:html
  "\n<p>Přinejmenším na veřejnosti. Mnohdy se v různých APIs můžete setkat\ns tím, že různé objekty veřejně vystavují metody/vlasnosti, které mají\nnávratový typ <code>List&lt;T&gt;</code>, v lepším případě\n<code>IList&lt;T&gt;</code>. Krásná ukázka nerozvážného návrhu.</p>\n\n<h3 id=\"toc-proc-je-spatne-vracet-list-t\">Proč je špatné vracet\n<code>List&lt;T&gt;</code></h3>\n\n<p>Když vracíte <code>List&lt;T&gt;</code>, znamená to, že říkáte\nvšechno o vnitřní implementaci a zavíráte si vrátka pro její možnou\nzměnu. Generický List sice neni nerozšiřitelný (<code>sealed</code>), ale\nani nebyl při návrhu moc k rozšiřování zamýšlen. Navíc tim porušujute\njeden ze základních principů <acronym\ntitle=\"Objektově orientované programování\">OOP</acronym> – a to\nzapouzdření. Dále tim umožňujete konzumentovi vaši kolekci\npřímo měnit.</p>\n\n<h3 id=\"toc-ukazka-naivniho-lenosneho-pristupu\">Ukázka naivního/lenošného\npřístupu</h3>\n\n<p>Pro ukázku mějme třídu reprezentující uživatele <code>User</code>,\nkterému můžeme přiřadit uživatelské role <code>Role</code>. Naivní\npřístup:</p>\n\n<pre\n><code class=\"language-csharp\">public class User {\n  public List&lt;Role&gt; Roles { get; private set; }\n}\n\npublic class UserConsumerCode {\n  public void SomeMethod {\n    var user = new User();\n    user.Roles.Add(Role.Admin);\n\n    // ...\n\n    user.Roles.Remove(Role.Reviewer);\n\n    // ...\n\n    var isAdmin = user.Roles.Contains(Role.Admin);\n  }\n}</code></pre>\n\n<p>Jak vidíte, klient má nad kolekcí rolí uživatele plnou moc. Může si\npřidávat, odebírat, přetřizovat jak se mu zlíbí. A my nemáme nejmenší\nšanci tyto celkem důležité operace jakkoli ovlivnit, nebo u nich vědět.\nKdybychom změnili typ kolekce <em>Roles</em> na <code>IList&lt;Role&gt;</code>,\ntak sice můžeme změnit vnitřní implementaci a místo\n<code>List&lt;T&gt;</code> použít třeba <code>LinkedList&lt;T&gt;</code>, ale\nstále zveřejňujeme příliš mnoho. Jedinou výhodou tohoto řešení je, že\njsme nemuseli napsat moc kódu a máme hodně funkcionality.</p>\n\n<h3 id=\"toc-jak-zlepsit-nas-kod\">Jak zlepšit náš kód?</h3>\n\n<p>Rovnou přeskočím použití <code>ICollection&lt;T&gt;</code>, a přejdeme\nk tomu, jak by to mělo vypadat. Zachováme si zapouzdření, uzavřeme se\nvůči nechtěné manipulaci z vnějšku a otevřeme se snadným vnitřním\nzměnám a rozšiřitelnosti (<a\nhref=\"http://en.wikipedia.org/wiki/Open/closed_principle\">Open/closed\nprinciple</a>).</p>\n\n<pre\n><code class=\"language-csharp\">public class User {\n  private readonly ICollection&lt;Role&gt; _roles;\n\n  public User() {\n    _roles = new List&lt;Role&gt;();\n  }\n\n  public IEnumerable&lt;Role&gt; Roles {\n    get { return _roles.ToArray(); }\n  }\n\n  public void AddRole(Role role) {\n    _roles.Add(role);\n  }\n\n  public void RemoveRole(Role role) {\n    _role.Remove(role);\n  }\n\n  public bool IsInRole(Role role) {\n    return _roles.Contains(role);\n  }\n}</code></pre>\n\n<p>Pěkně jsme obohatili a zpřehlednili naše API (zápis\n<code>user.IsInRole(Role.Admin)</code> říká mnohem více, než\n<code>user.Roles.Contains(Role.Admin)</code>, navíc neporušuje <a\nhref=\"http://en.wikipedia.org/wiki/Law_of_Demeter\">Demeterův zákon</a>),\nskryli jsme implementační detaily a zároveň nechali otevřená vrátka pro\nsnadnou výměnu vnitřní implementace… Dalším krokem by měly být\nkontrakty manipulačních metod, aby byly bezpečné. Dále pak můžeme přidat\nvyvolávání událostí, abychom o manipulaci věděli. Míst pro\nrozšíření je tu spousta.</p>\n\n<h3 id=\"toc-hloupa-otazka-na-zaver\">Hloupá otázka na závěr</h3>\n\n<blockquote>\n\t<p>„Ale, jak teď zjistim, kolik rolí má uživatel přiřazených, když\n\t<code>IEnumerable</code> nemá vlastnost <code>Count</code> ani\n\t<code>Length</code>?“ <code>using System.Linq;</code> ;)</p>\n</blockquote>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-08-01T09:09:45.237-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vracet List je špatné",
  :published #inst "2009-08-01T08:51:21.480-00:00",
  :url "vracet-list-je-spatne",
  :category-url "asp-net-2-0.aspx",
  :id 359,
  :description
  "Občas pohodlnost vyhrává a zadělává na zasmrádnutý kód, který přináší problémy. Pojďme vymítit jednu ze zhůvěřilostí \"kreativního\" návrhu. ",
  :category "ASP.NET 2.0",
  :tags ["refactoring" "csharp"]},
 :80-dalsi-plug-in-pro-firefox-od-microsoftu.aspx
 {:html
  "\n<p>Dnes ráno jsem do dověděl, že i&#160;Microsoft má svůj vlastní plug-in\n(ne rozšíření) a to plug-in, který má usnadnit použití <em>Nástroje na\nověření pravosti systému Windows.</em> Dosud byli uživatelé\nprohlížečů odvozených od Mozilly nuceni požít alternativní utilitku,\nkterá generovala klíč, který pak musel uživatel ručně zadat do\nformulářového pole, což se dá zneužít k&#160;podstrčení validního\nklíče. Microsoft však přichází s&#160;novinkou, která má ověřování\npravosti zautomatizovat podobně jako tomu je u&#160;InternetExploreru se\nzapnutým ActiveX.</p>\n\n<p>Nakonec ještě <a\nhref=\"http://www.microsoft.com/genuine/downloads/Validate.aspx\">link na\ninstalační stránku</a>. Zde se můžete dozvědět více (v&#160;češtině)\na stáhnout instalátor pluginu. Doufám, že brzo vyjde i&#160;plug-in na\npoužití WindowsUpdate :)</p>\n\n<!-- generated by Texy! -->",
  :keywords "Microsoft Geniune Firefox Mozilla",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Další plug-in pro Firefox od Microsoftu",
  :published #inst "2005-11-17T07:20:07.143-00:00",
  :url "dalsi-plug-in-pro-firefox-od-microsoftu",
  :category-url "tuning.aspx",
  :id 80,
  :description
  "Jak se zdá, Microsoft změnil svůj postoj ke konkurečním prohlížečům.",
  :category "Tuning",
  :tags []},
 :442-parametrizace-balicku.aspx
 {:html
  "\n<p>Balíček <a href=\"/weblog/441-jeden-balicek-na-vsechno.aspx\">je připravený\nk nasazení</a>, ale je potřeba ho ještě nakonfigurovat. Jedna možnost je\nprojít ručně konfigurační soubory na file systému… Počkat, kam se to\nvlastně nahrálo!?</p>\n\n<p>Pokud vezmete balíček tak, jak byl, a nainstalujete ho přes IIS manager,\ndostanete možnost vyplnit pár vydedukovaných parametrů:</p>\n\n<div><img\nsrc=\"http://content.screencast.com/users/rarous/folders/Jing/media/94830720-0673-43cc-88e2-b4998a8643c8/2013-03-20_1024.png\"\nalt=\"\" /></div>\n\n<p>Tak jako dobrý, ale je tam spousta duplicit a co je to <strong>Parameter\n1</strong>? Moc uživatelsky příjemné to teda není. Navíc, když to\npotvrdíme a pokračujeme dál, tak to spadne na instalaci windows služby.\nProč? Protože ve scriptu je jiná cesta ke službě než kam se ve výsledku\nnakopírovala. Problémy, jen samé problémy. Naštěstí jdou snadno\nvyřešit.</p>\n\n<h3 id=\"toc-parameters-xml\">Parameters.xml</h3>\n\n<p>MS Deploy naštěstí umí <a\nhref=\"http://technet.microsoft.com/en-us/library/dd569084(v=ws.10).aspx\">definovat\na následně i nastavovat parametry</a>. Můžeme to udělat buď pomocí\nparametrů z příkazové řádky nebo pomocí XML souboru s definicí\nparametrů. Já zvolil druhou variantu:</p>\n\n<pre\n><code class=\"language-markup\">&lt;parameters&gt;\n  &lt;parameter tags='IisApp' defaultValue='MultiConnector\\$instance' name='IIS Web Application Name'&gt;\n    &lt;parameterEntry kind='ProviderPath' scope='IisApp'\n      match='^$($webSource.Replace(`\"\\`\", `\"\\\\`\").Replace(`\".`\", `\"\\.`\"))$'/&gt;\n    &lt;parameterEntry kind='ProviderPath' scope='setAcl'\n      match='^$($webSource.Replace(`\"\\`\", `\"\\\\`\").Replace(`\".`\", `\"\\.`\"))$'/&gt;\n  &lt;/parameter&gt;\n  &lt;parameter tags='WinSvc' defaultValue='$destPath\\$instance' name='Windows service path'&gt;\n    &lt;parameterEntry kind='ProviderPath' scope='dirPath'\n      match='^$($winSource.Replace(`\"\\`\", `\"\\\\`\").Replace(`\".`\", `\"\\.`\"))$'/&gt;\n    &lt;parameterEntry kind='TextFile' scope='Presync\\.cmd$'\n      match='$($destPath.Replace(`\"\\`\", `\"\\\\`\").Replace(`\".`\", `\"\\.`\"))\\\\$instance'/&gt;\n    &lt;parameterEntry kind='TextFile' scope='Postsync\\.cmd$'\n      match='$($destPath.Replace(`\"\\`\", `\"\\\\`\").Replace(`\".`\", `\"\\.`\"))\\\\$instance'/&gt;\n  &lt;/parameter&gt;\n  &lt;parameter tags='SqlConnectionString' defaultValue='$connString' name='Connection String'\n      description='MultiConnector Connection String used in web.config by the application to access the database.'&gt;\n    &lt;parameterEntry kind='XmlFile' scope='Web\\.config$'\n      match='//connectionStrings/add[@name=`\"MultiConnector`\"]/@connectionString'/&gt;\n    &lt;parameterEntry kind='XmlFile' scope='Svc\\.exe\\.config$'\n      match='//connectionStrings/add[@name=`\"MultiConnector`\"]/@connectionString'/&gt;\n    &lt;parameterEntry kind='ProviderPath' scope='dbDacFx'\n      match='^$($dbSource.Replace(`\"\\`\", `\"\\\\`\").Replace(`\".`\", `\"\\.`\"))$'/&gt;\n  &lt;/parameter&gt;\n&lt;/parameters&gt;</code></pre>\n\n<p>V UI jsou definována políčka pro tři parametry.</p>\n\n<ol>\n\t<li>Nastavuje název webové aplikace v IIS</li>\n\n\t<li>Nastavuje cestu k windows service</li>\n\n\t<li>Nastavuje connection string aplikace</li>\n</ol>\n\n<p>Tyto parametry jsou použity na několika místech (zbavili jsem se duplicit\nv UI). Například cesta k windows service se aktualizuje i ve\nvygenerovaných <code>cmd</code> souborech a tak se nám úspěšně nainstaluje\nwindows služba i když změníme cestu k ní. Connection string určuje, kam\nse nadeployuje DB a aktualizuje se jak ve webové aplikaci, tak ve windows\nslužbě.</p>\n\n<p>Při volání MsDeploy pro tvorbu balíčku z manifextu, přidáme\nnásledující parametr a máme vystaráno:</p>\n\n<pre><code>-declareParamFile:$paramFile</code></pre>\n\n<p>A výsledek vypadá nějak tak:</p>\n\n<div><img\nsrc=\"http://content.screencast.com/users/rarous/folders/Jing/media/8a8f1b3b-2bb5-499d-8aef-782e7e1f08ff/2013-03-21_1200.png\"\nalt=\"\" /></div>\n\n<p>A máme uživatelsky přívětivý balíček, který nasadí databázi, web\ni windows službu, která se nainstaluje a rovnou i spustí. Life's good,\ndokonce i pro deployment specialisty. ;)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-03-21T13:50:44.420-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Parametrizace balíčku",
  :published #inst "2013-03-21T11:40:57.403-00:00",
  :url "parametrizace-balicku",
  :category-url "moje-prace.aspx",
  :id 442,
  :description
  "Balíček k nasazení je připravený, ale je potřeba ho ještě nakonfigurovat. Jedna možnost je projít ručně konfigurační soubory na file systému...",
  :category "Moje práce",
  :tags ["msdeploy"]},
 :6-od-frontpage-k-dreamweaveru.aspx
 {:html
  "\n<p>Náhodou jsem narazil na <a\nhref=\"http://www.adobe.com/devnet/dreamweaver/articles/frontpage_to_dw8_05.html\">článek</a>,\nkde se radí jak bezbolestně přejít z Frontpage na nový Dreamweaver. Já\nosobně jsem si na Frontpage nikdy nezvykl, připadá mi jako Word a ten není\npro dělání stránek to nejvhodnější. No nebudu nikomu nic vnucovat, ať si\nkaždý dělá, v čem se mu chce, ale já nedám na Dreama dopustit.</p>\n\n<p>Teď se dokonce dá verze MX <a\nhref=\"http://obchod.digitalmedia.cz/eshop/produkt.aspx?id=ADDWW090C10\">koupit</a>\nspolu s Fireworksem a Flashem za 6 390 Kč bez daně, což je oproti\nsamotnému MX 2004 za polovinu. Opravdu přesvědčivé.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:30:59.287-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Od Frontpage k Dreamweaveru",
  :published #inst "2004-02-18T09:13:00.000-00:00",
  :url "od-frontpage-k-dreamweaveru",
  :category-url "webdesign.aspx",
  :id 6,
  :description "Promo akce k vydání MX 2004",
  :category "Webdesign",
  :tags []},
 :212-net-na-os-x.aspx
 {:html
  "\n<p>Při zběžném prolétnutí RH článku o Safari pro Windows, jsem narazil\nna zajímavou větu:</p>\n\n<blockquote>\n\t<p>OS X je stále minimální nabídka aplikací, téměř nula her,\n\t<strong>žádný .NET</strong>, výrazná nestabilita, padání a tuhnutí\n\taplikací i systému, nedostatek ovladačů, neexistující kodeky pro video a\n\taudio, solidní přehrávač samotného videa, neexistující pořádný\n\tvypalovací software; jeho použitelnost se sice zvyšuje po instalaci Parallels\n\tči VMWare a virtualizovaných Windows, nicméně, proč spouštět Windows\n\tpomalu pod OS X, když to jde nativně?</p>\n</blockquote>\n\n<p>Přehlédněme teď její délku. Mě jako vývojáře .NET zarazila\nzvýraznená část textu. Tedy „žádný .NET“. Milý Radku, na OS X\nmůžeš již pár let používat MONO, což je OS implementace .NET.\nA čerstvě po lehké Silverlight masáži můžu odpřísáhnout, že existuje\n.NET pro OS X i přímo od Microsoftu, stačí si nainstalovat plug-in <a\nhref=\"http://www.silverlight.net\">Silverligh pro Safari</a> ;)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:37:03.190-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title ".NET na OS X",
  :published #inst "2007-06-13T11:51:31.147-00:00",
  :url "net-na-os-x",
  :category-url "webdesign.aspx",
  :id 212,
  :description
  "Radek Hulán píše, že na OS X není žádný dotnet. Opak je pravdou.",
  :category "Webdesign",
  :tags ["macos" "silverlight" "dotnet"]},
 :52-konkurencni-boj-ve-kterem-prohral-zakaznik.aspx
 {:html
  "\n<p>ČSAD Liberec a.s. byla dlouho monopolním dopravcem na lince Praha-Liberec.\nJá jsem jejich služeb využíval cestami za vzděláním do Prahy, kde\nstuduji. Když před rokem zvedli cenu jízdenky, docela mě to zamrzelo, ale co\nse dalo dělat, byla to jediná možnost jak se do školy dostat. Zažíval jsem\nboje o místo v autobuse, mnohokrát jsem celou cestu musel stát, ale byl\njsem rád, že vůbec jedu. Dopravce si pravděpodobně tento problém\nuvědomoval, proto nakoupil dva autobusy Karosa Ares, kam se vejde mnohem více\nlidí. V důsledku toho se cestování stalo komfortnějším, protože se\nněkteré spoje odlehčily.</p>\n\n<p>V listopadu loňského roku však dostal licenci na tento spoj pražský\ndopravce Hotliner a nedostal brněnský Student Agency. Díky Hotlineru už boje\no místo v autobuse skončili a myslím si, že to byla zdravá konkurence.\nStudent Agency ale celou věc medializovalo a domáhalo se svého práva\no licenci. Spousta nezasvěcených ČSAD odsoudilo, že je to zloděj a monopol\na že nechce pustit konkurenci, přitom už konkurenci měl v podobě\nHotlinera.</p>\n\n<p>Nakonec Student Agency licenci dostal a začal boj o ceny. Kvůli tomu\nmuselo ČSAD snížit cenu jízdenky. Dobrý krok pro cestující na lince\nPraha-Liberec. Bohužel ČSAD nejezdí pouze na této trase, ale zabezpečuje\ndopravní obslužnost ve vesničkách po celém Libereckém okrese. Tyto linky\njsou pro dopravce ztrátové, protože na nich nejezdí tolik lidí. Ztrátovost\ntěchto linek kompenzovalo ziskem z linky Praha-Liberec, teď když kvůli\nStudent Agency museli snížit cenu jízdenky do Prahy nebudou zisky stačit na\npokrytí ztrátových linek a ty budou v důsledku toho zrušeny.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-10T09:57:08.073-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Konkurenční boj, ve kterém prohrál zákazník",
  :published #inst "2005-03-07T16:00:00.000-00:00",
  :url "konkurencni-boj-ve-kterem-prohral-zakaznik",
  :category-url "jen-tak.aspx",
  :id 52,
  :description "",
  :category "Jen tak",
  :tags []},
 :446-kratka-pohadka-o-zlobivych-bytech-v-db.aspx
 {:html
  "\n<p>„Celý je to pomalý a taví nám to databázi. Vždyť tam máme pár\nuživatelů a už to nezvládá. To jste se vyznamenali, borci.“ A to byl\nzačátek celkem slušného redesignu, dva měsíce po spuštění do produkce,\ns celkem zajímavě naplněnou databází. Po létě proseděným ve stínu\nkolbenky, značném vyčerpání z posunování vostrýho startu. Krásná vize\nna barevný podzim a začátek zimy.</p>\n\n<p>A za celým tím byla úžasná myšlenka <strong>ukládat obrázky do\ndatabáze</strong>. Vždyť MS SQL to umí, dokonce má datový typ\n<code>FileStream</code>, který ukládá soubory „fyzicky“ na file systém!\nJistoty, prosperita. Samý profit. Vzpomínáte na Longhorn a jeho geniální\nWinFS, která měla spasit správu souborů?</p>\n\n<h3 id=\"toc-o-necely-rok-drive\">O necelý rok dříve</h3>\n\n<p>Když jsem s novým rokem nastupoval do nového zaměstnání, projekt už\npár měsíců běžel. Při procházení datové vrstvy mě zarazila jedna věc\na to, že se obrázky ukládaly přímo do databáze. Entity, které měly\nnavázané obrázky prostě obsahovaly vlastnost typu <code>byte[]</code>.\nPuristický dogmatik ve mně zpozorněl. „Přijde vám ukládat nerelační\ndata do relační databáze ok? Mně teda ne.“ Říkám pánům architektům.\nNeviděli na tom nic špatného a jelo se dál.</p>\n\n<p>Za pár měsíců se rozhodlo, že budeme hostovat v cloudu. SQL Azure sice\n<code>FileStream</code>y neumí, ale pořád můžeme mít\n<code>varbinary</code> sloupce. Mně se to furt nezdálo. Je to „good\nenough,“ jak se s oblibou říkalo.</p>\n\n<p>Problem solved.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-04-04T07:54:11.693-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Krátká pohádka o zlobivých bytech v DB",
  :published #inst "2013-04-03T20:19:58.777-00:00",
  :url "kratka-pohadka-o-zlobivych-bytech-v-db",
  :category-url "moje-prace.aspx",
  :id 446,
  :description "Zmrdem snadno a rychle za pár měsíců.",
  :category "Moje práce",
  :tags []},
 :453-legacy-code-writer-part-1.aspx
 {:html
  "\n<p>Dostal jsi nový úkol. Zadání zní jasně:</p>\n\n<blockquote>\n\t<p>Přidat jednoduchou featuru do korporátního projektu.</p>\n</blockquote>\n\n<p>Sice o tom nic nevíš, ale požadavky zní rozumně a jednoduše. To přece\nzvládneš.</p>\n\n<p>Nebo si to aspoň myslíš. Dokud neotevřeš ty zpropadený zdrojáky.</p>\n\n<p>Nehoráznej bordel. Který prase tohle mohlo napsat? Na monitoru vidíš jen\nzměť špaget a lasagní. Ach. Vypadá to, jako by někdo záměrně vytvořil\nsbírku všech známých anti-patternů.</p>\n\n<p>Vztek roste, pomalu začínáš nenávidět toho, kdo tohle zvěrstvo\nzpůsobil. Tahle hromada sraček ti nedovoluje pracovat tak, jak ti tvé\nsvědomí káže a jak bys opravdu chtěl. Chceš přece dělat dobrý řemeslo,\ndržet se oblíbených vzorů. Sám sobě jsi slíbil, že budeš psát kód\ns vysokou kohezí, volnými vazbami a ty sám nejlíp víš s čim…\n<strong>Ale zkrátka to není možný.</strong></p>\n\n<p>Jak taky? Ten neschopnej blbec všude používá <strong>globální\nproměnné</strong>, skoro všechno je <strong>statický</strong>, <strong>kód\nse na mnoha místech opakuje</strong> a navíc <strong>nikde žádný\ntesty</strong>!</p>\n\n<p>A hele, tady dokonce používá magický konstanty!</p>\n\n<pre><code class=\"language-csharp\">int HRW_UND = 12;</code></pre>\n\n<p>Co sakra může ta dvanáctka znamenat? A co je to <code>HRW_UND</code>?\nUff. Ať schoří v pekle, ten bastard!</p>\n\n<p>Tak. Nemáš moc času, deadline se neúprosně blíží a tys měl přece\njen přidat jednoduchou featuru a ne refactorovat celé to boží dopuštění.\nTo přece není tvoje práce! Ne asi.</p>\n\n<h3 id=\"toc-legacy-kod-vzdycky-vyhraje-nad-cistym-kodem\">Legacy kód vždycky\nvyhraje nad čistým kódem</h3>\n\n<p>Tak jo, ten dobrák, co udělal tuhle spoušť vyhrál. Přidáš tam tu\nfeaturu bez striktního dodržování svých zásad. Proč ne? Vždyť ty za\ntenhle bordel přece nemůžeš, tys ho neudělal, musíš akorát dokončit\nsvůj úkol. O to tu jde.</p>\n\n<p>Byl jsi donucenej dělat pod svoje možnosti. Ale není to tvoje chyba. Máš\ndobré důvody, vždyť je to přece chyba autora legacy kódu.</p>\n\n<p>Tady bys chtěl předat závislost pomocí <strong>dependency\ninjection</strong>, ale úsilí překopat celou tuhle šílenou věc by\nněkolikrát překročilo rámec tvé featury. Všechno je statický, nikde\nžádná rozhraní, brutální dědičnost a spousta výskytů operátoru\n<code>new</code>… Nemáš čas a ta šílená code base ti vůbec nepomáhá.\n<em>Srát na Inversion of Control</em>!</p>\n\n<p>Radši přidáš statickou metodu do service locatoru. Sice nenávidíš\nservice locator, ale je prolezlej úplně všude a nejde se ho lehce zbavit.</p>\n\n<p>A tady je zas metoda, která řeší dvě různý věci najednou. Ty bys\npotřeboval jen jednu, ale celý je to tak propletený. Je to pěkně těžký\noddělit tyhle dvě různý věci od sebe, protože ta třída ani nejde\notestovat. Nakonec radši zkopíruješ tu část kódu, kterou potřebuješ a\nvložíš ji tam, kde se ti bude hodit.</p>\n\n<p>Hej! A co tahle 50 řádková metoda s 18 <code>if</code>ama? Proč ten\nvůl nepoužil strategii? Refactorovat celý to zvěrstvo, nebo přidat 19.\n<code>if</code>? :) Tak určitě! Ať původní autor shoří v pekle!</p>\n\n<p>Konečně. Teď ještě potřebuješ konfigurační parametr. Normálně bys\nto poslal přes property injection, ale původní autor použil <code>HRW_UND =\n12</code>, tak tam prdneš <code>HRW_UND = 98</code>.</p>\n\n<p><strong>Je to jeho vina.</strong></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-06-01T19:52:22.623-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Legacy code writer - part 1",
  :published #inst "2013-06-01T18:50:30.303-00:00",
  :url "legacy-code-writer-part-1",
  :category-url "moje-prace.aspx",
  :id 453,
  :description "Malý exkuz do produkce legacy kódu.",
  :category "Moje práce",
  :tags []},
 :266-skandalni-odhaleni.aspx
 {:html
  "\n<p>Kódové označení: rarouš<br />\nVerze: Microsoft Cylon 4.02 SP1 Hollywar Edition<br />\nDatum posledního updatu: CET 21:45 16.4.2008</p>\n\n<p>rarouš – robotická bytost (<a\nhref=\"http://en.wikipedia.org/wiki/Cylon_%28re-imagining%29\">cylon</a>)\nvytvořená v laboratořích v Redmondu pro vedení svatých válek v oblasti\nstřední a východní Evropy. Identických modelů je po Zemi rozmístěno\nněkolik.</p>\n\n<p>Elektronika je napájena <a\nhref=\"http://cs.wikipedia.org/wiki/Palivov%C3%BD_%C4%8Dl%C3%A1nek\">palivovými\nčlánky</a> na bázi <a\nhref=\"http://cs.wikipedia.org/wiki/Ethanol\">etanolu</a>, který je nedílnou\nsoučásti konzumních lihovin (běžně užívaný metanol, by mohl vzbuzovat\nu veřejnosti podezření). Nekompatibilní roztoky s koncentrací menší\nnež 35% (typicky pivo) jsou neprodleně ze systému vyloučeny nejkratší\nmožnou cestou. Zbylá voda je vylučována pomocí standardního rozhranní,\nkteré je navíc opatřeno USB A konektorem. Tento se používá ke\nkaždodennímu 16 hodinovému rituálu (tzv. <a\nhref=\"http://www.lupa.cz/clanky/atlas-ve-sparech-centra-pratelska-prevzeti-neexis\">obcování\ns počítačem</a>), který slouží k nutné aktualizaci a údržbě\nsystému.</p>\n\n<p>Cyloni byly vyvinuti k různým účelům, někteří jsou skvělými\nmarketéry, jiní programátory nebo správci systémů. Obvykle jsou to\nklikači. Jejich systém používá vždy nejnovější technologie Microsoftu,\nproto se jejich chování může zdát nestabilní (schizofrenie, nenadálé\nvýbuchy rebélie apod.). Velice obtížnou úlohou pro programátory Cylonů\nbylo vytvoření simulace emocí. V současné čtvrté verzi se může setkat\njiž s rozladěností, vztekem, nebo simulací kocoviny. Často nejsou sami\nschopní vyhodnotit, kdy se mají emoční podprogramy spustit, proto neustále\nanalyzují okolí. Na základě této analýzy, odcházejí při obcování\ns počítačem informace do datacentra v Redmondu a jsou okamžitě\nvyhodnocovány farmou superpočítačů. Následně vznikne sada\naktualizačních balíčků a hotfixů, které jsou distribuovány pomocí Cylon\nUpdate nebo v rámci <a\nhref=\"http://update.microsoft.com/microsoftupdate/v6/default.aspx?ln=cs-cz\">Microsoft\nUpdate</a>.</p>\n\n<p>Tento spot byl vytvořen za pomocí\n<code>System.Reflection.Machine.SelfDump()</code>.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-05-01T19:46:42.133-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Skandální odhalení",
  :published #inst "2008-04-18T10:14:09.717-00:00",
  :url "skandalni-odhaleni",
  :category-url "jen-tak.aspx",
  :id 266,
  :description
  "Kódové označení: rarouš; Verze: Microsoft Cylon 4.02 SP1 Hollywar Edition; Datum posledního updatu: CET 21:45 16.4.2008",
  :category "Jen tak",
  :tags []},
 :433-dip-ioc-a-di-dil-treti.aspx
 {:html
  "\n<p>Vidíte, vidíte? Máme za sebou dva krátké spoty plné nezodpovězených\notázek. Nahlodaly vás aspoň trošku? Vyřešili jste některé? Dobře.\nPojďme dál.</p>\n\n<p>V minulém díle jsme se zbavili závislosti na konkrétní implementaci\nrepository a zavedli tak Inversion of Control (ok, taky zjednodušuju, ale\nzákladní rozdíl IoC od DI je v abstrakci). Ovšem pořád jsme nedosáhli\nDIP. „Jak to,“ ptáte se? No důvod je celkem prostý. Tu největší chybu\njsme udělali hned na začátku. <strong>Začali jsme datovou\nvrstvou!</strong></p>\n\n<p>Všimněte si, že naše doménová vrstva má stále závislost na té\ndatové, i když jsme zavedli abstrakci a jakoby neznáme konkrétní\nimplementaci. Problém je v tom, že abstrakce nepatří do vrstvy, kde je\nimplementována. <code>IRepository&lt;TEntity&gt;</code> nepatří do\n<code>MyAwesomeApp.Data</code>, ale do „business layeru“. Kdybychom dělali\ntop-down design, samozřejmě by nám to z toho vylezlo samo. Ale protože jsme\nbyli chytřejší a stavěli „od spoda“ (bottom-up), dostali jsme se celkem\ndo potíží…</p>\n\n<p>Takže, když uděláme tuhle malou změnu, tedy že přesuneme\n<code>IRepository&lt;TEntity&gt;</code> z data do business layeru, otočíme\nzávislosti. Nyní, už doménová vrstva nezávisí na datové, ale naopak.\nDatová vrstva se nám stala plug-inem. A konečně máme i DIP!</p>\n\n<h3 id=\"toc-top-down-design\">Top-down design</h3>\n\n<p>Ještě bych se rád zastavil u jedné konfůznosti a tou je top-down\ndesign. Tj. design kdy začneme od shora a pokračujeme dolu. Jenže kde je to\nnahoře? Když si vybavíte běžná schémata tradiční třívrstvé aplikace,\ntak nahoře máte UI vrstvu, pod ní business vrstvu a pod ní vrstvu datovou.\nTak je to jasný, ne? Top-down design začneme od UI vrstvy! Rovnou si dám\nfacku, že jsem to vůbec napsal. <em>plesk</em></p>\n\n<p>Tak zase špatně. Ve skutečnosti je nahoře vrstva s největší\nabstrakcí. Což by měla být asi ta doménová vrstva. :) UI i data jsou\ndetaily, hodně konkrétní! Dneska máme běžné, že jedna a ta samá\nbusiness vrstva žije za obrázkama na iPhonu, Androidu, Windows Phonu,\ndesktopových i webových aplikací. Ano, ta samá. protože BL je to, co\ndělá vaši aplikaci aplikací. Je jedno, na jakým systému běží, jak\npřistupuje k datům, jakým způsobem data prezentuje.</p>\n\n<p>Abstrakce nám pomáhá odkládat řešení detailů do doby, kdy to bude\nnezbytné. Pomáhá nám být agilní a umožňuje nám pružně reagovat na\nzměny požadavků. A změna je jedinou jistotou, na kterou se můžeme\nv naší branži spolehnout. Žádné smlouvy vás před ní neochrání.\nA nebraňme se ji, však jsme přece vývojáři.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-10-26T21:19:04.027-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "DIP, IoC a DI - díl třetí",
  :published #inst "2012-10-26T21:20:00.000-00:00",
  :url "dip-ioc-a-di-dil-treti",
  :category-url "moje-prace.aspx",
  :id 433,
  :description
  "Závěrečný díl trošku sporné série o rosporech v zažitých technikách a obecných poučkách, jak dělat inverzi injekcí.",
  :category "Moje práce",
  :tags []},
 :343-jaky-pohled-si-vybrat.aspx
 {:html
  "\n<p>ASP.NET MVC je velice modulární, jeho největší devízou je, že skoro\nvše lze nahradit něčím jiným. Nejinak je tomu i u ViewEnginu\n(šablonovací systém). Dokonce můžete v jedné aplikaci používat několik\nšablonovacích systémů vedle sebe. A to už se vyplatí!</p>\n\n<h3 id=\"toc-jaky-je-vyber\">Jaký je výběr?</h3>\n\n<p>Existuje spousta známých i neznámých šablonovacích systémů.\nNajznámější jsou asi, počkejte si na to, <strong>PHP/ASP</strong>. Ha! Ano,\n<acronym title=\"PHP Hypertext Processor\">PHP</acronym> i <acronym\ntitle=\"Active Server Pages\">ASP</acronym> nejsou nic jinýho než šablonovací\nsystémy. To že v nich někdo dokáže psát celé aplikace –\nklobouk dolu.</p>\n\n<p>Šablonovací systém najdete téměř v každém oblíbeném webovém\nframeworku. V ASP.NET MVC mu většinou říkáme <em>ASPX</em> nebo\n<em>WebForms</em> view engine. To je ten, který se používá v základu.\nNarozdíl od ASP můžete v ASPX šablonách používat i serverové značky.\nToho lze využít pro tvorbu Master pages a Content pages, nebo pro snadnou\nlokalizaci za pomocí <code>asp:Localize</code>. :) V takové šabloně\nmůžete navíc použít jakýkoli dotnetí jazyk pro logiku pohledu. Následuje\nukázka pohledu s jazykem C#:</p>\n\n<pre\n><code class=\"language-markup\">&lt;%@ Page Language=\"C#\" Inherits=\"System.Web.Mvc.ViewPage\" %&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n  &lt;title&gt;Test view page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;h1&gt;Test view page&lt;/h1&gt;\n\n  &lt;ul&gt;\n    &lt;% foreach (var company in Model.Companies) { %&gt;\n    &lt;li&gt;&lt;%= company.Name %&gt;&lt;/li&gt;\n    &lt;% } %&gt;\n  &lt;/ul&gt;\n\n  &lt;% using(Html.BeginForm(\"create\", \"company\", FormMethod.Post) { %&gt;\n   &lt;fieldset&gt;\n     &lt;legend&gt;Create new company&lt;/legend&gt;\n     &lt;label for=\"companyName\"&gt;Name:&lt;/label&gt;\n     &lt;%= Html.TextBox(\"companyName\") %&gt;\n     &lt;input type=\"submit\" value=\"Create company\" /&gt;\n   &lt;/fieldset&gt;\n  &lt;% } %&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n\n<p>Stejná ukázka za použití Visual Basicu:</p>\n\n<pre\n><code class=\"language-markup\">&lt;%@ Page Language=\"VB\"  Inherits=\"System.Web.Mvc.ViewPage\" %&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n  &lt;title&gt;Test view page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;h1&gt;Test view page&lt;/h1&gt;\n\n  &lt;ul&gt;\n    &lt;% For Each company In Model.Companies %&gt;\n    &lt;li&gt;&lt;%= company.Name %&gt;&lt;/li&gt;\n    &lt;% Next %&gt;\n  &lt;/ul&gt;\n\n  &lt;% Using Html.BeginForm(\"create\", \"company\", FormMethod.Post) %&gt;\n   &lt;fieldset&gt;\n     &lt;legend&gt;Create new company&lt;/legend&gt;\n     &lt;label for=\"companyName\"&gt;Name:&lt;/label&gt;\n     &lt;%= Html.TextBox(\"companyName\") %&gt;\n     &lt;input type=\"submit\" value=\"Create company\" /&gt;\n   &lt;/fieldset&gt;\n  &lt;% End Using %&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n\n<p>Osobně v pohledech upřednostňuju Visual Basic – je to díky jeho\nukecanosti. Ano, i ta se někdy může hodit. V pohledech je pak lépe vidět,\nkde začíná a končí <code>for</code> cyklus nebo podmíněný blok.\nNejspíš lze stejného efektu dosáhnout i za použití <a\nhref=\"http://www.ironruby.net/\">IronRuby</a>. Ale to zjistím asi velice\nbrzy. :)</p>\n\n<p>Když už jsme u toho Ruby, potažmo u Railsů, nesmím zapomenout zmínit\n<a href=\"http://haml.hamptoncatlin.com/\">Haml</a>. Kód v něm může vypadat\ncelkem obskurně, ale má přísnou logiku a zachovává čistou strukturu\npohledu.</p>\n\n<pre><code class=\"language-haml\">%html{:xmlns =&gt; 'http://www.w3.org/1999/xhtml'}\n  %head\n    %title Test view page\n  %body\n    %h1 Test view page\n    %ul\n      -model.companies.each do |company|\n        %li= company.name\n    %form{:action =&gt; url.action({:action =&gt; 'Create'}), :method =&gt; 'post'}\n      %fieldset\n        %legend Create new company\n        %label{:for =&gt; 'companyName'} Name:\n        =html.text_box('companyName')\n        %input{:type =&gt; 'submit', :value =&gt; 'Create company'}</code></pre>\n\n<p>Do ASP.NET MVC lze přidat jeho port do dotnetu: <a\nhref=\"http://code.google.com/p/nhaml/\">NHaml</a>. Pro logiku pohledu lze\npoužít jazyky C#, <a href=\"http://www.ironruby.net/\">IronRuby</a> a <a\nhref=\"http://boo.codehaus.org/\">Boo</a>.</p>\n\n<p>Obecným šablonovacím jazykem je Velocity, které si našlo cestu\nnapříklad do MonoRailu v podobě <a\nhref=\"http://www.castleproject.org/others/nvelocity/index.html\">NVelocity</a>.\nSamozřejmě je ho možné používat i v ASP.NET MVC.</p>\n\n<pre\n><code class=\"language-markup\">&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n  &lt;title&gt;Test view page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;h1&gt;Test view page&lt;/h1&gt;\n\n  &lt;ul&gt;\n#foreach($company in $model.Companies)\n    &lt;li&gt;$company.Name&lt;/li&gt;\n#end\n  &lt;/ul&gt;\n\n  &lt;form action=\"$url.Action('create')\" method=\"POST\"&gt;\n    &lt;fieldset&gt;\n      &lt;legend&gt;Create new company&lt;/legend&gt;\n      &lt;label for=\"companyName\"&gt;Name:&lt;/label&gt;\n      $html.TextBox('companyName')\n      &lt;input type=\"submit\" value=\"Create company\" /&gt;\n    &lt;/fieldset&gt;\n  &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n\n<p>Na půdě MonoRailu vznikl i další šablonovací systém postavený nad <a\nhref=\"http://boo.codehaus.org/\">Boo</a> s poetickým názvem <a\nhref=\"http://www.castleproject.org/MonoRail/documentation/trunk/viewengines/brail/index.html\">Brail</a>.\nV šablonách se může používat i rozšířená syntaxe Boo, která není\nzávislá na odsazování a používá <code>end</code> literály pro\ndefinici bloků.</p>\n\n<pre\n><code class=\"language-markup\">&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n  &lt;title&gt;Test view page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;h1&gt;Test view page&lt;/h1&gt;\n\n  &lt;ul&gt;\n    &lt;?brail for company in model.Companies: ?&gt;\n    &lt;li&gt;${company.Name}&lt;/li&gt;\n    &lt;?brail end ?&gt;\n  &lt;/ul&gt;\n\n  &lt;?brail using Html.BeginForm('create', 'company', FormMethod.Post): ?&gt;\n    &lt;fieldset&gt;\n      &lt;legend&gt;Create new company&lt;/legend&gt;\n      &lt;label for=\"companyName\"&gt;Name:&lt;/label&gt;\n      ${Html.TextBox('companyName')}\n      &lt;input type=\"submit\" value=\"Create company\" /&gt;\n    &lt;/fieldset&gt;\n  &lt;?brail end ?&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n\n<p>Samozřejmě můžete místo <code>&lt;?brail ?&gt;</code> použít\nzkrácený zápis <code>&lt;% %&gt;</code>, to už je jen na vás, jestli se\nvám víc líbí PHP nebo ASP styl…</p>\n\n<p>A pomalu se blížíme k poslednímu zajímavému šablonovacímu systému.\nA tím je <a href=\"http://dev.dejardin.org/\">Spark</a>. Spark si klade za cíl,\nbýt co nejblíže kodérovi a jeho syntaxe je založená primárně na <acronym\ntitle=\"Extensible Hypertext Markup Language\">XHTML</acronym>. Pro logiku pohledu\nvyužíváte rozšířených značek a atributů, které jsou překládány do\nvámi zvoleného jazyka. Zvolit si můžete tradičně mezi C#, <a\nhref=\"http://www.ironruby.net/\">IronRuby</a> a <a\nhref=\"http://ironpython.codeplex.com/\">IronPython</a>.</p>\n\n<pre\n><code class=\"language-markup\">&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n  &lt;title&gt;Test view page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;h1&gt;Test view page&lt;/h1&gt;\n\n  &lt;ul&gt;\n    &lt;li each=\"company in model.Companies\"&gt;${company.name}&lt;/li&gt;\n  &lt;/ul&gt;\n\n  &lt;form action=\"${url.action('create')}\" method=\"POST\"&gt;\n    &lt;fieldset&gt;\n      &lt;legend&gt;Create new company&lt;/legend&gt;\n      &lt;label for=\"companyName\"&gt;Name:&lt;/label&gt;\n      ${html.text_box('companyName')}\n      &lt;input type=\"submit\" value=\"Create company\" /&gt;\n    &lt;/fieldset&gt;\n  &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p>Když se podíváte na výše uvedené ukázky, zjistíte, že mají mnohé\nspolečné. Na vás je si vybrat. Každý z šablonovacích systémů má svá\nspecifika a například Sparku bych se chtěl podrobněji věnovat v některém\nz následujících spo­tů.</p>\n\n<p>Pokud se rozhodnete některý z view enginů použít, zkuste to přes\nprojekt <a href=\"http://mvccontrib.codeplex.com/\">MVC Contrib</a>.</p>\n\n<p>Díky možnostem otevřené architektury ASP.NET MVC a možnosti zvolit si\nk práci jazyk, který vám nejvíce vyhovuje, můžete docílit nejen\núspěchu u žen, ale i dle vašich preferencí! No řekněte, kdo z vás\nto má?</p>\n\n<p><em>V ukázkách NHamlu a Sparku jsem zvolil integraci s jazykem\nIronRuby.</em></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-10T19:42:29.723-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jaký pohled si vybrat?",
  :published #inst "2009-01-10T18:07:45.653-00:00",
  :url "jaky-pohled-si-vybrat",
  :category-url "webdesign.aspx",
  :id 343,
  :description
  "ASP.NET MVC umožňuje výběr šablonovacího systému i jazyka, který v něm chcete používat. Máte rádi Ruby a Haml, nebo Boo? I pro vás tu něco máme!",
  :category "Webdesign",
  :tags
  ["aspnet"
   "mvc"
   "viewengine"
   "nhaml"
   "spark"
   "brail"
   "nvelocity"
   "ironruby"
   "ironpython"
   "boo"]},
 :111-jsem-nadsen-z-asp-net.aspx
 {:html
  "\n<p>Můj oblíbený autor mé oblíbené <a href=\"http://www.dgx.cz/trine/\">La\nTrine</a> David Grudl napsal velice kontroverzní článek <a\nhref=\"http://www.dgx.cz/trine/item/jsem-zdesen-z-asp-net\">Jsem zděšen\nz&#160;ASP.NET</a>, který některé <cite>zvedl ze židle</cite> jiné donutil\nflamovat. Ať už se David obouvá do ASP.NET jakkoli, jedno mu nelze\nodepřít, je to výborná reklama na jeho připravovaný framework\n<strong>Nette</strong>. Nepravdy či polopravdy a nepřesnosti byly rozebrány\nv&#160;hunté diskusi pod článkem.</p>\n\n<p>Z&#160;článku a reakcí na něj je jasné, že svět pořád nemá\npovědoní co je dotnet a co všechno umí. To mě utvrzuje v&#160;tom, že\nmám pokračovat v&#160;lehké osvětě a že když se sem dostanou čtenáři,\nkteří dotnet neznají, že jim třeba pomohu s&#160;pochopením této\ntechnologie nebo pomůžu do začátku. :)</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-02-21T22:39:11.803-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jsem nadšen z ASP.NET",
  :published #inst "2006-02-21T22:39:11.790-00:00",
  :url "jsem-nadsen-z-asp-net",
  :category-url "jen-tak.aspx",
  :id 111,
  :description "Reakce na dění v La Trine.",
  :category "Jen tak",
  :tags []},
 :297-reference-na-objekty-v-ado-net-data-services.aspx
 {:html
  "\n<p>Pokud se rozhodnete pro vaše AJAXové aplikace požívat RESTové služby\nADO.NET Data Services, jistě se dostanete do situace, kdy máte komplexní typ\na potřebujete vytvořit novou entitu s odkazem na již existující\nobjekt.</p>\n\n<p>Řešení tohoto problému jsem hledal dost dlouho, nakonec bylo celkem\njednoduché.</p>\n\n<h3 id=\"toc-problem\">Problém</h3>\n\n<p>AJAXově vytvářím entitu, která má vlastnost <code>User</code>, což je\nreference na uživatele, který danou entitu vytvořil –\nkterému patří.</p>\n\n<h3 id=\"toc-cesta-k-reseni\">Cesta k řešení</h3>\n\n<p>Nejprve jsem zkoušel využít něco podobného, jako je u entit, které\njsou vráceny pomocí metody GET. Tedy odkaz na jinou entitu je vyjádřen\npomocí vlastnosi <code>__deffered</code> a ta má atribut <code>uri</code>,\nkterý odkazuje na již existující entitu pomocí jejího <acronym\ntitle=\"Unified Resource Locator\">URL</acronym>. Bohužel, to nefungovalo,\nprotože <code>__deffered</code> je metodou POST ignorováno. Kód vypadal asi\nnásledujícně:</p>\n\n<pre ><code class=\"language-javascript\">User: { __deffered: { uri: \"/Users(13)\" } }</code></pre>\n\n<p>Pak jsem tedy zkusil druhý zoufalý krok. Zkusil jsem použít atribut ID,\nkterý je vlastně jediný důležitý pro správné persistování do\ndatabáze. Kód následující:</p>\n\n<pre ><code class=\"language-javascript\">User: { Id: 13 }</code></pre>\n\n<p>Jenže ani to není správná cesta, navíc si tak můžete Usera\npoškodit.</p>\n\n<h3 id=\"toc-konecne-reseni\">Konečné řešení</h3>\n\n<p>Konečné funkční řešení se od toho původního pokusu skoro neliší,\nano byl jsem hodně blízko a vzal to oklikou a až důkladné čtení\ndokumentace mi otevřelo oči. Vlastnost <code>__metadata</code> byla aktuálně\ntou správkou, která se měla použít! Takže správný kód\nvypadá takto:</p>\n\n<pre ><code class=\"language-javascript\">User: { __metadata: { uri: \"/Users(13)\" } }</code></pre>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p>Já vím, není to žádná super extra informace, ale já k jejímu\nzískání spotřeboval celkem dost času. Možná to někomu ušetří starosti\na hledání… Pokud vás zajímají <a\nhref=\"http://msdn.microsoft.com/en-us/data/bb931106.aspx\">ADO.NET Data\nServices</a> – což je velice zajímavá technologie – můžete se\npřijít podívat na <a rel=\"bookmark\"\nhref=\"/weblog/295-povidani-o-asp-net-na-webexpu.aspx\">naši přednášku\no ASP.NET</a>, kde o nich bude utroušeno několik slov a předvedena pěkná\nukázka ve spojení s AJAXem a k databázi budeme přistupovat přes <a\nhref=\"http://www.hibernate.org/343.html\">NHibernate</a> místo Entity\nFrameworku.</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a rel=\"bookmark\"\n\t\thref=\"/weblog/295-povidani-o-asp-net-na-webexpu.aspx\">Povídání o ASP.NET na\n\t\tWebExpu</a></li>\n\n\t\t<li><a\n\t\thref=\"http://www.vyvojar.cz/Series/8-ado-net-data-services.aspx\">Vývojář.cz –\n\t\tSeriál o ADO.NET Data Services</a></li>\n\t</ul>\n</div>\n\n<p>Tagy: <a rel=\"tag\"\nhref=\"http://technorati.com/tag/dataservices\">DataServices</a>, <a rel=\"tag\"\nhref=\"http://technorati.com/tag/ajax\">AJAX</a></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-14T10:30:38.520-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Reference na objekty v ADO.NET Data Services",
  :published #inst "2008-09-10T06:44:15.543-00:00",
  :url "reference-na-objekty-v-ado-net-data-services",
  :category-url "webdesign.aspx",
  :id 297,
  :description
  "Pokud se rozhodnete pro vaše AJAXové aplikace požívat RESTové služby ADO.NET Data Services, jistě se dostanete do situace, kdy máte komplexní typ a potřebujete vytvořit novou entitu s odkazem na již existující objekt.",
  :category "Webdesign",
  :tags ["ajax" "rest" "dataservices" "webexpo"]},
 :93-depeche-mode.aspx
 {:html
  "\n<p>Dneska vychází v&#160;Británii druhý singl z&#160;desky <em>Playing the\nAngel</em> s&#160;názvem <strong>A&#160;pain, that I'm used to</strong>.\nMyslím, že to je dobrý výběr. Podle tracklistů budou i&#160;zajímavé\nremixy, takže je na co se těšit.</p>\n\n<p>Včera jsem se, trochu pozdě, dozvěděl, že <a\nhref=\"http://www.depechemode.com\">depešáci</a> budou koncertovat\nv&#160;Praze, konkrétně 23. ledna 2006&#160;v&#160;Sazka Aréně. Bohužel,\nje asi už vyprodáno :( I&#160;přes to, že nejlevnější lístek na stání\nvyšel něco přes 900&#160;Kč. No uvidíme, třeba se ještě bude dát něco\nsehnat&#8230;</p>\n\n<p>Celebrate the black!</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Depeche Mode",
  :published #inst "2005-12-12T11:20:25.287-00:00",
  :url "depeche-mode",
  :category-url "muzika.aspx",
  :id 93,
  :description
  "Depeche Mode vydávají nový singl a budou vystupovat v Praze.",
  :category "Muzika",
  :tags []},
 :81-prace-na-gryphoonu.aspx
 {:html
  "\n<p>Předchozí a tenhle víkend jsme strávil pracema na Gryphoonu. Konečně se\nzačíná podobat mojim představám a musím říct, že se i&#160;držim <a\nhref=\"/clanek.aspx/66/dalsi-test\">osnovy</a>, kterou jsem si předsevzal již\ndříve. Zvýšenou aktivitu zapříčinil i&#160;další uživatel Gryphoonu.\nBude jim <a href=\"http://www.mikemaly.net\">mike</a>, který přešel na nový\nhosting. Jsem zvědav, jak se nám povede migrace dat z&#160;<a\nhref=\"http://www.textpattern.com\">Textpatternu</a>, na kterém běží\ndosavadní verze jeho stránek.</p>\n\n<p>Co se změnilo? No kompletně jsem refaktoroval administrační rozhranní,\npřešel jsme na ASP.NET 2&#160;Membership, refaktoroval a rozšířil\ndatabázi, doplnil <acronym title=\"Search Engine Optimalization\">SEO</acronym>\nURL k&#160;článkům a další drobné změny.</p>\n\n<!-- generated by Texy! -->",
  :keywords "gryphoon",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Práce na Gryphoonu",
  :published #inst "2005-11-23T11:44:32.337-00:00",
  :url "prace-na-gryphoonu",
  :category-url "gryphoon.aspx",
  :id 81,
  :description "pomalu ale jistě se blížím k 2.0 :)",
  :category "Gryphoon",
  :tags []},
 :420-unit-testovani-v-fsharp.aspx
 {:html
  "\n<p>Začít s unit testování v F# je cekem snadné. Stačí si vytvořit\n<code>Class Library</code> a do ní zareferencovat váš oblíbený testovací\nframework. Ten můj je xUnit.net a jak se ukazuje má to i své výhody.</p>\n\n<h3 id=\"toc-xunit-net-ve-visual-studiu-2012\">xUnit.net ve Visual Studiu\n2012</h3>\n\n<p>Vítanou novinkou nového Visual Studia je podpora i jiných testovacích\nframeworků než je MsTest. Takže prvním krokem je přidat xUnit provider do\nVisual Studia 2012. Otevřete si <code>Extensions and Updates</code>\n(<code>Ctrl+Q</code> <code>exte</code> <code>Enter</code>) a v Online sekci\ndejte vyhledat <code>xUnit</code>. Nainstalujet si <em>xUnit.net runner for\nVisual Studio 2012</em>. Restartujte Studio.</p>\n\n<p>Nyní můžeme spouštět xUnit.net testy přímo ve Visual Studiu pomocí\nzkratky <code>Ctrl+R, T</code>. Doporučuju si zobrazit okno <em>Test\nExplorer</em>.</p>\n\n<h3 id=\"toc-fsunit-a-xunit\">FsUnit a xUnit</h3>\n\n<p>Takže máme přidanou podporu pro test runner. Teď ještě přidat samotný\ntestovací framework a když už jsme u toho i krapet lepší assertovací\nframework. Takže si vytvoříme nový projekt typu <em>Class Library</em>.\nOtevřeme si <em>Package Manager Console</em> (využijte <code>Ctrl+Q</code>) a\ndoinstalujeme si nuget balíček. Vzhledem k vyřešeným závislostem stačí\nnapsat <code>Install-Package FsUnit.Xunit</code> a jsme skoro ready. Skoro.\nFsUnit referencuje <code>FSharp.Core 4.0.0.0</code>, ale aktuální verze je\n<code>FSharp.Core 4.3.0.0</code>, proto do konzole napíšeme ještě\n<code>Add-BindingRedirect *název projektu*</code>, který zajistí\npřesměrování na používanou verzi. No a můžeme psát! :)</p>\n\n<p>Co se mi líbí na xUnit.net, je že nemusíte dekorovat testovací třídy a\npodobné nesmysle. Prostě si vytvoříme modul a rovnou píšeme testy:</p>\n\n<pre\n><code class=\"language-fsharp\">module Tests.``ukázka xUnit a FsUnit``\n\nopen Xunit\nopen FsUnit.Xunit\n\n[&lt;Fact&gt;]\nlet ``Test tautologie`` ()=\n    assert true\n\n[&lt;Fact&gt;]\nlet ``Test tautologie v xUnit`` ()=\n    Asset.True true\n\n[&lt;Fact&gt;]\nlet ``Test tautologie v FsUnit`` ()=\n    true |&gt; should be True</code></pre>\n\n<p>První věc, co by vás měla zaujmout, je zápis názvů testovacích metod\na modulů pomocí přirozeného jazyka. To je úžasná vlastnost F#, která\nzpřehledňuje testy. Další poznatek: F# má funkci <code>assert</code>, což\nje alias pro <code>System.Diagnostics.Debug.Assert()</code>, občas se může\nhodit. Druhý test používá klasické asserty z xUnit.net. Třetí používá\nDSL FsUnit.</p>\n\n<p>Tak s chutí do testování!</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-06-05T11:28:57.907-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Unit testování v F#",
  :published #inst "2012-06-05T10:47:28.137-00:00",
  :url "unit-testovani-v-fsharp",
  :category-url "moje-prace.aspx",
  :id 420,
  :description
  "Spouštění a psaní testů v F# 3.0 je celkem snadné, po pár prvních zaškobrtnutích. :) ",
  :category "Moje práce",
  :tags ["xunit" "fsharp" "fsunit" "vs2012"]},
 :65-rekonstrukce.aspx
 {:html
  "\n<p>Právě provádím rekonstrukci těchhle stránek, proto prosím omluvte\nnefunkčnost některých stránek, do zítra to snad dám všechno dohromady.\nV&#160;komentářích prosím nechte feedback, jak se vám líbí lehkej\nredesign a co třeba ještě vylepšit ;)</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Rekonstrukce",
  :published #inst "2005-08-05T20:15:00.000-00:00",
  :url "rekonstrukce",
  :category-url "gryphoon.aspx",
  :id 65,
  :description "",
  :category "Gryphoon",
  :tags []},
 :373-spustili-jsme-trop-blog.aspx
 {:html
  "\n<p>Už je tomu tak, každá správná sociální služba se má šířit všema\nkanálama a dnes přibyl další.</p>\n\n<p>Dneska najdete Trop skoro všude:</p>\n\n<ul>\n\t<li><a href=\"http://www.facebook.com/pages/Trop/103373591895\">Trop na\n\tFacebooku</a></li>\n\n\t<li><a href=\"http://www.twitter.com/TropCZ\">Trop na Twitteru</a></li>\n\n\t<li><a href=\"http://friendfeed.com/troppraha\">Trop na Friendfeedu</a></li>\n\n\t<li><a href=\"http://blog.trop.cz/\">Trop Blog</a></li>\n</ul>\n\n<p>Původně jsem chtěl blog nasadit na některý z existujících\nredakčních systémů. Výbíral jsem z <a\nhref=\"http://www.wordpress.org/\">Wordpressu</a>, <a\nhref=\"http://oxite.codeplex.com/\">Oxite</a>, <a\nhref=\"http://atomsite.net/\">AtomSite</a> a nakonec nevybral ani jeden. :)\nInstalovat na server další databázový stroj (MySQL) jen kvůli blogu mi\npřišlo zbytečné – Wordpress padl. Oxite se zdá být zajímavým,\nprotože na něm jsou postaveny prezentační weby Microsoftích konferencí a\nnavíc je to napsaný v ASP.NET MVC (stejně jako <a\nhref=\"http://www.trop.cz/\">Trop</a>). Bohužel je to celé dost nepoužitelné a\nnavíc chybí podpora pro správu uživatelů. Což je velký problém, kterým\ntrpí i jinak zajímavě vypadající AtomSite.</p>\n\n<p>Velké ostřílené distribuce jako SubText, BlogEngine.net nebo dasBlog se\nmi už zkoušet nechtělo a sáhl jsem po tom s čím dokážu dělat snadno a\nrychle. Ano, po <a href=\"http://www.gryphoon.net/\">stařičkém Gryphoonovi</a>,\nkterý pohání i tento blog. Chtělo to jen pár drobných úprav a frontend,\nkterý byl jen a pouze na tomto blogu, už je nasaditelný i na jiné domény\nnež rarouš.net. :) Možná ho o prázdninách dám nějak do kupky a vydám\nbastl hybrid Gryphoon 1.90. :)</p>\n\n<p>Stay tuned.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-12-22T13:02:17.847-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Spustili jsme Trop blog",
  :published #inst "2009-12-17T16:22:17.063-00:00",
  :url "spustili-jsme-trop-blog",
  :category-url "gryphoon.aspx",
  :id 373,
  :description
  "Už je tomu tak, každá správná sociální služba se má šířit všema kanálama a dnes přibyl další.",
  :category "Gryphoon",
  :tags ["trop" "gryphoon"]},
 :126-novinky-ve-svete-asp-net.aspx
 {:html
  "\n<p>V&#160;poslední době vychází řada nových projektů z&#160;rukou\ntvůrců ASP.NET. V&#160;první řadě je to bezesporu revoluční framework\nAtlas o&#160;kterém jsem <a href=\"/clanek/95-nova-generace-webu.aspx\"\ntitle=\"článek Nová generace webu\">již psal</a> a psát ještě budu. Jak\njsem <a href=\"/clanek/121-atlas-go-live.aspx\"\ntitle=\"článek Atlas go Live\">již psal</a>, březnové <acronym\ntitle=\"Community Technical Preview\">CTP</acronym> bylo uvolněno s&#160;go-live\nlicencí, to umožňuje používat Atlas na produkčních serverech. Budoucí\nCTPčka budou s&#160;touto licencí vypouštěny rovněž. Aby nedošlo\nk&#160;mílce, doplním, že Atlas neni závislý na ASP.NET, ikdyž je pro\nněj primárně vyvíjen, a jeho výhody mohou <a\nhref=\"http://www.shankun.com/AtlasPhp.aspx\">využívat i&#160;třeba\nPHPkáři</a> nebo i &#8222;statici&#8220;. Atlas je čistě klientská\nzáležitost &#8211; teda až na zdroje dat samozřejmě. Data jsou\npřijímána ve formátech XML nebo <acronym\ntitle=\"JavaScript Object Notation\">JSON</acronym>.</p>\n\n<p>V&#160;příštím měsíci by měl být uvolněn první balíček ASP.NET\nserverověklien&#173;tských prvků postavených na Atlasu (kaskádové\ndropdownlisty, drag panely, sbalovací panely ap.). Určitě takové komponenty\npomohou k&#160;usnadnění vývoje interaktivních webových aplikací.</p>\n\n<p>Tak a na závěr si dáme pauzu od skvělého Atlasu a podívame se na mé\noblíbené téma <em>kvalita výstupu ASP.NET</em>. Vývojáří slibují, že\njiž brzy vydají balíček Adaptérů i&#160;se zdrojovými kódy, které\npřevádějí výstup na CSS strukturální kód. Dodám, že na Adaptérech je\npostaven celý adaptivní rendering ASP.NET, takže ke změně výstupu bude\npotřeba jen knihovna s&#160;Adaptéry a upravené soubory\n<code>*.browser</code>. Opravena by měla být většina dnes\n&#8222;nepoužitelných kontrolů&#8220;, které jsou layoutovány pomocí\ntabulek. To je myslím <strong>cool</strong>, ale mohlo to být rovnou. Ale\nzase tu budeme mít ukázku zajímavých programátorských postupů. Více\no&#160;adaptérech najdete <a\nhref=\"http://www.asp.net/QuickStart/aspnet/doc/extensibility.aspx#A\">na\nstránce s&#160;tutoriály k&#160;ASP.NET</a> a taky <a\nhref=\"http://borber.com/blog/?p=488\">u&#160;Borka</a>.</p>\n\n<p>Zdroj: <a\nhref=\"http://weblogs.asp.net/scottgu/archive/2006/03/30/441465.aspx\">Weblog\nScotta Guthrie</a></p>\n\n<p>PS: <a href=\"http://www.400plusdifferences.com/\">vývoj neni jen šedá\nnuda</a></p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-06T07:41:38.580-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Novinky ve světě ASP.NET",
  :published #inst "2006-04-06T07:32:00.000-00:00",
  :url "novinky-ve-svete-asp-net",
  :category-url "asp-net-2-0.aspx",
  :id 126,
  :description
  "Pár novinek ve vývoji ASP.NET. (Lehce aktualizovaná verze.)",
  :category "ASP.NET 2.0",
  :tags []},
 :413-k-cemu-vlastne-tdd.aspx
 {:html
  "\n<p>Na proběhnuvším <a href=\"http://coderetreat.cz/\">CodeRetreatu</a> jsme se\na pány Kolmanem a Augustýnem balivi o tom k čemu vlastně je <acronym\ntitle=\"Test Driven Development\">TDD</acronym>, jaký má přínos?</p>\n\n<p>Michal argumentoval tím, že dělá testable design a testy píše potom a\nže je s tím cajk, že nevidí důvod, proč dělat TDD. S Danem jsme\nnahazovali okřídleané pravdy o výhodách TDD, které Michal zašlapal.\nA tak jsme nenašli správnou argumentaci. A já o tom musel přemýšlet.\nPřece tam musí být nějakej zásadní rozdíl!</p>\n\n<p>A on je. Ta největší devíza TDD je <strong>iterativní přístup\nk vývoji.</strong> Pakliže se držíte nějaké agilní metodiky a jednou za\niteraci máte funkční produkt, který může jít potenciálně do produkce.\nS TDD jste v takovém stavu takřka každou chvíli (po dokončení kolečka\nRed-Green-Refactor). Kdykoli za vámi někdo přijde, že chce vidět jak na tom\njste, tak nemusíte říkat „těd to nejde, zrovna mám něco rozdělanýho a\nnefunguje to.“ S TDD vám aplikace funguje takřka pořád. Sice nemá\nvšechny požadované vlastnosti, ale <strong>je funkční.</strong></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-12-18T13:34:11.247-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "K čemu vlastně TDD?",
  :published #inst "2011-12-18T13:09:35.873-00:00",
  :url "k-cemu-vlastne-tdd",
  :category-url "moje-prace.aspx",
  :id 413,
  :description "Malé zamyšlení, k čemu vlastně to TDD je dobré.",
  :category "Moje práce",
  :tags ["tdd"]},
 :92-verejna-beta-ie.aspx
 {:html
  "\n<p>Včéra oznámil Microsoft, prostřednictvím vývojářského blogu, že\nveřejná betaverze Internet Exploreru 7, který již bude obsahovat změny\nv&#160;renderovacím jádru, bude uvolněna v&#160;prvním kvartálu roku 2006.\nTo znamená během tří měsíců. Vývojáři si od toho slibujou\ndostatečnou dobu na reportování chyb do finálního releasu &#8211; někdy\nkoncem roku.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-22T01:39:05.827-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Veřejná beta IE",
  :published #inst "2005-12-07T12:57:15.570-00:00",
  :url "verejna-beta-ie",
  :category-url "webdesign.aspx",
  :id 92,
  :description "Kdy se můžeme těšit na betaverzi IE7?",
  :category "Webdesign",
  :tags []},
 :123-vitejte-v-novem-webu.aspx
 {:html
  "\n<p>Projíždím si &#8211; jako každé ráno &#8211; svoji <a\nhref=\"http://reader.google.com/\">oblíbenou čtečku</a> a narazil jsem na\nzajímavý článek o&#160;<strong>Web 2.0</strong>. <a\nhref=\"http://weblogs.asp.net/nleghari/archive/2006/03/23/440965.aspx\">Welcome\nto Web 2.0</a></p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-24T07:25:05.907-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vítejte v novém Webu",
  :published #inst "2006-03-24T07:25:05.910-00:00",
  :url "vitejte-v-novem-webu",
  :category-url "webdesign.aspx",
  :id 123,
  :description "A co mě dnes ráno pobavilo?",
  :category "Webdesign",
  :tags []},
 :114-kladivo-na-carodejnice.aspx
 {:html
  "\n<p>Dneska začnu sérií článků, která se pokusí prolomit některé mýty\nokolo ASP.NET 2.0. Spousta webových vývojářů má mylné informace\no&#160;fungování této technologie a ještě větší skupina nemá informace\nžádné. To bych se chtěl pokusit napravit.</p>\n\n<p>Začněme od začátku. <a href=\"http://asp.net/\">ASP.NET</a> je součástí\n.net Frameworku od Microsoftu, ale implementují ho i&#160;opensource projekty\njako je <a href=\"http://www.go-mono.com/\">Mono</a>, které staví na\nstandardizaci dotnetu jako takového. Ano základní bloky dotnetu jsou <a\nhref=\"http://msdn.microsoft.com/netframework/ecma/\">standardizovány</a> a\nmají svoji normu ECMA potažmo ISO. Framework samotný je silně postaven na\ndoporučeních W3C.</p>\n\n<p>K&#160;samotnému ASP.NET. Spousta lidí si myslí, že je to stejný bastl\njako staré ASP a že je jeho pokračovatelem. Nikoliv, ASP.NET bylo celé\npřepsané, tak aby mohlo využívat výhod jednotné platformy. V&#160;ASP.NET\nmůžete využívat v&#160;podstatě jakoukoli část frameworku (od ADO.NET,\npřes práci s&#160;grafikou a po vstupně výstupní operace) a využívat\njazykové nezávislosti. Velikou nevýhodou ASP bylo, že jste museli mít\nspoustu vlastních knihoven, aby jste mohli vůbec něco udělat. Tyto knihovny\nse musely složitě registrovat do systému, na kterém stránky běžely a\nbylo k&#160;tomu potřeba mít administrátorká oprávnění nebo otravovat\nadmina, což mají velice rádi :) S&#160;příchodem dotnetu tohle všechno\nodpadá, vlastní knihovny stačí jednoduše nahrát do adresáře bin\nv&#160;rootu webu a o&#160;vše ostatní potřebné se postará běhové\nprostředí.</p>\n\n<p>To by bylo stručně k&#160;technologii. Další mýtem je nekvalitní\nvýstup. Je pravda, že ASP.NET v&#160;základu nevypouští z&#160;pohledu\nevangelizace nejmodernější kód. To je pravdou především v&#160;ASP.NET\n1.x a v&#160;ASP.NET 2.0&#160;v&#160;režimu výstupu Legacy. Tyto problémy\ns&#160;výstupem jsou ale snadno řešitelné, díky veliké modularitě\nASP.NET. Objekt Response, který má na starosti výstup má vlastnost Filter,\nkterou můžeme nahradit vlastním výstupním filtrem (objekt typu Stream) a\npřizpůsobit výstup k&#160;obrazu svému. Jedno z&#160;řešení najdete na\n<a href=\"http://www.aspnetresources.com/articles/HttpFilters.aspx\">ASP.NET\nResources</a>. Na výstup se aplikuje sada Regulérních výrazů, které mají\nna starosti vylepšení kódu. K&#160;našemu filtru si připíšeme HttpModul\na zkompilujeme do knihovny. Při další použití stačí přidat HttpModul do\nkonfiguračního souboru a vše funguje jak má. Jiným možným řešením je\nvytvoření vlastního předka pro všechny stránky nebo Master, kde bude\nFiltr aplikován. Opět si v&#160;konfiguraci nastavíme předka pro stránky a\njede to.</p>\n\n<p>Teď, když už máme validní výstup, spousta z&#160;vás si řekne, že\nk&#160;čemu mi je validní výstup. Když není přístupný. I&#160;na to\nv&#160;Microsoftu mysleli. Základní ovládací prvky jsou napsány tak, aby\nsplňovaly podmínky <a href=\"http://www.section508.gov\">Section 508</a>\n<br />a WCAG. I&#160;když je kód všech složitějších prvků prasácky\ntabulkový, je celkem přístupný. Pro mě je však tento fakt nedostatečný,\nnemám rád znásilňování tabulek k&#160;layoutování. Nevěšte hlavy\ni&#160;toto se dá hravě zvládnout, stačí jen chtít. Jedno obecně\naplikovatelné řešení jsem zde už psal v&#160;článku <a\nhref=\"http://rarous.net/clanek/85-beztabulkove-renderovani-controlu-v-asp-net-2-0.aspx\">Beztabulkové\nrenderování controlů v&#160;ASP.NET 2.0</a>.</p>\n\n<p>Závěrem bych chtěl poprosit nezasvěcené, aby neodsuzovali technologii,\nale vývojáře kteří jsou líní napsat kvalitní kód. Snahy Microsoftu\nvedou spíše k&#160;zpřístupnění webového vývoje i&#160;programátorům\nnewebařům. Tím pádem je použití tabulek pro layoutování logické,\nprotože jsou zde předpřipravené kusy komponent, které už nějak\nvypadají. Nikdo nepředpokládá znalosti CSS. Pro takové lidi je asi\nklikací metoda ideální a výstup je nějak validní a přístupný, pro ty,\nkteří kladou důraz i&#160;na kvalitu, není moc těžké (pokud tedy vědí\njak) se kvalitního výstupu domoci. Ze začátku to chce trochu víc práce,\nale pak už jde všechno lehce a samo.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-10-26T15:53:10.783-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Kladivo na čarodějnice",
  :published #inst "2006-03-01T12:19:27.500-00:00",
  :url "kladivo-na-carodejnice",
  :category-url "asp-net-2-0.aspx",
  :id 114,
  :description "Bourání mýtů ohledně ASP.NET v mém podání.",
  :category "ASP.NET 2.0",
  :tags []},
 :199-stastne-a-vesele.aspx
 {:html
  "\n<p>Přeji šťastné a veselé Vánoce všem lidem dobré vůle.</p>\n\n<blockquote>\n\t<p>Nešťastným štěstíčko\n\t<br />Nemocným zdravíčko\n\t<br />Chudým konto mastné\n\t<br />Všechny dny jen štastné.\n\t<br />Slepým světlo\n\t<br />Zmrzlým teplo\n\t<br />a teplým\n\t<br />aby se to v&#160;<a\n\thref=\"http://www.dgx.cz/trine/item/pojdme-vymytit-homosexualitu\"><em>hlavě\n\tpřeplo</em></a></p>\n</blockquote>\n\n<div class=\"center\"><img src=\"/data/obrazky/vanoce.jpg\" alt=\"Veselé Vánoce\"\n/></div>\n\n<blockquote>\n\t<p>Přišel mi Ježíšek\n\t<br />nadělit smůlu.\n\t<br />Že jí měl dost,\n\t<br />dal mi jí fůru.\n\t<br />Povídám: \"Ježíšku,\n\t<br />co takhle štěstí?\"\n\t<br />Listoval v&#160;<a href=\"http://www.atlas.cz\"><em>Atlasu</em></a>\n\t<br />pak mi dal pěstí :(</p>\n\n\t<p>Tak šťastné a veselé!</p>\n</blockquote>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-12-29T17:06:30.710-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Šťastné a veselé!",
  :published #inst "2006-12-24T14:19:28.957-00:00",
  :url "stastne-a-vesele",
  :category-url "jen-tak.aspx",
  :id 199,
  :description "Přeji šťastné a veselé Vánoce všem lidem dobré vůle.",
  :category "Jen tak",
  :tags []},
 :142-omluva-za-vypadek.aspx
 {:html
  "\n<p>Tímto se chci omluvit za dlouhý výpadek těchto stránek. Bohužel jsem ho\nnemohl nijak ovlivnit, chyba byla u&#160;poskytovatele připojení. Následně\nse budu snažit výpadek dohnat hodnotnými spoty ;)</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-05-03T13:54:12.300-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Omluva za výpadek",
  :published #inst "2006-05-03T13:54:12.210-00:00",
  :url "omluva-za-vypadek",
  :category-url "jen-tak.aspx",
  :id 142,
  :description "Omlouvám se za dlouhý výpadek serveru.",
  :category "Jen tak",
  :tags []},
 :115-rarous-v-atlasu.aspx
 {:html
  "\n<p>Pro některé překvapení pro jiné již známá věc. Dnes jsem nastoupil\ndo zaměstnání a to jako dotnet developer do portálu <a\nhref=\"http://www.atlas.cz\">Atlas.cz</a>. Ano (pro ty všímavější), proto ta\nikonka v&#160;pravém sloupci. Odedneška jsem tedy členem týmu a sedím na\nose <a href=\"http://blog.renestein.net/\">René Stein</a> &#8211; <a\nhref=\"http://www.mraveniste.org/\">Jan Bien</a>, takže jsem konečně osobně\npoznal mé oblíbené blogery. Další jména mi ještě v&#160;paměti\nneuvízla (až na výjimky), tímto se omlouvám a určitě se časem doučím\n:) Jeden den je na poznání lidí a práce zatim málo, ale vyzařuje\nz&#160;nich pohoda a kamarádství&#8230;</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-01T19:08:19.047-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Rarouš v Atlasu",
  :published #inst "2006-03-01T19:05:52.477-00:00",
  :url "rarous-v-atlasu",
  :category-url "jen-tak.aspx",
  :id 115,
  :description "Jen čtěte, je to o mě a mé nové práci.",
  :category "Jen tak",
  :tags []},
 :348-kanonicky-proti-duplicitam.aspx
 {:html
  "\n<p>Jedním z velkých problémů dnešních vyhledávačů je duplicitní\nobsah. Musejí se poprat s velkým množstvím stránek, které vypadají na\nprvní pohled shodně a liší se pouze v <acronym\ntitle=\"Uniform Resource Locator\">URL</acronym> adrese. Jak mají rozhodnout,\nkterou z těchto adres vrátit uživateli jako jedinou správnou?</p>\n\n<h3 id=\"toc-problem-duplicitniho-obsahu\">Problém duplicitního obsahu</h3>\n\n<p>Duplicitní obsah může vzniknout velice jednoduše, nemusí ani dojít ke\nzkopírování stránky někým jiným. Prostě stačí mít blbě nastavený\nserver a vracet stejný obsah pro URL s i bez <code>www.</code> na začátku.\nDalší možností je, že se vaše adresy dynamických stránek v čase\nvyvíjí. Začínal jsem s nepěknými adresami ve tvaru\n<code>clanek.aspx?id=4</code>, pak jsem časem přešel na SEO URL ve tvaru\n<code>clanek.aspx/4-nejaky-nadpis</code>, později jsem přidal URL rewriter a\nmé URL vypadaly takto <code>clanek/4-nejaky-nadpis.aspx</code>. Všechny tyto\nadresy vedou na stejný obsah, ale protože mají jinou URL, jsou to pro\nvyhledávacího robota různé stránky.</p>\n\n<p>Jako správný poskytovatel obsahu bych měl zajistit, že všechny verze URL\njsou stále funkční, ale měly by směřovat na jedinou platnou. Ale jak?</p>\n\n<h3 id=\"toc-reseni\">Řešení</h3>\n\n<p>Cest k cíli vede samozřejmě spousta. Pokud máte tu možnost, využijte\nnějaký URL rewriter. Zvolte si kanonickou formu vašich adres a tu všude\npoužívejte. Pokud nechcete používat v adresách prefix <code>www.</code>,\nstačí málo.</p>\n\n<p>Na IIS7 s URL Rewriterem přidejte do vašeho <code>web.config</code>\nsouboru do sekce <code>system.webServer/rewrite/rules</code>\nnásledující kód:</p>\n\n<pre\n><code class=\"language-markup\">&lt;rule name=\"Remove WWW prefix\" &gt;\n  &lt;match url=\"(.*)\" ignoreCase=\"true\" /&gt;\n  &lt;conditions&gt;\n    &lt;add input=\"{HTTP_HOST}\" pattern=\"^www\\.domain\\.com\" /&gt;\n  &lt;/conditions&gt;\n  &lt;action type=\"Redirect\" url=\"http://domain.com/{R:1}\" redirectType=\"Permanent\" /&gt;\n&lt;/rule&gt;</code></pre>\n\n<p>Na Apachi stačí do souboru <code>.htaccess</code> přidat\nnásledující řádky:</p>\n\n<pre><code># Remove WWW prefix\nRewriteCond %HTTP_HOST ^www\\.domain\\.com [I]\nRewriteRule ^/(.*) http://domain.com/$1 [RP]</code></pre>\n\n<p>Co ale dělat, pokud nemáte na serveru možnost URL rewriting\nprovádět?</p>\n\n<p>Naštěstí existuje alternativa. Vývojáři Google, Yahoo a Live Search se\ndomluvili na zavedení <code>link</code> tagu, který určuje kanonickou URL\npřímo v dokumentu. Do sekce <code>html/head</code> vašich stránek přidejte\nnásledující tag:</p>\n\n<pre\n><code class=\"language-markup\">&lt;link rel=\"canonical\" href=\"http://domain.com/kanonicka/adresa-stranky\" /&gt;</code></pre>\n\n<p>Tím dosáhnete toho, že pokud crawler navštíví vaši stránku přes\nrůzné adresy, vždy ji bude považovat za jednu a tu samou s adresou, která\nje hodnotou atributu <code>href</code>.</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a\n\t\thref=\"http://blog.stackoverflow.com/2008/06/dropping-the-www-prefix/\">StackOverflow\n\t\tBlog: Dropping The www Prefix</a></li>\n\n\t\t<li><a\n\t\thref=\"http://blogs.msdn.com/webmaster/archive/2009/02/12/partnering-to-help-solve-duplicate-content-issues.aspx\">Live\n\t\tSearch Blog: Partnering to help solve duplicate content issues</a></li>\n\n\t\t<li><a\n\t\thref=\"http://googlewebmastercentral.blogspot.com/2009/02/specify-your-canonical.html\">Google\n\t\tWebmaster Blog: Specify your canonical</a></li>\n\n\t\t<li><a href=\"http://fulltext.sblog.cz/2009/02/17/29\">Seznam Fulltext blog: Nová\n\t\tzbraň pro boj s duplicitním obsahem</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-02-17T20:11:34.260-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Kanonicky proti duplicitám",
  :published #inst "2009-02-13T07:27:54.080-00:00",
  :url "kanonicky-proti-duplicitam",
  :category-url "webdesign.aspx",
  :id 348,
  :description
  "Vyhledávače přicházejí s podporou nového link tagu canonical. Pojďme se podívat, jak předcházet duplicitnímu obsahu a rozmělňování page ranku, jak pomocí tohoto tagu, tak pomocí URL rewritingu.",
  :category "Webdesign",
  :tags ["iis7" "url" "apache" "rewriting" "seo"]},
 :79-pristup-k-objektum-master-page-v-asp-net-2.aspx
 {:html
  "\n<p>ASP.NET 2&#160;přináší globální šablonování pomocí Master pages.\nDíky tomu snadno udržíte jednotný vzhled aplikace. V &#8222;mástru&#8220;\nsi nadefinujete stránku přesně tak, jak chcete, aby ve výsledku vypadala a\npomocí objektů <code>&lt;asp:ContentPlaceholder&gt;</code> definujete místa,\nkterá se u&#160;jednotlivých stránek budou měnit. Samotné aspx stránky\nbudou obsahovat už jen tyto upravitelné části a výkonnou část dané\nstránky.</p>\n\n<p>Ovšem někdy je potřeba volat ovládací prvky, které jsou součástí\nmástru. Na výběr máme minimálně dvě možnosti jak toho docílit. Tou\nprvní je pomocí volání metody <code>FindControl(string name)</code>\nvlastnosti Master s&#160;tím, že si musíte přetypovat nalezený kontrol,\nnebo ošetřit nenalezený. Ta druhá využívá vlastnosti <acronym\ntitle=\"objektově orientované programování\">OOP</acronym> a to dědičnosti.\nNaše Master page dědí ze třídy Master, my si k&#160;ní ještě\npřipíšeme vlastní vlastnosti, které budou vracet a nastavovat námi\npožadované ovládací prvky nebo jejich vlastnosti.</p>\n\n<p>Chtějme např. z&#160;obsahové stránky přidávat do hlavičky stránky\n<strong>link na syndikaci</strong>, která se bude dynamicky měnit podle toho,\nv&#160;jaké jste sekci webu nebo jestli jste na titulní straně.</p>\n\n<p>V&#160;prvním kroku si vytvoříme vlastnost, která bude vracet sekci\n<code>&lt;head&gt;</code> výsledné stránky.</p>\n\n<pre><code class=\"language-csharp\">public partial class MyMaster : Master\n{\n        public HtmlHead Head\n        {\n                get { return (HtmlHead)this.Page.Header; }\n        }\n\n        protected void Page_Load(object sender, EventArgs e)\n        {\n\n        }\n}</code></pre>\n\n<p>V&#160;druhém kroku nastavíme obsahovým stránkám třídu, která jim má\nbýt Mastrem. Každá třída odvozená od Page má vlastnost Master, která je\ntypu Master. Naštěstí se zde používají generika, takže není velkým\nproblémem nastavit si třídu vlastní. Dosáhneme toho vložením\nnásledujícího řádku do zdroje obsahové stránky (podobně jako se\nregistrují UserControls).</p>\n\n<pre><code class=\"language-markup\">&lt;%@ MasterType VirtualPath=\"~/MyMaster.master\" %&gt;</code></pre>\n\n<p>Pokud by tento řádek v&#160;kódu chyběl, museli bychom všude vlastnost\nMaster přetypovat na námi požadovanou třídu, což přináší zbytečné\nopakování kódu, který není nutné psát. A&#160;na konec tu máme malou\nukázku toho, jak přidat link na RSS do stránky pomocí vlastnosti Head\nv&#160;našem mástru.</p>\n\n<pre><code class=\"language-markup\">&lt;%@ Page Language=\"C#\" MasterPageFile=\"~/MyMaster.master\" %&gt;\n&lt;%@ MasterType VirtualPath=\"~/MyMaster.master\" %&gt;\n\n&lt;script runat=\"server\"&gt;\n    protected void Page_Load(object sender, EventArgs e)\n    {\n        HtmlLink rssLink = new HtmlLink();\n        rssLink.Href = \"~/Syndikace.asmx/Rss\";\n        rssLink.Attributes.Add(\"rel\", \"Alternate\");\n        rssLink.Attributes.Add(\"type\", \"application/rss+xml\");\n        rssLink.Attributes.Add(\"title\", \"Web feed článků - RSS 2.0\");\n\n        Master.Head.Controls.Add(rssLink);\n    }\n&lt;/script&gt;\n\n&lt;asp:Content ID=\"Content1\" ContentPlaceHolderID=\"ContentPlaceholder1\" Runat=\"Server\"&gt;\n&lt;/asp:Content&gt;</code></pre>\n\n<!-- generated by Texy! -->",
  :keywords "master pages properties asp.net 2",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Přístup k objektům Master page v ASP.NET 2",
  :published #inst "2005-11-09T09:39:17.483-00:00",
  :url "pristup-k-objektum-master-page-v-asp-net-2",
  :category-url "asp-net-2-0.aspx",
  :id 79,
  :description
  "Návod jak přistupovat k&#160;vlastním vlastnostem Master page z&#160;obsahových stránek.",
  :category "ASP.NET 2.0",
  :tags []},
 :51-dj-orbith-v-dubnici.aspx
 {:html
  "\n<p>U&#160;nás pod Ještědem jsou jen dvě místa, kde se dá o&#160;víkendu\nzapařit. <a href=\"http://www.discoheges.cz\">V&#160;pátek v&#160;Hegeši</a> a\n<a href=\"htt://www.discodubnice.cz\">v&#160;sobotu v&#160;Dubnici</a>. Obě\ndiskotéky patřej moderátorovi <a href=\"http://www.deejay.cz\">Radia\nDeejay</a> Honzovi Bažantovi. No a tuhle sobotu tam hrál <a\nhref=\"http://www.djorbith.com\">DJ Orbith</a>, tak jsem po dlouhé době\nnavštívil diskotéku :)</p>\n\n<p>Od desíti asi do půl dvanáctý hrál Vítek Červený, taky z&#160;RD.\nMíchal spíš hausovější úpravy známejch věcí a pak trochu přitvrdil\nvíc k&#160;elektru &#8211; Geht's&#160;Noch? &#8211; aby připravil půdu pro\nOrbitha. Ten rozjel tu pravou elektro taneční atmosféru, pořádnej mazec :)\nTakhle z&#160;hlavy si nevzpomenu co všechno hrál, ale dost tracků je <a\nhref=\"http://www.djorbith.com/downloads/02electro.wma\">ke stažení</a>\nv&#160;setu <strong>Elektopop</strong> na stránkách DJ Orbitha.</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:55:49.050-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "DJ Orbith v Dubnici",
  :published #inst "2005-02-21T00:00:00.000-00:00",
  :url "dj-orbith-v-dubnici",
  :category-url "muzika.aspx",
  :id 51,
  :description "",
  :category "Muzika",
  :tags []},
 :38-zkousky.aspx
 {:html
  "\n<p>To slovo, zkoušky, ve mě probouzí velice divný pocit. Zlášť\nv&#160;tuhle dobu, kdy venku sněží. Místo toho abych se učil, tak pařim\nLord of the Rings: Battle for the Middle-earth :) Jak na to?</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:49:12.580-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zkoušky",
  :published #inst "2005-01-24T00:00:00.000-00:00",
  :url "zkousky",
  :category-url "skola.aspx",
  :id 38,
  :description "",
  :category "Škola",
  :tags []},
 :159-migrace-z-asp-net-1-x.aspx
 {:html
  "\n<p>Pokud stojíte před rozhodnutím přemigrovat vaše staré ASP.NET 1.x\naplikace do dvojky nebo už jste se rozhodli, doporučuji vám zabrowsdat na\nnásledující stránku: <a\nhref=\"http://msdn.microsoft.com/asp.net/reference/migration/upgrade/\">Upgrade\nfrom ASP.NET 1.x</a>. Najdete zde několik praktyckých článků, jak\npřemigrovat pomocí <a href=\"/clanek/144-web-application-project.aspx\">Web\nApplication Projectu</a> nebo pomocí Web Site Projectu. Najdete zde také odkaz\nna záplatu <a\nhref=\"http://www.microsoft.com/downloads/details.aspx?familyid=7cecd652-fc04-4ef8-a28a-25c5006677d8&amp;displaylang=en\">Web\nProject Conversion Wizard</a>, který opravuje několik chyb v konverzi, která\nje součástí Visual Studia 2005.</p>\n\n<p>Z vlastních zkušeností musím doporučit nainstalovat Web Application\nProject, který převod usnadňuje obrovsky a u rozsáhlejších projektů je\ndosažení uspokojivých výsledků s Web Site Projectem skoro nemožné nebo\nvelice zdlouhavé ;)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:32:21.863-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Migrace z ASP.NET 1.x",
  :published #inst "2006-06-12T10:49:39.377-00:00",
  :url "migrace-z-asp-net-1-x",
  :category-url "asp-net-2-0.aspx",
  :id 159,
  :description
  "Jak co nejefektivaněji přemigrovat ASP.NET 1.x weby na 2.0.",
  :category "ASP.NET 2.0",
  :tags ["aspnet"]},
 :376-lokalizovane-url-v-asp-net-mvc.aspx
 {:html
  "\n<p>Pokud se dostanete do situace, že budete potřebovat lokalizovat URL adresy\nvaší webové aplikace, máte hned několik možností, jak to řešit.</p>\n\n<p>Jedno z možných řešení, které se mi ani trochu nelíbí, popsal Augi\nve svém článku <a\nhref=\"http://www.augi.cz/programovani/asp-net-mvc-lokalizace-url/\">ASP.NET\nMVC – lokalizace URL</a>. Já mám raději jednoduchá řešení, která\nnepotřebují hackovat systém. :)</p>\n\n<p>Když jsme začali psát <a href=\"http://www.trop.cz/\">Trop</a>, byl celý\nv angličtině. Díky konvencím, které jsem popsal v článku <a\nhref=\"/weblog/340-pojmenovane-routy-v-asp-net-mvc.aspx\">Pojmenované routy\nv ASP.NET MVC</a>, měla naprostá většina stránek svojí vlastní routu.\nA protože definice routy není nic jiného než textový řetězec, přesunul\njsem jej do resource souboru <code>Routes.resx</code>. To byl první krok.</p>\n\n<p>Když jsme vymýšleli, jakým způsobem poběží jednotlivé jazykové\nmutace, bylo jasné, že každá mutace bude mít vlastní top-level doménu a\nbude to samostatná instance aplikace. To je super, protože se pak dá využít\nkonfigurační sekce <code>globalization</code>, kde se nastaví jazyk\nprostředí konkrétní instance, podle kterého se i vybírají konkrétní\nresource soubory.</p>\n\n<p>Česká instance pak má ve web.configu následující řádek:</p>\n\n<pre><code class=\"language-markup\">&lt;globalization culture=\"cs-CZ\" /&gt;</code></pre>\n\n<p>Díky tomu se použijí routovací pravidla z <code>Routes.cs.resx</code> a\nURL adresy se generují česky, aniž bych musel v kódu cokoli změnit.\nSamozřejmě nejsou přeložená všechna routovací pravidla, spousta akcí,\nkteré jsou pouze <code>POST</code>, překlad nepotřebuje, protože nejsou\nsoučástí prezentační vrstvy.</p>\n\n<p>Nakonec veškeré úsilí, které bylo k implementaci lokalizovaných URL\npotřeba, bylo v tom, embedovat definované routy do resource souboru,\ns čímž mi ochotně pomohl Refactor! Pro. :) Zbytek je věc konfigurace\nv deployovacím scriptu. Ale to už je na jiné povídání.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-01-24T11:33:06.293-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Lokalizované URL v ASP.NET MVC",
  :published #inst "2010-01-24T11:26:42.327-00:00",
  :url "lokalizovane-url-v-asp-net-mvc",
  :category-url "asp-net-2-0.aspx",
  :id 376,
  :description
  "Jak snadno a rychle vyřešit problém lokalizovaných URL v ASP.NET MVC potažmo i v ASP.NET 4?",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "mvc" "routing" "lokalizace"]},
 :243-buon-natale.aspx
 {:html
  "\n<p>Šťastné a veselé Vánoce a hodně štěstí a zdraví v novém roce Vám\npřeje Aleš Roubíček.</p>\n\n<div><img src=\"/data/obrazky/pf2008.jpg\" alt=\"PFka\" /></div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2007-12-24T12:17:28.603-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Buon natale",
  :published #inst "2007-12-24T12:17:28.557-00:00",
  :url "buon-natale",
  :category-url "jen-tak.aspx",
  :id 243,
  :description
  "Šťastné a veselé Vánoce a hodně štěstí a zdraví v novém roce Vám přeje Aleš Roubíček.",
  :category "Jen tak",
  :tags []},
 :176-alessio-busta-electro-session.aspx
 {:html
  "\n<ol>\n\t<li>Joachim Garraud – Space Invaders are Back</li>\n\n\t<li>Ame – Rej (Wally Lopez Remix)</li>\n\n\t<li>Sandy Vee – Just a Cliche</li>\n\n\t<li>Dj DLG – Latin Bomb (Robbie Rivera Remix)</li>\n\n\t<li>Raul Ricon – Indigenous People (Body)</li>\n\n\t<li>Get Far – Shining Star (Gianluca Motta Remix)</li>\n\n\t<li>Erick Morillo feat. P Diddy – Dance I Sad (Touche Instrumental)</li>\n\n\t<li>Darude – Sandstorm (Dj Dello Electro Mix)</li>\n\n\t<li>Commander Tom – I can't sleep</li>\n\n\t<li>In-N-Out – Musica Automatica</li>\n\n\t<li>Chris Lake – Changes (Funkagenda Remix)</li>\n\n\t<li>Mixin Marc – Right Here Right Now (Dub Mix)</li>\n\n\t<li>Tiësto feat. BT – Love Comes Again (Robert Vadney Remix)</li>\n\n\t<li>Therese – Time (StoneBridge HMB Dub)</li>\n</ol>\n\n<p>Ke stažení: <a href=\"/files/alessio_busta_-_electro_session.wma\"\nonclick=\"javascript:_gat._getTracker(\">Alessio Busta – Electro Session</a>\n(WMA 96 kbps; 54,1 MiB)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T15:09:37.250-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Alessio Busta - Electro Session",
  :published #inst "2006-08-22T15:30:02.547-00:00",
  :url "alessio-busta-electro-session",
  :category-url "muzika.aspx",
  :id 176,
  :description "Musica elettronica di Alessio Busta",
  :category "Muzika",
  :tags []},
 :448-deset-duvodu-proc-nepouzivat-funkcionalni-jazyky.aspx
 {:html
  "\n<p>Máte už plný zuby toho šílenýho povyku okolo funkcionálních jazyků?\nJá teda jo. Myslím, že je načase sepsat pár rozumných důvodů, proč se\nod něho držet dál. <strong>Funkcionální programování není pro\nkaždého.</strong> To je důležité zmínit hned na začátku.</p>\n\n<p>Pro jistotu, když píšu „staticky typovaný funkcionální jazyk,“ mám\nna mysli jazyk, který i dokáže odvozovat typy, jeho datové struktury\nnepodporují mutace, a podobné nesmysly. V praxi to znamená, že myslím\nzcela nepraktické (akademické) jazyky jako je Haskell nebo jazyky z rodiny ML\n(jako OCaml nebo F#).</p>\n\n<h3 id=\"toc-duvod-prvni-nemam-zajem-sledovat-posledni-vystrelky\">Důvod první:\nNemám zájem sledovat poslední výstřelky</h3>\n\n<p>Jako většina programátorů, jsem přirozeně konzervativní a nerad se\nučím nové věci. To je také důvod proč jsem si vybral kariéru v IT.</p>\n\n<p>Rozhodně nejančím z každé žhavé novinky, jen proto, že všichni\nfrajeři se z ním můžou podělat. Já si radši počkám, až ten\nvýstřelek trochu dospěje a ukáže se trochu perspektivním. Pro mě tu není\nfunkcionální programování dostatečně dlouho, aby mě přesvědčilo, že\ntu s námi ještě nějakou dobu bude.</p>\n\n<p>Ano, někteří se nás mohou snažit přesvědčovat, že ML nebo Haskell tu\nbyly asi tak stejně dlouho jako naše staré známé oblíbené jazyky, jako je\nJava nebo PHP, ale já o Haskellu, slyšel poprvé celkem nedávno, takže\ns tímhle argumentem na mě nechoďte.</p>\n\n<p>A podívejte na to batole, F#. Vždyť je teprve sedm let starý! Jistě, to\nmůže být dost dlouhá doba pro geology, ale na internetu? Sedm let!? To je\nskoro okamžik.</p>\n\n<p>Tak, jak říkám, radši budu opatrný a ještě si pár dekád počkám,\njestli tu ještě tohle to funkcionální programování bude, nebo jestli se to\nnakonec neukáže jako výstřelek doby.</p>\n\n<h3 id=\"toc-duvod-druhy-jsem-placen-od-radky-kodu\">Důvod druhý: Jsem placen od\nřádky kódu</h3>\n\n<p>Já teda nevím jak vy, ale čím víc řádek napíšu, tím víc se cítím\nproduktivní. Pokud můžu za den vychrlit 500 řádků kódu, mám ze sebe\ndobrý pocit. To byla dobře odvedená práce. Moje commity jsou velké a můj\nšéf může jasně vidět, že jsem byl opravdu vytíženej.</p>\n\n<p>Když porovnám kód napsaný ve funkcionálním jazyce s kódem ve starém\ndobrém céčkovém jazyce, chybí tam tolik kódu, že mě to až děsí.</p>\n\n<p>No, podívejte se sami na kód napsaný v povědomém jazyce:</p>\n\n<pre\n><code class=\"language-csharp\">public static class SumOfSquaresHelper\n{\n   public static int Square(int i)\n   {\n      return i * i;\n   }\n\n   public static int SumOfSquares(int n)\n   {\n      int sum = 0;\n      for (int i = 1; i &lt;= n; i++)\n      {\n         sum += Square(i);\n      }\n      return sum;\n   }\n}</code></pre>\n\n<p>a porovnejte to s tímhle:</p>\n\n<pre\n><code class=\"language-fsharp\">let square x = x * x\nlet sumOfSquares n = [1..n] |&gt; List.map square |&gt; List.sum</code></pre>\n\n<p>To je 17 řádek ku 2. <a\nhref=\"http://www.simontylercousins.net/journal/2013/2/22/does-the-language-you-choose-make-a-difference.html\">Představte\nsi ten rozdíl, když to rozložíte na celý projekt!</a> Kdybych takhle\npřistupoval k psaní mých programů, moje produktivita by drasticky klesla.\nBrrr, lepší si to ani nepředstavovat.</p>\n\n<h3 id=\"toc-duvod-treti-miluju-slozene-zavorky\">Důvod třetí: Miluju složené\nzávorky</h3>\n\n<p>A to taky dost nepobírám. Co je jako na těch jazycích, co se snaží\nzbavit všech těch závorek? Jak je pak vůbec můžeme považovat za\nopravdové programovací jazyky?</p>\n\n<p>Pojďme si ukázat, co mám na mysli. Tady je kus kódu se starejma dobrejma\nsloženejma závorkama:</p>\n\n<pre\n><code class=\"language-csharp\">public class Squarer\n{\n    public int Square(int input)\n    {\n        var result = input * input;\n        return result;\n    }\n\n    public void PrintSquare(int input)\n    {\n        var result = this.Square(input);\n        Console.WriteLine(\"Input={0}. Result={1}\", input, result);\n    }\n}</code></pre>\n\n<p>a tady obdobný kód bez složenejch závorek:</p>\n\n<pre><code class=\"language-fsharp\">type Squarer() =\n\n    let Square input =\n         let result = input * input\n         result\n\n    let PrintSquare input =\n         let result = Square input\n         printf \"Input=%i. Result=%i\" input result</code></pre>\n\n<p>Vidíte to? Já teda nevím jak vám, ale mně ta druhá ukázka přijde dost\nznepokojující, jako by tam něco důležitého chybělo. Ruku na srdce, jsem\ncelkem ztracený, když se mé oko nemůže odpíchnout od povědomých\nsložených závorek.</p>\n\n<h3 id=\"toc-duvod-ctvrty-chci-videt-explicitni-typy\">Důvod čtvrtý: Chci\nvidět explicitní typy</h3>\n\n<p>Zastánci funkcionálního programování tvrdí, že odvozování typů,\ndělá kód čistším, protože ho nemusíte pořád zanášet typovými\ndeklaracemi.</p>\n\n<p>Abych byl upřímný, já typové deklarace vidět chci. Necítím se ve své\nkůži, když nevidím jakého typu parametr přesně je. To je také důvod,\nproč mám rád Javu.</p>\n\n<p>Tady je signatůra funkce z nějakýho ML dialektu. Nejsou tam vůbec\nžádný deklarace typů. Všechny jsou odvozený automagicky:</p>\n\n<pre><code class=\"language-fsharp\">let GroupBy source keySelector =\n    ...</code></pre>\n\n<p>A tady je signatura té samé funkce v C#, s explicitně\nvyjádřenými typy:</p>\n\n<pre\n><code class=\"language-csharp\">public IEnumerable&lt;IGrouping&lt;TKey, TSource&gt;&gt; GroupBy&lt;TSource, TKey&gt;(\n    IEnumerable&lt;TSource&gt; source,\n    Func&lt;TSource, TKey&gt; keySelector\n    )\n    ...</code></pre>\n\n<p>Já teda nevím jak vám, ale mně se víc líbí druhá ukázka. Pro mě je\nvelice důležité, abych viděl, že ta funkce vrací\n<code>IEnumerable&lt;IGrouping&lt;TKey, TSource&gt;&gt;</code>.</p>\n\n<p>Tak určitě. Kompilátor jako zjistí, co je to za typ a upozorní mě,\nkdyž to nesedí, ale proč by to, proboha, měl dělat kompilátor? Od čeho\nmám svůj mozek?</p>\n\n<p>Přiznávám, že pokud pracujete s generiky, lambda výrazy a s funkcemi,\nkteré vracejí funkce a s dalšíma cool novinkama, tak pak asi můžou být\ntypové declarace trochu fousaté a komplexní. Může to být trochu těžké,\nnapast správný typ. Ale na druhou stranu, existuje na to jednoduchý lék:\n<strong>Nepoužívejte generika a nepředávejte si funkce.</strong> Vaše\nsignatury budou o dost jednodušší!</p>\n\n<h3 id=\"toc-duvod-paty-rad-opravuju-bugy\">Důvod pátý: Rád opravuju bugy</h3>\n\n<p>Neznám nic napínavějšího než je lov – vystopovat a zlikvidovat\npořádnou bugu. A když najdu bugu v produkci, ještě líp, protože navíc\nbudu ještě za hrdinu.</p>\n\n<p>Četl jsem, že <a\nhref=\"http://www.simontylercousins.net/journal/2013/3/7/why-bugs-dont-like-f.html\">se\nstaticky typovnými funkcionálními jazyky, je mnohem těžší\nzanést chybu.</a></p>\n\n<p>No tě pic.</p>\n\n<h3 id=\"toc-duvod-sesty-v-debuggeru-jsem-jako-doma\">Důvod šestý: V debuggeru\njsem jako doma</h3>\n\n<p>A když už jsem u toho lovení bugů. Většinu dne trávím v debuggeru,\nkrokováním kódu. Já vím, měl bych psát unit testy. Jenže to se\nsnadnějš řekne, než dělá…</p>\n\n<p>Každopádně, podle všeho, <a\nhref=\"http://www.haskell.org/haskellwiki/Why_Haskell_just_works\">pokud se vám\nve staticky typovaném funkcionálním jazyce podaří program zkompilovat,\nvětšinou i funguje</a>. Prej musíte většinu času zabít tím, aby jste\nsprávně poladili typy, aby to pěkně sedělo a pak máte hotovo. Co je na tom\nzábavného?</p>\n\n<p>Což mě přivádí k…</p>\n\n<h3 id=\"toc-duvod-sedmy-nechci-premyslet-nad-kazdym-detailem\">Důvod sedmý:\nNechci přemýšlet nad každým detailem</h3>\n\n<p>Všechno to ladění typů a ujišťování se, že všechno perfektně\nsedí, zní celkem nudně.</p>\n\n<p>Dokonce jsem někde slyšel, že jste nucený přemýšlet o každém\nmožném hraničním případu, všech možných chybových stavech a já\nnevím, co se ještě může zvrtnout. A to všechno od samého začátku.\nProstě nemůžeš být línej a nechat to na pozdějc.</p>\n\n<p>Radši se zaměřuju na to, aby (většinou) všechno prošlo tak jak má a\nbugy řeším, až když se ukážou.</p>\n\n<h3 id=\"toc-duvod-osmy-rad-overuju-null\">Důvod osmý: Rád ověřuju null</h3>\n\n<p>Jsem <a\nhref=\"http://stackoverflow.com/questions/7585493/null-parameter-checking-in-c-sharp\">velmi\nsvědomitý v případě ověřování <code>null</code> a to v každé\nmetodě</a>. Celkem mě uspokojuje pocit, že vím, že můj kód je ve\nvýsledku úplně neprůstřelný.</p>\n\n<pre\n><code class=\"language-csharp\">void SomeMethod(SomeClass x)\n{\n    if (x == null) { throw new ArgumentNullException(); }\n\n    x.DoSomething();\n}</code></pre>\n\n<p>Kecám. Samozřejmě to nedělám úplně všude, to bych vůbec nic jinýho\nneudělal.</p>\n\n<p>Ale, nakonec se mi stalo jen jednou, že jsem musel řešit pád, kvůli\n<code>NRE</code>. Ani jsme nepřišli o moc peněz za těch pár tejdnů, kdy\njsem hledal, kde je vlastně problém. Fakt nechápu, proč se z toho <a\nhref=\"http://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare\">dělá\ntaková věda</a>.</p>\n\n<h3 id=\"toc-duvod-devaty-rad-aplikuju-navrhove-vzory-kde-je-to-mozne\">Důvod\ndevátý: Rád aplikuju návrhové vzory, kde je to možné</h3>\n\n<p>Poprvý jsem o návrhových vzorech četl v knize <a\nhref=\"http://knihy.cpress.cz/navrhove-vzory.html\">Návrhové vzory</a>\n(z nějakýho důvodu se občas označuje jako GoF vzory, ale fakt netušim\nproč) a od tý doby je fakt pilně aplikuju na všechny problémy. Můj kód\npak vypadá líp a má „enterprise“ nádech. A to se mému\nšéfovi líbí.</p>\n\n<p>Ale ještě jsem ani náznakem neslyšel o nějakých vzorech ve\nfunkcionálním programování. Jak vůbec můžete udělat něco užitečnýho\nbez <a href=\"http://www.algoritmy.net/article/1639/Strategy\">Strategie</a>, <a\nhref=\"http://www.algoritmy.net/article/1403/Abstract-factory\">Abstraktní\ntovárny</a>, <a\nhref=\"http://www.algoritmy.net/article/1629/Decorator\">Dekorátoru</a>, <a\nhref=\"http://objekty.vse.cz/Objekty/Vzory-Proxy\">Proxy</a> nebo dalších?</p>\n\n<p>Možná o nich funkcionální programátoři ani neslyšeli…</p>\n\n<h3 id=\"toc-duvod-desaty-je-tam-prilis-matematiky\">Důvod desátý: Je tam\npříliš matematiky</h3>\n\n<p>Tady je další ukázka počítání mocnin. IMO je dost těžký pochopit,\no co vlastně jde, protože je tam sousta nesmyslných symbolů:</p>\n\n<pre><code>ss=: +/ @: *:</code></pre>\n\n<p>Dobře, omlouvám se, moje chyba, tohle je <a\nhref=\"http://en.wikipedia.org/wiki/J_(programming_language)\">kód v J</a>. Ale\nstejně jsem viděl, jak je ten funkcionální kód plnej různých\n<code>&lt;*&gt;</code> a <code>&gt;&gt;=</code> a vůbec takových divných\nkonceptů jako jsou „monády“ a „funktory“.</p>\n\n<p>Fakt nechápu, proč tihle funkcionalisti nemohli nechat věci, který už\ndobře znám – jasné symboly jako <code>++</code> nebo <code>!=</code> a\njednoduché koncepty jako je „dědičnost“ a „polymorfismus“.</p>\n\n<h3 id=\"toc-shrnuti-fakt-to-nechapu\">Shrnutí: Fakt to nechápu</h3>\n\n<p>Víte co? Fakt to nechápu. Nechápu, co by mohlo být na funkcionálním\nprogramování užitečný.</p>\n\n<p>Jediný oč žádám je, aby mi někdo <a\nhref=\"http://fsharpforfunandprofit.com/why-use-fsharp/\">ukázal skutečné\nbenefity na jedný stránce</a>, místo chrlení příliš spousty nesourodých\ninformací.</p>\n\n<p><strong>Update:</strong> Tak jsem si přečetl tu stránku „vše co\npotřebujete vědět na jediné stránce.“ Ale je to <a\nhref=\"http://www.devbook.cz/jak-zacit-programovat-tvorit-aplikace-programy\">příliš\nkrátké a zjednodušující</a>, aby mi to dávlo smysl. Fakt hledám něco, co\n<a\nhref=\"http://programujte.com/clanek/2006032503-co-je-to-funkcionalni-programovani/\">má\ntrochu hloubku</a>, něco, co by mě <a\nhref=\"http://www.knesl.com/articles/view/jak-se-pustit-do-ukolu-ktery-se-vam-nechce-delat\">fakt\nchytlo</a>.</p>\n\n<p>A ne, fakt nemám chuť <a href=\"http://learnyouahaskell.com/\">číst\ntutoriály</a>, <a href=\"http://www.tryfsharp.org/Learn\">hrát si\ns ukázkama</a> a psát vlastní kód. Chci tomu jen přijít na kloub, bez\ntoho, abych musel dělat všechny ty zbytečný věci.</p>\n\n<p><strong>Nechci měnit to, jak myslím, jen se chci naučit to nové\nparadigma.</strong></p>\n\n<p><em>článek je volným překladem <a\nhref=\"http://fsharpforfunandprofit.com/posts/ten-reasons-not-to-use-a-functional-programming-language/\">Ten\nreasons not to use a statically typed functional programming language</a> od\nScotta Wlaschina</em></p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-04-14T15:26:18.637-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Deset důvodů proč nepoužívat funkcionální jazyky",
  :published #inst "2013-04-14T10:15:12.213-00:00",
  :url "deset-duvodu-proc-nepouzivat-funkcionalni-jazyky",
  :category-url "moje-prace.aspx",
  :id 448,
  :description
  "Máte už plný zuby toho šílenýho povyku okolo funkcionálních jazyků? Já teda jo. Myslím, že je načase sepsat pár rozumných důvodů, proč se od něho držet dál. ",
  :category "Moje práce",
  :tags []},
 :237-jak-se-stavi-luxusni-domy.aspx
 {:html
  "\n<p>Při snídani jsem se podíval z okna a málem mě to stálo život.\nUdušení rohlíkem v záchvatu smíchu, není moc hezká smrt. Vlastně je\naspoň veselá. :)</p>\n\n<p>Co jsem za tím oknem viděl? Přes ulici se staví 2. etapa výstavby\nluxusního bydlení <a href=\"http://www.krutec.cz/\">Na Krutci</a>. Jeden\nz dělníků tam dolepoval zateplení. Už jen to že správný tvar vytvářel\nhranou zednické lžíce, mě značně rozesmálo. Následovala část lepení,\nkdy tu vokousanou hranu přetřel vrstvou lepidla, pak ji rovnoměrně\nroztíral. Nakonec to vzal a vrazil na zeď a pak to táhl 30 cm směrem ke\nkraji. Nakonec vytáhl libelu a testoval, zda to má rovně. No to už jsem se\nsvíjel v křeči.</p>\n\n<p>No <a\nhref=\"http://picasaweb.google.com/Jakub.Klinke/JakSprVnZateplovat/\">podívejte\nse sami</a>, Kuba něco stihl i nafotit a přidal i odborný\nkomentář. :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:10:17.353-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak se staví luxusní domy",
  :published #inst "2007-12-04T09:44:43.683-00:00",
  :url "jak-se-stavi-luxusni-domy",
  :category-url "jen-tak.aspx",
  :id 237,
  :description
  "Při snídani jsem se podíval z okna a málem mě to stálo život. Udušení rohlíkem v záchvatu smíchu, není moc hezká smrt. Vlastně je aspoň veselá.",
  :category "Jen tak",
  :tags ["luxusní" "domy" "krutec"]},
 :299-stahnete-si-texy-net-a-nforms-pres-svn.aspx
 {:html
  "\n<p>Projekty, které se rozhodnu vypustit ven, většinou hostuju na <a\nhref=\"http://www.codeplex.com/\">CodePlexu</a>. Jeho UI mi přijde mnohem\nrychlejší než konkurenční <a\nhref=\"http://www.sourceforge.net/\">SourceForge</a> a přehlednější než <a\nhref=\"http://code.google.com/\">Google Code</a>. Nevadí mi, že za tímto\nhostingem stojí velký zlý Microsoft, naopak to vítám. Tento projekt byl\njedním z prvních krůčků na podporu OpenSource ze strany Microsoftu a\nnavíc je místem, kde samotný Microsoft uveřejňuje spoustu zajímavých\nprojektů. Například <a href=\"http://www.codeplex.com/aspnet\">budoucí části\nASP.NET</a>.</p>\n\n<p>Ale zpět k tématu. Tento hosting je postaven na <a\nhref=\"http://msdn.microsoft.com/en-us/tfs2008/default.aspx\">Team Foundation\nServeru</a> (TFS), který je centrem pro týmovou práci, verzovacím systémem\na v neposlední řadě i systémem pro vedení požadavků a úkolů. Tím se\nodlišuje od konkurence, která většinou používá tradiční SVN, což je po\nléta de-facto standard pro verzování OpenSource projektů. Komunita dlouho\nvolala po tom, že chtějí SVN i CodePlexu. V MS nakonec udělali\nkompromis.</p>\n\n<h3 id=\"toc-svn-bridge\">SVN Bridge</h3>\n\n<p><a href=\"http://www.codeplex.com/SvnBridge\">SVN Bridge</a> byl první krok.\nJe to taková malá utilitka, kterou si spustíte na vašem počítači a ona\npřekládá vaše SVN požadavky do řeči, které rozumí TFS. Můžete s ní\npak používat oblíbené nástroje jako <a\nhref=\"http://tortoisesvn.tigris.org/\">TortoiseSVN</a> nebo <a\nhref=\"http://www.visualsvn.com/\">VisualSVN</a>. Ale pořád je tu nutnost\ndonahrát si utilitu a ani URL repository ve tvaru\n<code>http://localhost:8081/&lt;tfs.server.name&gt;/&lt;projectname&gt;</code>\nnejsou nějak úchvatná.</p>\n\n<p>Tento měsíc však došlo k zásadní změně. Na Codeplexu byl nasazen\nserverový SVN bridge, takže už nemusím pouštět lokální verzi, ale rovnou\nmůžu pro snadný přístup přes SVN nástroje používat adresy\nnásledující:</p>\n\n<ol>\n\t<li>pro <a href=\"http://www.codeplex.com/nforms\">NForms</a>\n\t<code>https://nforms.svn.codeplex.com/svn</code></li>\n\n\t<li>pro <a href=\"http://www.codeplex.com/texynet\">Texy.net</a>\n\t<code>https://texynet.svn.codeplex.com/svn</code></li>\n</ol>\n\n<p>No a vy také ;)</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a href=\"https://svnbridge.svn.codeplex.com/svn\">Subversion Support Comes to\n\t\tCodePlex… Sorta’</a></li>\n\n\t\t<li><a rel=\"bookmark\" href=\"/weblog/209-texy-net-na-codeplexu.aspx\">Texy.net na\n\t\tCodeplexu</a></li>\n\n\t\t<li><a rel=\"bookmark\" href=\"/weblog/225-budoucnost-texy-net.aspx\">Budoucnost\n\t\tTexy.net</a></li>\n\n\t\t<li><a rel=\"bookmark\" href=\"/weblog/291-nforms-na-codeplexu.aspx\">NForms na\n\t\tCodeplexu</a></li>\n\n\t\t<li><a\n\t\thref=\"http://blogs.msdn.com/codeplex/archive/2008/09/14/codeplex-launches-support-for-tortoisesvn.aspx\">CodePlex\n\t\tlaunches support for TortoiseSVN</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:32:53.113-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Stáhněte si Texy.net a NForms přes SVN",
  :published #inst "2008-09-13T16:02:58.277-00:00",
  :url "stahnete-si-texy-net-a-nforms-pres-svn",
  :category-url "asp-net-2-0.aspx",
  :id 299,
  :description
  "Na Codeplexu zprovoznili serverovo variantu SVN bridge. Nyní si můžete stáhnout Texy.net, NForms nebo třeba ASP.NET MVC pohodlně přes SVN nástroje.",
  :category "ASP.NET 2.0",
  :tags
  ["codeplex" "nforms" "texynet" "aspnet" "snv" "opensource" "vcs"]},
 :160-dalsi-nova-alba.aspx
 {:html
  "\n<p>V&#160;sekci Galerie přibyla čtyři nová alba. První obsahuje fotografie\nz&#160;hasičské soutěže <a\nhref=\"/galerie/2006-06-17_Pohar_starosty_Osecne/default.aspx\">Pohár starosty\nobce Osečná</a> a ta druhá z&#160;<a\nhref=\"/galerie/2006-06-24_Martin_Hranac_v_Dubnici/default.aspx\">diskotéky\nv&#160;Dubnici</a>. Třetím albem jsou fotky, které jsem nafotil <a\nhref=\"/galerie/2006-06-18_zahrada/default.aspx\">na naší zahradě</a> a to\nčtvrtý obsahuje <a href=\"/galerie/2006-05-21_Shake_66/default.aspx\">fotky\nz&#160;Shaku</a>.</p>\n\n<p>V&#160;přípravě mám velké album fotek z&#160;<em>Akce &#8211; Paul van\nDyk v&#160;Praze</em>. Již brzy na vašich monitorech&#8230;</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-06-27T17:22:20.063-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Další nová alba",
  :published #inst "2006-06-27T17:20:00.000-00:00",
  :url "dalsi-nova-alba",
  :category-url "jen-tak.aspx",
  :id 160,
  :description
  "V sekci Galerie přibyla čtyři nová alba. A chystám další...",
  :category "Jen tak",
  :tags []},
 :274-takovy-nenormalni-den-v-mym-zivote.aspx
 {:html
  "\n<p>Uff to byl včera zase den. Nemůžu říct že bych nebyl ve středu\npozornosti, ale ne vždy je to žádoucí. Vezlo se to se mnou už od rána.\nModře blikající <a\nhref=\"http://direct.motorola.com/ens/BTStereoHS_Web_ProductHome.asp\">HT820</a>\nna uších nepatří mezi nejdecentnější poslechová zařízení, ale mám\nrád volnost bez drátů a celkem kvalitní zvuk. K tomu ještě to čerstvý\nčíro, takže moje hlava byla obohacena o další výčnělek.</p>\n\n<p>Zraky spolucestujících se na mě upínaly celkem často, ale na to už jsem\nzvyknut. Pak jsem přišel do práce. Už u vchodu dostal Filip pěknej\nvýtlem, a uklizečka prohodila něco o kokrháčovi. Tyhlety narážky\npřecházim s ledovým klidem, většinou to ty lidi ještě nasere. Pak jsme\npřijeli k nám do sedmičky vejdu dovnitř a slušně pozdravím. Odpovědí\nmi byly jen spadlé čelisti :D</p>\n\n<p>Každou chvíli se pak na mne chodil někdo dívat, nebo mě zastavoval,\nkdyž jsem šel na záchod. Odpoledne už si všichni zvykli tak to bylo ok. Pak\npřinesl Filip dvanáct dvanáctek, že je v <a\nhref=\"http://www.atlas.cz/\">Atlasu</a> dnes naposled. Tak jsem to s ním\nzapili. Je to smutný, ale pomalu se z nás stávaj alkoholici – tolik\nrozluček a narozeninových oslav v tak krátkém období je vážně smrťák.\nNa rozloučenou jsme ještě Filipa vyklepli v CoDu a večer se razilo na\ngrilování – což měla být seznamovací akce s novým\nzaměstnavatelem.</p>\n\n<p>Mottem akce bylo „Cuba Libre!“ Takže hned na začátek jsem si dal\npěkně nešizený kubíčko (no chyběly citrusy a víc ledu, ale i tak\ndobrý). Když už jsme měl rozpitý asi třetí, tak někdo otevřel Reservu a\nprej že vypadá jak Whiska. No tomu jsem musel oponovat a vytáhl jsem\nz báglu placku s Walkerem. Po krátké degustaci jsem museli konstatovat, že\nchuť i vůně je dost jiná, že možná jen ta barva bude trochu\npodobná.</p>\n\n<p>Jenže na tuhle kombinaci už jsem jednou dojel, prostě mi nedělá moc\ndobře. Myslím, že jsem měl lehkou otravu. No takže jsem se krásně\nv nové firmě uvedl. Pěkně jsem jim poblil terásku… Chjo. Ale zas teď\nuž jentak něčím nepřekvapím, to nejhorší už viděli :D Jo a díky\nvšem, co se o mně tak pěkně starali.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-05-23T17:46:15.380-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Takový nenormální den v mým životě",
  :published #inst "2008-05-23T17:41:21.943-00:00",
  :url "takovy-nenormalni-den-v-mym-zivote",
  :category-url "jen-tak.aspx",
  :id 274,
  :description
  "Strasti a slasti takového obyčejného májového čtvrtka.",
  :category "Jen tak",
  :tags []},
 :124-ajajaj.aspx
 {:html
  "\n<p>Začal jsem si pohrávat s&#160;<a href=\"http://atlas.asp.net/\">Atlasem</a>.\nMojí první aplikací je <strong>Oblíbené čtení</strong>, které možná\nnajdete v&#160;pravém sloupci na titulní straně. Zatim je\nv&#160;<em>bataverzi</em> :) takže kdyby vám to nefungovalo, klidně mi to\npísněte (nejlépe na <acronym\ntitle=\"ales.roubicek@pbsoftware.cz\">MSN</acronym> nebo <acronym\ntitle=\"226-449-424\">ICQ</acronym>). Taky jsel celý pravý sloupec\nredesignoval, aby vypadal víc jako aplikace než stream písmenek.\nV&#160;důsledku toho jsem předělal i&#160;výpis Archívu a Rubrik, ale\nzvolená technika (čistě CSS) asi neni ta nejvhodnější, asi to trochu\nrozšířím o&#160;nějakej script &#8211; ikdyž ty moc rád nemám, ale\nmusim se někde začít učit i&#160;to :) &#8211; aby se to nechovalo tak\ndivoce. Taky jsem si všimnul, že nějak přestaly funguvat články, takže\nto je teď bod č. 1, kterej musim pořešit.</p>\n\n<h3>Update 1</h3>\n\n<p>Tak pořešeno &#8211; chyba byla v&#160;blbě nastaveným cachování. To\njsem tupec. Taky jsem kvůli Atlasu změnil Content-type a Doctype, ve\nstrictním XHTML prostě nefunguje :(</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-29T22:11:40.743-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Ajajaj",
  :published #inst "2006-03-27T17:36:53.897-00:00",
  :url "ajajaj",
  :category-url "jen-tak.aspx",
  :id 124,
  :description "O novinkách na mém webu.",
  :category "Jen tak",
  :tags []},
 :203-cybertronic-ii-nejlepsi-parba-roku.aspx
 {:html
  "\n<p>V&#160;noci z&#160;pátka na večer jsem navštívil jedno\nz&#160;nejúžastnějších měst České Republiky – Brno. Právem je druhé\nnejvěší. Svou návštěvou jsem ho však nepoctil jen tak zbůhdarma, ale\nmířil jsem na jednu z&#160;nejúžasnějších halových akcí vůbec –\nCybertronic II – která na mně zanechala nejlepší dojem ze všech akcí,\nkteré jsem za svůj krátký život stihl navštívit.</p>\n\n<p><img class=\"right\" src=\"/data/obrazky/P3300007.JPG\" alt=\"prostorná hala\" />\nPůvodně se měla akce konat v&#160;hale Rondo, ale nakonec byla šikovně\nzvolena BIBI hala (bývalý Bauhaus), jejíž prostory jsou pro takéto účely\nmnohem vhodnější než zimní stadion. Líbila se mi jak výborná akustika,\ntak obrovské prostory s&#160;toaletami, to se jen tak nevidí. Nekonečný bar\npřes celou délku haly byl ještě oživen výbornými světelnými\nefekty.</p>\n\n<p>Nejvíce se mi však na celé akci líbilo, jak byla zorganizovaná a jak se\npořadatelé dokázali bleskurychle vypořádat s&#160;nečekaně nastalými\nudálostmi. Klobouk dolů!</p>\n\n<p><img class=\"left\" src=\"/data/obrazky/P3300019.JPG\" alt=\"DJ Orbith\" />\nHeadlinerem akce měl být nějakej švédskej typ – <a\nhref=\"http://www.ericprydz.com\">Eric Prydz</a> – kterej se na to, ikdyž měl\npodepsanou smlouvu, prostě vyflák a do Brna nepřijel. Beztak na něj nikdo\nnebyl zvědavej. Pořadatelé naštěstí rychle zareagovali a šetrně\nzměnili line-up a ihned to briskně oznámili návštěvníkům.</p>\n\n<p>Ještě že celou akci zachránil Fred Baker, kterej hrál vymazlenej\ntrancík, díky němu jsem si celou noc opravdu užíval :D Díky\nFrede&#8230;</p>\n\n<h3>Související</h3>\n\n<ul>\n\t<li><a href=\"/galerie/2007-03-30_Cybertronic_II/default.aspx\">Fotky\n\tz&#160;akce</a></li>\n</ul>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2007-04-08T10:57:51.173-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Cybertronic II – nejlepší pařba roku!",
  :published #inst "2007-04-01T16:59:56.580-00:00",
  :url "cybertronic-ii-nejlepsi-parba-roku",
  :category-url "muzika.aspx",
  :id 203,
  :description
  "V noci z pátka na večer jsem navštívil jednu z nejúžasnějších halových akcí vůbec – Cybertronic II.",
  :category "Muzika",
  :tags []},
 :340-pojmenovane-routy-v-asp-net-mvc.aspx
 {:html
  "\n<p>Minule jsme si ukázali, <a rel=\"bookmark\"\ntitle=\"DSL pro konfiguraci URL Routingu v ASP.NET MVC\"\nhref=\"/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx\">jak\njednodušeji definovat routy v ASP.NET MVC</a> pomocí maker v jazyce Boo.\nPrvním parametrem pravidla pro vytvoření routy je její název. K čemu je\nužitečný?</p>\n\n<p>Když začnete psát větší aplikaci v <a\nhref=\"http://asp.net/mvc\">ASP.NET MVC</a>, zjistíte, že si s výchozí routou\n<code>{controller}/{action}/{id}</code> dlouho nevystačíte. Ať už je to\ntím, že chcete mít aplikaci lokalizovatelnou do více jazyků včetně URL\nadres, nebo tím, že prostě název řadiče (controlleru) není pro URL zrovna\nvhodný. Je k tomu spousta důvodů, ale ten nejzákladnější bude, že ne\nvšechny akce mají pouze jeden parametr a ještě k tomu id…</p>\n\n<h3 id=\"toc-definice-routovaci-tabulky\">Definice routovací tabulky</h3>\n\n<p>K definici fiktivní routovací tabulky využijeme DSL vytvořenou\nv minulém spotu. Každý správný vývojář určitě <a\nhref=\"http://latrine.dgx.cz/programatori-nepouzivaji-cisla\"\ntitle=\"Programátoři nepoužívají čísla\">nepoužívá čísla</a>, ale ani\nřetězce! Proto si nejprve vytvoříme statickou třídu pro uskladnění\nnázvů našich rout.</p>\n\n<pre\n><code class=\"language-csharp\">namespace MyWeb.Routing {\n  public static class Routes {\n    public const string EditArticle = \"edit article\";\n    public const string ListArticles = \"list articles\";\n  }\n}</code></pre>\n\n<p>A nyní přejdeme k definování routovací tabulky.</p>\n\n<pre\n><code class=\"language-boo\">import file from RoutingMacros.boo\n\nimport System.Web.Routing\nimport System.Web.Mvc\n\nimport MyWeb.Routing from MyWeb\n\narticles_controller = \"Articles\"\n\nmap_route Routes.EditArticle, \"admin$/articles/editor/{id}\":\n  defaults:\n    controller = articles_controller\n    action = \"Edit\"\n\nmap_route Routes.ListArticles, \"admin$/articles\":\n  defaults:\n    controller = articles_controller\n    action = \"Index\"</code></pre>\n\n<p>Řetězce šablony routy jsou rovněž dobrými adepty na přesun do resource\nsouboru, ale pro tentokrát se spokojíme s jejich přítomností. Pro dnešní\nukázku to plně dostačuje. :)</p>\n\n<p>Tak, routovací tabulku máme nadefinovanou a k čemu nám to\nvlastně je?</p>\n\n<h3 id=\"toc-pouziti-v-praxi\">Použití v praxi</h3>\n\n<p>Když jsem onehdá psal o tom, jak funguje <a rel=\"bookmark\"\ntitle=\"Routing v ASP.NET MVC\"\nhref=\"/weblog/296-url-routing-v-asp-net-cast-prvni.aspx\">URL Routing v ASP.NET\nMVC</a>, tak jsem nakousnul téma obousměrného routingu. Na WebExpu na to už\ntolik času taky nebylo, tak nezbývá, než se k tomu vrátit nyní. Pro\nněkoho to bude možná překvapení, ale routovací tabulky lze využít\ni k <strong>vytváření odkazů</strong>! A taky se toho hojně využívá.\nUrčitě každý, kdo už si ASP.NET MVC zkoušel, potkal\n<code>HtmlHelper</code> a jeho extenzi <code>ActionLink</code>. Užití\nv šabloně pohledu je asi následující:</p>\n\n<pre\n><code class=\"language-markup\">&lt;%= Html.ActionLink(\"Vypiš články\", \"Index\") %&gt;</code></pre>\n\n<p>Tento helper se podívá do routovací tabulky, z kontextu si vezme název\naktuálního řadiče (vpodstatě všechny vlastnosti aktuální routy) a spojí\nho s názvem akce, který byl definován jako parametr helperu (v tomto\npřípadě <em>Index</em>). Tyhle dvě (popř. více) hodnoty hledá v tabulce,\nnajde šablonu routy (<code>\"admin$/articles\"</code>), nacpe do ní získané\nhodnoty (v tomto případě žádné) a vrátí to celé jako odkaz:</p>\n\n<pre\n><code class=\"language-markup\">&lt;a href=\"admin$/articles\"&gt;Vypiš články&lt;/a&gt;</code></pre>\n\n<p>Výhodou užití takového helperu je, že pokud změníte routu, tak se vám\nautomaticky generují správné odkazy. Odkazy na akci jsou dobré v kontextu\njednoho řadiče. Jenže, když máme trochu víc řadičů a navíc na jejich\nakce odkazujeme z pohledů jiných řadičů, musíme přidávat další\nparametr, který definuje, o jaký řadič se jedná, na jehož akci chceme\nodkázat. Věci by měly zůstávat co nejjednodušší. Proto je zde další\nhelper, který dělá odkazy na pojmenované routy.</p>\n\n<pre\n><code class=\"language-markup\">&lt;%= Html.RouteLink(\"Vypiš články\", Routes.ListArticles) %&gt;</code></pre>\n\n<p>Výsledek je totožný s předchozím, ale jsou tu i jisté jiné benefity.\nNázev routy je totiž klíčem v routovací tabulce, proto je vytváření\nodkazu na pojmenovanou routu rychlejší/výkon­nější (nemusí se\nvyhledávat v hodnotách, ale je tu přístup přímo přes index). Proto se je\nnebojte používat, kde to jen jde…</p>\n\n<h3 id=\"toc-zaver\">Závěr</h3>\n\n<p>Obousměrný routing je v ASP.NET MVC velice silná věc a prozkoumat jeho\ntemná zákoutí a pochopit, co se k čemu hodí, může zabrat nějaký ten\nčas. Doufám, že jsem vám trošku to prozkoumávání usnadnil. Ale nebojte,\nzanedlouho by měla vyjít RC verze ASP.NET MVC, kde přibudou další\nzajímavé helpery.</p>\n\n<div class=\"hslice\" id=\"related\">\n\t<h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3>\n\n\t<ul class=\"entry-content\">\n\t\t<li><a rel=\"bookmark\" title=\"Routing v ASP.NET MVC\"\n\t\thref=\"/weblog/296-url-routing-v-asp-net-cast-prvni.aspx\">URL Routing v ASP.NET\n\t\tMVC</a></li>\n\n\t\t<li><a rel=\"bookmark\" title=\"DSL pro konfiguraci URL Routingu v ASP.NET MVC\"\n\t\thref=\"/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx\">DSL pro\n\t\tkonfiguraci URL Routingu v ASP.NET MVC</a></li>\n\n\t\t<li><a\n\t\thref=\"http://weblogs.asp.net/leftslipper/archive/2008/12/17/optimizing-your-route-collection-for-url-generation-in-asp-net-mvc-and-more.aspx\">Eilon\n\t\tLipton: Optimizing your route collection for URL generation in ASP.NET MVC\n\t\t(and more!)</a></li>\n\t</ul>\n</div>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-20T20:26:14.457-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pojmenované routy v ASP.NET MVC",
  :published #inst "2009-01-03T21:10:44.220-00:00",
  :url "pojmenovane-routy-v-asp-net-mvc",
  :category-url "webdesign.aspx",
  :id 340,
  :description
  "Dnes se podíváme na zoubek opět URL routingu. Tentokrát se podíváme na to, jak pěkně generovat odkazy.",
  :category "Webdesign",
  :tags ["aspnet" "mvc" "routing"]},
 :333-trencanske-parky-s-fazoli-po-mexicku.aspx
 {:html
  "\n<p>Vaření konzerv Trenčanské párky s fazolí patřilo ke koloritu mých\nstudentských let. Sice už jsou dávno pryč, ale proč některé vzpomínky\nneoživit? :)</p>\n\n<p>Prefabrikované potraviny mají tu výhodu, že jsou velice rychle hotové a\nvětšinou jsou i stravitelné. Když už jste donuceni něco takového jíst,\nproč si to trochu nezpestřit? Dnes přináším krátký návod na lehký\nupgrade.</p>\n\n<p>Nakrájíme anglickou slaninu (nebo uzený vepřový bok) na větší kousky\na osmahneme na pánvičce. Přidáme nahrubo nasekanou cibulku a necháme\nzesklovatět. Do připraveného základu vmícháme obsah konzervy. Necháme\nohřát na mírném plameni, aby se fazolky nepřipekly. Ostrost dodáme\nšpetkou Jolokii (pozor hodně opatrně), nebo kajenským pepřem. Řádně\nrozmícháme. Na závěr vmícháme na kostičky nakrájený balkánský sýr a\nnecháme lehce zatavit. Servírujeme do hlubokého talíře s čerstvým\npečivem. Jídlo je možno dozdobit na kolečka nakrájenou červenou cibulí a\nčerstvou petrželkou.</p>\n\n<p>Dobrou chuť.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-11-29T15:02:21.177-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Trenčanské párky s fazolí po mexicku",
  :published #inst "2008-11-29T15:01:47.663-00:00",
  :url "trencanske-parky-s-fazoli-po-mexicku",
  :category-url "jen-tak.aspx",
  :id 333,
  :description
  "Prefabrikované potraviny mají tu výhodu, že jsou velice rychle hotové a většinou jsou i stravitelné. Když už jste donuceni něco takového jíst, proč si to trochu nezpestřit? Dnes přináším krátký návod na lehký upgrade.",
  :category "Jen tak",
  :tags ["vaření"]},
 :105-osecenske-stranky.aspx
 {:html
  "\n<p>Během včerejška jsem pověsil na web novou verzi <a\nhref=\"http://www.osecna.info\">stránek obce Osečná</a>. Kromě změny vzhledu\ndošlo ke kompletní změně struktury a technologie. Nyní běží stránky\nz&#160;90% na redakčním systému Gryphoon Obce a 100% na ASP.NET 2.0. Ještě\nmě čeká dodělávka několika modulů, ale to až po zkouškách&#8230;</p>\n\n<!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-02-03T08:05:55.963-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Osečenské stránky",
  :published #inst "2006-02-03T08:05:55.963-00:00",
  :url "osecenske-stranky",
  :category-url "moje-prace.aspx",
  :id 105,
  :description "Provedl jsem redesign obecních stránek.",
  :category "Moje práce",
  :tags []},
 :178-novy-kabatek-pro-atlas-cz.aspx
 {:html
  "\n<p>Zatím třetí <a href=\"http://www.atlas.cz\">český portál Atlas.cz</a>\nnasadil dnes o půlnoci novou homepage. Ikdyž mě někdo může napadnou ze\nzaujatosti, mně osobně se líbí. Opět, jak už je u Atlasu zvykem, nechybí\npersonalizace a opět je o hodně vylepšená. Skoro všechno v prostředním\na pravém sloupci se dá zpřeházet, povypínat a přidávat. Boxů se\nslužbami Atlasu není zase tolik, ale pevně věřím, že ještě nějaké\npřibudou (určitě se spuštěním chystaných nových služeb).</p>\n\n<p>Nemám moc chuť reagovat na lidi, co tu budou řvát, že je to\n„okopírované Yahoo“. Tak to sem prosím ani nepište. To, že tu jistá\nmíra inspirace bude, jsem věděl (dokonce jsem si to i přál a nejen já),\nale grafické návrhy jsou originální, kód stránek taky, takže se\no žádnou krádež nejedná! Rozložení layotu mi přijde příjemné a\nvelice použitelné. Uživatelé při usertestingu si ostatně novou homepae\npochvalovali. Já si jí také pochvaluji a přeji jí i Altasu hodně\nspokojených uživatelů.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:18:53.940-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nový kabátek pro Atlas.cz",
  :published #inst "2006-08-31T07:36:38.630-00:00",
  :url "novy-kabatek-pro-atlas-cz",
  :category-url "webdesign.aspx",
  :id 178,
  :description
  "Portál Atlas.cz se dnes o půlnoci převlékl do nového kabátku a musím říct, že mu to sluší.",
  :category "Webdesign",
  :tags ["atlas" "homepage"]},
 :32-novy-styl.aspx
 {:html
  "\n<p>Dneska jsem připravil nový styl pro tyhle stránky. Zátím je nastaven\njako alternativní a jen pro tuto stránku. Takže pokud máte <a\nhref=\"http://www.mozilla.org/\">Mozillu</a> nebo <a\nhref=\"http://www.opera.com/\">Operu</a>, zkuste se na to mrknou a hodit feedback\nco je špatně, zatim to ještě ladim…</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:50:56.483-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nový styl",
  :published #inst "2004-10-16T00:00:00.000-00:00",
  :url "novy-styl",
  :category-url "webdesign.aspx",
  :id 32,
  :description "",
  :category "Webdesign",
  :tags []},
 :415-tri-prikazani-tdd.aspx
 {:html
  "\n<p>Volně přeloženo z knihy <a\nhref=\"http://www.amazon.com/Clean-Coder-Conduct-Professional-Programmers/dp/0137081073\">The\nClean Coder</a></p>\n\n<ol>\n\t<li>Nenapíšeš řádky produkčního kódu, aniž bys měl\n\tpadající test.</li>\n\n\t<li>Nenapíšeš řádky testovacího kódu, pokud již nejsou aktuální\n\třádky schopné projít (nezkompilovatelný kód také neprojde).</li>\n\n\t<li>Nenapíšeš řádky produkčního kódu, které nejsou nezbytně nutné,\n\taby prošel aktuálně padající test.</li>\n</ol>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-12-25T14:29:10.893-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Tři přikázání TDD",
  :published #inst "2011-12-25T14:29:10.877-00:00",
  :url "tri-prikazani-tdd",
  :category-url "moje-prace.aspx",
  :id 415,
  :description
  "TDD není tak těžké jako život, stačí mu pouze tři přikázání.",
  :category "Moje práce",
  :tags ["tdd"]},
 :181-snezenky-a-machri-3054.aspx
 {:html
  "\n<p>Díky možnosti vidět do zákulisí služby Weblogy.cz mám k dispozici\nzajímavá statistická data ohledně správnosti RSS výstupu jednotlivých\nzdrojů. Více než půlka uspěla. To je ta dobrá zpráva.</p>\n\n<p>Většinou jde o výstupy kvalitních <span\ntitle=\"Nucleus, Gryphoon, Wordpress\">redakčních systémů</span> a veřejných\nblogovacích služeb. To jsou ti machři. A co naše sněženky?</p>\n\n<p>Nejčastější chybou je entitování entit, kdy v kódu najdete něco jako\n<code>&amp;amp;nbsp;</code> na místě, kde by měla být nedělitelná mezera.\nDalší častou chybou je vkládání HTML do <code>description</code> nebo\nještě lépe HTML v description uzavřít do <code>&lt;![CDATA[</code>\n<code>]]&gt;</code> což je taktéž chybou. Další, již méně častou\nchybou, je použití jmenných entit, které nejsou v XML podporovány, bez\npoužití <em>DOCTYPE</em>.</p>\n\n<p>Tak se milé sněženky polepšete, ať jste také mezi námi, machry :D</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:15:21.687-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Sněženky a machři (30:54)",
  :published #inst "2006-09-21T12:55:14.787-00:00",
  :url "snezenky-a-machri-3054",
  :category-url "webdesign.aspx",
  :id 181,
  :description
  "Díky možnosti vidět do zákulisí služby Weblogy.cz mám k dispozici zajímavá statistická data ohledně správnosti RSS výstupu jednotlivých zdrojů. Více než půlka uspěla. To je ta dobrá zpráva.",
  :category "Webdesign",
  :tags ["rss" "weblogy"]},
 :393-facebook-graph-api-pro-net.aspx
 {:html
  "\n<p>Možná jste postřehli, že před nedávnem vypustil Facebook na svém\ngithubu <a href=\"http://github.com/facebook/csharp-sdk\">csharp SDK</a> pro\njejich <a href=\"http://developers.facebook.com/docs/api\">Graph API</a>.\nZ počátku mě ta zpráva potěšila, protože <a\nhref=\"http://facebooktoolkit.codeplex.com/\">Facebook Toolkit</a>, který jsem\npoužíval, tak nějak nefunguje s novým <a\nhref=\"http://developers.facebook.com/docs/reference/javascript/\">JS SDK</a> a\nvůbec má zvláštní problémy.</p>\n\n<p>Po chvilce nadšení přišla chvilka zklamámí. Podíval jsem se na kód a\nukázky a zděsil se. S dotnetem to má asi tolik společného jako, že to jde\nzkompilovat pomocí <code>csc</code>. Tohle opravdu nechcete používat. Na netu\njsem objevil i další implementace Graph API, ale stále nic, co bych chtěl\npoužívat.</p>\n\n<p>Nakonec jsem se rozhodl napsat <a\nhref=\"http://github.com/rarous/GraphApi\">vlastní implementaci</a>. Základ je\ninspirován již zmiňovaným csharp SDK, ale napsanej tak, aby využíval\nvěci, co framework již nabízí, místo vlastní implementace JSON jsem\npoužil osvědčený <a href=\"http://json.codeplex.com/\">JSON.NET</a>, přidal\npodporu pro ověřování pomocí OAuth i klientské JS ověření pomocí\ntlačítka <code>fb:login</code>.</p>\n\n<p>No a hlavně další vrstvu abstrakce včetně objektů API.</p>\n\n<p>Tohle všechno je moc hezký, mně se to dobře používá, je to IoC ready,\nale zatím chybí podpora pro desktopové ověřování. Ale hlavně mi\nnefunguje postování na wall, což je celkem zásadní problém. Zkoušel jsem\nuž spoustu cest. Práva na publikování <code>publish_stream</code> uživatel\npotvrdí, ale Facebook s ledovým klidem odpovídá:</p>\n\n<pre>Exception: (#200) The user hasn't authorized the application to perform this action</pre>\n\n<p>A mě z toho může trefit šlak. :)</p>\n\n<p>Proto moc prosím, zkuste si stáhnout projekt, a trošku si pohrát, jestli\ntřeba nebudete mít větší štěstí. Případného mistra odvšivovače pak\npozvu na skleničku něčeho moc dobrého.</p>\n\n<p>Pokud si nebudete vědět rady, jak to rozběhat, klidně mi napište <a\nhref=\"/#kontakt\">mail nebo na IM</a>. Dám vám klíče pro testovací účely a\njistě další dobré rady. :)</p>\n\n<h3 id=\"toc-update\">Update</h3>\n\n<p>Chybu jsem nakonec odhalil a pozval se na pár Black Labelů. Chyba byla\nv tom, že se nastavavovala špatná hodnota vlastnosti <code>Method</code>\nobjektu <code>HttpWebRequest</code>. Namísto hodnoty <code>POST</code> tam byl\n<code>Post</code> (hodnota enumerce <code>HttpVerb</code> a\n<code>ToString</code>). Navíc se ještě špatně encodovalo tělo requestu,\nkde se encodovalo všechno, ne jen hodnoty. Škoda, že se takováto chyba\nnedala vyčíst z chybové hlášky, která byla v tomto případě celkem\nzavádějící. Každopádně GraphApi už je plně funkčí a můžete ho\nplnohodnotně požívat.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-08-20T07:14:09.463-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Facebook Graph API pro .net",
  :published #inst "2010-08-06T09:19:16.683-00:00",
  :url "facebook-graph-api-pro-net",
  :category-url "asp-net-2-0.aspx",
  :id 393,
  :description
  "Představení nové SDK pro Facebook nad dotnetem a prosba o pomoc s odhalením zásadní neschopnosti mého mozku.",
  :category "ASP.NET 2.0",
  :tags ["facebook" "graph"]},
 :347-novinky-z-karavany.aspx
 {:html
  "\n<p>Ano, je to tak, jak možná někteří tušíte, chystám se psát o tom, co\nje nového v Twaregu. A únor není na novinky chudý.</p>\n\n<p>Ale začnu hezky od začátku roku, kdy jsme mezi nás přivítali nového\nčlena <a rel=\"met co-worker\" href=\"http://savara.us/\">Miloše Savaru</a>,\nkterý se přidal do týmu reklamního systému codename „Hyas“ a pracuje na\nveřejném API. Jádro zatím podstupuje zátěžové testy. :) Náš komunitní\nprojekt už podporuje OpenID včetně načítání údajů profilu, přibyla\nschopnost lokalizace pomocí IP adresy a fulltextové hledání.</p>\n\n<p>Dev platforma se nám rozrostla o nový silný stroj a tak došlo\nk přeinstalování serverů, změně rolí a jmen. Nově používáme jména\nhadů. Taky se nám dostalo jednoho bladea. A to už se pomalu dostáváme ke\nspuštění našich webových stránek <a\nhref=\"http://www.twareg.com/\">Twareg.com</a>. Zatím tam není moc obsahu, ale\nvěřím, že bude postupně přibývat. :) Zatím tam najdete <a\nhref=\"http://www.twareg.com/contact\">náš kontakt</a>, <a\nhref=\"http://www.twareg.com/team\">náš tým</a> a <a\nhref=\"http://www.twareg.com/jobs\">nabídku práce</a>. Sice od příštího\ntýdne získáme další posilu týmu, ale pořád <a rel=\"bookmark\"\ntitle=\"Odpojte se k nám!\" href=\"/weblog/334-odpojte-se-k-nam.aspx\">sháníme\ndalší schopné lidi</a>.</p>\n\n<p>Krom stránek jsem spustili i vlastní twitter: <a\nhref=\"http://twitter.com/twareg\">štěbetání tuarégů</a>.</p>\n\n<p>Na stránkách si také můžete všimnout, že jsme se stali členy\nBizSparku. Ačkoli jsme se na české pobočce Microsoftu dozvěděli, že tento\nprogram pro podporu start-upů není pro Českou Republiku určen, tak\nv programu jsme a můžeme čerpat jeho výhody. Pokud netušíte, co to je <a\nhref=\"http://microsoftstartupzone.com/\">BizSpark</a>, tak vězte, že je to\nprogram pro začínající firmy, které se rozhodnou vyvíjet na MS platformě.\nProgram je to tříletý. Během této doby máte předplatné MSDN včetně\nlicencí do produkčního prostředí. A to vše za $100. Po uplynutí třech\nlet, tedy zaplatíte $100 a všechny licence, které jste do té doby získali,\nvám zůstanou.</p>\n\n<p>Tak nám držte palce, pokud chcete, přijďte se na nás podívat,\npřípadně zvažte, jestli u nás nechcete pracovat. :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-02-12T09:39:04.107-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Novinky z karavany",
  :published #inst "2009-02-12T06:00:38.347-00:00",
  :url "novinky-z-karavany",
  :category-url "webdesign.aspx",
  :id 347,
  :description
  "Ano, je to tak, jak možná někteří tušíte, chystám se psát o tom, co je nového v Twaregu. A únor není na novinky chudý.",
  :category "Webdesign",
  :tags ["twareg" "bizspark"]},
 :244-ironpython-studio.aspx
 {:html
  "\n<p>S tím, jak byl uvolněn Visual Studio Shell, začínají se objevovat\nzajímavé aplikace na něm postavené. Jednou z nich je <a\nhref=\"http://www.codeplex.com/IronPythonStudio\">IronPython Studio</a>.</p>\n\n<p>Tato implementace je postavená na jednom ze samplů VS SDK, jímž je\nintegrace IronPythonu do VS. Co všechno to umí? Namátkou:</p>\n\n<ul>\n\t<li>Intellisense</li>\n\n\t<li>Zvýrazňování syntaxe</li>\n\n\t<li>Debugování</li>\n\n\t<li>Předdefinované šablony projektů</li>\n\n\t<li>Code snippets</li>\n\n\t<li>Python konzole přímo ve VS</li>\n</ul>\n\n<p>Celý projekt je i se zdrojovými kódy a může sloužit jako inspirace pro\nintegraci dalších jazyků.</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:47:41.713-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "IronPython Studio",
  :published #inst "2007-12-26T08:31:58.657-00:00",
  :url "ironpython-studio",
  :category-url "asp-net-2-0.aspx",
  :id 244,
  :description
  "S tím, jak byl uvolněn Visual Studio Shell, začínají se objevovat zajímavé aplikace na něm postavené. Jednou z nich je IronPython Studio.",
  :category "ASP.NET 2.0",
  :tags ["ironpython" "vs"]},
 :213-layout-template.aspx
 {:html
  "\n<p>Jedna z věcí, která nejen mne zaujala na přednášce o Visual Studiu\n2008, byl <code>LayoutTemplate</code> u nového kontrolu\n<code>asp:ListView</code>. Jak na jeho implementaci se pokusí nastínit\ntento člán.</p>\n\n<p>Šablonované ovládací prvky jsou v ASP.NET celkem běžnou věcí a\njejich výskyt asi nikoho nepřekvapí. Celkem běžná je také praktika\n<code>HeaderTemplate</code> a <code>FooterTemplate</code> jejichž obsah se\nrenderuje na začátku/konci. Pokud chcete mít třeba render obalený v\n<code>div</code> značce, dojde k tzv. křížení značek, což je v XML\nnepěkná praktika, a některé editory na tom selžou. Kód by mohl vypadat\nnásledovně:</p>\n\n<pre\n><code class=\"language-markup\">...\n  &lt;HeaderTemplate&gt;&lt;div&gt;&lt;/HeaderTemplate&gt;\n  &lt;FooterTemplate&gt;&lt;/div&gt;&lt;/FooterTemplate&gt;\n...</code></pre>\n\n<p>Oproti tomu <code>LayoutTemplate</code> přichází s tím, že šablona\nHeaderu i Footeru je v jednom. Asi následovně:</p>\n\n<pre\n><code class=\"language-markup\">...\n  &lt;LayoutTemplate&gt;\n    &lt;div id=\"layoutContainer\" runat=\"server\"&gt;&lt;/div&gt;\n  &lt;/LayoutTemplate&gt;\n...</code></pre>\n\n<p>Pěkné, že? Někdo se možná zalekne <code>runat=\"server\"</code>, že by\nto třeba mohlo renderovat něco jinýho než by chtěl. Nebude ;)</p>\n\n<h3 id=\"toc-jak-to-funguje\">Jak to funguje?</h3>\n\n<p>Lepší bude si to celé vysvětlit na ukázce kódu. Naimplementujeme si\nvlastní LayoutTemplateable control. Začneme tím, že si vytvoříme\nrozhranní <code>ILayoutTemplateable</code>.</p>\n\n<pre\n><code class=\"language-csharp\">public interface ILayoutTemplateable {\n  string LayoutContainerId { get; set; }\n\n  [TemplateContainer(typeof(Control))]\n  ITemplate LayoutTemplate { get; set; }\n}</code></pre>\n\n<p>Dalším krokem bude <code>TemplatingHelper</code>, který nám pomůže\ns instancováním šablon a vytvořením layout kontejneru.</p>\n\n<pre\n><code class=\"language-csharp\">public static class TemplatingHelper {\n  public static Control CreateLayoutContainer(Control parent, ILayoutTemplateable item) {\n    Control container = new Control();\n    Instantiate(container, item.LayoutTemplate, parent);\n    return container.FindControl(item.LayoutContainerId);\n  }\n\n  public static void Instantiate(Control container, ITemplate template, Control parent) {\n    if (template == null || parent == null) {\n      return;\n    }\n\n    container = container ?? new Control();\n\n    template.InstantiateIn(container);\n    parent.Controls.Add(container);\n  }\n}</code></pre>\n\n<p>No a na konec ukázka užití:</p>\n\n<pre\n><code class=\"language-csharp\">public class TemplatedControl : Control, ILayoutTemplateable {\n\n  ...\n\n  public override void CreateChildControls() {\n   Controls.Clear();\n   // vytvorime layoutContainer\n   Control layoutContainer = TemplatingHelper.CreateLayoutContainer(this, this);\n   // vytvorime polozky\n   foreach (string item in collection) {\n     TemplatingHelper.Instantiate(new StringContainer(item), ItemTemplate, layoutContainer);\n   }\n  }\n}</code></pre>\n\n<p><del>Doufám, že to funguje, páč jsem si to teď nějak vycucal\nz prstů… Ale principielně, by to mělo fungovat.</del> <ins>Tak už jsem se\ndostal k implementaci a kupodivu to celé funguje.</ins> :)</p>\n\n<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-02-22T07:05:02.520-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Layout Template",
  :published #inst "2007-06-14T10:42:12.670-00:00",
  :url "layout-template",
  :category-url "asp-net-2-0.aspx",
  :id 213,
  :description
  "Jedna z věcí, která nejen mne zaujala na přednášce o Visual Studiu 2008, byl LayoutTemplate u nového kontrolu asp:ListView. Jak na jeho implementaci se pokusí nastínit tento člán.",
  :category "ASP.NET 2.0",
  :tags ["aspnet"]}}
