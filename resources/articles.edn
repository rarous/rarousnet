{:344-vyvojar-webovych-aplikaci-asp-net-csharp.aspx
 {:html
  "<h3 id=\"toc-pozadujeme\">Požadujeme:</h3> <ul> <li>Znalost tvorby webových aplikací ASP.NET v jazyce C# – min. 2 roky praxe, zkušenosti s vývojem aplikací bez vestavěných ASP.NET controls</li> <li>Základní znalost MS SQL</li> <li>SŠ/VŠ vzdělání (technického zaměření)</li> <li>Znalost anglického jazyka na úrovni čtení technické dokumentace</li> <li>Ochotu učit se MS technologie</li> <li>Zkušenosti s vývojem CMS řešení výhodou</li> </ul> <h3 id=\"toc-nabizime\">Nabízíme:</h3> <ul> <li>Spolupráci a podíl při návrhu a vývoji produktů</li> <li>Perspektivní a zajímavou práci v dynamickém, neformálním přátelském prostředí</li> <li>Flexibilní pracovní dobu</li> <li>Práci v menším týmu</li> </ul> <p>V případě zájmu mě kontaktujte na e-mail: <a href=\"mailto:veronika&#64;trixam.cz\">veronika&#64;<!---->trixam.cz</a></p> <h3 id=\"toc-souvisejici\">Související</h3> <ul> <li><a href=\"/weblog/334-odpojte-se-k-nam.aspx\">Odpojte se k nám!</a></li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-12T14:19:29.207-00:00",
  :is-published true,
  :author "Veronika Vajdiaková",
  :title "Vývojář webových aplikací ASP.NET",
  :published #inst "2009-01-12T14:06:43.857-00:00",
  :url "vyvojar-webovych-aplikaci-asp-net-csharp",
  :id 344,
  :description "Nabídka zaměstnání.",
  :category "Moje práce",
  :tags ["twareg"]},
 :294-zavidi-nam-vimari-a-emacsove-build-na-dve-kliknuti.aspx
 {:html
  "<p>Často se v diskusích/flamech o vývoji v Atlasu dočítám, že jsme byli blbý klikači, co se neobejdou bez wizárdů a podobných věcí. Jak je to tedy?</p> <p>Pravdou je, že jsem velice poholdný až líný a nemám rád zbytečnej oser s příkazovou řádkou. Ne že bych jí nepoužíval, hodně úkolů se dá rychle zvládnout právě z ní, ale přece jen kompilace z Visual Studia na dvě kliknutí nebo spouštění build scriptu z příkazovky je dost o něčem jiném.</p> <p>Nejen že na dvě kliknutí provedu build ale provedou se mi unit testy nebo vzdálený předtestovaný build a případě úspěchu i commit do repository. Upřímně písmenkáři, kdo z vás to má?</p> <p>PS. Vím, že jde buildit i na jedno kliknutí nebo přes klávesovou zkratku, ale já mám rád kontextovou nabídku ;)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-08-30T10:59:13.717-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Závidí nám vimaři a emacsové build na dvě kliknutí?",
  :published #inst "2008-08-30T10:58:29.407-00:00",
  :url "zavidi-nam-vimari-a-emacsove-build-na-dve-kliknuti",
  :id 294,
  :description
  "Často se v diskusích/flamech o vývoji v Atlasu dočítám, že jsme blbý klikači, co se neobejdou bez wizárdů a podobných věcí. Jak je to tedy?",
  :category "ASP.NET 2.0",
  :tags []},
 :452-funkce-vyssiho-radu.aspx
 {:html
  "<p>Dnes se podíváme na další bod z manifestu „nejen objektově orientovaného programování“ – <strong>Funkce vyššího řádu</strong> před method dispatch. Pro začátek si nejprve definujeme, co to je method dispatch a co funkce vyššího a řádu a potom proč preferovat funkce vyššího řádu.</p> <h3 id=\"toc-method-dispatch\">Method dispatch</h3> <p>Method dispatch je v objektově orientovaném programování jedním z nástrojů polymorfismu. Ať už jde o Ad-hoc polymorfismus, kdy vybíráme správnou metodu na základě přetížení, nebo o Sub-type polymorfismus, kdy volbu správné metody řešíme pomocí virtuálního nebo dynamického dispatche. Teda, my to většinou neřešíme, to řeší běhové prostředí daného jazyka.</p> <p>Je dobré vědět, že když voláme nějakou metodu v JavaScriptu, tak se interpret nejprve snaží metodu najít ve slotu přímo na oběktu (<code>this[\"method\"]</code>) a když nenajde, hledá v jeho prototypu. Jistě si domyslíte, jak úžasné jsou hluboké hierarchie dědičnosti a simulování <code>class</code>, který to má všechno usnadňovat. ;)</p> <p>Také je dobré vědět, že třeba <a href=\"http://www.borber.com/blog/slaba-podpora-pozdni-vazby-v-c\">problém pozdní vazby uvedený ve velmi starém borkově blogspotu</a> šel vyřešit krásně elegantně, kdyby Borek v té době znal existenci rozhraní <code>IAttributeAccessor</code>. Proč? Protože vy mu pomohl virtual dispatch.</p> <p>Původní nefukční kód:</p> <pre class=\"csharp\"><code>foreach (Control c in parent.Controls) { Control c1; if (c is HtmlControl) { c1 = c as HtmlControl; } else if (c is WebControl) { c1 = c as WebControl; } if (c1 != null &amp;&amp; c1.Attributes[\"MyKey\"] != null) { doSomething(c1); } }</code></pre> <p>by mohl nahradit tímto:</p> <pre class=\"csharp\"><code>foreach (var c in parent.Controls.OfType&lt;IAttributeAccessor&gt;()) doSomething(c);</code></pre> <p>Jde jen o to pracovat na správné úrovni abstrakce. :) Metoda <code>doSomething</code> pak může pracovat s <code>HtmlControl</code> nebo <code>WebControl</code> a je jí to úplně fuk. A to díky polymorfismu. Jednoduše jsme se zbavili spousty zbytečných podmínek, které porušují několik zásad a principů dobrého návrhu. Pro teď budu jmenovat <em>Open Closed Principle</em> ze SOLID, protože se mi to bude hodit dál. :)</p> <h3 id=\"toc-funkce-vyssiho-radu\">Funkce vyššího řádu</h3> <p>Funkce vyššího řádu je takovou funkcí, která přijímá funkci jako parametr a/nebo funkci vrací. Jediné, co potřebujeme, aby jazyk zacházel s funkcemi jko s hodnotami. Tj. abych si mohl vytvořit proměnnou typu funkce a tu mohl předat nebo ji třeba zavolat. No nemusí to nutně být promněnná, bohatě stačí vazba. :) No a to je celý.</p> <p>Ale když už jsem nakousnul ten polymorfismus u method dispatch, má nějakou spojitost i s funkcemi vyššíhořádu? Tak určitě. Většinou se pojí s parametrickým polymorfismem.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-05-20T07:42:00.457-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Funkce vyššího řádu",
  :published #inst "2013-05-20T07:42:00.427-00:00",
  :url "funkce-vyssiho-radu",
  :id 452,
  :description "",
  :category "Moje práce",
  :tags []},
 :220-jak-funguje-monorail.aspx
 {:html
  "<p>Po <a href=\"/weblog/219-zaciname-s-jednokolejkou.aspx\">letmém seznámení</a> s frameworkem MonoRail (MR) je tu první část slibovaného seriálu. V dnešním díle se ponoříme do technických principů frameworku.</p> <p>Základem MR je klasický <code>IHttpHandler</code> známý z ASP.NET, který se stará o zpracování požadavků přicházejících na server. Ve výchozím stavu zpracovává požadavky s příponou <code>.rails</code>, ale protože tato není na většině hostingů nastavena na ISAPI filtr ASP.NET, dá se nastavit zpracování přípony jiné (často <code>ashx</code>), která je webovému serveru známá a je spojená s ASP.NET filtrem.</p> <p>Handler rozparsuje adresu a snaží se najít vhodný <code>Controller</code> a jeho metodu, která požadavek zpracuje a předá data na patřičný <code>View</code>. Vypadá to asi následovně. Na handler přijde požadavek ve tvaru <code>/home/index.rails</code>, handler se pokusí vyhledat třídu <code>HomeController</code>, která dědí ze třídy <code>Controller</code>, a u ní metodu <code>Index()</code>. Takže controller pro tento požadavek by vypadal asi následovně:</p> <pre class=\"csharp\"><code>public class HomeControler : Controller { public void Index() { PropertyBag[\"hello\"] = \"Pozdrav z jednokolejky\"; } }</code></pre> <p>Takový controller by se měl nacházet v projektu ve složce <code>controllers</code>. Vlastnost <code>PropertyBag</code> je slovník (asociativní pole), který předává data z controlleru na view. Aby se nám to celé mohlo někde zobrazit, potřebujeme ještě tedy view. Ve složce <code>/views/home/</code> si vytvoříme soubor <code>index.brail</code> (Brail je jedním z ViewEnginů) do kterého zadáme:</p> <pre class=\"xml\"><code>&lt;html&gt; &lt;head&gt; &lt;title&gt;Pozdrav&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;${hello}&lt;/h1&gt; &lt;/body&gt; &lt;/html&gt;</code></pre> <p>Řetězec <code>${hello}</code> bude na výstupu nahrazen textem z PropertyBagu. Dolar složené závorky totiž prochází lokální proměnné a snaží se z nich získat hodnotu. Pokud taková proměnná neexistuje zavolá se metoda <code>GetParametr</code>, která projde kolekce PropertyBag, Flash, Request apod. a snaží se v nich nalézt klíč, kterým je text mezi závorkami. Hodnota je pak vypsána namísto dolarové funkce. :) Dolarová funkce je takový shortcut pro tento zápis: <code>&lt;?brail output hello ?&gt;</code> což je obdoba <code>&lt;?php echo $hello; ?&gt;</code> v PHP nebo <code>&lt;%= hello %&gt;</code> v ASP.</p> <p>Celá skládačka do sebe zapadne, když do prohlížeče zadáme adresu <code>http://server/home/index.rails</code>. Díky příponě <em>rails</em> se požadavek předá Handleru MonoRail. Ten rozparsuje adresu a snaží se najít třídu <em>HomeController</em>, kterou jsme vytvořili, takže success. V této třídě hledá metodu <em>Index</em>, tu máme taky, další bod k dobru. Tato metoda nám nastaví v <em>PropertyBagu</em> hello na hodnotu „Pozdrav z jednokolejky“. Dále handler hledá vhodné view, které jsme také vytvořili. Předá mu Context, zpracuje se šablona a nakonec bude do prohlížeče odesláno HTML.</p> <pre class=\"xml\"><code>&lt;html&gt; &lt;head&gt; &lt;title&gt;Pozdrav&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;Pozdrav z jednokolejky&lt;/h1&gt; &lt;/body&gt; &lt;/html&gt;</code></pre> <p>Pro dnešek vše.</p> <h3 id=\"toc-souvisejici\">Související</h3> <ul> <li><a href=\"/weblog/219-zaciname-s-jednokolejkou.aspx\">Začínáme s jednokolejkou</a></li> <li><a href=\"http://www.castleproject.org/monorail/documentation/trunk/manual/howitworks.html\">MonoRail – How it works</a></li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:25:05.500-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak funguje MonoRail",
  :published #inst "2007-08-17T13:20:28.833-00:00",
  :url "jak-funguje-monorail",
  :id 220,
  :description
  "Po úvodním seznamovacím spotu je tu první díl seriálku o MonoRail frameworku. Dnes to bude o tom, jak vlastně MonoRail funguje.",
  :category "ASP.NET 2.0",
  :tags ["castle" "monorail" "mvc" "brail"]},
 :170-novy-kabatek-pro-mraveniste-org.aspx
 {:html
  "<p>Ačkoli to vypadá, jako by bylo Mraveniště uzavřeno, mravenci nikdy nespí a stále pracují. Dnes v&#160;noci došlo k&#160;nasazení zcela nové homepage <a href=\"http://www.mraveniste.org/\">největší webové kupky jehličí</a>. Změna je to jistě zásadní a v&#160;některých ohledech průlomová. Možná se dočkáme nového grafického stylu pro <strong>Web 2.5</strong>&#160;aplikace.</p> <p>Osobně mi na nové homepage chybí možnost vyhledávání na tak rozsáhlé stránce, jinak se mi po grafické stránce líbí velice, ale pořád se nemohu ubránit dojmu, že už jsem to někde viděl :-/</p> <p>Z&#160;testů vychází, že stránka se nezobrazuje zcela korektně v&#160;prohlížečích Opera a na alternativních OS (tj. všechny krom Windows). Pro majitele takovéhoto exotického softwarového vybavení přikládám i&#160;exkluzivní screenshot nové homepage Mraveniště.</p> <div><a href=\"http://www.mraveniste.org/\"><img src=\"/data/obrazky/Mraveniste.png\" alt=\"\" /></a></div> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-07-28T13:09:43.880-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nový kabátek pro Mraveniste.org",
  :published #inst "2006-07-28T12:55:56.683-00:00",
  :url "novy-kabatek-pro-mraveniste-org",
  :id 170,
  :description
  "Nejvýznamnější mraveniště internetu redesignovalo svoji Homepage.",
  :category "Webdesign",
  :tags []},
 :352-implementace-tag-cloudu.aspx
 {:html
  "<p>Zajímavé je, jak se problematice celkem rozšířené vlastnosti webových aplikací v éře Webu 2.0, kterou <a href=\"http://en.wikipedia.org/wiki/Tag_cloud\">tag cloud</a> bezesporu je, věnuje málo prostoru. Protože pracuju na jednom sociálním webu a k implementaci tag cloudu jsem se také dostal, tak se na něj pojďme podívat.</p> <h3 id=\"toc-top-down-design\">Top-down design</h3> <p>Začneme implementací na výstupu. To je to, co vidí uživatel. Porozhlédněme se nejprve po nějakém vhodném mikroformátu. Na snadě je <code>rel-tag</code>, který slouží k označování odkazů tagu. Když budeme hledat dál, jistě narazíme na <strong>hTagCloud</strong>. Tento mikroformát je sice ve stádiu návrhu, ale dá se říct, že je použitelný v praxi. Jak vypadá?</p> <h3 id=\"toc-htagcloud\">hTagCloud</h3> <p>Cloud je vyznačen elementem s třídou <code>hTagCloud</code>. Tento element by měl obsahovat seznam tagů. Seznam můžeme označit třídou, zda jde je seřazen podle abecedy (<code>class=\"alphabetical\"</code>) nebo podle popularity (<code>class=\"popularity\"</code>). Popularitu jednotlivých tagů označíme posléze třídou. Základní úroveň popularity vyznačuje třída <code>popular</code>. Oblíbenější tagy mají třídu <code>v-popular</code>. Nejoblíbenější tagy pak třídou <code>vvvv-popular</code>. Můžeme takto tedy odlišit pět úrovní popularity.</p> <p>Ukázka mikroformátu přímo z wiki autorů:</p> <pre class=\"xml\"><code>&lt;div class=\"hTagCloud\"&gt; &lt;ul class=\"popularity\"&gt; &lt;li class=\"vvvv-popular\"&gt;&lt;a href=\"/tags/Web+Standards+Group\"&gt;Web Standards Group&lt;/a&gt;&lt;/li&gt; &lt;li class=\"vvv-popular\"&gt;&lt;a href=\"/tags/accessibility\"&gt;accessibility&lt;/a&gt;&lt;/li&gt; &lt;li class=\"popular\"&gt;&lt;a href=\"/tags/beta+tester\"&gt;beta tester&lt;/a&gt;&lt;/li&gt; &lt;li class=\"vvv-popular\"&gt;&lt;a href=\"/tags/css\"&gt;css&lt;/a&gt;&lt;/li&gt; &lt;li class=\"v-popular\"&gt;&lt;a href=\"/tags/ex-coder\"&gt;ex-coder&lt;/a&gt;&lt;/li&gt; &lt;li class=\"vv-popular\"&gt;&lt;a href=\"/tags/usability\"&gt;usability&lt;/a&gt;&lt;/li&gt; &lt;li class=\"vvvv-popular\"&gt;&lt;a href=\"/tags/wsg\"&gt;wsg&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;</code></pre> <p>To bychom měli HTML kód, teď ještě nastylovat, aby z toho opravdu cloud byl:</p> <pre class=\"css\"><code>.hTagCloud {text-align:center} .hTagCloud ul{list-style-type:none;padding:0;margin:0} .hTagCloud li{display:inline;font:.6875em sans-serif;margin:0;padding:0} .hTagCloud .v-popular{font-size:1.273em} .hTagCloud .vv-popular{font-size:1.818em} .hTagCloud .vvv-popular{font-size:2.545em} .hTagCloud .vvvv-popular{font-size:3em}</code></pre> <p>Máme tedy připraveno to, co uvidí uživatelé. Teď ještě potřebujeme logiku, která rozhodne, jak populární tagy vlastně jsou.</p> <h3 id=\"toc-implementace-na-serveru\">Implementace na serveru</h3> <p>Nejprve si vytvoříme třídu reprezentující tag. Ta bude obsahovat text tagu a jeho četnost.</p> <pre class=\"csharp\"><code>public class Tag { public string Text { get; set; } public int Count { get; set; } }</code></pre> <p>Teď budeme potřebovat vypočítat, jak populární vlastně konkrétní tag je. Tady se dostáváme k poměrně zajímavému problému. Nejprve potřebujeme spočítat váhu tagu v cloudu a tu pak promítnout na pětistupňové škále. Praxí je ověřeno, že hezky cloud vypadá, když se použije logaritmická distribuční funkce. Proto si vytvoříme jednoduchý helper, který nám bude váhu tagu vypočítávat a rovnou nám vrátí CSS třídu vhodnou pro hTagCloud.</p> <pre class=\"csharp\"><code>using System; using System.Linq; using System.Text; public static class TagCloudExtensions { private const int MostPopular = 5; private const int MorePopular = 2; private const int Popular = 1; public static string GetCssClass(this IEnumerable&lt;Tag&gt; tags, Tag tag) { int minOccurs = tags.Min(t =&gt; t.Count); int maxOccurs = tags.Max(t =&gt; t.Count); int distribution = CountDistribution(tag.Count, minOccurs, maxOccurs); return GetCssClass(distribution).ToString(); } private static StringBuilder GetCssClass(int distribution) { if (distribution &lt; MorePopular) { return new StringBuilder(\"popular\"); } if (distribution == MorePopular) { return GetCssClass(--distribution).Insert(0, \"v-\"); } return GetCssClass(--distribution).Insert(0, \"v\"); } private static int CountDistribution(int currentOccurences, int minOccurs, int maxOccurs) { if (minOccurs &lt; Popular) { throw new ArgumentOutOfRangeException(\"There must be atleast one occurence.\"); } double weight = (Math.Log(currentOccurences) - Math.Log(minOccurs)) / (Math.Log(maxOccurs) - Math.Log(minOccurs)); int distribution = Popular + (int)Math.Round(weight * (MostPopular - Popular)); return distribution; } }</code></pre> <p>Tento helper rozšiřuje kolekci tagů o metodu o metodu, která vrátí CSS třídu pro konkrétní tag. A to je vše. Happy tagging!</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a href=\"http://microformats.org/wiki/tagcloud-brainstorming\">tagcloud-brainstorming</a></li> <li><a href=\"http://blogs.dekoh.com/dev/2007/10/29/choosing-a-good-font-size-variation-algorithm-for-your-tag-cloud/\">Choosing a good font size variation algorithm for your tag cloud</a></li> <li><a href=\"http://www.echochamberproject.com/node/247\">Tag Cloud Font Distribution Algorithm</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-03-01T11:05:19.880-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Implementace tag cloudu",
  :published #inst "2009-02-28T18:53:49.357-00:00",
  :url "implementace-tag-cloudu",
  :id 352,
  :description
  "Zajímavé je, jak se problematice celkem rozšířené vlastnosti webových aplikací v éře Webu 2.0, kterou tag cloud bezesporu je, věnuje málo prostoru. Pojďme to trochu napravit.",
  :category "Webdesign",
  :tags ["microformats" "tagcloud"]},
 :225-budoucnost-texy-net.aspx
 {:html
  "<p>Chtěl bych začít pracovat na parseru Texy napsaném v C#. Než s tím začnu chci se zeptat, jestli to vůbec má cenu, má někdo o něco takového zájem? Samozřejmě to bude open source hostovaný na <a href=\"http://www.codeplex.com/texynet\">CodePlexu</a>, kdy je source control a issue tracker. Pokud bude zájem o dotnetí parser Texy, bude mít někdo zájem na projektu spolupracovat? Vyzkoušet si práci v týmu, agilní vývoj na otevřeném projektu. Pokud máte zájem, dejte o sobě vědět buďto v komentářích nebo na můj mejl.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:22:09.810-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Budoucnost Texy.net",
  :published #inst "2007-10-02T14:05:19.147-00:00",
  :url "budoucnost-texy-net",
  :id 225,
  :description
  "Chtěl bych projekt Texy.net rozšířit o vlastní parser napsaný v C# 2.0. Bude mít komunita o něj zájem? Chce se na něm podílet? To jsou otázky, jejichž zodpovězení čeká na vás a rozhodne o dalším osudu tohoto projektu.",
  :category "Webdesign",
  :tags ["texynet"]},
 :211-beta-verze-noveho-atlasiho-e-mailu-je-tu.aspx
 {:html
  "<p>Po 14denním interním testování byla včera večer vypuštěna zbrusu <a href=\"http://beta.mail.atlas.cz/\">nová verze Atlasího e-mailu</a>. Zapojte se do jejího veřejného testování i vy!</p> <p>Pod vedením Honzy Kuneše vznikl zcela nový webmail pro portál Atlas. Co přináší oproti stávající verzi nového?</p> <ul> <li>Nový jednodušší a přehlednější design</li> <li>Kontextové nabídky</li> <li>Přetahování zpráv myší mezi složkami</li> <li>Náhledy přiložených obrázků</li> <li>Průběžné ulkádání e-malů</li> <li>Stahování všech příloh v jednom zip souboru</li> </ul> <p>…a další drobnosti, které vám práci z e-mailem jistě zpříjemní. V plánu jsou další vylepšní jako fulltextové hledání ve zprávách, notifikátor nových zpráv, gadget do sidebaru a další drobná vylepšení, plus zapracování připomínek a některých návrhů z betatestingu.</p> <p>Samozřejmě kluci nedělali novej GMail, proč taky? :)</p> <p>Na závěr foto webmail týmu:</p> <div><img src=\"/data/obrazky/webmail-team.JPG\" alt=\"webmail team\" /></div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:36:36.893-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Beta verze nového Atlasího e-mailu je tu",
  :published #inst "2007-06-01T09:35:48.763-00:00",
  :url "beta-verze-noveho-atlasiho-e-mailu-je-tu",
  :id 211,
  :description
  "Po 14denním interním testování byla včera večer vypuštěna zbrusu nová verze Atlasího e-mailu. Zapojte se do jejího veřejného testování i vy!",
  :category "Webdesign",
  :tags ["atlas" "webmail"]},
 :139-kniha-o-tvorbe-a-konzumaci-ws-zdarma.aspx
 {:html
  "<p>Tento článeček je jen odkazovací, moc vlastní invence nepřináší, ale i&#160;tak je poměrně zajímavý. Teda pokud vás, stejně jako mě, zajímá problematika webových služeb &#8211; pro některé jedna z&#160;webových bublin. Nakladatelsví Apress vydalo knihu <a href=\"http://apress.com/book/bookDisplay.html?bID=273\">Google, Amazon, and Beyond: Creating and Consuming Web Services</a>. <a href=\"http://www.apress.com/free/content/googleamazon.pdf\">Ke stažení</a> (2.1&#160;MiB, PDF)</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-23T07:34:01.863-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Kniha o tvorbě a konzumaci WS zdarma",
  :published #inst "2006-04-23T07:33:21.397-00:00",
  :url "kniha-o-tvorbe-a-konzumaci-ws-zdarma",
  :id 139,
  :description
  "Apress vydal free knihu o tvorbě a konzumaci webových služeb s návazností na velké hráče - Google a Amazon.",
  :category "Webové služby",
  :tags []},
 :242-redakcni-system-na-asp-net-mvc.aspx
 {:html
  "<p>Rozhodl jsem se, že, jako praktickou ukázku použití TDD a <a href=\"http://asp.net/downloads/3.5-extensions/\">ASP.NET MVC</a> (dále jen MVC), budu psát seriálek, výsledkem něhož bude základ třetí verze redakčního systému <a href=\"http://www.codeplex.com/gryphoon\">Gryphoon</a>.</p> <p><strong>Upozornění:</strong> Je možné, že některým věcem nebudete v průběhu čtení rozumět. Dopuručuji si přečíst <a href=\"#souvisejici\">související články</a>, na jejichž základě tento seriál staví.</p> <p>Už z této podstaty vyplívá, že půjde o OSS. Projekt je hostován na <a href=\"http://www.codeplex.com/gryphoon\">Codeplexu</a> pod MS-<acronym title=\"Microsoft Public Licence\">PL</acronym>. Dalším důležitým znakem je použití <a href=\"http://www.codeplex.com/texynet\">Texy.net</a> jako základního kamene systému, spojení s databází bude zajišťovat <a href=\"http://www.castleproject.org/activerecord/index.html\">Castle ActiveRecord</a>, pro testování použiji <a href=\"http://www.codeplex.com/xunit\">xUnit.net</a> a <a href=\"http://www.ayende.com/projects/rhino-mocks.aspx\">Rhino Mocks</a>. Tím jsou nastíněny základní prvky architektury a můžeme se pomalu dát do práce.</p> <h3 id=\"toc-struktura-projektu\">Struktura projektu</h3> <p>Prozatím to vypadá na tři projekty v řešení:</p> <ol> <li>Rarous.Gryphoon – Knihovna, jádro systému, které bude obsahovat objekty doménového modelu, konfiguraci a další potřebné komponenty.</li> <li>Rarous.Grypho­on.Spec – Knihovna s jednotkovými testy. xUnit.net místo termínu test používá fakt, proto bude brát tento projekt jako specifikaci zbylých částí.</li> <li>Rarous.Grypho­on.Web – Webová aplikace. Projekt bude obsahovat webovou část tj. Controllery a View (řadiče a pohledy) a Helpery (pomocníky).</li> </ol> <h3 id=\"toc-prvni-radky-specifikace\">První řádky specifikace</h3> <p>Naší jedinou specifikací bude projekt Rarous.Grypho­on.Spec. Tím co je v něm dáno, by se měly řídit oba zbylé projekty. Dobrým zvykem v TDD je navrhovat systém od shora dolů. První věc, se kterou přijdete do styku, je URL. Zatím nebudu výchozí schéma URL měnit, proto ani nebudu psát testy na Routování (zatím). Defaultní schéma URL by mělo být už milionkrát otestované v rámci MVC projektu.</p> <p>Takže budeme pokračovat dál a to k řadiči článku (<code>ArticleController</code>). Ten by měl být zodpovědný za vytváření článků nových, jejich následnou editaci, zobrazování a v poslední řadě i mazání.</p> <p>V prvním CTP, zatím nejsou předdefinované Mock Objekty pro controllery, proto použijeme Test subclass pattern, pro ověření činnosti controlleru. Controller bude mít následující rozhranní:</p> <div><img src=\"/data/obrazky/IArticleController2.png\" alt=\"Diagram IArticleController\" /></div> <p>A třída pro testování vypadá následovně:</p> <pre class=\"csharp\"><code>public class TestArticleController : ArticleController { public string ActualViewName { get; set; } public string RedirectViewName { get; set; } public string ActualMasterName { get; set; } public object ActualViewData { get; set; } protected override void RenderView(string viewName, string masterName, object viewData) { ActualViewName = viewName; ActualMasterName = masterName; ActualViewData = viewData; } protected override void RedirectToAction(object values) { RedirectViewName = values.ToDictionary()[\"Action\"]; } }</code></pre> <p>Teď můžeme napsat první test, který ověří, že pokud přijdeme na adresu <code>/article/</code> otevře se nám editor nového článku. Pozn. Využívám výchozího schématu routeru <code>[controller]/[action]/[id]</code> -Pokud není <em>action</em> definovaná vybere se <strong>Index</strong>. V budoucnu ho změním na lepší, ale pro začátek stačí.</p> <pre class=\"csharp\"><code>[Fact] public void ArticleController_DefaultActionShouldShowEditor() { TestArticleController controller = new TestArticleController(); controller.Index(); Assert.Equal(\"Editor\", controller.ActualViewName); }</code></pre> <p>Spustíme test – neprojde. Aby test prošel, musíme doimplementovat metodu <code>ArticleController.Index</code>.</p> <pre class=\"csharp\"><code>[ControllerAction] public void Index() { RenderView(\"Editor\"); }</code></pre> <p>Teď už by měl test projít. Jenže aby to fungovalo i na webu, musíme ještě dopsat View <code>/Views/Article/Editor.aspx</code>… Do příště za domácí úkol.</p> <h3 id=\"toc-zaverem\">Závěrem</h3> <p>Aktuální stav je na codeplexu ke stažení, ale zdaleka není funkční. :) Průběžně ho budu s dalšími díly doplňovat. Příště tedy uděláme ukládání nových příspěvků a editaci. Když se pozorně podíváte na zdrojáky, zjistíte, že tak trochu cheatuju :)</p> <p>Jo abych nezapoměl, pokud jste sem přišli přes RSS a ještě jste si <a href=\"/weblog/241-pozor-zmena-feedu.aspx\">nezměnili adresu feedu</a>, učiňte tak zavčasu. Děkuji</p> <h3 id=\"souvisejici\">Související</h3> <ul> <li><a href=\"/weblog/219-zaciname-s-jednokolejkou.aspx\">Začínáme s jednokolejkou</a></li> <li><a href=\"/weblog/220-jak-funguje-monorail.aspx\">Jak funguje MonoRail</a></li> <li><a href=\"/weblog/236-mvc-unit-testy.aspx\">MVC na ASP.NET – testování jednotek</a></li> </ul> <p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/aspnetmvc\">aspnetmvc</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/gryphoon\">gryphoon</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:49:28.620-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Redakční systém na ASP.NET MVC",
  :published #inst "2007-12-23T18:56:11.140-00:00",
  :url "redakcni-system-na-asp-net-mvc",
  :id 242,
  :description
  "Rozhodl jsem se, že, jako praktickou ukázku použití TDD a ASP.NET MVC, budu psát seriálek, výsledkem něhož bude základ třetí verze redakčního systému Gryphoon.",
  :category "Webdesign",
  :tags
  ["aspnet"
   "mvc"
   "gryphoon"
   "codeplex"
   "xunit"
   "activerecord"
   "rhinomocks"
   "texy"]},
 :87-prednaska-o-2005kovych-produktech-na-felu.aspx
 {:html
  "<p>Zítra se koná u&#160;nás na FELu přednáška, která má představit nové produkty VisualStudio 2005&#160;a SQL Server 2005&#160;akademické obci a nejen jí. Součástí přednášky budou i&#160;informace o&#160;MSDN Academic Alliance, do kterého je naše katedra zapojena. <a href=\"http://msdnaa.felk.cvut.cz:8081/\">Více informací</a> naleznete na fakultních stránkách.</p> <p>Já osobně na přednášce budu.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Přednáška o 2005kových produktech na FELu",
  :published #inst "2005-12-01T16:45:43.497-00:00",
  :url "prednaska-o-2005kovych-produktech-na-felu",
  :id 87,
  :description "Pozvánka na zítřejší přednášku.",
  :category "Škola",
  :tags []},
 :130-aktualne-3.aspx
 {:html
  "<p>Za poslední dobu se toho dost změnilo. <a href=\"http://blog.pbsoftware.cz/\">Kdekdo dneska bloguje</a> nebo se o&#160;to <a href=\"http://blog.mikemaly.net/\">znovu pokouší</a>. Chvály hodné na tom je, že používají můj systém Gryphoon, horší je že mi přidělávaj starosti :D Ale starosti to jsou celkem milé. O&#160;Jerryho jsem použil již dříve proklamované <a href=\"/clanek/89-css-sablony-pro-vase-projekty.aspx\">CSS Templaty</a>, tak snad se mu to bude líbit.</p> <p>Dalším bodem mého příspěvku bude i&#160;trocha hudby. V&#160;pátek jsou na výstavišti <a href=\"http://www.vibrations.cz/\">Vibrations</a>, kde vystoupí se svým DJ setem jeden zmým oblíbených &#8211; Eric Prydz. Já tam budu určitě &#8211; slavit svátek &#8211; s&#160;nad i&#160;pár kamarádů. Takže pokud chcete zapařit na pouřádnej housík, zkuste si ještě sehnat vstupenku. S&#160;tímto témate tak trochu souvisí i&#160;to, že jsem přidal do strának boxík se streamama setů Alessia Busty. Takže až budete číst můj seriál o&#160;Atlasu, můžete přitom poslouchat i&#160;muziku :)</p> <p>No tak muziku máme za sebou, na řadě jsou hasiči. V&#160;sobotu 29. dubna se koná ve Zdislavě okrsková soutěž. Další soutěží v&#160;kalendáři je Pohár starosty obce Osečná plánovaný na půlku června.</p> <p>Já to dneska nějak odbývám. Posledním bodem je taková malá inzerce. Jak možná vite od března pracuju v&#160;portálu Atlas, který má ambice stát se druhým na trhu. K&#160;tomu, aby to bylo možné je zapotřebí větší množství vývojářu, než je tomu nyní. Takže pokud ovládáte ASP.NET a MS SQL a chcete být mým kolegou v&#160;mladém vývojářském kolektivu, dejte mi vědět na e-mail.</p> <p>A&#160;to je konec dnešních zpráv. Děkuji za pozornost.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-10T21:17:11.797-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Aktuálně 3",
  :published #inst "2006-04-10T15:53:49.830-00:00",
  :url "aktualne-3",
  :id 130,
  :description "Několik slov k blogování a dění za poslední dobu",
  :category "Jen tak",
  :tags []},
 :108-picasa-v-cestine.aspx
 {:html
  "<p>Google vydal svůj program pro indexaci a správu obrázků konečně v&#160;češtině. Potom, co se verze 2&#160;dočkala podpory Unicode, přišly na řadu i&#160;lokalizace do další jazyků. Nyní už mohou tento skvělý nástroj používat i&#160;lidé, kteří mají s&#160;angličtinou problémy, a mohou využít spoustu jeho &#8222;vychytávek&#8220;. <a href=\"http://picasa.google.com/\">Neváhejte a stahujte</a>.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-02-12T13:31:01.423-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Picasa v češtině",
  :published #inst "2006-02-12T13:31:01.427-00:00",
  :url "picasa-v-cestine",
  :id 108,
  :description "Google vydal českou verzi správce obrázků",
  :category "Webdesign",
  :tags []},
 :197-vs-2005-sp1.aspx
 {:html
  "<p>Microsoft dnes uvolnil Service Pack 1 pro Visual Studio 2005. Update je jak pro <a href=\"http://www.microsoft.com/downloads/details.aspx?FamilyId=7B0B0339-613A-46E6-AB4D-080D4D4A8C4E\">Express Edice</a>, tak pro <a href=\"http://www.microsoft.com/downloads/details.aspx?FamilyId=BB4A75AB-E2D4-4C96-B39D-37BAF6B5B1DC\">Team Suite</a>. Mezi novinky by měla patřit větší výkonost a stabilita a např. i <a href=\"/clanek/144-web-application-project.aspx\">Web Application Project</a>.</p> <p>Máte už někdo zkušenosti s instalací?</p> <h3 id=\"toc-update-1\">Update 1</h3> <p>První poznatek z instalace: Nejprve odinstalujte Web Application Project, zkrátíte si tím dobu instalace. A radši pozavírejte všechna okna ať neriskujete jejich zavírání po půl hodině a opětovné nekonečné čekání…</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:46:40.823-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "VS 2005 SP1",
  :published #inst "2006-12-15T12:02:00.360-00:00",
  :url "vs-2005-sp1",
  :id 197,
  :description
  "Microsoft dnes uvolnil Service Pack 1 pro Visual Studio 2005.",
  :category "ASP.NET 2.0",
  :tags ["vs" "vs2005"]},
 :167-prednaska-o-abletone-live.aspx
 {:html
  "<p><img src=\"http://disk.cz/disk/img/OBRAZKY-WEB/ABLETON/live5_9090.jpg\" class=\"right\" alt=\"Ableton Live\" /> Dnes se od 18. hodin koná přednáš o použití <a href=\"http://www.ableton.com/\">Ableton Live</a> pro živé hraní a DJing. Místo konání je Apple Center na Andělu v Praze. Já si tuhle možnost určitě nenechám ujít, a co vy? PS. Na akci je se třeba <a href=\"http://www.appleobchod.cz/?page=training\">zaregistrovat</a>.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:23:56.347-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Přednáška o Abletone Live",
  :published #inst "2006-07-18T14:51:10.767-00:00",
  :url "prednaska-o-abletone-live",
  :id 167,
  :description
  "Pozvánka na přednášku o skvělém softwaru pro DJ a živé hraní.",
  :category "Muzika",
  :tags ["ableton"]},
 :385-casovy-vypis-s-aktualizaci.aspx
 {:html
  "<p>Na Facebooku se mi líbí, že se automaticky aktualizuje čas, před jakým byl příspěvek na zeď pověšen. Jak si naimplementovat vlastní pomocí mikroformátu, jQuery a Rx?</p> <p>Na <a href=\"http://www.trop.cz\">Tropu</a> máme několik výpisů typu <em>friend feed</em>, které jsou velice podobné výpisu na zdi na Facebooku. Rozdíl je v tom, že se u příspěvků neaktualizuje doba, před kterou byl příspěvek přidán, a ani se asynchronně nenačítají příspěvky nové. Jak vyřešit první problém, se podíváme dnes.</p> <h3 id=\"toc-reactive-extensions\">Reactive Extensions</h3> <p>Již nějakou dobu používám na .netu <acronym title=\"Reactive eXtensions\">Rx</acronym>, která přidává další <a href=\"http://en.wikipedia.org/wiki/Monad_(functional_programming)\">monady</a> pro interaktivní programování nad <code>IEnumerable&lt;T&gt;</code>, podporu paralelního zpracování a zcela nové reaktivní programování postavené nad <code>IObservable&lt;T&gt;</code>. Vysvětlovat tu dualitu <code>IEnumerable&lt;T&gt;</code> a <code>IObservable&lt;T&gt;</code> dnes hodlat nehodlám. Dodám snad jen to, že tyto extenze jsou již <a href=\"http://live.visitmix.com/MIX10/Sessions/FTL01\">dostupné i pro JavaScript</a> a <a href=\"http://msdn.microsoft.com/en-us/devlabs/ee794896.aspx\">stáhnout si je můžete na MSDN</a>. K čemu je to dobré?</p> <p>Reaktivní extenze vám pomohou s řešením ne zrovna snadných úloh, jako je práce s událostmi od uživatele, asynchronní volání služeb a práce s kolekcemi. To vše pomocí standardních LINQ operátorů. Tedy snadno a rychle. Doufám, že si ještě někdy najdu čas a popsal bych je trochu blíž. Možná po implementaci druhé části výše nastoleného problému. :)</p> <h3 id=\"toc-pojdme-na-vec\">Pojďme na věc</h3> <p>jQuery a mikroformáty asi přibližovat nemusím, to jsou věci, které tu už s námi nějaký pátek jsou. Já se na Tropu snažím mikroformáty využít všude kde to jen jde, jak jsem již psal, je to můj <a href=\"/weblog/370-mikroformaty-jako-datovy-model-stranky.aspx\">datový model stránky</a>. U výpisu typu <em>friend feed</em> je aktuálně nefunkční kostra mikroformátu <a href=\"http://microformats.org/wiki/hatom\">hAtom</a>. Takže to pojďme napravit a rychle jí zprovoznit. Vezmu kus kódu a upravím ho tak, aby to byl platný hAtom:</p> <pre class=\"xml\"><code>&lt;li class=\"hentry\" id=\"activity-2330\"&gt; &lt;p class=\"entry-title\"&gt;&lt;a class=\"vcard author\" href=\"/lide/zbiejczuk\"&gt; &lt;span class=\"admin\" title=\"Trop Administrator\"&gt; &lt;span class=\"power\" title=\"Znalec\"&gt; &lt;span class=\"fn\"&gt;zbiejczuk&lt;/span&gt; &lt;/span&gt; &lt;/span&gt;&lt;/a&gt; napsal recenzi pro &lt;a href=\"/mista/808/ku-bar-praha#review-1096\" rel=\"Bookmark\"&gt;K.U. Bar&lt;/a&gt;&lt;/p&gt; &lt;p class=\"entry-content\"&gt; Hoďte na sebe nevyzývavě značkové oblečení, kupte si drahý cigára, popíjejte koktejly a konverzujte markeťáckým… &lt;/p&gt; &lt;p class=\"meta\"&gt;přidáno &lt;span class=\"updated\"&gt; &lt;span class=\"text\"&gt;22. března 2010 ve 12.24&lt;/span&gt; &lt;span class=\"value-title\" title=\"2010-03-22T11:24:19Z\"&gt;&lt;/span&gt; &lt;/span&gt; &lt;/p&gt; &lt;/li&gt;</code></pre> <p>Další soustředění budu směřovat na <code>span</code> se třídou <strong>updated</strong>, protože tam se skrývá ta důležitá věc – čas. Čas, kdy byl příspěvek publikován. Tento čas vezmeme a převedeme ho na „hezčí“ textovou prezentaci. Strojově získatelná data dle ISO8601 máme uložena pomocí value-class-patternu, pro snažší update je tu navíc span s třídou <strong>text</strong>, kam budeme strkat náš vlastní text. Parsování mikroformátu provádím pomocí jQuery.</p> <p>Rx jsou psány tak, aby s jQuery mohly fungovat, ale já jsem mlsná huba a trošku si jQuery osolím, aby se mi s ním a Rx pracovalo trochu líp:</p> <pre class=\"php\"><code>jQuery.fn.toObservable = function (eventType, eventData) { if (arguments.length == 0) { return Rx.Observable.FromArray(this.toArray()); } return Rx.Observable.FromJQuery(this, eventType, eventData); }</code></pre> <p>Pokud zavolám <code>toObservable</code> nad jQuery objektem bez parametrů, převede se výsledek dotazu na pole (nalezených elementů) a to je převedeno na <code>Observable</code> objekt se kterým už pracují samotné Rx. Pokud zadám jako parametr název jQuery události, je vrácen <code>Observable</code> objekt nad těmito událostmi. To ale dnes nevyužiju, ale i tak se může hodit. Ještě by to šlo rozšířit o podporu <em>live</em> událostí, snad jindy.</p> <p>Dále už se vrhnu rovnou do rozbouřené vody. jQuery na mne začne chrlit nalezené elementy, které musím zkrotit! Jak, kdy, proč? No tak, že mu to řeknu:</p> <pre class=\"php\"><code>Rx.Observable. Interval(10000). Select(function () { return $('.hentry .updated').toObservable(); }). Switch(). Select(mapToElementValuePair). Subscribe(changeElementText);</code></pre> <p>Nejprve si vytvořim <code>Observable</code> objekt, který na mne jednou za 10 s vyplivne sadu nalezených elementů, které jsou součástí mikroformátu a nesou informaci o čase. <code>Swicht</code> slouží k tomu, že pokud by se nestihli v daném intervalu zpracovat všechny elementy, nezačne chrlit další. Tyhle elementy pak vezmu (druhý <code>Select</code>) a vytvořím si pomocný objekt, který obsahuje element a vyparsovaný objekt <code>Date</code> s časem, který element v sobě nese. Tohle je vše <a href=\"/weblog/380-linq-a-lenive-vyhodnocovani.aspx\">lenivě vyhodnocováno</a>, takže stále nemám vůbec nic. :) To až pomocí metody <code>Subscribe</code> se pověsím na příjem a čekám, až mi nějaký element (v tomto případě už obalový objekt) přilítne. Pak ten element vezmu, datum převedu na text typu <em>před 5 minutami</em> a aktualizuju element se třídou <code>text</code>. A je hotovo. :)</p> <p>Kompletní <a href=\"http://gist.github.com/341201\">ukázku kódu najdete na gitu</a>. Ona se trošku liší a je malinko obšírnější, ale pro její pochopení, jsem tu snad naznačil dost. :) Enjoy!</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-05-25T06:53:00.530-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Časový výpis s aktualizací",
  :published #inst "2010-03-23T15:58:56.253-00:00",
  :url "casovy-vypis-s-aktualizaci",
  :id 385,
  :description
  "Na Facebooku se mi líbí, že se automaticky aktualizuje čas, před jakým byl příspěvek na zeď pověšen. Jak si naimplementovat vlastní pomocí mikroformátu, jQuery a Rx?",
  :category "Webdesign",
  :tags ["javascript" "jquery" "rx" "trop" "microformats"]},
 :98-hudebni-novinky.aspx
 {:html
  "<p>Začnu s&#160;ohlášením vydání míchané kompilace z&#160;rukou <a href=\"http://www.steveangello.tv\">Steva Angella</a>. Jmenuje se prostě <em>Sessions</em> a vychází u&#160;<a href=\"http://www.ministryofsound.com\">Ministry of Sound</a>. Proč zrovna u&#160;nich? Důvod je nasnadě, Steve dostal u&#160;tohoto labelu/klubu rezidenci a křest proběhne 19. ledna. Na téhle akci nebude chybět ani jeho parťák Sebastian Ingrosso. Tahle partička taky chystá jejich první album pod pseudonymem <strong>Buy Now</strong>. Nezbývá, než se těšit s&#160;čím tihle mágové elektrohouseové scény přijdou :)</p> <p>Když jsem u&#160;švédský houseový mafie, tak by velice brzy mělo vyjít e.p. od dua AxEr (Axwell a Eric Prydz) s&#160;poetickým názvem 1,2,3. Tahle věc dokáže dohnat k&#160;varu tanečníky ze všech koutů světa a na druhé straně budě neméně kvalitní věc 3,2,1. Již brzy u&#160;labelu <a href=\"http://www.pryda.net\">Pryda</a>.</p> <p>Dalším zajímavým počinem je nový singl od <strong>Shapeshifters</strong> s&#160;názven <em>Incredible</em>. Věc opět podařená, jak je to u&#160;týhle britský partičky zvykem. Navíc pro nás pánové, po roce stráveném ve studiu, chystají album. Tak držím palce.</p> <p>Trošku z&#160;jiného soudku je nový singl od norské partičky <strong>Röyksopp</strong> &#8211; <em>What else is there</em>. Originál spíš poslechovější a s&#160;nádherným vokálem (angličtina s&#160;germánským přízvukem). Další mixy jak v&#160;elektru tak i&#160;v trošku veselejší náladě. Nenechte si ujít&#8230;</p> <p>Na závěr takový bonbónek:</p> <blockquote cite=\"http://www.radiodeejay.cz\"> <p>Bob Sinclaire feat. Gary Pine &#8211; Love Generation novinka konce roku 2005</p> </blockquote> <p>Tak popřejem téhle novince, aby měla stejnej úspěch, jako to co jsme poslouchali v&#160;létě :D</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-01-12T12:10:35.380-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Hudební novinky",
  :published #inst "2006-01-12T11:24:50.970-00:00",
  :url "hudebni-novinky",
  :id 98,
  :description
  "Pár hudebních novinek, které stojí za povšimnutí. (alespoň těm, kdo mají rádi elektro-house a house)",
  :category "Muzika",
  :tags []},
 :219-zaciname-s-jednokolejkou.aspx
 {:html
  "<p>Jedním z fenoménů poslední doby ve webovém vývoji jsou bezesporu Ruby on Rails (RoR). Framework určený k <del><acronym title=\"Rapid Application Developement\">RAD</acronym></del> <ins>Agile vývoji</ins> používající objektový přístup a postavený na návrhových vzorech jako je <acronym title=\"Model View Controler\">MVC</acronym> nebo Active Record. Framework je určený pro jazyk či platformu Ruby, to je jeho výhoda i omezení zároveň. Málokdo se má chuť nebo čas se po nocích učit novým jazykům a stávat se vícenásobným robotem.</p> <p>RoR není rozhodně jediným projektem s podobnou filosofií. My dotneťáci máme krom WebForms, které se snaží přihnout webový vývoj desktopovým zvyklostem (událostmi řízený, stavový), podobný framework, který je navíc opensource. Tento framework se jmenuje <strong>MonoRail</strong> a oněm bude následující článek a možná i mini seriálek :)</p> <h3 id=\"toc-monorail\">MonoRail</h3> <p>Z názvu by se mohlo zdát, že má projekt něco společného s <a href=\"http://www.mono-project.com/\">Monem</a>, opensource implementací dotnetu, ale není tomu tak, krom toho, že <a href=\"http://www.castleproject.org/monorail/index.html\">MonoRail</a> běží i na Monu 1.1. MonoRail je součást opensource projeku Castle, který si klade za cíl RAD v Enterprise prostředí. Jeho součástí jsou frameworky ActiveRecord (ORM Persistence layer postavený nad NHibernate), Windsor container (Inversion of Control), DynamicProxy (vytváří Proxy třídy z Interfejsů) a právě MonoRail. Všechny frameworky umějí pracovat samostatně, ale jejich největší síla je v jejich spolupráci.</p> <p>Co je tedy MonoRail? Je to MVC framework inspirovaný <a href=\"http://wiki.rubyonrails.org/rails/pages/ActionPack\">ActionPackem</a> běžící na platformně dotnet. Je to náhrada <a href=\"http://asp.net/\">ASP.NET WebForms</a>, ale ty mohou sloužit jako <a href=\"#view\">ViewEngine</a>, nebo běžet v jedné aplikaci s MonoRails vedle sebe. Dalšími ViewEnginy jsou NVelocity (port Velocity pod dotnet) nebo Brail (Views jsou psaná v jazyce Boo, což je skriptovací Python like jazyk pro dotnet). Preferovanější je asi NVelocity, ale vývoj Brailu je živější, a WebForms se pro změnu skoro nepoužívají (kvůli PageLife cyklu, který v MonoRailu neexistuje). MonoRail se vám může oproti ASP.NET zdát oldskůlovější, ale opak je pravdou. MonoRail přináší zjednodušení, vrací se k webovému vývoji (bezestavový, Request/Response), staví na osvědčených metodách a zrychluje celý vývoj. Konec řečí, pojďme na věc :)</p> <h3 id=\"model\">Model</h3> <p>Model obecně slouží jako zdroj/zpracovávač dat aplikace. Podle toho, jak je vaše aplikace složitá, je bohatý váš model :). Zpravidla se jedná o Domain Model, Business logiku, nebo cokoli jiného, co má na starosti ověřování obchodních pravidel, persistenci a získávání dat. Pro jednoduchost stačí vygenerovat Entity podle DB schématu pomocí ActiveRecord Generatoru nebo naopak vytvořit model a z něj vygenerovat schema.</p> <pre class=\"csharp\"><code>[ActiveRecord] public class User : ActiveRecordBase { [PrimaryKey] public int Id { get; set; } [Property] public string Name { get; set; } ... }</code></pre> <p>Pro zjednodušení napsáno v C# 3.0 :) ActiveRecord plně využívá atributů k popisu schematu. Dědění třídy <code>ActiveRecordBase</code> není nutností, pro začátek stačí vědět, že nám přidává k entitě spoustu metod pro databázový přístup. Vhodnější pravděpodobně bude využít interface <code>IRepository&lt;T&gt;</code> z projektu <a href=\"http://rhino-tools.svn.sourceforge.net/svnroot/rhino-tools/trunk/rhino-commons/\">Rhino.Commons</a>, který využívá Repository pattern.</p> <h3 id=\"view\">View</h3> <p>View jsou obvykle soubory obsahující kusy HTML kódu a prezentační logiky. K zapouzdření prezentační logiky lze využít tzv. View komponent (obdoba UserControls, ale většinou mnohem obecnější). Existují tu i layouty, což je obdoba MasterPages.</p> <pre class=\"xml\"><code>&lt;html&gt; &lt;head&gt; &lt;title&gt;Layout&lt;/title&gt; &lt;/head&gt; &lt;body&gt; ${ChildOutput} &lt;p class=\"footer\"&gt;Společná patička.&lt;/p&gt; &lt;/body&gt; &lt;/html&gt;</code></pre> <p>Takto vypadá <strong>velice zjednodušený</strong> layout. <code>${ChildOutput}</code> bude nahrazen obsahem jednotlivých view.</p> <h3 id=\"controller\">Controler</h3> <p>Kontroler spojuje svět View se světem Modelu. Řídí činnost view mění stavy Modelu. Je to <em>to</em>, co dělá aplikaci aplikací.</p> <pre class=\"csharp\"><code>[Scaffolding(typeof(User))] public class UsersController : Controller { }</code></pre> <p>Teď když zadáme něco jako <code>http://localhost:12345/users/new.rails</code> tak dostaneme formulář pro zadávání nových uživatelů. (V případě, že doimplementujeme třídu <code>User</code>, aby měla všechny potřebné vlastnosti).</p> <p>Pro dnešek bych tedy ukončil první představovací článek a v příštích spotech bychom se mohli podívat na tuto zajímavou technologii trošku blíž…</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:26:34.250-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Začínáme s jednokolejkou",
  :published #inst "2007-08-14T16:10:57.470-00:00",
  :url "zaciname-s-jednokolejkou",
  :id 219,
  :description
  "Nultý díl připravovaného seriálu o velice zajímavém frameworku pro tvvorbu webu. Chcete jednoduchost Ruby on Rails, výkon ASP.NET, volnost a modularitu? Tak nasedejte...",
  :category "ASP.NET 2.0",
  :tags ["castle" "monorail" "activerecord" "mvc" "brail"]},
 :439-coderush-editor-na-steroidech.aspx
 {:html
  "<p>V čem <a href=\"http://devblog.cz/2013/02/co-mi-vadi-na-visual-studiu/\">musím s Borkem souhlasit</a> je, že Visual Studio má opravdu debilní editor kódu. Jenže je to věc, kterou si uvědomuju pouze ve chvílích, kdy sedím před studiem, které nemá nainstalovaný <a href=\"http://www.devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/index.xml\">CodeRush</a>.</p> <p>CodeRush toho podobně jako ořezávátko umí celkem hodně, ale v čem opravdu vyniká je editace kódu.</p> <p>K Borkovým bodům:</p> <ul> <li><code>Shift+Enter</code> duplikuje řádky a navíc skočí na symbol, který je aktuálně v rozporu a je třeba ho upravit.</li> <li>samotná reindentace je pro mě jen poloviční řešení, používám vždy reformát <code>Ctrl+K,D</code>, abych udržoval kód konzistentní s coding standardem.</li> <li>na přesouvání řádku <a href=\"http://code.google.com/p/dxcorecommunityplugins/wiki/DX_MoveCode\">existuje plugin</a>, nepoužívám.</li> <li><a href=\"http://www.devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/clipboard_tools.xml\">Smart Copy</a>, řeší odsazování i formátování, navíc má kontextovou citlivost. Když zkopíruju deklaraci fieldu a vložím ji do konstruktoru, vloží se jeho inicializace apod.</li> <li>mazání řádků funguje přes <code>Shift+Delete</code></li> <li><code>Ctrl+click</code> je značně neefektivní způsob navigace. VS umí <code>F12</code> pro skok na deklaraci, CR přidává <code>Tab</code> pro navigaci po symbolech, <code>Shift+F12</code> pro seznam všech referencí v solution a <code>Ctrl+Alt+N</code> pro kontextovou navigaci (potomci, předkové, implementace, přetížení…).</li> <li>Na místo poslední editace mě přenese <code>Esc</code> (pakliže refactoring zanechal značku nebo jsem si značku vložil sám pomocí <code>Alt+Home</code>). Značky fungují na principu zásobníku. Přidávat lze i permanentní značky pod číslem, pakliže někam skáčete pravidelně. (<code>Ctrl+Alt+číslo</code> pro vložení značky, <code>Atl+číslo</code> pro skok na značku.</li> <li>přehledy brzdí, důležitá je <a href=\"http://www.devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/navigation_tools.xml\">rychlá kontextová navigace</a>. <code>Ctrl+Alt+F</code> pro soubory, <code>Ctrl+Alt+.</code> pro naposledy použité soubory a <code>Ctrl+Shift+Q</code> pro navigaci po memberech.</li> </ul> <p>Něco na víc:</p> <ul> <li><code>Alt+←/→</code> funguje podobně jako <code>Ctrl+←/→</code> akorát i po jednotlivých slovech v camel/PascalCase symbolech. Stejně tak funguje <code>Alt</code> ve spojení s klávesami <code>Shift</code> a <code>Delete</code> pro výběr, či smazáni textu.</li> <li><code>Ctrl+</code><code>`</code> pro refactoring.</li> <li><code>F2</code> neskutečně rychlý inline Rename.</li> <li>historie schránky</li> <li><a href=\"http://www.devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/automatic_code_generation.xml\">inteligentní šablony</a></li> <li>smart semicolon</li> <li>zen coding</li> </ul> <p>…a spousta dalších věcí, ke kterým se dostanem třeba jindy.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-02-15T16:22:58.790-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "CodeRush - editor na steroidech",
  :published #inst "2013-02-15T10:18:53.813-00:00",
  :url "coderush-editor-na-steroidech",
  :id 439,
  :description
  "Borek měl pár pěkných výtek, k editoru kódu ve Visual Studiu. Jsou to veci nepříjemné, ale já si je díky CodeRushi neuvědomuju. Proč? Čtěte dál.",
  :category "Moje práce",
  :tags ["CodeRush"]},
 :378-facebook-connect-na-trop-cz.aspx
 {:html
  "<p>Po delší době přicházíme s dalším buildem Tropu, který je tentokrát ve znamení Facebook Connect. Od dnešního dne se můžete na <a href=\"http://www.trop.cz/\">Trop.cz</a> přihlašovat pomocí vašeho Facebook účtu. Facebook se tak zařadil mezi Seznam, Google, Twitter a další OpenId poskytovatele přihlašování, kteří už na Tropu jsou.</p> <h3 id=\"toc-facebook-connect\">Facebook Connect</h3> <h4 id=\"toc-stavajici-uzivatele\">Stávající uživatelé</h4> <p>Stávající uživatelé si mohou svůj účet <a href=\"http://www.trop.cz/users/edit#accounts\">propojit s Facebookem v editaci profilu</a>. Jak na to, se můžete podívat v následujícím krátkém videu: <a href=\"http://screencast.com/t/OTBjMWYy\">Jak propojit účet s Facebookem</a>.</p> <p>Můžete si všimnout, že jsem potvrzoval práva na publikování. To proto, že Trop nyní umí <strong>posílat vaše recenze na zeď</strong>. Pokud při propojování s facebookem potvrdíte publikování, budou se vaše nové recenze posílat i na Facebook. Nemusíte psát, že se vám někde líbilo/nelíbilo dvakrát, stačí to napsat na Trop a vaši přátelé se o tom dozvědí.</p> <h4 id=\"toc-novi-uzivatele\">Noví uživatelé</h4> <p>Noví, ještě neregistrovaní uživatelé mají nyní další možnost, jak <a href=\"http://www.trop.cz/registrace#facebook\">se snadno na trop zaregistrovat</a> a nezatěžovat se s vyplňováním profilu. Vše potřebné se vyplní z Facebooku.</p> <h3 id=\"toc-recenze\">Recenze</h3> <p>Dalších změn se dočkaly recenze. Nyní konečně můžete vaši recenzi zpětně upravit včetně tagů a rozšířených hodnocení. Textové pole pro editaci je nyní větší a úprava je mnohem pohodlnější. Další z novinek je <strong>hodnocení recenzí</strong>. Pokud se vám něčí recenze líbí, můžete jí posunout nahoru svým hlasem. Samozřejmě můžete poslat dolu i recenze, které nemají žádnou užitnou hodnotu. Každý registrovaný uživatel má právo jednou zahlasovat k recenzi někoho druhého.</p> <p>Tlačítka pro editaci a hlasování najdete v pravém horním rohu po najetí na recenzi.</p> <h3 id=\"toc-twitter\">Twitter</h3> <p>Ode dneška můžete sledovat, co se o Tropu štěbetá na Twitteru. Na domovské stránce máme nyní widget s Twitterem. Podobně přibyl widget s Twitterem na profilové stránky uživatelů, kteří mají svůj Twitter spojený s Tropem. Můžete tam snadno vidět, čím se tropáci zabývají i mimo psaní zajímavých recenzí. :) Pokud chcete vědět, co <a href=\"http://www.twitter.com/tropcz/\">štěbetá Trop</a>, můžete ho sledovat také. Najdete zde mimo jiné i seriál tipů na zajímavá místa.</p> <h3 id=\"toc-prani-a-oprava-bugu\">Přání a oprava bugů</h3> <p>Snažili jsme se splnit vaše přání, která nám můžete posílat (a posíláte) na náš <a href=\"http://trop.uservoice.com/\">uservoice</a>. Některé z nich jsem již zmínil výše, mezi dalšími je oprava hledání, nyní opět můžete hledat i mimo Prahu. Byl vylepšen <a href=\"/weblog/374-osetreni-chybovych-stavu-v-asp-net-mvc.aspx\">způsob jakým se posílají chybové stránky</a>, nyní už by měly být jednotné a brzy i o něco použitelnější.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-02-01T20:03:50.693-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Facebook Connect na Trop.cz",
  :published #inst "2010-02-01T20:00:51.753-00:00",
  :url "facebook-connect-na-trop-cz",
  :id 378,
  :description
  "Po delší době přicházíme s dalším buildem Tropu, který je tentokrát ve znamení Facebook Connect. ",
  :category "Webdesign",
  :tags ["trop" "facebook" "connect" "openid"]},
 :247-validace-v-nforms-pro-asp-net.aspx
 {:html
  "<p>Oproti původnímu očekávání, jsem za uplynulý týden na <a href=\"/weblog/245-nforms-pro-asp-net.aspx\">NForms</a> skoro nešáhl. Chtělo by se říci naštěstí, protože jsem se věnoval jiným aktivitám, nepočítačovým. :) Ale asi z toho bude <del>z</del>páteční projekt. Po týdnu jsem to tedy znovu otevřel a včera dopsal získávání hodnot formuláře a na dnešek zbylo začít validační vrstvu.</p> <p>Validaci jsem započal jednoduchým pravidlem <code>PredicateRule</code>. Otázka je, jestli je to dobrý krok. Proto vlastně tento spot píšu. :) Predikátová pravidla vznikají zápisem lambda výrazů, což je sám o sobě mocný nástroj a dalo by se s ním hodně vyhrát. Ovšem naráží to pár překážek. Například typovost hodnot formulářových prvků.</p> <p>Když jsem psal tu část NForms, která získává poslaná data, vytvořil jsem generickou metodu <code>GetValue&lt;T&gt;(Converter&lt;string,T&gt;)</code>. Tato metoda získá hodnotu v požadovaném typu. Pro převod na základní datové typy z textového řetězce se dají použít předpřipravené metody třídy `System.Convert `, pro vlastní struktury stačí předat delegát na vlastní converter a mělo by to fungovat… Jenže jak se validátor dozví, jaký typ zvolit?</p> <p>Znamená to asi jediné, musím napsat ještě generické ekvivalenty formulářových prvků. Na jednu stranu to znamená docela víc práce, než jsem čekal :) a na druhou mnohem větší komfort při tvorbě formulářů a validačních pravidel. Díky tomu, že je celý framework určen pro verzi 3.5, můžu využít lambda výrazy ke generování JScriptových pravidel. Tedy doufám, že to půjde. Validační kód by pak mohl vypadat nějak tak:</p> <pre class=\"csharp\"><code>Form.AddRule(\"age\", age =&gt; age &gt; 18, \"Uživatel musí být plnoletý\");</code></pre> <p>Co myslíte? Mám se vydat touto cestou, nebo je to moc odvážné? :)</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a href=\"/weblog/245-nforms-pro-asp-net.aspx\">NForms pro ASP.NET</a></li> <li><a href=\"/weblog/242-redakcni-system-na-asp-net-mvc.aspx\">Redakční systém na ASP.NET MVC</a></li> <li><a href=\"/weblog/238-cekani-na-asp-net-extensions.aspx\">Čekání na ASP.NET Extensions</a></li> </ul> </div> <p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/nforms\">NForms</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/lambda\">lambda</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/aspnetmvc\">aspnetmvc</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:44:47.333-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Validace v NForms pro ASP.NET",
  :published #inst "2008-01-04T16:09:37.467-00:00",
  :url "validace-v-nforms-pro-asp-net",
  :id 247,
  :description
  "Oproti původnímu očekávání, jsem za uplynulý týden na NForms skoro nešáhl. Chtělo by se říci naštěstí, protože jsem se věnoval jiným aktivitám, nepočítačovým. :) Ale asi z toho bude (z)páteční projekt. Po týdnu jsem to tedy znovu otevřel a včera dopsal zí",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "nforms" "lambda"]},
 :106-samanismus-v-asp-net-2-0.aspx
 {:html
  "<p>Nebojte se, tento článek nebude o&#160;pokoutných praktikách a užití magie v&#160;této velice zajímavé webové technologii, nýbrž o&#160;nových ovládacích prvcích, které slouží jako průvodci, známí z&#160;Windows. Každý může mít svůj názor na jejich opodstatnění na webu, ale v&#160;některých scénářích jsou k&#160;nezaplacení a usnadňují vývoj.</p> <p>Asi první šaman, na kterého narazíte je <code>asp:CreateUserWizard</code>, který je součástí Membership API. Tento šaman slouží, jak už název napovídá, k&#160;vytváření nových uživatelů aplikace. Tento šaman má implementované dva kroky:</p> <ol> <li><code>asp:CreateUserWizardStep</code> &#8211; Zadání požadovaných údajů, potřebných k&#160;vytvoření nového uživatele.</li> <li><code>asp:CompleteWizardStep</code> &#8211; Hláška o&#160;úspěšném dokončení vytváření uživatele.</li> </ol> <p>Krom těchto dvou si můžete přidat libovolné množství vlastních kroků, například krok, ve kterém přidělíme uživateli jeho Role. Každý kontrol, který je odvozený od třídy <code>Wizard</code> má vlastnost <code>WizardSteps</code>, kam můžete přidávat vlastní kroky šamana. Takže následující kus kódu představuje šamana na vytvoření uživatele s&#160;přidělením uživatelské role.</p> <pre class=\"xml\"><code>&lt;asp:CreateUserWizard ID=\"NovyUzivatelWizard\" runat=\"server\" LoginCreatedUser=\"false\" OnActiveStepChanged=\"NovyUzivatelWizard_ActiveStepChanged\" OnContinueButtonClick=\"NovyUzivatelWizard_ContinueButtonClick\"&gt; &lt;WizardSteps&gt; &lt;asp:CreateUserWizardStep ID=\"CreateUserWizardStep1\" runat=\"server\" Title=\"Vytvořen&amp;#237; nov&amp;#233;ho uživatele\"&gt;&lt;/asp:CreateUserWizardStep&gt; &lt;asp:WizardStep ID=\"WizardStep1\" runat=\"server\" AllowReturn=\"False\" EnableTheming=\"True\" StepType=\"Step\" Title=\"Role nov&amp;#233;ho uživatele\"&gt; Role nového uživatele&lt;br /&gt; &lt;asp:CheckBoxList ID=\"UzivatelskeRoleList\" runat=\"server\"&gt;&lt;/asp:CheckBoxList&gt; &lt;/asp:WizardStep&gt; &lt;asp:CompleteWizardStep ID=\"CompleteWizardStep1\" runat=\"server\" Title=\"Hotovo\"&gt;&lt;asp:CompleteWizardStep&gt; &lt;/WizardSteps&gt; &lt;/asp:CreateUserWizard&gt;</code></pre> <p>Jak vidíte, implementace vlastních kroků v&#160;designové části není moc náročná. Krom přidělení ovladačů událostí pro přechod mezi jednotlivými kroky, jsem přidal vlastnost, která ošetřuje „podivné chování“, kdy se po vytvoření uživatele dojde k&#160;jeho automatickému nalogování. Takže pokud se divíte, že po vytvoření nového uživatele jste ve vaší aplikaci někým jiným, nastavte vlastnost <code>LoginCreatedUser</code> na <code>false</code>.</p> <p>Pokud měníte kolekci <em>WizardSteps</em>, nezapomeňte na původní kroky, to jen tak pro jistotu :). A&#160;nyní přistoupíme k&#160;programové části šamana. Zde musíme ošetřit chování jednotlivých kroků v&#160;ovladačích událostí <code>OnActiveStepChanged</code> a <code>OnContinueButtonClick</code>.</p> <pre class=\"csharp\"><code>protected void NovyUzivatelWizard_ActiveStepChanged(object sender, EventArgs e) { // pokud je aktivní krok pro výběr rolí if (NovyUzivatelWizard.ActiveStepIndex == 1) { // načteme všechny uživatelské role a svážeme je s datovým prvkem UzivatelskeRoleList.DataSource = Roles.GetAllRoles(); UzivatelskeRoleList.DataBind(); } } protected void NovyUzivatelWizard_ContinueButtonClick(object sender, EventArgs e) { // pokud je aktivní krok pro výběr rolí if (NovyUzivatelWizard.ActiveStepIndex == 1) { StringBuilder sb = new StringBuilder(); // projedeme pole checkboxů for (int i = 0; i &lt; UzivatelskeRoleList.Items.Count; i++) { // pokud je vybraná role if (UzivatelskeRoleList.Items[i].Selected) { // přidáme její název do kolekce sb.Append(UzivatelskeRoleList.Items[i].Text + \",\"); } } // přiřadíme novému uživateli jeho role Roles.AddUserToRoles(NovyUzivatelWizard.UserName, sb.ToString().Split(',')); } }</code></pre> <p>Na kódu asi není nic zvláštního, důležité je zjišťování aktivního kroku šamana pomocí vlastnosti <code>ActiveStepIndex</code>. Zbytek kódu se věnuje načtení kolekce uživatelských rolí do CheckBoxListu a pak přiřazení vybraných rolí nově vytvořenému uživateli.</p> <p>Toto byla ukázka funkčnosti konkrétního šamana, ale vy si můžete pomocí toho konceptu vytvořit vlastní šamany postavené na ovládacím prvku <code>asp:Wizard</code>. Nazapomeňtě, že se třída Wizard **renderuje do tabulky **, což zhoršuje její přístupnost, ale i&#160;to se dá obejít – téma na další pokračování. Toť vše, drazí čtenáři, doufám, že jsem vám alespoň trochu pomohl s&#160;pronikáním do tajů ASP.NET 2.0.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-02-06T18:49:16.187-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Šamanismus v ASP.NET 2.0",
  :published #inst "2006-02-05T14:07:40.617-00:00",
  :url "samanismus-v-asp-net-2-0",
  :id 106,
  :description "Zasvědcení do tajů ASP.NET 2.0...",
  :category "ASP.NET 2.0",
  :tags []},
 :179-moje-prvni-zkusenosti-s-vistou.aspx
 {:html
  "<p>Konečně jsem se dostal k dlouho očekávanému vyzkoušení Windows Vista a jsem kupodivu spokojen :)</p> <p>Předběžné ohlasy z betafáze byli většinou se smíšenými pocity. Přesto jsem si zaregistroval jedno licenční číslo k Beta 2 a chystal se jí instalovat na nový komp, ale do VirtualPC se mi instalace nezdařila, tak jsem od toho na nějaký čas upustil. Když se teď začaly na blozích oběvovat celkem kladné ohlasy na první Release Candidate verzi, začal jsem o Vistě znovu uvažovat, nakonec mě přesvědčili screenshoty od ScottaGu, kde mu běželo ve Vistách Visual Studio :) V tom nenasytném systému? No, šak víme.</p> <p>V práci jsem si tedy stáhl image Vista RC1, rozdělil disk na dvě partition (dualboot se po ředchozích zkušenostech zdál přece jen schůdnější variantou), a vložil instalační DVD do mechaniky. Autorun mi nabídl možnost otestovat kompatibilitu s novým systémem. Pár věcí vypadalo, že asi ve Vistách po upgradu nepůjde, ale upgrade jsem stejně v úmyslu neměl :) Restartoval jsem počítač, v bootmenu jsem vybral DVD mechaniku a… nic. „Že by ta image nebyla bootovatelná? To snad ne!“ Vyndal jsem DVD oprášil ho (ikdyž bylo čerstvě vypálený) a zkusil to znovu. Instalátor se už tentokrát chytl.</p> <p>Instalace se vás nazačátku zeptá na to jaké chcete používat prostředí, vybral jsem si české (pozor neplést s češtinou ;)), nastavil si svoji oblíbenou Czech (QWERTY) klávesnici. Pak jsem zadal svoje beta licenční číslo, vybral cílovou partition a jelo to. Docela svižně, akorát deformace obrazu na mém wide screenu byla trochu nepříjemná. :) Po zkopírování systémových souborů do počítače došlo k restartu a k dokončení instalace. Založení uživatelského účtu už bylo ve správně rozpoznaném rozlišení a dostal jsem na výběr i pěknou sadu pozadí pro wide screeny :) Pěkně, na detaily je dbáno už od začátku.</p> <p>Po přihlášení na mě čekalo Aero a Startup Manager, efekty běhaly plynule. Windows Experience Index 2,0. Není to moc (stahuje to dolu nVidia Grafika) :D Zapnul jsem WiFi kartu, u hodin se zobrazil ukazatel signálu jako na mobilu a zachvilku i bublia hlásící nalezené sítě. Pohoda, zatim jsem nepotřeboval instalovat jedinej ovladač a všechno funguje bez sebemenších problémů. Spustil jsem si Task Manager, zjišťuje něco kolem 470 MiB zabrané paměti systémem. Pro někoho je to hodně, ale s trochou matematické analýzy zjistíte, že jde o nepatrně vyšší číslo něž u Windows XP s nainstalovaným Windows Desktop Search, Windows Defenderem a s ovladačemi pro nejrůznější zařízení, která skrývá můj notebook ve svých útrobách.</p> <p>Každého programátora zajímá jestli jdou ty barvičky (Aero) vypnout. Ano jdou. To je ale asi očekávaná odpověď vždyť tu mám ještě Vista Basic režim. Docela rozšířeným mýtem je, že Vista Basic je nejvíce easy režim, kterej jde ve Vistě zapnout. Dobrá zpráva pro ortodoxní šediváky je, že režimy Windows Classic a Windows Standars známé z WinXP, zůstaly. No ale stejně jsem si zase vrátil Aero…</p> <p>První věc, kterou jsem doinstaloval, byla betaverze 2007 Microsoft Office System, jak jinak. Krásná grafitová barva se nastavila ve Vistě automaticky, což mi ulehčilo prácí s přenastavováním z azurové příšerky :) Takže Office je bez problémů. Další věcí, která mě zajímala, bylo jak se Vista popere s Visual Studiem. Musím říct, že bez problémů, dokonce mi subjektivně přišlo, že Studio běhá rychleji :D</p> <p>Tak to jsou mé první dojmy z Visty. V testování a přípravě na přechod budu určitě pokračovat a snad si i najdu chvilku na napsání pár řádků o zkušenostech s IIS7 a dalších vývojářských novinkách ve Vistě.</p> <p>Test proběhl na stroji Dell Latitude D620, Intel Core Duo T2300, 1 GiB RAM, nVidia Quadro NVS 110M 256 MiB.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:17:33.470-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Moje první zkušenosti s Vistou",
  :published #inst "2006-09-11T10:05:50.207-00:00",
  :url "moje-prvni-zkusenosti-s-vistou",
  :id 179,
  :description
  "Konečně jsem se dostal k dlouho očekávanému vyzkoušení Windows Vista a jsem kupodivu spokojen :) ",
  :category "Jen tak",
  :tags ["windows" "vista"]},
 :183-prohlaseni-uzivatelu-marknet-cz.aspx
 {:html
  "<p>My, uživatelé serveru <a href=\"http://marknet.cz\">Marknet.cz</a> prostřednictvím své odborové organizace, vyzýváme touto cestou majitele a veřejného zástupce tohoto serveru, pana Radima Hasalíka, aby se vzdal všech svých funkcí na Marknet.cz a doménu i&#160;se všemi závazky bezplatně předal do rukou pana Matěje Nováka ze společnosti Ataxo s.r.o. Tento svůj požadavek odůvodňujeme odstrašujícícm chováním pana Hasalíka v&#160;posledních dnech, kterým způsobil značné poškození služby a urážku jejich uživatelů.</p> <p>Pan Matěj Novák opakovaně <a href=\"http://pressportal.cz/pachollini/tz/1635-marknet-cz-a-marknet-eu-nemusi-zaniknout/\">veřejně nabídnul</a> možnost osobního převzetí služby a pokračování v&#160;jejím provozu bez podobných nestandardních výpadů, jaké předvádí pan Hasalík. Podle vyádření provozovatelů <a href=\"http://weblogy.cz\">Weblogy.cz</a>, kteří pro Marknet.cz dodávají technické řešení, je z&#160;jejich hlediska tato cesta velmi dobře shůdná.</p> <p>Tuto výzvu činíme klidnou nerevoluční cestou a proto věříme, že pan Radim Hasalík přistoupí na naši odborovou diskusi a dojdeme společného řešení skrze pana Matěje Nováka. Děkujeme za pozornost a nyní se můžeme vrátit zpět k&#160;plnění našich společných úkolů.</p> <p>Pro nezasvěcené: <a href=\"http://www.weblogy.cz/hledat/?q=marknet\">Co vše se o&#160;Marknet.cz napsalo</a> (články z&#160;Weblogy.cz)</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-10-11T11:53:59.330-00:00",
  :is-published true,
  :author "leopold",
  :title "Prohlášení uživatelů Marknet.cz",
  :published #inst "2006-10-11T10:38:18.237-00:00",
  :url "prohlaseni-uzivatelu-marknet-cz",
  :id 183,
  :description
  "Uživatelé Marknet.cz vyzývají majitele pana Radima Hasalíka, aby se služby vzdal ve prospěch pana Matěje Nováka. ",
  :category "Webdesign",
  :tags []},
 :283-techorati.aspx
 {:html
  "<p><a href=\"http://technorati.com/claim/2i3axcz25\" rel=\"me\">Technorati Profile</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-10T20:04:56.357-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Techorati",
  :published #inst "2008-06-10T19:50:07.033-00:00",
  :url "techorati",
  :id 283,
  :description
  "<a href=\"http://technorati.com/claim/2i3axcz25\" rel=\"me\">Technorati Profile</a>",
  :category "Jen tak",
  :tags []},
 :185-format-opensearch-dil-1.aspx
 {:html
  "<p>O formát OpenSearch jsem se začal zajímat někdy najaře letošního roku z velmi prostého důvodu – lze v něm snadno definovat vlastní vyhledávací modul pro Internet Explorer 7.0 a Firefox 2.0. To však není vše, co tento formát umí a k čemu je určený.</p> <h3 id=\"toc-definice-vyhledavaciho-modulu\">Definice vyhledávacího modulu</h3> <p>Pokud máte na svém webu implementováno vyhledávání, můžete svým návštěvníkům zkrátit cestu přidáním vlastního modulu, který se přidá do seznamu vyhledávacích strojů ve vašem prohlížeči. Jak na to vám vysvětlí následující odstavce :)</p> <p>Nejprve je nutné napsat OpenSearch Description dokument s definicí vašeho modulu. Malá ukázka:</p> <pre class=\"xml\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; &lt;OpenSearchDescription xmlns=\"http://a9.com/-/spec/opensearch/1.1/\"&gt; &lt;ShortName&gt;Web Search&lt;/ShortName&gt; &lt;Description&gt;Use Example.com to search the Web.&lt;/Description&gt; &lt;Tags&gt;example web&lt;/Tags&gt; &lt;Contact&gt;admin@example.com&lt;/Contact&gt; &lt;Url type=\"text/html\" template=\"http://example.com/?q={searchTerms} \"/&gt; &lt;Url type=\"application/rss+xml\" template=\"http://example.com/?q={searchTerms}&amp;amp;amp;format=rss\"/&gt; &lt;/OpenSearchDescription&gt;</code></pre> <p>Ukázka popisuje fiktivní vyhledávač, který poskytuje výsledky hledání ve formě HTML a RSS (dva elementy <code>Url</code> s definovaným content-typem), důležitým parametrem je <code>{searchTerms}</code>, který klient (např. prohlížeč) nahradí svým dotazem, <a href=\"http://www.opensearch.org/Specifications/OpenSearch/1.1#OpenSearch_1.1_parameters\">další parametry</a> . Obsah elementu <code>ShortName</code> určuje název vyhledávacího stroje – tento se bude zobrazovat v seznamu vyhledávacích modulů. Další elementy jen přidávají další metadata pro autodiscovery.</p> <p>Pak stačí přidat do vašich stránek element <code>link</code>, který odkazuje na soubor vytvořený v předešlém kroku. Připojení je obdobné s připojováním RSS nebo Atom kanálu. Příklad:</p> <pre class=\"xml\"><code>&lt;link rel=\"Search\" href=\"http://www.example.com/opensearch.xml\" type=\"application/opensearchdescription+xml\" title=\"Example Search\" /&gt;</code></pre> <p><img src=\"/data/obrazky/search.png\" class=\"right\" alt=\"rozsvícené tlačítko\" /> Pokud pak navštívíte takovou stránku, prohlížeč vám dá vědět, že našel modul rozsvícením tlačítka pro výběr modulu.</p> <p>Další možností, jak modul vytvořit je použít <a href=\"http://www.searchplugins.net/generate.aspx\">generátor</a>.</p> <h3 id=\"toc-souvisejici\">Související</h3> <ul> <li><a href=\"http://www.opensearch.org/\">OpenSearch.org</a></li> <li><a href=\"http://www.searchplugins.net/\">Search Plugins</a></li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:08:55.387-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Formát OpenSearch – díl 1.",
  :published #inst "2006-10-24T11:36:42.163-00:00",
  :url "format-opensearch-dil-1",
  :id 185,
  :description
  "Formát OpenSearch je zajímavou XML implementací. Pojďme se na něj podívat trochu blíž. V tomto díle se podíváme na to, jak implementovat vlastní vyhledávací plug-in do Internet Exploreru 7.0 a Firefoxu 2.0.",
  :category "Webdesign",
  :tags ["rss" "opensearch" "ie7" "firefox"]},
 :121-atlas-go-live.aspx
 {:html
  "<p>Ano, konečně je to tady. Microsoft dnes (se zahájením konference MIX'06) uvolnil novou verzi <a href=\"http://atlas.asp.net/\">ASP.NET &#8218;Atlas&#8216;</a> s&#160;licencí k&#160;ostrému provozu. Nyní tedy může být Atlas zařazen do produkčních produktů :)</p> <ul> <li><a href=\"http://weblogs.asp.net/atlas/archive/2006/03/20/440631.aspx\">Detaily releasu</a></li> <li><a href=\"mms://wm.microsoft.com/ms/uifx/asp_net_atlas.wmv\">Video s&#160;ukázkou vývoje v&#160;Atlasu</a></li> </ul> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-21T14:04:52.720-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Atlas go Live",
  :published #inst "2006-03-20T21:17:06.707-00:00",
  :url "atlas-go-live",
  :id 121,
  :description "S chutí do života.",
  :category "ASP.NET 2.0",
  :tags []},
 :445-asynchronni-vs-paralelni-zpracovani-uloh.aspx
 {:html
  "<p>S příchodem <code>async/await</code> do C# 5.0 se nám v různých APIs objevily asynchronní metody, které vracejí <code>Task</code> nebo <code>Task&lt;T&gt;</code> a jejich název je vybaven kouzelným postfixem <code>Async</code>. Jde o takzvaný <a href=\"http://msdn.microsoft.com/en-us/library/hh873175.aspx\">Task-based Asynchronous Pattern (TAP)</a>. A protože je postavený na datové struktuře <code>Task</code> může svádět k vlastním implementacím, které nejsou tak říkajíc <em>zrovna optimální</em>.</p> <blockquote class=\"twitter-tweet\"> <p>That's an <a href=\"https://twitter.com/search/%23async\">#async</a> implementation! Not! <a href=\"http://t.co/sHBSxhfthj\" title=\"http://ow.ly/jjzrf\">ow.ly/jjzrf</a> <a href=\"https://twitter.com/search/%23sqlite\">#sqlite</a></p> — Jiri Cincura (@cincura_net) <a href=\"https://twitter.com/cincura_net/status/315067029021413376\">March 22, 2013</a></blockquote> <p>Začneme malou ukázkou z praxe. V předchozím tweetu Jirka ukazuje na „asynchronní“ implementaci metody <code>ToFirstAsync()</code> ze SQLite:</p> <pre class=\"csharp\"><code>public Task&lt;T&gt; ToFirstAsync () { return Task&lt;T&gt;.Factory.StartNew(() =&gt; { using (((SQLiteConnectionWithLock)_innerQuery.Connection).Lock ()) { return _innerQuery.ToFirst (); } }); }</code></pre> <p>Co je na ní špatného?</p> <p>Když pominu maďarské podtržítko, mezery před závorkama, zbytečné složené závorky a vůbec… Zkrátka vidíme ukázkový pokus o implementaci TAP pomocí <a href=\"http://msdn.microsoft.com/en-us/library/dd460717.aspx\">Task Parallel Library (TPL)</a>. A to je <strong>špatně</strong>. Ve skutečnosti nejde o asynchronní operaci, ale o operaci odpálenou na jiném threadu.</p> <h3 id=\"toc-asynchronni-vs-paralelni\">Asynchronní vs. paralelní</h3> <p>Nejprve bychom si asi měli ujasnit, jaký rozdíl je mezi asynchronním a paralelním zpracováním, protože to stále většině lidí není jasné. Ano, i já se v tom občas ztrácím, ale snažím se. :)</p> <p>Představte si dlouhotrvajících operaci. Řekněme takovou, která není přímo spojená s výpočtem (CPU-bounded), ale takovou, která si šahá na některé ze vstupně/výstupních zařízení (IO-bounded). Tak tedy vězte, že asynchronní operace je taková, která běží v tomto zařízení. Pokud třeba čteme z disku, databáze nebo z cloudu, pošleme požadavek na zařízení a <strong>nečekáme na odpověď</strong> přímo, ale necháme zařízení <strong>ať se nám ozve samo</strong>, až bude jeho odpověď připravená. Mezi tím se může aplikace věnovat jiným úlohám. Žádná vlákna zde není třeba zmiňovat.</p> <p>Pokud zadáme úlohu ke zpracování jinému vláknu, zavádíme konkurenci. Ukázka výše odstartuje nový Task, který se s největší pravděpodobností spustí na jiném threadu a záhy ho zamkne. Sice neblokuje vlákno, ze kterého operaci voláme, ale blokujeme vlákno jiné. Jaký je účel? A náklady na synchronizaci?</p> <p>Paralelizace je vhodná tam, kde máme <strong>výpočetně náročné operace</strong> a dají se rozdělit na několik kroků, které mohou běžet konkurenčně. Tj. nesdílí stav a slouží třeba jako mezivýsledky v nějakém větším výpočtu. Typickým příkladem může být Map/Reduce. Mapování může běžet paralelně, redukce pak proběhne po doběhnutí mapování, případně může také probíhat paralelně v nějakých clusterech dat.</p> <p>Tak, snad je to už jasné. :)</p> <p>Dalším velkým rozdílem je, že paralelizace zpracování je implementační detail, a ten by jako takový neměl prosakovat do APIs. Pokud tedy uvidíte metodu, která vrací <code>Task</code> nebo <code>Task&lt;T&gt;</code> a v její implementaci je <code>Task.Run</code> potažmo starší verze <code>Task.Factory.StartNew</code>, považujte to za smell.</p> <h3 id=\"toc-taky-jsem-ji-mel\">Taky jsem ji měl</h3> <p>Popravdě, taky jsem takovou metodu měl. Zjednodušeně vypadala asi nějak tak:</p> <pre class=\"csharp\"><code>class Client : ConsumerOf&lt;Message&gt; { readonly ManualResetEvent sync = new ManualResetEvent(false); public Task&lt;Result&gt; QueryAsync(Request request) { return Task.Factory.StartNew(() =&gt; { SendQuery(request.ToQuery()); sync.Wait(); return Result; }); } public void Consume(Message msg) { sync.Set(); Result = msg.ToResult(); } }</code></pre> <p>Jak vidíte, spouští se tu nový Task, který odešle dotaz a čeká na odpověď. Dotaz i odpověď jsou zprávy cestující po service busu. Všimněte si <em>synchronizace</em> (sic!) pomocí signální události. Navenek se to tváří jako asynchronní, ale je to celkem pěkně drahá sranda. Jak to udělat opravdu asynchronně?</p> <h3 id=\"toc-lepsi-reseni\">Lepší řešení</h3> <p>Klíčem k úspěchu je využití třídy <code>TaskCompletionSource</code>:</p> <pre class=\"csharp\"><code>class Client : ConsumerOf&lt;Message&gt; { readonly TaskCompletionSource tcs = new TaskCompletionSource(); public Task&lt;Result&gt; QueryAsync(Request request) { SendQuery(request.ToQuery()); return tcs.Task; } public void Consume(Message msg) { tcs.TrySetResult(msg.ToResult()); } }</code></pre> <p>Task nevytváříme pomocí <code>TaskScheduler</code>u, který ho alokuje někde na ThreadPoolu, ale pomocí <code>TaskCompletionSource</code>. Result se nastaví ve chvíli, kdy přijde odpověď. Nepotřebujeme žádné semafory, vše funguje pěkně asynchronně. Můžeme snadno přidat řešení chybových stavů, timeout nebo cancellation. Dle potřeb a celkem levně.</p> <h3 id=\"toc-zaver\">Závěr</h3> <p>Asynchronní APIs má cenu vystavovat pouze u IO operací. Výpočetně náročné operace můžeme vnitřně paralelizovat, ale nikdy tento detail nezveřejňujeme v APIs. Pro asynchronní operace nepoužíváme <code>TaskFactory</code> ani synchronizační objekty, ale <code>TaskCompletionSource</code>. Já už si to budu pamatovat. Doufám, že i vy. :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-03-26T16:35:46.720-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Asynchronní vs. paralelní zpracování úloh",
  :published #inst "2013-03-26T12:42:52.607-00:00",
  :url "asynchronni-vs-paralelni-zpracovani-uloh",
  :id 445,
  :description
  "Dnes se podíváme na zoubek asynchronnímu a paralelnímu zpracování.",
  :category "Moje práce",
  :tags ["async"]},
 :245-nforms-pro-asp-net.aspx
 {:html
  "<p>Do vydání kompletního frameworku Nette je ještě asi daleko, ale to nevadí. My na ASP.NET bychom z něj stejně žádný užitek neměli. Tedy vlastně, proč by ne?</p> <p>Vždyť <a href=\"http://nettephp.com\">Nette</a> je protkáno spoustou skvělých nápadů. A když jde o skvělé nápady proč je nezhmotnit že? :) Ukradl jsem Davidovo mentální bohatství a jal se implementovat NForms v C#. Jako inspirace mi sloužila skvělá <a href=\"http://www.avc-cvut.cz/avc.php?id=5258\">přednáška o Nette frameworku</a>. Zatím jsem ve fázi (po dvou dnech koukání na přednášku a přerušovaného psaní), kdy se formuláře hezky generují. To je tak čtvrtina úspěšné cesty, doufám.</p> <h3 id=\"toc-nahlizime-pod-poklicku\">Nahlížíme pod pokličku</h3> <p>Základem je něco, jako NHtml, třída <code>HtmlElement</code>, která se stará o generování kódu. Syntaxe částečně vychází z NHtml, ale vzhledem k rozdílnosti jazyků, jsem některé věci musel řešit odlišně. V podstatě jsem zde narážel na limity C# jako staticky typovaného jazyka.</p> <pre class=\"csharp\"><code>var input = new HtmlElement( \"input\", new { Name = \"name\", Id = \"nameInput\", Type = InputType.Text }, HtmlElement.SelfClosing );</code></pre> <p>V ukázce je vytvoření elementu <code>input</code> včetně některých atributů. Atributy se předávají pomocí vlastností anonymní třídy. Vygenerovaný kód vypadá následovně:</p> <pre class=\"xml\"><code>&lt;input name=\"name\" id=\"nameInput\" type=\"Text\" /&gt;</code></pre> <p>Další vlastnosti lze nastavovat přes indexer následujícím způsobem:</p> <pre class=\"csharp\"><code>input[\"MaxLength\"] = 25;</code></pre> <p>Dále pak má metody pro přidávání potomků, nastavování textu nebo HTML, přidávání/odebírání CSS třídy a samotné renderování.</p> <p>Na tomto základě pak vyrůstá formulářová nadstavba. Snažil jsem se co nejvíce přiblížit API PHPčkovému vzoru, ale práce je v tomto směru velice těžká. Zlatej Microsoft a OpenXML ;) Vzorem je pár zachycených řádků na přednášce (David pekelně rychle mačká PgDown/PgUp) a vlastní fantazie ohledně zbytku.</p> <p>No prozatím jsem se dostal do následujícího stavu. Následná akce řadiče:</p> <pre class=\"csharp\"><code>[ControllerAction] public void Index() { var genres = new ListItem[] { new ListItem { Text = \"muž\", Value = 1 }, new ListItem { Text = \"žena\", Value = 2 } }; Form form = new Form(); form.AddText(\"name\", \"Jméno:\", 20, 50); form.AddText(\"email\", \"E-mail\", 20, 255); form.AddHidden(\"skryte\").SetValue(\"nějaká hodnota - skrytá\"); form.AddRadio(\"pohlavi\", \"Pohlaví:\", genres); form.AddButton(\"submit\", \"Odeslat\"); Form = form; RenderView(\"Index\"); }</code></pre> <p>ve spojení se šablonou v pohledu:</p> <pre class=\"xml\"><code>&lt;form method=\"post\" action=\"\"&gt; &lt;div style=\"display:none\"&gt;&lt;%=Form[\"skryte\"].Control %&gt;&lt;/div&gt; &lt;fieldset&gt; &lt;legend&gt;Osobní údaje&lt;/legend&gt; &lt;table&gt; &lt;tr&gt; &lt;td&gt;&lt;%=Form[\"name\"].Label %&gt;&lt;/td&gt; &lt;td&gt;&lt;%=Form[\"name\"].Control %&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&lt;%=Form[\"email\"].Label %&gt;&lt;/td&gt; &lt;td&gt;&lt;%=Form[\"email\"].Control %&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&lt;%=Form[\"pohlavi\"].Label %&gt;&lt;/td&gt; &lt;td&gt;&lt;%=Form[\"pohlavi\"].Control %&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;%=Form[\"submit\"].Control %&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/fieldset&gt; &lt;/form&gt;</code></pre> <p>Vygeneruje následující kód:</p> <pre class=\"xml\"><code>&lt;form method=\"post\" action=\"\"&gt; &lt;div style=\"display:none\"&gt; &lt;input name=\"skryte\" type=\"Hidden\" value=\"nějaká hodnota - skrytá\" /&gt; &lt;/div&gt; &lt;fieldset&gt; &lt;legend&gt;Osobní údaje&lt;/legend&gt; &lt;table&gt; &lt;tr&gt; &lt;td&gt;&lt;label for=\"name\"&gt;Jméno:&lt;/label&gt;&lt;/td&gt; &lt;td&gt;&lt;input name=\"name\" id=\"name\" type=\"Text\" size=\"20\" maxlength=\"50\" /&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&lt;label for=\"email\"&gt;E-mail&lt;/label&gt;&lt;/td&gt; &lt;td&gt;&lt;input name=\"email\" id=\"email\" type=\"Text\" size=\"20\" maxlength=\"255\" /&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&lt;label&gt;Pohlaví:&lt;/label&gt;&lt;/td&gt; &lt;td&gt; &lt;input name=\"pohlavi\" id=\"pohlavi0\" type=\"Radio\" value=\"1\" /&gt; &lt;label for=\"pohlavi0\"&gt;muž&lt;/label&gt;&lt;br /&gt; &lt;input name=\"pohlavi\" id=\"pohlavi1\" type=\"Radio\" value=\"2\" /&gt; &lt;label for=\"pohlavi1\"&gt;žena&lt;/label&gt;&lt;br /&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;input name=\"submit\" type=\"Button\" value=\"Odeslat\" /&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/fieldset&gt; &lt;/form&gt;</code></pre> <p>A to je zatím vše. A proč to vlastně dělám a nepokračuju v <a href=\"/weblog/242-redakcni-system-na-asp-net-mvc.aspx\">seriálu o Gryphoonu</a>? Inu, vlastně pokračuju, pokračuju…</p> <p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/gryphoon\">Gryphoon</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/nforms\">NForms</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/aspnetmvc\">aspnetmvc</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:47:08.790-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "NForms pro ASP.NET",
  :published #inst "2007-12-28T18:15:57.157-00:00",
  :url "nforms-pro-asp-net",
  :id 245,
  :description
  "Do vydání kompletního frameworku Nette je ještě asi daleko, ale to nevadí. My na ASP.NET bychom z něj stejně žádný užitek neměli. Tedy vlastně, proč by ne?",
  :category "ASP.NET 2.0",
  :tags ["nforms" "aspnet"]},
 :232-alessio-busta-toca-apocalypsa.aspx
 {:html
  "<ol> <li>Pryda – Balaton</li> <li>Fragma – Toca Me (Inpetto Remix)</li> <li>Gat Decor – Passion (Dave Spoon Mix)</li> <li>Arno Cost &amp; Norman Doray – Apocalypse</li> <li>John Shelvin – In My Eyes (Funkagenda's Sha­kin' Malcom Mix)</li> <li>Splittr – All Alone (Michael Gray Remix)</li> <li>D.O.N.S. &amp; DBN feat. Kadoc – The Nighttrain (Original Mix)</li> <li>Hardsoul – Self Religion (Believe In Me) (Mark Knight Remix)</li> <li>Toby Montana &amp; Lützenkirchen – Last Night In Vegas (Paolo Mojo Mix)</li> <li>Axwell feat. Charles Salter – I Found U (Dubfire's Summer of Dub Remix)</li> <li>Laidback Luke – Down With The Mustard (Original Mix)</li> </ol> <p>Ke stažení <a href=\"http://rarousmusic.com/mp3/alessio_busta_-_toca_apocalypsa-rm.mp3\" onclick=\"javascript:_gat._getTracker(\">Alessio Busta – Toca Apocalypsa</a> (MP3 128 kbps; 72,1 MiB)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T14:11:51.977-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Alessio Busta - Toca Apocalypsa",
  :published #inst "2007-11-22T10:52:15.713-00:00",
  :url "alessio-busta-toca-apocalypsa",
  :id 232,
  :description "Po delší době zase nějaký setík od Alessia.",
  :category "Muzika",
  :tags []},
 :371-tropnete-si-o-sud-piva.aspx
 {:html
  "<p>Na Tropu už máme přes šestset recenzí a to díky vám! Za poslední týden se počet recenzí takřka zdvojnásobil. To mě velice těší, protože Trop tak začíná mít smysl. Líbí se mi, že začali psát i další lidé a hlavně kvalitní recenze. Moc se mi líbí <a href=\"http://www.trop.cz/lide/dero/recenze\">recenze od Dera</a>, jsou snad ještě lepší, než jeho titulky na HIMYM. ;) Za zmínku stojí také <a href=\"http://www.trop.cz/lide/slovodaloslovo/recenze\">recenze slovodaloslovo</a>, což je profesionální copywriterka. :) Napsala o nás taky <a href=\"http://slovodaloslovo.cz/blog/trop-cz-vymenujte-si-sve-zkusenosti-z-ruznych-mist/\" title=\"Trop.cz – vyměňujte si své zkušenosti z různých míst\">jeden spot</a>. Děkujeme.</p> <p>Každý má svůj osobitý styl a to je super. Jen tak dál! :)</p> <h3 id=\"toc-proc-psat-na-trop\">Proč psát na Trop?</h3> <p>Možná si říkáte, „proč bych na Trop měl psát?“ Jedním z důvodů může být to, že se procvičíte v psaní jako takovém. Navíc tim můžete někomu pomoci se rozhodnout, zda má cenu neznámé místo navštívit. A v neposlední řadě <strong>probíhá soutěž!</strong> Máte ještě deset dní na to se umístit na čelních pozicích a <a href=\"http://www.trop.cz/soutez\">vyhrát některou z cen</a>. Osobně pochybuju o tom, že ještě někdo dokáže dohnat <a href=\"http://www.trop.cz/lide/voy/recenze\">voytu</a>, který žebříček táhne a jde si pro svůj sud piva, ale nemožné to je! Třeba mu ten sud ještě někdo vyfoukne. ;)</p> <p>Takže <a href=\"http://www.trop.cz/\">Tropujte</a>!</p> <h3 id=\"toc-souvisejici\">Související</h3> <ul> <li><a rel=\"bookmark\" title=\"Seznamte se s Tropem\" href=\"/weblog/368-seznamte-se-s-tropem.aspx\">Seznamte se s Tropem</a></li> <li><a href=\"http://slovodaloslovo.cz/blog/trop-cz-vymenujte-si-sve-zkusenosti-z-ruznych-mist/\" title=\"Trop.cz – vyměňujte si své zkušenosti z různých míst\">Trop.cz – vyměňujte si své zkušenosti z různých míst</a></li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-11-20T15:26:38.037-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Tropněte si o sud piva",
  :published #inst "2009-11-20T15:12:06.313-00:00",
  :url "tropnete-si-o-sud-piva",
  :id 371,
  :description
  "Lidé začínají Trop používat, recenze přibývají a já jsem rád. A víte proč to dělají? Protože mohou vyhrát třeba sud piva. A nebo proto, že je to baví. Možná :)",
  :category "Webdesign",
  :tags ["trop"]},
 :272-mereni-uzivatelu-kanalu-jinak-a-lepe.aspx
 {:html
  "<p>Na blogu OVX píšou: <a href=\"http://www.ovx.cz/cz/polibek-story.php?zprava=111&amp;rubrika=2\">Kdopak spadl do kanálu?</a> A popisují jak měřit stahovanost RSS kanálu pomocí <a href=\"http://analytics.google.com/\">Google Analytics</a>. Nápad to není špatný, ale měřené výsledky jsou celkem zavádějící – měří se každý hit na feed.</p> <p>Pro měření oblíbenosti vašich feedů je tu mnohem lepší služba – <a href=\"http://www.feedburner.com/\">FeedBurner</a>. Kdysi placená služba je už nějaký ten pátek bezplatná. Co všechno tato služba nabízí?</p> <ol> <li>Mirorování vašeho feedu – snížíte si trafik a zátěž serveru.</li> <li>Měření počtu odběratelů.</li> <li>Měření prokliku z feedu na vaše stránky.</li> <li>Monetizaci pomocí reklam.</li> <li>Mnoho dlaších služeb, které vám usnadní a zpříjemní práci s vašimi feedy.</li> </ol> <div class=\"image\"><img src=\"/data/obrazky/feedburner.png\" alt=\"Statistiky ve FeedBurneru\" /></div> <p>Nevýhodou takového řešení je, že musíte změnit URL adresu feedu. Mně konverze uživatelů na novou adresu trvala asi dva až tři měsíce. Ale zas tolik jich nemám. Problém byl v tom, že jsem musel uživatele přimět k tomu, aby si URL feedu změnili sami, protože jsem z technických důvodů nemohl feed přesměrovávat na novou adresu. Ale lze docílit i hladkého přechodu pomocí trvalého přesměrování.</p> <p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/rss\">RSS</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/feedburner\">FeedBurner</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/analytics\">Analytics</a></p> <!-- by Texy2! -->",
  :keywords "RSS Analytics FeedBurner",
  :edited #inst "2008-06-16T18:47:52.840-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Měření uživatelů kanálů jinak a lépe",
  :published #inst "2008-05-22T08:10:27.480-00:00",
  :url "mereni-uzivatelu-kanalu-jinak-a-lepe",
  :id 272,
  :description
  "Na blogu OVX píšou: Kdopak spadl do kanálu? A popisují jak měřit stahovanost RSS kanálu pomocí Google Analytics. Nápad to není špatný, ale na měření oblíbenosti vašich feedu je tu lepší služba.",
  :category "Webdesign",
  :tags []},
 :117-o-znasilnovani-typu-dokumentu.aspx
 {:html
  "<p>Čas od času si prohlížím zdrojové kódy stránek, které si zrovna čtu. Jen tak pro inspiraci, či ze zvědavosti, je to taková profesní deformace :) Všiml jsem si, že často používaným typem dokumentu je na českých blozích <em>XHTML 1.0&#160;Strict</em>. Jo to beru, lidi se chtěj držet standardů nebo chtěj být prostě IN. Je to chvály hodné, ale většina asi netuší proč to dělá, že to dělají chybně. Pokud máte dokument XHTML 1.0&#160;Strict, <strong>musíte</strong> ho servírovat s&#160;mime-typem <code>application/xhtml+xml</code> nebo <code>text/xml</code>, ale rozhodně ne jako <code>text/html</code>, který je určen jen a pouze pro HTML, s&#160;drobnou výjimkou XHTML 1.0&#160;Transitional, kde je to tolerováno.</p> <p>Z&#160;mého soukromého bádání na malém vzorku vychází, že to obrovská majorita dělá <strong>blbě</strong>. Najdou se světlé výjimky postavené na <a href=\"http://www.blogcms.org/\">Blog:CMS</a>, které, posílají správný mime-type <code>application/xhtml+xml</code> pro klienty, které ho znají, ale pokud narazí na klienta, který XHTML nezná, posílají mu mime-type <code>text/html</code>, což je blbě :)</p> <p>Teď si tu udělám malé promo, protože Gryphoon je jediný redakční systém, který znám, který už v&#160;základu posílá nejen správný mime-type, ale i&#160;typ dokumentu pro prohlížeče, které neznají XHTML. Navíc jde ještě o&#160;kousek dál. Díky ASP.NET 2.0, která má v&#160;konfigurační souboru možnost <a href=\"/clanek/78-jak-na-validator-w3c.aspx\">nastavit způsob výstupu</a>, gryphoon se chová i&#160;podle toho. Takže, pokud je v&#160;konfiguraci nastaven režim <em>Strict</em> posílá se na výstup plně validní XHTML 1.1&#160;s&#160;mime-typem <code>application/xhtml+xml</code>, nebo HTML 4.01&#160;Strict pro prohlížeče, které neznají XHTML. V&#160;režimu <em>Transitional</em> jde na výstup XHTML 1.0&#160;Transitional opět s&#160;patřičným mime-typem a v&#160;režimu <em>Legacy</em> vyjedou takové ty divné věci, co jako HTML vypadají. Ovšem nekončí to jen u&#160;typu dokumentu, ale pokračuje to i&#160;správným výstupem. Upravují se scripty, formuláře a vůbec celý výsledný kód.</p> <p>Na závěr ještě taková perlička. W3C , které vydává webová doporučení a podle kterých se Gryphoon řídí, se samo svými doporučeními neřídí :)</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-12T11:10:44.640-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "O znásilňování typu dokumentu",
  :published #inst "2006-03-12T11:10:44.533-00:00",
  :url "o-znasilnovani-typu-dokumentu",
  :id 117,
  :description
  "Víte o tom, že když si myslíte, že děláte něco dobře, memusí to dobré být?",
  :category "Webdesign",
  :tags []},
 :77-redesign.aspx
 {:html
  "<p>S&#160;příchodem listopadu přicházím s&#160;novým vzhledem stránek a dalšíma vychytávkama. Protože jsem zprovoznil plugin do Gryphoonu, který generuje galerie fotografií z&#160;<acronym title=\"Extensible Markup Language\">XML</acronym> exportu <a href=\"http://picasa.google.com\">Picasy</a>, musel jsem rozšířit design, aby se do něj vešly fotky o&#160;rozměru 640px. Vzal jsem to z&#160;gruntu a udělal novej design &#8211; tedy jen StyleSheet. Zatim není úplně dopsaný, proto není nasazený na celém webu, ale během několika následujících dnů ho pustim i&#160;do blogu. Je to práce za dnešní odpolede, proto potřebuje ještě trochu doladit. Prosím pište mi chyby nebo názory co ještě dodělat ;) Moc díky&#8230;</p> <p>PS: Pravděpodobně to tu zejtra začne blikat, jak budu za pochodu upravovat styl :)</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Redesign",
  :published #inst "2005-11-01T20:28:32.050-00:00",
  :url "redesign",
  :id 77,
  :description "Když je to tu jaro, teda vlastně pozdim...",
  :category "Webdesign",
  :tags []},
 :145-php-brzda-internetu.aspx
 {:html
  "<p>Nechci tímto článkem rozpoutávat flamewar, ani polemiky, zda je lepší PHP nebo ASP.NET – každé má své využití v&#160;odlišných scénářích. To jen tak pro začátek. Tenhle článek se pozastavuje nad tím, jak jsou některé věci (PHP) znásilňovány k&#160;jiným věcem, na které nejsou vhodné (SOAP služby).</p> <p>Kolega Filip – ten, díky němuž jsem šel na školení :) – řeší zajímavý problém. V&#160;rámci spolupráce s&#160;jednou firmou (není podstatné s&#160;jakou) potřebuje vzdáleně volat jejich API a to je poskytnuto pomocí webové služby na protokolu SOAP. To je super. Háček je v&#160;tom, že zase tak super to není, protože vzdálená implementace nerespektuje standardy. A&#160;to navíc standardy, které osobně považuji za mnohem důležitější než (X)HTML a CSS – modly spousty webdesignérů. Konkrétně jde o&#160;WSDL. WSDL je formát, který formálně popisuje rozhraní služby, struktury využívané při vzdálené komunikaci a datové typy vlastností struktur. Podle tohoto popisu můžete nechat vygenerovat Proxy třídy pro komunikaci se službou, tak že se služba chová jako jedna z&#160;tříd vašeho projektu. A&#160;pomalu se dostáváme k&#160;nadpisu :) Jelikož PHP formálně nezná datové typy – je typované dynamicky – nedochází ke správné interpretaci typů vlastností struktur. To by zase tak úplně nevadilo, že místo Integerů a Booleanů vám choděj Stringy, to se dá přežít, ale horší je, že PHP přidává do SOAP zpráv elementy, které nejsou ve WSDL popsány a tudíž se s&#160;nimi nepopere parser.</p> <p>Můj odhad je, že služba je napsaná v&#160;PHP 5, které má podporu SOAPu, vlastní zkušenosti s&#160;tím ale nemám. Na PHP 4&#160;jsem zkoušel framework nuSOAP, který má trochu odlišné výstupy než zmiňovaná služba. PHP 5, tedy přináší možnost vytvářet a konzumovat webové služby běžící na protokolu SOAP, ale jeho výstupy si pravděpodobně neodpovídají. WSDL by totiž měl popisovat, jak bude výsledná SOAP zpráva vypadat a konzument se na to spoléhá, ale výstupní zpráva má úplně jiný formát. To pěkně děkuju. To si mám napsat vlastní WSDLko, abych mohl konzumovat cizí službu, na kterou se nemohu spolehnout, nebo ručně parsovat hodnoty z&#160;příchozích zpráv a skládat zprávy odchozí? A&#160;co když se za čas služba pozmění? Bodejď by pak WS nebyly považovány za další webovou bublinu, s&#160;tímhle přístupem to ani jinak nejde…</p> <h3>Slovníček</h3> <dl> <dt><a href=\"http://www.w3.org/TR/soap12-part0/\">SOAP</a></dt> <dd>Simple Object Access Protocol</dd> <dd>XML protokol pro podporu komunikace webových služeb nejen přes HTTP</dd> <dt><a href=\"http://www.w3.org/TR/wsdl20-primer/\">WSDL</a></dt> <dd>Web Service Description Language</dd> <dd>XML jazyk, využívající XSD k&#160;formálnímu popisu rozhraní webových služeb</dd> </dl> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-05-09T20:59:25.220-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "PHP, brzda internetu?",
  :published #inst "2006-05-09T20:59:25.223-00:00",
  :url "php-brzda-internetu",
  :id 145,
  :description
  "Proč se PHP nasazuje do scénářů, pro které není evidentně určeno?",
  :category "Webdesign",
  :tags []},
 :429-test-driven-development-pribeh-nezbedneho-vyvojare.aspx
 {:html
  "<p>Lukáš napsal spot <a href=\"http://blog.krecan.net/2012/10/04/pokud-jde-kod-spatne-otestovat-je-spatne-navrzeny/\">Pokud jde kód špatně otestovat, je špatně navržený</a>, který mě donutil se zamyslet (<a href=\"http://rarous.net/clanek/413-k-cemu-vlastne-tdd.aspx\">občas to dělám</a>). Zmyslet se nad tím, proč je u nás málo článků o TDD. Je to věc, která souvisí s přesvědčením. Obecně panuje přesvědčení, že psaní testů je práce navíc, že to prodlužuje dobu dodání, že je to peklo a nuda. Takové přesvědčení je hluboce zakořeněné a je velmi nebezpečné.</p> <p>V podstatě to vypovídá o povaze takových stoupenců. Jsou to lidé, kteří jsou spokojení s tím co dělají, jsou to dříči. Nevadí jim opakovat dokola stále stejné chyby. Nevadí jim sedět v práci dlouho do noci, dělat víkendy nebo si tahat práci domů. Práce, kterou dělají je složitá a oni za to dostávají slušně zaplaceno. Tak to je. Proč něco měnit? Upřímně, já nevím.</p> <p>Netvrdím, že všechen kód píšu tak, že si na něj nejdřív vytvořím testy. On je to i nesmysl. Někteří považují za <a href=\"http://rarous.net/clanek/415-tri-prikazani-tdd.aspx\">TDD</a> to, že napíšou 100 testů a k nim kód a mají hotovo. Blbost. Tohle je stejně špatný přístup jako nakreslit si to nejdřív v UML. Potřeba tvořit velkolepá díla do našeho řemesla nepatří. Musíme se naučit spokojit s málem. Pak možná zjistíme, že ty malé kousky, které dávají smysl, se dají <a href=\"http://rarous.net/clanek/428-inversion-of-control.aspx\">zázračně propojit</a> a najednou máme velký celek, který je často kvalitnější a funguje.</p> <p>Nedílnou součástí dobrého návrhu je i prototypování. <a href=\"http://rarous.net/clanek/422-je-povoleno-psat-kod-dvakrat.aspx\">Prototypování je cesta</a> jak prozkoumávat průchozí uličky. Důležité u prototypu je, že ten nikdy nejde do produkce. <strong>Nikdy!</strong> Ano, stálo to čas, ale získali jsme cenné zkušenosti. Teď je na čase sepsat si itinerář bodů, které chceme na cestě potkat a podle něj začít psát první testy a implementovat kód, který jimi prochází. <a href=\"http://blog.kolman.cz/2012/04/tdd-as-if-you-meant-it.html\">Po malých krůčcích.</a> Kochat se a hlavně uklízet za sebou. Na <a href=\"http://rarous.net/clanek/406-refaktoring.aspx\">refactoring</a> je čas v každém okamžiku. A vězte, že i když nevidíte, že by se něco dalo refactorovat, neznamená to, že by to nešlo.</p> <p>Je důležité mít každou chvilku funkční kód. Je to neskutečně povzbuzující a člověk nepropadá často zoufalství. Má to obrovský dopad na produktivitu. Zoufalí lidé dělají zoufalé věci. Uchylují se pak snadno k prasečinkám a celé snažení posílají v prdel. Neježe pak nestíhají termíny, ale dodávají nekvalitní produkty. Spirála smrti. To, že chvátáte, neznamená, že jdete rychle. Určitě ne k cíli. Věřte mi, sám jsem si to několikrát prožil.</p> <h3 id=\"toc-muj-pribeh\">Můj příběh</h3> <p>Můj kód není dokonalý. Obsahuje chyby. Do produkce jsem hodněkrát nechal nasadit nefungující kód. Neotestovaný kód. V důsledku toho se třeba na celém Atlase ztratily všechny obrázky u zpráv. To není malá chyba. Je to celkem průser a taky nálepka, která se špatně strhává. To byl pro mne bod zlomu. Začal jsem se zajímat o to, jak něčemu takovému předejít. Hehe, ale pak přišla registrace do Atlasu Firem. Měl jsem měsíc na to, abych udělal nad technologií, která byla teprve v plenkách, produkt. To byla obrovská bolest. Neskutečné záseky. Jednou jsme se Steidou seděli nad pomalejma javascriptama do dvou do rána v kanclu. A zase to byl fail. Sice se to stihlo a běželo to, ale byly tam chyby a s tím kódem se nedalo dělat vůbec nic. Tam probíhala magie.</p> <p>V podstatě stejný kus kódu jsem za nedlouho psal znovu – registrace odkazů do katalogu. Tentokrát řízený pomocí testů. Trvalo to asi stejně, možná o týden o dva dýl (testovat jsem se teprve učil, s tím i inversion of control a MVP pattern). Kód obsahoval asi jednu chybu. A <a href=\"https://gist.github.com/2836140\">za výsledek se ani po pěti letech nestydím</a>. Mám k němu spousty výhrad, to ano, ale byl to dobrý kód. Pak jsem pomocí TDD psal i novou prezentační část, která tahala data jak ze starého katalogu, tak z nové technologie a věci, které jsem se na registraci naučil se mi náramně hodili.</p> <p>Pak jsem trochu ztratil důslednost a začal testovat až potom. Byl jsem přesvědčenej, že dokážu dělat dobrej testovatelnej design i bez psaní testů předem. Taky jsem nechtěl nejdřív vytvářet ty šílený mocky. Hloupý jsem byl. Ano, testování je práce navíc a trvá to dýl. S tímhle přístupem rozhodně.</p> <p>Přeskočím šedé období zamazané popelem a nedůsledností, přeskočím čtyři roky až do Hradeckého <a href=\"http://coderetreat.cz\">Code Retreatu</a>. To byl můj první Code Retreat, kde jsem byl jako plnohodnotný účastník. Už na GDCR jsem si <a href=\"https://gist.github.com/3897226\">pěkně zapároval s Danem Kolmanem v F#</a>. Tam jsem zjistil, jak může vést TDD k zajímavému poznání a naučit se jazyk, který ještě moc neovládám. Zpátky do Hradce. Měl jsem tu možnost dělat dvě session v páru s Marianem. První session jsem byl dost mimo a docela ztracenej, ale pomalu se mi začínalo otevírat myšlení. Druhá session už byla fajn a celkem nám to šlo.</p> <p>Pak jsem se rozhodl, že se musím vrátit k počátkům a přečetl si <a href=\"http://www.amazon.com/Test-Driven-Development-By-Example/dp/0321146530\">TDD by Example od Kenta Becka</a>. Najednou jsem viděl, kde jsme s Marianem dělali chyby, naučil jsem se mnoha triků a hlavně osvobodil svou mysl. Přístupů k TDD existuje mnoho a každý z nich může být vhodný na jiný problém. Někdy je dobré držet se malých krůčků a být v krátké smyčce zpětné vazby (no to je dobré pořád), někdy ale můžu být ty krůčky klidně větší, ale až když se naučíte dělat ty malé. To máte jako když se učíte násobit.</p> <p>Dneska píšu službu, která nemá zatím klienta. Skládá se z několika subsystémů a já vím že funguje, ikdyž jsem to zatím pořádně nezkoušel. :) Tuhle důvěru mi ale dodává 250 unit testů a 60 integračních testů. Volím různé strategie. Někdy píšu čistě TDD, někdy prototypuju. Prototyp mi pak slouží jako vzor pro TDD, protože už vím, co chci udělat. Díky unit testům mám zhruba 90% code coverage. Je to díky filtrům. Protože mám z CC vyloučené věci jako adaptery kódu třetí strany, composition rooty a podobné. To jsou věci, který mi pokrývaj Integrační testy nebo jdou ověřit spuštěním služby.</p> <p>Jsem v celkem raný fázi vývoje a tohle mi umožňuje věci měnit. Testy se mi neboří, protože nejsou zaměřený na detaily, ale na chování. Proto můžu věci měnit a hned (do 10 sekund) vím, jestli jsem něco nepodělal. Ještě před pár týdny jsem měl CC kolem 40 %. A tak jsem začal kód přestrukturovávat tak, aby se coverage zvedla. Žádná honba za spoustou testů. Tímhle způsobem jsem se dostal na 60 %. Pak jsem začal dopisovat testy tam, kde chyběly. Bylo potřeba upravit návrh, protože ty věci nešly moc dobře otestovat. Samozřejmě jsem odhalil několik chyb a vyloženejch blbostí. Ale teď mám 90% CC, méně chyb, lepší návrh a mnohem větší sebevědomí a vůli věci měnit.</p> <p>Dopřejte to i sobě. Zasloužíte si to!</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-10-16T07:16:15.023-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Test Driven Development - příběh nezbedného vývojáře",
  :published #inst "2012-10-06T08:52:31.963-00:00",
  :url "test-driven-development-pribeh-nezbedneho-vyvojare",
  :id 429,
  :description "Uff to jsem se zas rozepsal. :)",
  :category "Moje práce",
  :tags ["tdd"]},
 :296-url-routing-v-asp-net-cast-prvni.aspx
 {:html
  "<p>První vlašťovkou z hnízda MVC frameworku, která se objevila v produkční verzi .net frameworku, je knihovna <code>System.Web.Routing</code>. Objevila se s příchodem SP1 verze 3.5 a to proto, že jí využívají ASP.NET Dynamic Data, které jsou taktéž novinkou service packu. No a protože routing je důležitou součástí ASP.NET MVC a jeho výhod lze využít i v klasickém ASP.NET, pojďme se na něj podívat trochu blíž.</p> <h3 id=\"toc-jak-to-funguje\">Jak to funguje</h3> <p>Základem routingu je <code>HttpModul</code>, který vezme URL adresu požadavku a snaží se ho napárovat na některou z rout, které se registrují při startu aplikace. Pokud najde, získá z adresy požadované parametry a předá zpracování patřičnému <em>RouteHandleru</em>, který má za úkol vytvořit <code>HttpHandler</code> a předat mu získaná data. V případě MVC se vytvoří <code>MvcHttpHandler</code> a data se přidávají kontextu, v klasickém ASP.NET je to jen na vás.</p> <p>Routovací handler pro WebForms může vypadat třeba následovně:</p> <pre class=\"csharp\"><code>public class WebFormRouteHandler&lt;T&gt; : IRouteHandler where T : IHttpHandler, new() { public string VirtualPath { get; set; } public WebFormRouteHandler(string virtualPath) { VirtualPath = virtualPath; } public IHttpHandler GetHttpHandler( RequestContext requestContext ) { foreach (var value in requestContext.RouteData.Values) { requestContext.HttpContext.Items[value.Key] = value.Value; } return (VirtualPath != null) ? (IHttpHandler)BuildManager.CreateInstanceFromVirtualPath(VirtualPath, typeof(T)) : new T(); } }</code></pre> <p>Routovací handler projde kolekci dat získaných z aktuální URL požadavku, nacpe je do kontextu a nakonec vytvoří a vrátí <code>IHttpHandler</code>.</p> <h3 id=\"toc-routovaci-tabulky\">Routovací tabulky</h3> <p>Pro naše aplikace je asi nejdůležitější nadefinovat routovací tabulky. Definice tabulky se vytváří při startu aplikace, tudíž využijeme události <code>Application_Start</code> v Global.asax nebo vlastním HttpModulu.</p> <pre class=\"csharp\"><code>public class MvcApplication : System.Web.HttpApplication { public static void RegisterRoutes(RouteCollection routes) { routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\"); routes.MapRoute( \"Default\", // Route name \"{controller}/{action}/{id}\", // URL with parameters new { controller = \"Home\", action = \"Index\", id = \"\" } // Parameter defaults ); } protected void Application_Start() { RegisterRoutes(RouteTable.Routes); } }</code></pre> <p>Ukázka tvorby routovací tabulky při startu webové aplikace. Metoda <code>MapRoute</code> je extension metodou z MVC frameworku, která za nás vytvoří <code>MvcHttpHandler</code>, který bude požadavek zpracovávat. Získané parametry z routy jsou: název řadiče, který přebere řízení, jeho akce, která požadavek zpracuje a dále pak parametr id.</p> <p>U WebForms by routovací tabulka např. pro můj blog mohla vypadat následovně:</p> <pre class=\"csharp\"><code>public class Global : System.Web.HttpApplication { public static void RegisterRoutes(RouteCollection routes) { var routeHandler = new WebFormRouteHandler&lt;Page&gt;(\"~/Weblog/Article.aspx\"); var route = new Route(\"weblog/{id}-{url}.aspx\", routeHandler) { Constraints = new RouteValueDictionary { {\"id\", \"\\d{1-3}\"} } }; routes.Add(route); } protected void Application_Start(object sender, EventArgs e) { RegisterRoutes(RouteTable.Routes); } }</code></pre> <p>Zaregistroval jsem do tabulky routu, která bere URL ve tvaru <code>weblog/{id}-{url}.aspx</code> a ověřuje se, že <code>id</code> je jedno až tříciferné číslo.</p> <h3 id=\"toc-shrnuti\">Shrnutí</h3> <blockquote cite=\" http://www.youtube.com/watch?v=cZtC6LLimF4\"> <p>„Pane Aloisi, když dovolíte, já bych si to v závěru celé shrnul.“</p> <p>„Tak, jestli vám to udělá dobře, tak si to celý schrntě.“</p> </blockquote> <p>Tak tedy, tento spotík se snažil nastínit jak funguje routing v ASP.NET, jak si zaregistrovat routy a jak z nich získávat data. Mohlo by se zdát, že to je vše čeho jsme schopní dosáhnout, ale není tomu tak. Routing je v ASP.NET dvoucestný, ale cestu zpět si ukážeme zas někdy příště… Třeba na <a rel=\"bookmark\" href=\"/weblog/295-povidani-o-asp-net-na-webexpu.aspx\">WebExpu</a>!</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a href=\"http://haacked.com/archive/2008/03/11/using-routing-with-webforms.aspx\">Phil Haack – Using Routing with WebForms</a></li> <li><a href=\"http://chriscavanagh.wordpress.com/2008/04/25/systemwebrouting-with-webforms-sample/\">Chris Cavanagh – System.Web.Routing with WebForms sample</a></li> <li><a rel=\"bookmark\" href=\"/weblog/295-povidani-o-asp-net-na-webexpu.aspx\">Povídání o ASP.NET na WebExpu</a></li> <li><a rel=\"bookmark\" href=\"/weblog/220-jak-funguje-monorail.aspx\">Jak funuje MonoRail</a></li> </ul> </div> <p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/aspnet\">ASP.NET</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/aspnetmvc\">ASP.NET MVC</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/Routing\">Routing</a></p> <!-- by Texy2! -->",
  :keywords "asp.net mvc routing",
  :edited #inst "2008-09-13T11:07:56.237-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "URL Routing v ASP.NET – část první",
  :published #inst "2008-09-07T10:56:59.537-00:00",
  :url "url-routing-v-asp-net-cast-prvni",
  :id 296,
  :description
  "Důležitou novinkou v ASP.NET 3.5 SP1 je URL Routing, který je základním kamenem nejen MVC frameworku. Jak funguje a jak ho využít ve WebForms? ",
  :category "Webdesign",
  :tags ["aspnet" "mvc" "routing" "webexpo"]},
 :174-par-tipu-pro-vyvojare-.aspx
 {:html
  "<p>Microsoft vydal <a href=\"http://www.microsoft.com/downloads/details.aspx?FamilyID=69d2219f-ce82-46a5-8aec-072bd4bb955e&amp;DisplayLang=en\">service pack 1 pro Visual Studio 2003</a> a do konce roku by snad mohl vyjít service pack i pro Visual Studio 2005.</p> <p>Sháníte source control? Ale nechce se vám složitě instalovat Subversion. Doporučuji <a href=\"http://www.purecm.com\">PureCM</a>. Instalace je velice jednoduchá a pokud vám budou stačit dvě současná připojení v jedné hodině, je i zcela zdarma. Ideální řešení pro jednotlivce i malé týmy. My ho v práci používáme už několik měsíců a i díky našemu feedbacku se produkt posunul o dost dopředu a odchytalo se i několik chyb. :)</p> <p>Znáte <a href=\"http://www.devexpress.com/Downloads/NET/IDETools/DXCore/\">DXCore</a>? Ne? Škoda :) DXCore je framework integrující se do Visual Studia a poskytující API pro práci s kódem. Na DXCore jsou postaveny placené produkty CodeRush a Refactor!. Mě se docela zalíbil plug-in na <a href=\"http://joel.fjorden.se/static.php?page=CodeStyleEnforcer\">kotrolu dodržování konvencí</a> pro psaní kódu. Další zajímavé pluginy se <a href=\"http://del.icio.us/AndrewConnell/%22DXCore+Plugins%22\">dají najít</a> a nebo dopsat :)</p> <p>Už jste zkoušeli <a href=\"https://blogs.msdn.com/sandcastle/\">Sandcastle</a>? Jde o kompilátor dokumentace k dotnetovým assembly. Bohužel jeho použití není nejtriviálnější (zlatej nDoc). Naštěstí se našlo několik lidiček, kteří napsali shellové skripty, <a href=\"http://www.codeproject.com/useritems/SandcastleCreateBat.asp\">baťáky</a> a podobně, ale i to se mi nelíbí :) Nejelegantnějším řešením se mi zdá být MSBuild target a <a href=\"http://blog.ljusberg.com/2006/08/sandcastle-visual-studio-project.html\">Dokumentační projekt integrovaný přímo do Visual Studia</a>.</p> <p>Doufám, že aspoň něco zužitkujete ;)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:21:08.567-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pár tipů pro vývojáře.",
  :published #inst "2006-08-16T20:37:56.367-00:00",
  :url "par-tipu-pro-vyvojare-",
  :id 174,
  :description
  "Několik novinek na poli Visual Studia a vývojových nástrojů za posledni dobu.",
  :category "ASP.NET 2.0",
  :tags
  ["vs"
   "vs2003"
   "purecm"
   "vcs"
   "coderush"
   "refactor"
   "msbuild"
   "sandcastle"]},
 :380-linq-a-lenive-vyhodnocovani.aspx
 {:html
  "<p>Občas není na škodu být lenivý, mnohdy se to vyplatí! To platí i o našich programech, zejména o těch, které zpracovávají veliké množství dat. Jistě si říkáte, jak může být můj program lenivý, já přeci chci, aby byl co nejvýkonnější. Ano, to se nevylučuje, právě naopak! :)</p> <p>Když jsem nedávno psal o tom, že <a rel=\"bookmark\" title=\"Vracet list je špatné\" href=\"/weblog/359-vracet-list-je-spatne.aspx\">Vracet list je špatné</a>, neshledal jsem se s velikým porozuměním. Tento článek byl o návrhu rozhraní našich tříd. Dneska se podíváme na implementační detaily a výhody plynoucí z vracení (zvracení?) <code>IEnumerable&lt;&gt;</code>.</p> <h3 id=\"toc-linq2sql-a-metoda-tolist\">LINQ2SQL a metoda ToList()</h3> <p>Začněme tedy u nevýhod užívání generického listu v LINQu. Vsadím se, že většina z vás pro vykonání LINQového dotazu do databáze zavolá metodu <code>ToList()</code>. Okamžitě se tím vykoná dotaz a jeho výsledek je natažen do paměti, konkrétně jako položky generického listu. Jistě se tím zvýší výkon při iteraci přes výslednou kolekci. To je super, ale pro pro výpis používat velice drahý obal v podobě listu? List umožňuje kolekce snadno modifikovat, to je jistě skvělá vlastnost, ale také sebou nese zbytečně alokovanou paměť navíc.</p> <p>Mnohem výhodnější je volat metodu <code>ToArray()</code>, která vykoná dotaz úplně stejným způsobem, ale vezme si jen tolik paměti, kolik opravdu potřebuje, nehledě na to, že samotný .net runtime je na práci s <code>Array</code> optimalizovaný. Jednoduchou změnou můžeme ušetřit spoustu paměti a zlepšit tak výkon naší aplikace. Pokud jsme však do našich rozhraní zanesli <code>IList&lt;&gt;</code>, musíme teď měnit spoustu kódu, protože náš původní návrh byl krátkozraký.</p> <h3 id=\"toc-zpatky-k-lenivosti\">Zpátky k lenivosti</h3> <p>To, co jsme si popsali v předchozích řádcích, nemá s lenivostí stále nic společného, jde jen o malou optimalizaci dychtivého přístupu k datům (eager loading). Ten samozřejmě nemusí být z principu špatný, ale hodí se pouze pro data omezeného rozsahu. Pokud zpracováváme velké nebo předem neznámé množství dat je lepší zlenivět. Tím se opět vracíme k <code>IEnumerable&lt;&gt;</code>.</p> <p>Vezměme si hypotetický příklad že náš program bude zpracovávat nekonečný zdroj pravdy:</p> <pre class=\"csharp\"><code>static IEnumerable&lt;Boolean&gt; GetInfinityTruth() { while (true) { yield return true; } }</code></pre> <p>Fůj, napsal jsem nekonečnou smyčku. Hele, ale jak jinak byste chtěli udělat nekonečný zdroj pravdy? Pomocí listu? Těžko. ;) Takovýhle kód je zcela validní a bezproblémový. Tedy do doby, než se najde někdo šikovný, komu se hodí list, a nad <code>GetInfinityTruth()</code> zavolá <code>ToList()</code>. Asi nám vyskočí <code>OutOfMemoryException</code>. :)</p> <p>Vážně, výhodou tohoto kódu je, že (teoreticky) vrací nekonečné množství dat a přesto se s ním dá v klidu pracovat, aniž by nám sežralo adekvátní množství paměti (opět nekonečné). A to díky lenivosti! S takovýmto přístupem se nám totiž vyhodnocuje vždy jen jeden prvek z kolekce a to až v případě, že je opravdu potřeba. Oddalujeme načítání prvku do doby, kdy s ním opravdu budeme něco dělat.</p> <p>Další výhodou je, že zcela bez problémů, můžeme celou tu nekonečnou pravdu popřít:</p> <pre class=\"csharp\"><code>static IEnumerable&lt;Boolean&gt; Disclaim(this IEnumerable&lt;Boolean&gt; source) { return source.Select(value =&gt; !value); }</code></pre> <p>Samozřejmě bych to mohl napsat i takhle:</p> <pre class=\"csharp\"><code>static IEnumerable&lt;Boolean&gt; Disclaim(this IEnumerable&lt;Boolean&gt; source) { foreach(bool value in source) { yield return !value; } }</code></pre> <p>Ale to je příliš mnoho psaní. <a rel=\"bookmark\" title=\"Nepište zbytečný kód\" href=\"/weblog/361-nepiste-zbytecny-kod.aspx\">Nepište zbytečný kód</a>!</p> <p>Teďka, když zavolám <code>GetInfinityTruth().Disclaim()</code>, dostanu nekonečný zdroj nepravdy, tedy samé lži. :) Opět to funguje tak, že je popřen každý konkrétní prvek, až když na něj dojde, ne všechny najednou, to by bylo moc práce. On se totiž příjemce naší nekonečné pravdy může kdykoli rozhodnout, že už ho to nebaví. A co my pak s tím, že jsme mu dopředu připravili krásné lži? Nic. Byla to zbytečná práce. V tomto případě se lenivost vyplatila.</p> <h3 id=\"toc-zaver\">Závěr</h3> <p>„Poslouchaj Roubíček, oni jsou nejspíš blázen. Nás tu krměj o nekonečné pravdě, co my s tím?“ No, je to určitá abstrakce. ;)</p> <h3 id=\"toc-souvisejici\">Související</h3> <ul> <li><a href=\"http://www.vyvojar.cz/Articles/599-lazy-eager-explicit-loading-o-co-jde.aspx\">Lazy, eager, explicit loading – o co jde?</a></li> <li><a href=\"http://en.wikipedia.org/wiki/Lazy_evaluation\">Lazy evaluation</a></li> <li><a href=\"http://blogs.msdn.com/ericwhite/pages/Lazy-Evaluation-_2800_and-in-contrast_2C00_-Eager-Evaluation_2900_.aspx\">Lazy evaluation (and in contrast, eager evaluation)</a></li> <li><a href=\"http://odetocode.com/Blogs/scott/archive/2008/10/01/lazy-linq-and-enumerable-objects.aspx\">Lazy LINQ and Enumerable Objects</a></li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-02-21T09:49:01.387-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "LINQ a lenivé vyhodnocování",
  :published #inst "2010-02-21T08:02:56.270-00:00",
  :url "linq-a-lenive-vyhodnocovani",
  :id 380,
  :description
  "Občas není na škodu být lenivý, mnohdy se to vyplatí! To platí i o našich programech, zejména o těch, které zpracovávají veliké množství dat.",
  :category "ASP.NET 2.0",
  :tags ["ling" "lazy" "ienumerable"]},
 :3-mimoradna-schuze.aspx
 {:html
  "<p>Tak jsem dneska pořádal Mimořádnou členskou schůzi SDH jehož jsem jednatelem. Podle očekávání skoro nikdo nepřišel. Sešlo se nás jen pět. Vymysleli jsme aspoň předběžné datum, kdy budeme pořádat výroční soutěž, když slavíme těch <strong>140 let</strong> od založení.</p> <p>Snad se mi příští schůze povede lépe, doufejme že taky někdo přijde.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Mimořádná schůze",
  :published #inst "2004-02-14T18:00:00.000-00:00",
  :url "mimoradna-schuze",
  :id 3,
  :description "Výsledky mimořádné schůze SDH Druzcov.",
  :category "Jen tak",
  :tags []},
 :249-vizualizace-vlastnich-typu-v-debuggeru.aspx
 {:html
  "<p>Jistě všichni znáte možnost jak přepsat výchozí zobrazování vlastního typu v debuggeru VS pomocí přepsání metody <code>ToString()</code>. Ovšem někdy je tato metoda velice užitečná i na jiné účely, co potom s tím?</p> <p>Když debuguje ve VS vlastní typy ve watches se vám u proměnné zobrazuje celý název typu, např. <code>Rarous.NForms.TextItem</code>. Pokud chcete v debuggeru vidět užitečnější informace, zpravidla přepíšete metodu <code>ToString()</code>, kterou má každý objekt, tak, aby vypisovala to, co chcete. Např.:</p> <pre class=\"csharp\"><code>public override string ToString() { return \"\\\"\" + Control.Name + \"\\\", Value=\" + Control.GetValue(); }</code></pre> <p>Při debutování by se nám pak mohlo zobrazovat něco jako <code>\"email\", Value=frantisek.koudelka@sts-chvojkovice.cz</code>. Jenže. Teď chci, aby se mi v šabloně při zápisu <code>&lt;%=Form[\"email\"]%&gt;</code> vypsal kód formulářového prvku a jeho labelu. Jak to udělat, aby se zachovalo pěkné debugování a přibyla nová a ještě lepší funkčnost?</p> <p>Naštěstí existuje jiné řešení, jak debugovací informace zobrazovat. Troufnu si tvrdit, že i mnohem čistší. V .net frameworku existuje atribut <code>System.Diagnostics.DebuggerDisplayAttribute</code>, který je určen, právě k zobrazování informací v debuggeru. Jeho užití je následující:</p> <pre class=\"csharp\"><code>[DebuggerDisplay(\"{Control.Name}, Value={Control.GetValue(),nq}\")] public class TextItem : FormItem { // implementace třídy... public override string ToString() { return Label + \" \" + Control; } }</code></pre> <p>Tímto jsme dosáhli, nové funkčnosti metody <code>ToString()</code> a zachovali jsme vlastní informace zobrazované v debuggeru. Více informaci o atributu <a href=\"http://msdn2.microsoft.com/en-us/library/x810d419.aspx\">DebuggerDisplay</a>, najdete v MSDN.</p> <p>Tagy: <a href=\"http://technorati.com/tag/c%23\">C#</a>, <a href=\"http://technorati.com/tag/debugger\">debugger</a>, <a href=\"http://technorati.com/tag/nforms\">NForms</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:43:04.960-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vizualizace vlastních typů v debuggeru",
  :published #inst "2008-01-16T07:54:41.473-00:00",
  :url "vizualizace-vlastnich-typu-v-debuggeru",
  :id 249,
  :description
  "Jistě všichni znáte možnost jak přepsat defaultní zobrazování vlastního typu v debuggeru VS pomocí přepsání metody `ToString()`. Ovšem někdy je tato metoda velice užitečná i na jiné účely, co potom s tím?",
  :category "ASP.NET 2.0",
  :tags ["debugerdisplay" "csharp" "nforms"]},
 :428-inversion-of-control.aspx
 {:html
  "<p>Inversion of Control je princip, který při psaní svých softwérů uplatňuji zhruba 5 let. Nikdy o něm nějak do hloubky neuvažuju, prostě je to způsob jakým software píšu. Nepotřebuju nikoho přesvědčovat, že zrovna ten můj způsob je nejlepší. Poznají to sami. :) Na začátku jsem pouze potřeboval opustit svou komfotní zónu a přestat být control freak.</p> <p>Je úžasný, že umíte injektovat závislosti, ale k čemu je vám to dobrý, když netušíte, k čemu je vám to dobrý? ;) Když používáte DI, říká vám něco vzor dekorátor, strategy nebo třeba adaptér? Jestli ne nebo ano, ale nepoužíváte je, serte na DI. „Testovatelnost!“ říkáte? Hmm, existují i jiné techniky a třeba vás ani nebudou tak bolet.</p> <h3 id=\"toc-vitejte-ve-svete-za-zrcadlem\">Vítejte ve světě za zrcadlem</h3> <p>Důležité je udělat ten první krok. Obrátit své myšlení naruby. Pak přestat řešit detaily. Pro to, abych udělal tohle potřebuju něco, co umí tohle a tohle. Jak to dělá? Koho to zajímá? Jak se to ke mně dostane? Koho to zajímá? Je to opravdu důležité? Ne, neni. Důležité je, co dělá váš kus kódu, jakou má business value. Čím víc se snaží menežovat, místo aby něco dělal, tím horší ten kód je. To je fakt. Smiřte se s tím.</p> <p>Moje práce spočívá v tom, že vytvářím různobarvené kousíčky lega. Pak přiložím návod. Ne nějak přesný (zapomeňte na XML, NEON, YAML, JSON a já nevím co ještě), jen řeknu, že červené dvouřadové lištičky jsou támhle v té krabičce, popřípadě se některé můžou ještě válet pod postelí. Nechme stroj ať nás překvapí. Stroj netrpí přehnanou potřebou se kreativně vyjádřit a umí táhnout na branku. Většinou má lepší výsledky než lidi.</p> <p>A když mu něco chybí, nebojí se ozvat, nesnaží se to nějak zaplácnout něčím, co tam nepatří. Nebojí se ranit mé city a řekne, „tohle jsi posral.“ Cajk. Můžeme jít dál. :) Abyste mohli dosáhnou nirvány, potřebujete dobrý type systém, nebo Ruby. Všechno ostatní je jen nepovedené napodobování, jak Dan rád říká <em>Cargo Cult</em>.</p> <p><em>Metafora s legem patří @renestein, já si jí jen drze ukradl.</em></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-09-27T13:37:31.560-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Inversion of Control",
  :published #inst "2012-09-27T11:29:29.253-00:00",
  :url "inversion-of-control",
  :id 428,
  :description
  "Zapomeňte na Dependency injection, osvoboďte svou mysl od nepodstatných detailů a ochutnejte nirvánu v podobě IoC.",
  :category "Moje práce",
  :tags ["ioc"]},
 :341-oprava-predchozich-clanku.aspx
 {:html
  "<p>Nikdo není neomylný, i já dělam chyby. A poměrně často. Bohužel i ve svých článcích. Proto jsem se jal revidovat sérii předchozích článků o ASP.NET MVC a znovu si prošel jejich kód a ověřil, že funguje.</p> <p>Prošel jsem tedy následující články:</p> <ul> <li><a rel=\"bookmark\" title=\"URL Routing v ASP.NET – část první\" href=\"/weblog/296-url-routing-v-asp-net-cast-prvni.aspx\">URL Routing v ASP.NET – část první</a></li> <li><a rel=\"bookmark\" title=\"REST aplikace pomocí ASP.NET MVC\" href=\"/weblog/329-rest-aplikace-pomoci-asp-net-mvc.aspx\">REST aplikace pomocí ASP.NET MVC</a></li> <li><a rel=\"bookmark\" title=\"Inversion of Control v ASP.NET MVC\" href=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">Inversion of Control v ASP.NET MVC</a></li> <li><a rel=\"bookmark\" title=\"Model binders v ASP.NET MVC\" href=\"/weblog/336-model-binders-v-asp-net-mvc.aspx\">Model binders v ASP.NET MVC</a></li> <li><a rel=\"bookmark\" title=\"DSL pro konfiguraci URL Routingu v ASP.NET MVC\" href=\"/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx\">DSL pro konfiguraci URL Routingu v ASP.NET MVC</a></li> <li><a rel=\"bookmark\" title=\"Pojmenované routy v ASP.NET MVC\" href=\"/weblog/340-pojmenovane-routy-v-asp-net-mvc.aspx\">Pojmenované routy v ASP.NET MVC</a></li> </ul> <h3 id=\"toc-doplneni-rest\">Doplnění REST</h3> <p>V článku <a rel=\"bookmark\" title=\"REST aplikace pomocí ASP.NET MVC\" href=\"/weblog/329-rest-aplikace-pomoci-asp-net-mvc.aspx\">REST aplikace pomocí ASP.NET MVC</a> jsem nastínil, jak vytvořit RESTful přístup k entitám pomocí filtrů akcí. Výslednou ukázku jsem doplnil o výstupy akce. V komentářích padlo několik dotazů, jak vlastně REST služby volat, protože zatím žádný prohlížeč neumí formulář odeslat jinou metodou než POST nebo GET.</p> <p>Jediným řešením, jak ze stránek REST používat je AJAX. Proto akce vrací JSON. V pohledech pak postačí následující kód:</p> <pre class=\"xml\"><code>&lt;% using (Ajax.BeginForm(\"REST\", \"Customers\", new AjaxOptions { HttpMethod = \"POST\" })) {%&gt; &lt;input type=\"submit\" value=\"Create New\" /&gt; &lt;% } %&gt; &lt;% using (Ajax.BeginForm(\"REST\", \"Customers\", new AjaxOptions { HttpMethod = \"PUT\" })) {%&gt; &lt;input type=\"submit\" value=\"Update\" /&gt; &lt;input type=\"hidden\" name=\"id\" value=\"10\" /&gt; &lt;% } %&gt; &lt;% using (Ajax.BeginForm(\"REST\", \"Customers\", new AjaxOptions { HttpMethod = \"DELETE\" })) {%&gt; &lt;input type=\"submit\" value=\"Delete\" /&gt; &lt;input type=\"hidden\" name=\"id\" value=\"10\" /&gt; &lt;% } %&gt; &lt;script src=\"/Scripts/MicrosoftAjax.js\" type=\"text/javascript\"&gt;&lt;/script&gt; &lt;script src=\"/Scripts/MicrosoftMvcAjax.js\" type=\"text/javascript\"&gt;&lt;/script&gt;</code></pre> <h3 id=\"toc-vylepsena-verze-model-binderu\">Vylepšená verze model binderu</h3> <p>V článku <a rel=\"bookmark\" title=\"Model binders v ASP.NET MVC\" href=\"/weblog/336-model-binders-v-asp-net-mvc.aspx\">Model binders v ASP.NET MVC</a> jsem ukazoval jak si napsat vlastní model binder. Taky jsem psal že uvedený postup není moc dobrý. Tady je tedy lepší verze:</p> <pre class=\"csharp\"><code>public class AddressBinder : BinderBase&lt;Address&gt; { public override ModelBinderResult BindModel(ModelBindingContext bindingContext) { IValueProvider valueProvider = bindingContext.ValueProvider; Address address = bindingContext.Model as Address ?? new Address(); address.Street = GetSafeStringValue(valueProvider, \"address_street\"); address.StreetNumber = GetSafeStringValue(valueProvider, \"address_street_number\"); address.PostalCode = GetSafeStringValue(valueProvider, \"address_postal_code\"); address.Town = GetSafeStringValue(valueProvider, \"address_town\"); return new ModelBinderResult(address); } }</code></pre> <p>K tomu je ale ještě potřeba rozšířit bázovou třídu binderu:</p> <pre class=\"csharp\"><code>using System; using System.Web.Mvc; public abstract class BinderBase&lt;T&gt; : IModelBinder { protected static string GetSafeStringValue(IValueProvider valueProvider, string key) { ValueProviderResult value = valueProvider.GetValue(key); if (value != null) { return value.AttemptedValue.Trim(); } return String.Empty; } protected static bool GetSafeBooleanValue(IValueProvider valueProvider, string key) { ValueProviderResult value = valueProvider.GetValue(key); return value != null; } public Type ModelType { get { return typeof(T); } } public abstract ModelBinderResult BindModel(ModelBindingContext bindingContext); }</code></pre> <p>Tím jsme se zbavili závislosti na <code>HttpContext</code>u, binder je lépe testovatelný a hlavně se dá použít i v metodě <code>UpdateModel</code>.</p> <h3 id=\"toc-oprava-integrace-ioc-kontejneru-do-asp-net-mvc\">Oprava integrace IoC kontejneru do ASP.NET MVC</h3> <p>V ukázkových kódech článku <a rel=\"bookmark\" title=\"Inversion of Control v ASP.NET MVC\" href=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">Inversion of Control v ASP.NET MVC</a> bylo několik chybek, chyběly usingy a některé věci jsem trošku refaktoroval.</p> <h3 id=\"toc-nova-verze-routingmacros-boo\">Nová verze RoutingMacros.boo</h3> <p>V článku <a rel=\"bookmark\" title=\"DSL pro konfiguraci URL Routingu v ASP.NET MVC\" href=\"/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx\">DSL pro konfiguraci URL Routingu v ASP.NET MVC</a> jsem měl jedno makro nedopsané. V nové verzi jsem přidal sekci <code>constraints</code> k makru <code>ignore_route</code> a provedl lehký refaktoring. Plně funkční kód:</p> <pre class=\"boo\"><code>import Boo.Lang.Extensions import Boo.Lang.Compiler import Boo.Lang.Compiler.Ast import Boo.Lang.Compiler.Ast.Visitors import System.Web import System.Web.Routing class IgnoreRouteInternal(Route): def constructor(url as string): super(url, StopRoutingHandler()) override def GetVirtualPath(requestContext as RequestContext, values as RouteValueDictionary): return null as VirtualPathData def apply_constraints(block as Block, constraints as MacroStatement): assert block return if not constraints block.Add([| route.Constraints = RouteValueDictionary() |]) for exp as ExpressionStatement in constraints.Block.Statements: binary = exp.Expression as BinaryExpression block.Add([| route.Constraints.Add($(binary.Left.ToString()), $(binary.Right)) |]) def apply_defaults(block as Block, defaults as MacroStatement): assert block return if not defaults block.Add([| route.Defaults = RouteValueDictionary() |]) for exp as ExpressionStatement in defaults.Block.Statements: binary = exp.Expression as BinaryExpression block.Add([| route.Defaults.Add($(binary.Left.ToString()), $(binary.Right)) |]) macro ignore_route: path, = ignore_route.Arguments constraints = ignore_route[\"constraints\"] as MacroStatement block = Block() block.Add([| route = IgnoreRouteInternal($path) |]) apply_constraints(block, constraints) block.Add([| RouteTable.Routes.Add(route) |]) return block macro map_route: name, path = map_route.Arguments defaults = map_route[\"defaults\"] as MacroStatement constraints = map_route[\"constraints\"] as MacroStatement block = Block() block.Add([| route = Route($path, MvcRouteHandler()) |]) apply_defaults(block, defaults) apply_constraints(block, constraints) block.Add([| RouteTable.Routes.Add($name, route) |]) return block macro defaults: allowedParents as List = [ \"map_route\" ] parent as MacroStatement = defaults.GetAncestor(NodeType.MacroStatement) assert allowedParents.Contains(parent.Name) parent[\"defaults\"] = defaults macro constraints: allowedParents as List = [ \"map_route\", \"ignore_route\" ] parent as MacroStatement = constraints.GetAncestor(NodeType.MacroStatement) assert allowedParents.Contains(parent.Name) parent[\"constraints\"] = constraints</code></pre> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-14T16:41:47.950-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Oprava předchozích článků",
  :published #inst "2009-01-04T11:10:58.343-00:00",
  :url "oprava-predchozich-clanku",
  :id 341,
  :description
  "Trošku jsem zrevidoval kód předchozích článků, opravil některé chyby a refaktoroval makra pro routování. A taky tady přináším nějaká doplnění.",
  :category "Webdesign",
  :tags ["aspnet" "mvc" "binsor" "rest" "binders"]},
 :7-zkousky.aspx
 {:html
  "<p>Konečně mám za sebou zkoušky, v&#160;pondělí jsem udělal obávané materiály za tři. No skoro jsem dostal za dvě, ale nevzpomněl jsem si, co je BHmax.</p> <p>Taky už jsem konečně dostal bydlení na koleji – na Orlíku.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zkoušky",
  :published #inst "2004-02-28T09:00:00.000-00:00",
  :url "zkousky",
  :id 7,
  :description "Výsledek mých zkoušek.",
  :category "Škola",
  :tags []},
 :328-k-webexpu-jeste-jednou-a-poradne.aspx
 {:html
  "<p>Už je to týden, co nám skončila <a href=\"http://webexpo.cz/prednaska/asp-net/\">přednáška o ASP.NET 3.5 / futures</a> na konferenci <a href=\"http://www.webexpo.cz/\">WebExpo 2008</a>. Rád bych se k této konferenci ještě ohlédl.</p> <h3 id=\"toc-moje-prezentace\">Moje prezentace</h3> <p>Když mě začátkem léta oslovil <a rel=\"friend met\" href=\"http://www.dvanula.cz/\">Vašek Stoupa</a>, jestli nechci přednášet o <strong>ASP.NET MVC</strong> na WebExpu, měl jsem zprvu strach. Nikdy jsem veřejně nepřednášel a z malých slideshow, které jsem dělal pro kolegy nebo ve škole, jsem si byl jistý, že mé prezentační schopnosti nejsou skoro žádné. Ale pak jsem si řekl, že zkusit bych to mohl, přinejmenším je to dobrá zkušenost a raději jsem požádal <a rel=\"friend met\" href=\"http://www.borber.com/\">Borka</a>, aby se ke mně přidal. Proč? Protože už jsem ho viděl přednášet na WebCampu a bylo to dobré.</p> <p>Takže jsme se domluvili, že přednáška bude mít trochu širší záběr než jen ASP.NET MVC, které v té době bylo pouze v ukázkových verzích. V průběhu září jsme vymysleli <a href=\"/weblog/295-povidani-o-asp-net-na-webexpu.aspx\">nějakou osnovu</a>, Borek založil SVN repository a začali jsme připravovat prezentaci.</p> <p>Nejprve jsem udělal ukázku na využití <a href=\"http://msdn.microsoft.com/en-us/data/bb931106.aspx\">ADO.NET Data Services</a> ve spolupráci s <a href=\"http://asp.net/ajax/\">ASP.NET AJAX</a> (tu najdete přibalenou). Krom toho, že ukazuje základy konzumace RESTových Data Services, tak je i hezkou ukázkou toho, jak takové služby stavět nejen nad <a href=\"http://msdn.microsoft.com/en-us/library/bb399572.aspx\">Entity Frameworkem</a>, ale i nad <a href=\"http://www.castleproject.org/activerecord/index.html\">ActiveRecord</a>/<a href=\"http://www.hibernate.org/343.html\">NHi­bernate</a>. No, ukázka není úplně dokončená, protože jsem se jí přestal věnovat a už jsem nenašel chuť jí dokončit, ale základní koncepce je snad pochopitelná – snažil jsem se vše okomentovat.</p> <p>Osobně nemám rád psaní zbytečného kódu. Nejsem zastáncem zbytečných ukázkových aplikací, testovacích utilitek a tak. Takže už jsem žádné další ukázkové aplikace nepsal a rozhodl se další možnosti ASP.NET ukázat na již hotových aplikacích, se kterými mám něco společného.</p> <p>Základní koncept komponent a Master pages jsem se tedy rozhodl ukázat – ať nechodíme daleko – na šabloně <a href=\"/weblog/\">tohoto blogu</a>. O něco pokročilejší komponentový framework jsem pak ukazoval na šabloně <a href=\"http://obchody.atlas.cz/\">obchody.atlas.cz</a>. Tahle jedna šablona je v podstatě celý web. Bez knihovny je sice mrtvá a ještě chyběj pravidla URL rewritingu, ale jinak je tam vše. Tyhle dvě ukázky najdete taktéž přibalené.</p> <p>Poslední mou ukázkou byla aplikace, kterou jsem psal kvůli potřebě naučit se <a href=\"http://asp.net/mvc/\">ASP.NET MVC</a> a <a href=\"http://msdn.microsoft.com/en-us/data/bb931106.aspx\">ADO.NET Data Services</a> prakticky ještě před konferencí a zároveň abychom se v práci zbavili nutnosti zapisovat si příchody někam na papír (formulář) a pak na konci měsíce počítat, kolik kdo dostane stravenek :). Tak vznikla <em>docházka</em> a taky <em>rozcestník projektů</em> a tím pádem základ <strong>Twareg.Intranet</strong>. Shodou okolností to možná bude i naše první komerčně prodávaná aplikace. Hezký osud bokovky…</p> <p>Takže na tomto webu jsem se pokusil ukázat, jak se dělá routing, jak je ten systém modulární. Jak deklarativně pomocí atributů nastavit autorizaci k akcím a jak akce snadno přejmenovat. Na víc už moc nezbýval čas. Tahle ukázka přibalená není. Namísto ní najdete Borkovy REST služby postavené nad ASP.NET MVC, které jsme bohužel nestihli ukázat.</p> <p>Co se týče mého vystoupení, tak moc spokojený nejsem, vůbec se to nedostalo ani na spodní hranici mých představ o dobré přednášce – naštěstí tam byl Borek, aby to zachránil.</p> <!--[if !IE]> --> <object type=\"application/x-shockwave-flash\" data=\"http://www.authorstream.com/player.swf?p=99567_633604576063437500\" width=\"520\" height=\"434\"> <!-- <![endif]--> <!--[if IE]> <object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\" width=\"520\" height=\"434\"> <param name=\"movie\" value=\"http://www.authorstream.com/player.swf?p=99567_633604576063437500\" /> <!--><!--dgx--> <param name=\"loop\" value=\"true\" /> <param name=\"menu\" value=\"false\" /> <param name=\"allowfullscreen\" value=\"true\" /> <param name=\"flashvars\" value=\"\" /> </object> <!-- <![endif]--> <p><a href=\"http://www.authorstream.com/\">Author Stream</a> ty slajdy trochu rozsypal, ale lepší než nic. Jinak pokud si chcete slajdy nebo ukázky stáhnout, pokračujte na <a href=\"/weblog/326-slajdy-a-ukazky-z-webexpa.aspx\">Slajdy a ukázky z WebExpa</a>. Pokud vás toto téma zajímá určitě najdete spoustu zajímavých <a href=\"http://www.codeplex.com/aspnet\">futures bits na Codeplexu</a>. Některá témata z přednášky bych rád rozebral podrobněji tady na blogu, ale až někdy jindy.</p> <h3 id=\"toc-shlednute-prezentace\">Shlédnuté prezentace</h3> <p>Na WebExpu jsem naštěstí nebyl jen jako pokus o přednášejícího, ale i jako divák. Oproti původnímu plánu jsem nakonec navštívil trochu jiné přednášky. Jako opravdu výbornou můžu označit <a href=\"http://webexpo.cz/prednaska/adobe-flex-adobe-air/\">přednášku Juraje Michálka o Flexu</a>. Hodně dobrá byla nejspíš i <a href=\"http://webexpo.cz/prednaska/efektivni-vyvoj-webovych-aplikaci-v-ruby-on-rails/\">Karmiho přednáška o Ruby on Rails</a>, ale zastihl jsem jen asi posledních 25 min. <a href=\"http://webexpo.cz/prednaska/vyvoj-webovych-aplikaci-v-php-a-nette-framework/\">Přednáška o Nette</a> z úst <a rel=\"friend met\" href=\"http://davidgrudl.com/\">nejzasvěcenějšího</a> byla zábavná, nicméně s plánovaným <a href=\"http://www.skoleniphp.cz/\">školením PHP frameworky</a> na paměti značně zredukovaná.</p> <p>Mezi pro mě obsahově hodnotné a pořád dobře odprezentované bych ještě rád zařadil <a href=\"http://webexpo.cz/prednaska/spring-framework/\">Dagiho přednášku o Springu</a>, <a href=\"http://webexpo.cz/prednaska/architektura-aplikaci-v-seznamu/\">přednášku Vlastimila Pečínky o architektuře v Seznamu</a> a <a href=\"http://webexpo.cz/prednaska/sproutcore/\">přednášku o SproutCore od Antonína Hildebranda</a>. Sice jsem nedostal odpověď na otázku, jestli to funguje i bez JavaScriptu, ale i tak přednášku hodnotím jako přínosnou a můžu rubistům tiše závidět ;).</p> <h3 id=\"toc-socialni-vlivy\">Sociální vlivy</h3> <p>Na tuhle akci jsem nejvíc těšil hlavně kvůli lidem. Já moc na tydlety akce nechodím, ale jednou za čas se potkat s lidmi, které často čtu, není špatné. Rád jsem osobně potkal i některé nové tváře, které jsem dosud nečetl a třeba to napravím…</p> <h3 id=\"toc-na-zaver\">Na závěr</h3> <p>Na závěr patří především <em>velíké díky</em> <a rel=\"friend met\" href=\"http://www.dvanula.cz/\">Vaškovi</a>, za velikou zkušenost, za zorganizování téhle veliké party se spostou zajímavých osobností a se širokým záběrem témat. Je dobré když se člověk může podívat na to jak to dělaj jinde a něčemu se třaba přiučit nebo prodiskutovat své pohledy na věc. Ono táhnout konferenci až do první hodiny ranní není žádná sranda. Respekt!</p> <p>Jo a málem bych zapomněl, na LinkedIn jsem vytvořil k této konferenci skupinu, takže pokud jste se ještě do ní nepřidali, neváhejte a <a href=\"http://www.linkedin.com/groups?gid=1077997&amp;trk=hb_side_g\">udělejte to</a> ještě teď. A pokud vás zajímají slajdy ostatních nebo chcte nasdílet své, využijte <a href=\"http://www.slideshare.net/event/webexpo-2008-praha\">eventu na slide share</a>.</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a href=\"/weblog/295-povidani-o-asp-net-na-webexpu.aspx\">Povídání o ASP.NET na WebExpu</a></li> <li><a href=\"/weblog/326-slajdy-a-ukazky-z-webexpa.aspx\">Slajdy a ukázky z WebExpa</a></li> <li><a href=\"/weblog/327-webexpo-za-nami.aspx\">WebExpo za námi</a></li> <li><a href=\"http://www.misantrop.info/732022-webexpo-2008.php\">Martin Malý: WebExpo 2008</a></li> <li><a href=\"http://www.sindelka.cz/cz/ohlednuti-webexpo/\">Pavel Šindelka: Ohlédnutí za konferencí WebExpo</a></li> <li><a href=\"http://myego.cz/item/webexpo-ohlednuti-za-konferenci\">Radek Hulán: WebExpo – ohlédnutí za konferencí</a></li> <li><a href=\"http://jankorbel.cz/2008/10/20/par-poznamek-k-webexpu/\">Jan Korbel: Pár poznámek k WebExpu</a></li> <li><a href=\"http://zdrojak.root.cz/clanky/jake-bylo-webexpo-2008/\">Martin Hassman: Jaké bylo WebExpo 2008</a></li> <li><a href=\"http://nikdo.cz/blog/webexpo-2008-den-prvni\">Radek Matěj: WebExpo 2008 – den první</a></li> <li><a href=\"http://nikdo.cz/blog/webexpo-2008-den-druhy\">Radek Matěj: WebExpo 2008 – den druhý</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-02T14:40:54.487-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "K WebExpu ještě jednou a pořádně",
  :published #inst "2008-10-25T16:19:27.570-00:00",
  :url "k-webexpu-jeste-jednou-a-poradne",
  :id 328,
  :description
  "Už je to týden, co nám skončila přednáška o ASP.NET 3.5 / futures na konferenci WebExpo 2008. Rád bych se k této konferenci ještě ohlédl.",
  :category "Webdesign",
  :tags
  ["webexpo"
   "aspnet"
   "mvc"
   "nhibernate"
   "activerecord"
   "nette"
   "spring"
   "ajax"
   "twareg"]},
 :394-continuous-delivery.aspx
 {:html
  "<p>Vloudil jsem se i na <a href=\"http://www.webexpo.cz/\">letošní WebExpo</a> s tématem <a href=\"http://www.webexpo.cz/program/sobota\">Continuous Delivery aneb máme stále co nabídnout</a>. Přednáška o této poměrně nové agilní technice bude vycházet především ze starší techniky Continuous Integration, na které tato nová staví.</p> <p>Témata, která by měla na přednášce zaznít, najdete <a href=\"http://prezi.com/xsgqskjcce96/continuous-delivery\">v moji prezi</a>, která je je k nahlédnutí již nyní v její rané vývojové fázi. :) Přesně v agilním duchu Continuous Delivery.</p> <p>Samozřejmě jsem otevřen připomínkám a námětům, co by vás – případné účastníky – zajímalo.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-08-08T08:45:53.473-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Continuous Delivery",
  :published #inst "2010-08-08T08:45:53.350-00:00",
  :url "continuous-delivery",
  :id 394,
  :description "Pozvánka na WebExpo.",
  :category "Webdesign",
  :tags ["webexpo" "xp" "agile"]},
 :2-nikola-v-hegesi.aspx
 {:html
  "<p>Včera jsem po dlouhé době navštívil <a href=\"http://www.discoheges.cz\">Hegeš</a>. Je to diskotéka Honzy Bažanta v&#160;Janově Dole. Hostem večera byla zpěvačka Nikola. Díky tomu tam bylo docela narváno. Přišli i&#160;někteří spolužáci ze základky, a tak jsme si docela dobře popovídali. Vždyť jsem je od července neviděl.</p> <p>Nikola mě docela překvapila, je to docela milá holka, a ani není tak vyzáblá jak to vypadá v&#160;televizi. Zazpívala asi šest písniček, pak udělala karaoke soutěž na píseň šedá. Byl to docela děs. Přihlásili se tři vožralí chlapci, kteří ani neznali slova a do melodie se vůbec netrefili :) Bylo slyšet akorát jalové bučení &#8222;šedá, šš šedá&#8220;&#8230;</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nikola v Hegeši",
  :published #inst "2004-02-14T14:00:00.000-00:00",
  :url "nikola-v-hegesi",
  :id 2,
  :description "Návštěva Hegeše se zdařila.",
  :category "Muzika",
  :tags []},
 :437-ci-tip-neocekavejte.aspx
 {:html
  "<p>Jednou z dobrých praktik v Continuous Integration je, nemít žádná očekávání. Repository musí obsahovat vše, co vývojář potřebuje k bezproblémovému vývoji. Ok, minimální subset jako OS a SDK předpokládat můžeme. Ale nic nám nebrání v tom, připravit script, který potřebná SDK a nástroje nainstaluje a nastaví.</p> <h3 id=\"toc-maly-priklad-z-praxe\">Malý příklad z praxe</h3> <p>Vezměme si reálný scénář. V teamu máme lokální nuget server, kde jsou k dispozici balíčky s interními komponentami. Pro správný chod musí mít každý nastavenou adresu lokálního serveru ve zdrojích ve svém Visual Studiu, každý nový vývojář si to musí nastavit. Jinak se balíčky neaktualizují. Kde takovou informaci udržovat? Má být ve wiki, kterou nikdo nečte? Má být v <code>readme</code> souboru v repository? Nejlepší je najít automatické řešení, na které už nikdo nemusí myslet!</p> <p>NuGet například umožňuje <a href=\"http://blog.cincura.net/233131-using-per-solutionproject-nuget-package-sources-in-visual-studio/\">definovat vlastní zdroje v konfiguračním souboru</a>, který se vztahuje k projektu. Jednou do repository přidáte tento soubor a máte vystaráno. Všichni kdo si otevřou projekt mají již vlastní zdroj balíčků nakonfigurovaný, aniž by museli něco řešit. A to jen pro aktuální projekt. Takže je to řešení nejen nevyžadující aktivitu, ale je i celkem čisté. Win win situace.</p> <p>A navíc to funguje i na integračním serveru, protože ten je taky součástí teamu. ;)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-01-03T12:11:34.870-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "CI tip: Neočekávejte",
  :published #inst "2013-01-03T12:11:06.957-00:00",
  :url "ci-tip-neocekavejte",
  :id 437,
  :description "Malá ukázka toho, jak si s CI usnadňovat život.",
  :category "Moje práce",
  :tags ["ci" "nuget"]},
 :198-prinasi-microsoft-novou-generaci-webu.aspx
 {:html
  "<p>Je tomu již pár týdnů, co Microsoft uvolnil první ukázkovou verzi zajímavé technologie pod krkolomným kódovým označením <a href=\"http://msdn2.microsoft.com/en-us/asp.net/bb187358.aspx\">WPF/E</a>. Tato technologie si klade za cíl umožnit provozování technologie <acronym title=\"Windows Presentation Foundation\">WPF</acronym>, přesněji řečeno jeho omezenou část, i na systémech kde neběží <em>.NET Framework 3.0</em>, jehož je WPF součástí.</p> <p>První komunitní preview (December CTP) funguje na Windows v prohlížečích Internet Explorer a Firefox a na OS X v Safari (a možná i ve Firefoxu). Podpora WPF/E je prohlížečích zajištěna pomocí 1MiB plug-inu, který zprostředkovává i podporu pro přehrávání <em>Windows Media Audio &amp; Video</em>. V tom je prozatím také asi největší síla WPF/E.</p> <h3 id=\"toc-o-co-tedy-jde\">O co tedy jde</h3> <p>WPF je technologií pro tvorbu tzv. <strong>rich UI</strong>, novou generací WinForms a podle Microsoftu i webu. A vlastně proč ne? Web, takový jaký ho známe dnes, byl původně vytvořen pro hypertext, nad kterým se časem vybudovala nadstavba pro aplikace (WebForms, JavaScript, AJAX). Z jiného úhlu pohledu se prostředí webu využívá jako transportní vrstva pro WebServices. A na to navazuje WPF. WPF přináší „rich“ aplikace chovající se stejně jako nativní aplikace v systému s možností přenosu přes web. Všechny prvky a chování je možno popsat v XML dialektu zvaném <acronym title=\"eXtensible Application Markup Language\">XAML</acronym>, složitější logiku vykonává buďto nějaká webová služba nebo klientský kód napsaný v libovolném jazyce, který je podporovaný platformou <strong>.net</strong>.</p> <h3 id=\"toc-wpf-e-everywhere\">WPF/E =Everywhere</h3> <p>WPF/E bere určitou podmnožinu jazyka XAML a umožňuje jeho vykonání v okně prohlížeče. Prozatím se jedná o subset pro vykreslování vektorové grafiky, přehrávání multimédí a tvorbu animací. Podpora pro složotější formaláře zatím chybí a je otázkou, zda bude doplněna. To WPF/E staví do role možné konkurence pro Flash. Vím, pravděpodobně k ohrožení pozice Flashe nedojde, ale mně se líbí možnost výběru, obvzlášť, když se jedná o XML, ke kterému mám jako programátor mnohem blíž.</p> <p>Co se týče aplikační logiky, ta je prozatím tvořena pomocí JavaScriptu, takže můžete plně využívat vašich AJAXových služeb a frameworků. V dalších verzích by se měla objevit i podpora pro dotnetí jazyky.</p> <h3 id=\"toc-vyhody-a-nevyhody\">Výhody a nevýhody</h3> <p>Za hlavní výhodu, oproti Flashi, považuju, jak už jsem psal, že jde o XML. To má nesporné výhody v možnosti editace, validace, transformace, ale i s prací pomocí DOM. A protože se jedná o XML mohou být animované nebo antialisované texty indexovány vyhledávači (absence indexace je asi největší slabina flashe na webu). Další výhodou je platformavá nezávislost (ikdyž zatím jde pouze o dva operační systémy a tři prohlížeče, oproti flashi nepatrný zlomek) a vkládání multimédií přímo do stránek. Nevýhodou může být to, že jde o technologii Microsoftu, k němuž má značná část „odborné“ internetové populace averzi. Pro někoho může být nevýhodou i to, že se kdokoli může snadno podívat na zdrojáky vaší práce, což je u flashe kompilací značně stíženo. Další nevýhodou je, že zatím nejde o finální produkt, tudíž jeho podpora, možnosti a rozšířenost jsou teprve na začátku.</p> <h3 id=\"toc-ukazky-pouziti\">Ukázky použití</h3> <p>Já jsem si při zkoušení možností WPF/E vytvořil <a href=\"/ukazky/Player.aspx\">jednoduchý přehrávač</a> hudebních souborů. Jeho výslednou podobu si můžete <a href=\"/ukazky/Player.aspx\">prohlédnout</a>. Co umí? :) No, přehrává WMA soubory a ukazuje názvy tracků, umí mezi stopami přeskakovat, pauzovat, zastavovat a znovu spouštět a ještě zobrazuje průběh přehrávání. Chtěl jsem i zprovoznit přeskakování v rámci aktuální skladby, ale nakonec se mi nepodařilo donutit MediaElement ke změně pozice :( Ještě by šlo udělat změnu hlasitosti, zobrazování délky stopy i celý playlist, zobrazování progressu downloadu apod. To už si zkuste sami, pokud chcete…</p> <p>Celkem slušný přehled ukázek WPF/E najdete na stránce <a href=\"http://weblogs.asp.net/mschwarz/archive/2006/12/14/a-short-list-of-wpf-e-exmaples.aspx\">A short list of WPF/E examples</a>.</p> <p>Dokumentaci, pluginy a šablony do VisualStudia si <a href=\"http://msdn2.microsoft.com/en-us/asp.net/bb187452.aspx\">stáhněte na MSDN</a>.</p> <h3 id=\"toc-souvisejici\">Související</h3> <ul> <li><a href=\"http://www.borber.com/blog/prvni-detaily-o-wpf-e\">Borek Bernard: První detaily o WPF/E</a></li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:45:36.667-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Přínáší Microsoft novou generaci webu?",
  :published #inst "2006-12-23T17:46:09.140-00:00",
  :url "prinasi-microsoft-novou-generaci-webu",
  :id 198,
  :description
  "Je tomu již pár týdnů, co Microsoft uvolnil první ukázkovou verzi zajímavé technologie pod krkolomným kódovým označením WPF/E.",
  :category "Webdesign",
  :tags ["silverlight" "plugin" "wpf"]},
 :208-netscape-9-0-theme-pro-firefox.aspx
 {:html
  "<p>Netscape uvolnil pěkný minimalistický theme pro Firefox. Možná by se mohl líbit i vám (ve Vistách vypadá o hodně lépe než defaultní).</p> <p><a href=\"http://blog.netscape.com/2007/04/10/netstripe-netscape-9s-theme-for-firefox/\">Stahujte</a> na stránkách Netscape blogu.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:38:26.850-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Netscape 9.0 theme pro Firefox",
  :published #inst "2007-05-07T20:05:35.193-00:00",
  :url "netscape-9-0-theme-pro-firefox",
  :id 208,
  :description
  "Netscape uvolnil pěkný minimalistický theme pro Firefox.",
  :category "Tuning",
  :tags ["firefox" "netscape" "theme"]},
 :63-windows-vista.aspx
 {:html
  "<p>Microsoft konečně oznámil komerční název jeho <em>Longhornu</em>, příštího operačního systému z&#160;dílny <a href=\"http://www.microsoft.com\">Microsoftu</a>. Byla oznámena i&#160;data vydání beta verzí a kandidátů na vydání. První beta verze vyjde 3. srpna tohoto roku a měla by přinést hlavně nové prvky pro programátory, souhrnně nazývané WinFX. Je to managed framevork, který by měl nahradit Win32, i&#160;když toto by mělo být zachováno.</p> <p>Důležitou částí WinFX bude Indigo, zajišťující volání distribuovaných služeb, které staví na standardech WS-xxx, WSDL a SOAP z&#160;dílny <a href=\"http://www.w3.org\">W3C</a>. To by mělo zajistit, že v&#160;brzké budoucnosti se nebudou aplikace instalovat do počítače, ale budete používat logiku, která je někde na nějaké adrese napsaná v&#160;nějakém jazyku běžícím na nějaké platformě… Doufám, že se podpora pro Webové služby dostane (na úrovni systémového API) i&#160;do dalších operačních systémů.</p> <p>Další důležitou částí je Avalon. Jedná se o&#160;API, díky kterému si můžete libovolně hrát s&#160;<acronym title=\"Graphic User Interface\" lang=\"en\">GUI</acronym>. Popis GUI je ve formátu MS XAML, takže distribuce budoucích aplikací na váš počítač bude zprostředkována pomocí XML a protokolů, které jeho přenos podporují, především HTTP.</p> <p>Tohle jsou základní stavební kameny nového systému, na které se nejvíc těším, protože to je problematika, která mě hodně zajímá a ve které se snažím získat co nejvíc zkušeností. V&#160;brzké době, bych se měl stát členem mini teamu, ve kterém budeme řešit dotazování do Foxovských databází z&#160;jedné stránky. Databáze je decentralizovaná a navíc není přístupná z&#160;venku, ale pouze přes VPN. Jedním z&#160;řešení, na kterém budu dělat, je dotazování pomocí XML webových služeb.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Windows Vista",
  :published #inst "2005-07-24T00:00:00.000-00:00",
  :url "windows-vista",
  :id 63,
  :description "",
  :category "Tuning",
  :tags []},
 :327-webexpo-za-nami.aspx
 {:html
  "<p>Tento víkend jsem strávil na největší oborové konferenci o webu u nás – na WebExpu 2008. Byla to konference, kde jste mohli potkat lid nejrůznějších povolání – od marketingu přes management až ke kodérům, programátorům a vývojářům. A samozřejmě jste nemohli minout bandičku elitářských blogerů, které jistě znáte z Weblogy.cz.</p> <p>Organizačně se mi konference líbila a poskytla mi i spoustu zajímavých témat k poslechu, někdy až tolik, že jsem začal přemýšlet o tom, jak využít mé rozdvojené osobnosti k tomu, abych pokryl více přednášek najednou. Nakonec tato metoda nezafungovala, takže jsem raději zaplul do šenku…</p> <p>Nakonec jsem si odnesl spoustu zajímavých poznatků:</p> <ul> <li>Radek Hulán je v pohodě a líbí se mi jeho pohled na web vs. Microsoft a <strong>jeho hlas</strong></li> <li>Arthur Dent spal s Davídkem a velkým <strong>plyšovým psem</strong></li> <li>Ruby je <strong>opravdu skvělé</strong></li> <li>rarouš je děsnej <strong>kořala</strong> a přednášení mu fakt nejde</li> <li>Davídek se ztratil</li> </ul> <p>Díky Vaškovi za skvělou konferenci a snad se brzy sejdeme na nějaké další ;)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-10-20T13:08:12.433-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "WebExpo za námi",
  :published #inst "2008-10-20T13:08:12.420-00:00",
  :url "webexpo-za-nami",
  :id 327,
  :description
  "Tento víkend jsem strávil na největší oborové konferenci o webu u nás – na WebExpu 2008.",
  :category "Webdesign",
  :tags ["webexpo"]},
 :132-zaciname-s-atlasem-2.aspx
 {:html
  "<p><img style=\"float:right\" src=\"/data/obrazky/atlas_server.png\" alt=\"Diagram serverové části Atlasu\" /> V&#160;<a href=\"http://rarous.net/clanek/129-zaciname-s-atlasem.aspx\">minulém díle</a> jsme si představili, co to Atlas je, jakou má zhruba strukturu a k&#160;čemu se hodí. Jak jsem slíbil budeme se dnes věnovat serverové části Atlasu a ukážeme si, jak jednoduše přetvořit stávající ASP.NET 2.0&#160;aplikaci na AJAXovou. Tak s&#160;chutí do toho :)</p> <p>V&#160;minulém díle jsem popsal, jakou má strukturu klientská část Atlasu, v&#160;tomto se podíváme na zoubek té serverové. Součástí serverové části jsou komponenty – Extendery, které obohacují současné ASP.NET komponenty o&#160;interaktivní chování podobné tomu, jak se chovají komponenty WinForms. Krom extenderů jsou zde ještě komponenty <code>ScriptManger</code> &#8211; popsaný v&#160;minulém díle &#8211; <code>UpdatePanel</code> a <code>UpdateProgress</code> zajišťující a informující o&#160;průběhu komunikace klientského skriptu s&#160;aplikací na serveru.</p> <p><em>Teď trochu odbočím.</em> Možná si vzpomínáte na jednu z&#160;novinek ASP.NET, tzv. CallBacky. První zmínky vyvolaly bouřlivé reakce, ale posléze ticho po pěšině. <a href=\"http://www.dotnetjunkies.com/Tutorial/E80EC96F-1C32-4855-85AE-9E30EECF13D7.dcik\">CallBack</a> je alternativou PostBacku, kdy se např. při stránkování v <code>GridView</code> nemusí reloadovat celá stránka, ale je využito objektu XmlHTTPRequest k&#160;aktualizaci datové mřížky, čímž se snižuje datový tok a nemusí se celá stránka přerenderovat. CallBack je jistou formou AJAXu, ale většinou je potřeba psát ručně, kusy JavaScriptu a ty registrovat na serveru a posléze je posílat. Tento způsob zdá se mi poněkud neohrabaným.</p> <p><em>Zpět k&#160;Atlasu.</em> Atlas myšlenku CallBacku dotahuje do použitelné podoby a v&#160;poslední verzi dokáže díky CallBackům z&#160;obyčejné ASP.NET stránky udělat AJAXovou :) Nyní malá ukázka. Mějme GridView s&#160;povoleným řazením podle libovolného sloupce a stránkování.</p> <pre class=\"xml\"><code>&lt;asp:GridView ID=\"GridView1\" runat=\"server\" AllowPaging=\"true\" AllowSorting=\"true\" AutoGenerateColumns=\"true\" DataSourceID=\"ZdrojDat\"&gt; &lt;/asp:GridView&gt;</code></pre> <p>Takováto mřížka při každém přechodu na další stránku nebo srovnání podle určitého sloupce PostBackuje a překreslí se stránka s&#160;požadovaným pohledem. Nyní uděláme lehkou úpravu a k&#160;PostBackům docházet nebude, docílíme AJAXu :)</p> <pre class=\"xml\"><code>&lt;atlas:ScriptManager ID=\"TheScriptManager\" EnablePartialRendering=\"true\" runat=\"server\" /&gt; &lt;atlas:UpdatePanel ID=\"GridUpdate\" runat=\"server\" Mode=\"Always\"&gt; &lt;ContentTemplate&gt; &lt;asp:GridView ID=\"DatovaMrizka\" runat=\"server\" AllowPaging=\"true\" AllowSorting=\"true\" AutoGenerateColumns=\"true\" DataSourceID=\"ZdrojDat\"&gt; &lt;/asp:GridView&gt; &lt;/ContentTemplate&gt; &lt;/atlas:UpdatePanel&gt;</code></pre> <p>Ano, to je skoro vše! Za předpokladu, že jste použili šablonu Atlas WebSite ve vašem Visual WebDeveloperu nebo Visual Studiu – to předpokládá nainstalovaný Atlas z&#160;<a href=\"http://atlas.asp.net/\">domovské stránky</a>. Nezapomeňte, že každá Atlasová serverová komponenta potřebuje mít ve stránce <code>ScriptManager</code> jinak nebude fungovat.</p> <p>Tak máme za sebou první ukázku kódu. Docela pohoda ne? :) No, serverový Atlas nejsou jen komponenty, ale také webové služby a bridže. Ono se totiž dá v&#160;Atlasu programovat minimálně podle dvou hlavních schémat.</p> <ol> <li>Serverovou stranu využijete pouze na krmení klientské strany daty pomocí webových služeb a na klientu pojedeme všechno v&#160;JavaScriptu, XML-Scriptu a XHTML šablonách.</li> <li>Využijeme podpory CallBacků u&#160;serverových komponent a použijeme extendery na vylepšení uživatelského zážitku s&#160;klasickými komponentami.</li> </ol> <p>Třetí možností je využití obou postupů, ale pak v&#160;tom asi bude pěkný guláš. Druhou možnost jsme si už předvedli, povězme si něco o&#160;té první. Tak tedy, Atlas pomocí HttpHandleru přebírá volání webových služeb (ASMX) a přidává vytváření JavaScriptových proxy pro metody služby. Pomocí těchto proxy funkcí komunikuje klientský Atlas s&#160;webovou službou. Tady v&#160;dřívějších verzích nastal problém, nešlo efektivně konzumovat služby třetích stran, které jsme nemohli donutit, aby nám vracely požadované JS proxy.</p> <p>Poslední verze přichází s&#160;tzv. bridži. Bridž je handler, který konzumuje služby třetí strany a vytváří k&#160;ní potřebné proxy funkce. Klientská strana pak volá tento bridž namísto služby. Třetí podporovanou možností je konzumace služeb postavených na <acronym title=\"Windows Communication Fundation\">WCF</acronym> dříve známé jako Indigo. Další novinkou poslední verze je XmlDataSource pro klientskou stranu. Můžete konzumovat libovolný XML soubor, pohybovat se kouzlech pomocí XPath a provádět transformace pomocí XSLT. Tak to by bylo ke zdrojům dat.</p> <p>Prozatím poslední ze serverových částí je možnost vytváření Gadgets. <a href=\"http://microsoftgadgets.com/\">Gadgets</a> jsou kousky kódu – komponenty – určené pro začlenění na portál <a href=\"http://www.live.com/\">Live.com</a> (popř. <a href=\"http://www.start.com/\">Start.com</a>) a pravděpodobně půjdou tyto komponenty integrovat i&#160;do chystaného Desktop Sidebaru ve <a href=\"http://www.microsoft.com/windowsvista/\">Windows Vista</a>. Tímto bych zakončil druhý díl povídání o&#160;Atlasu a příště bychom si mohli vytvořit nějakou použitelnou aplikaci :)</p> <h3>Zajímavé odkazy</h3> <ul> <li><a href=\"http://blog.vyvojar.cz/mjurek/archive/2006/04/09/7852.aspx\">AJAX bublina nebo trend?</a></li> <li><a href=\"http://www.shankun.com/Default.aspx?categoryID=1\">Shanku Niyogi</a></li> <li><a href=\"http://www.wilcob.com/Wilco/Atlas.aspx\">Wilco Bauer</a></li> </ul> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-11T11:04:01.453-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Začínáme s Atlasem 2",
  :published #inst "2006-04-11T09:05:00.000-00:00",
  :url "zaciname-s-atlasem-2",
  :id 132,
  :description "Druhý díl seriálu o Atlasu.",
  :category "ASP.NET 2.0",
  :tags []},
 :399-pryc-se-stromecky-nyni-interaktivne.aspx
 {:html
  "<p>Včera jsme si <a rel=\"bookmark\" title=\"Pryč se stromečky!\" href=\"/weblog/398-pryc-se-stromecky.aspx\">předvedli</a> jak pomocí několika základních refaktoringů snížit cyklomatickou komplexitu, zpřehlednit tak kód a snížit riziko výskytu chyb. Dnes se posuneme ještě o kousek dál a zbavíme se nadbytečného imperativního kódu.</p> <h3 id=\"toc-linquj-linquj\">LINQuj, LINQuj</h3> <p>Když jsem dorefaktoroval metodu <code>IterateMatchingPathGroups</code> do poslední verze s guardy, hned jsem viděl, že tohle je jasný LINQoký dotaz přepsaný imperativně. Původně jsem ho chtěl přidat do včerejšího článku, ale pak jsem zjistil, že nejde úplně o triviální dotaz a že to nechám na pozorném čtenáři na rozvinutí v komentářích.</p> <p>Netrvalo dlouho a na twitteru mi psal <a href=\"http://www.tomasp.net\">Tomáš Petříček</a>, že by tato metoda šla přepsat pomocí LINQu. Inu, funkcionální srdcař se nezapře. :) Tak mi to nedalo a píšu tenhle druhej díl.</p> <h3 id=\"toc-interaktivni-extenze-na-scenu\">Interaktivní extenze na scénu!</h3> <p>Jak už jsem psal, nejde o úplně triviální LINQ dotaz, protože tu potřebujeme mapovat dvě kolekce na sebe. Ve čtvrté verzi .net frameworku byl přidán kombinátor <code>Zip</code>, který dělá přesně to, co potřebujeme. (Pokud používáte .net 3.5, najdete tento v knihovně System.Interactive v rámci <a href=\"http://msdn.microsoft.com/en-us/devlabs/ee794896\">Rx.net</a>.) Tady je výsledný kód, který si popíšeme dále:</p> <pre class=\"csharp\"><code>static void IterateMatchingGroups(Regex regex, Match match, RouteData data) { GroupCollection groups = match.Groups; string[] groupNames = regex.GetGroupNames(); groups.Cast&lt;Group&gt;(). Zip(groupNames, (group, name) =&gt; new { Pair = new KeyValuePair&lt;string, string&gt;(name, group.Value), IsMatch = group.Success, }). Where(x =&gt; x.IsMatch). Select(x =&gt; x.Pair). Where(IsNamedKey). Where(IsNotEmptyValue). Do(SetRouteData(data)); } static bool IsNamedKey(KeyValuePair&lt;string, string&gt; pair) { return !(string.IsNullOrEmpty(pair.Key) || char.IsNumber(pair.Key, 0)); } static bool IsNotEmptyValue(KeyValuePair&lt;string, string&gt; pair) { return !string.IsNullOrEmpty(pair.Value); } static Action&lt;KeyValuePair&lt;string, string&gt;&gt; SetRouteData(RouteData data) { return pair =&gt; data.Values[pair.Key] = pair.Value; }</code></pre> <p>Nejprve si připravíme vstupní kolekce skupin a jejich názvů. Protože <code>GroupCollection</code> implementuje pouze negenerické <code>IEnumerable</code> použijeme extenzi <code>Cast&lt;TResult&gt;</code>, která vytvoří generickou kolekci, nad kterou už se dají použít LINQ kombinátory. Dále obě kolekce sezipujeme a vytvoříme si pomocný anonymní objekt, který drží pár klíč-hodnota a informaci, zda byl úspěšný match.</p> <p>Odfiltrujeme si neúspěšné matche a dál už potřebujeme jen pár klíč-hodnota, tak si ho vyselectujeme. Odfiltrujeme páry, které nemají klíč nebo je klíčem číslo, a pak ještě ty, které nemají hodnotu. Tím jsme sémanticky nahradili guard podmínky z cyklu předchozí verze. A dostali jsme se k tomu, co vlastně chceme udělat, tj. přidat nalezené hodnoty do kolekce routovacích dat. K tomu slouží kombinátor <code>Do</code> z interaktivních extenzí.</p> <p>Pokud zrovna nechcete používat skvělou knihovnu Rx.net, můžete kombinátor <code>Do</code> nahradit zápisem <code>ToList().ForEach</code> nebo <code>AsParallel().ForAll</code> z <acronym title=\"Task Parallel Library\">TPL</acronym>.</p> <p>A to je pro dnešek vše. Nějaká dotazy, výtky a tak? :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-03-08T16:41:41.713-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pryč se stromečky! Nyní interaktivně.",
  :published #inst "2010-12-22T07:35:42.090-00:00",
  :url "pryc-se-stromecky-nyni-interaktivne",
  :id 399,
  :description
  "Včera jsme si předvedli jak pomocí několika základních refaktoringů snížit cyklomatickou komplexitu, zpřehlednit tak kód a snížit riziko výskytu chyb. Dnes se posuneme ještě o kousek dál a zbavíme se nadbytečného imperativního kódu.",
  :category "ASP.NET 2.0",
  :tags ["linq" "rx"]},
 :226-hradvkarpatech-v-rumunsku.aspx
 {:html
  "<p>Ano vážení <strong>hradvkarpatech v&#160;Rumunsku</strong> opravdu skrývá své překvapení, ale co bychom to byli za kamarádky, kdybychom našemu <em>tölökö totok siu</em> kamardádovi Leopoldovi a jeho kamarádům apačům nepomohli trochu zatopit :) A&#160;o tom, jak to celé funguje píše náš milovaný <a href=\"http://weblognicek.chvojka.cz/ruzne/hrajeme-si-378.aspx\"><strong>karpatos rumunos webos</strong></a>.</p> <p>Good luck!</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2007-10-04T13:28:57.173-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "hradvkarpatech v Rumunsku",
  :published #inst "2007-10-04T10:15:03.127-00:00",
  :url "hradvkarpatech-v-rumunsku",
  :id 226,
  :description
  "Jak dlouho to vydrží? Googluj googluj vykrůcaj? Tropické šílenství z mravenců přenosné i na člověka!!",
  :category "Webdesign",
  :tags []},
 :89-css-sablony-pro-vase-projekty.aspx
 {:html
  "<p>Na <a href=\"http://www.msdn.com\"><acronym title=\"Microsoft Developer Network\">MSDN</acronym></a> najdete <a href=\"http://msdn.microsoft.com/asp.net/reference/design/templates/default.aspx\">několik CSS šablon</a> k&#160;volnému použití ve vašich ASP.NET projektech. Tyto balíčky jsou zejména vhodné pro začátečníky, kteří ještě neumí udělat design v&#160;CSS sami.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "CSS šablony pro vaše projekty",
  :published #inst "2005-12-05T09:08:48.110-00:00",
  :url "css-sablony-pro-vase-projekty",
  :id 89,
  :description
  "Microsoft publikoval několik CSS layoutů k volnému použití.",
  :category "ASP.NET 2.0",
  :tags []},
 :210-audio-stack-ve-vistach.aspx
 {:html
  "<p>Jedna z věcí která mě na Vistách nejvíc štve je předělanej Audio stack. Jakou audiofila by mě to spíš mělo těšit, ale prozatím tomu tak není.</p> <ol> <li>Nefunguje mi externí zvukovka. Kvůli absenci ovladačů pro můj Conectiv do Vist si musím na disku držet ještě pořád XPčka a když chci dělat se zvukem musím prostě přebootvat a řešit dilema, dneska večer programovat nebo míchat :) Doufám, že M-Audio brzy dodá funkční ovladače i pro Vistu.</li> <li>Když dojížděla mp3ka ve <acronym title=\"Windows Media Player\">WMP</acronym> ke konci tak asi 30 s před koncem začala přeskakovat, a po skončení se celkem dlouho čekalo na natažení další skladby… Docela nepříjemná věc. Naštěstí na tuhle Issue existuje celkem snadné řešení.</li> </ol> <h3 id=\"toc-reseni-problemu-preskakujicich-skladeb-ve-windows-vista\">Řešení problému přeskakujících skladeb ve Windows Vista</h3> <p>Nejjednodušší je asi si nainstalovat WinAMP, pro někoho dostačující řešení, ale mně WinAMP prostě nesedí.</p> <p>Druhou možností je navštívit <em>Control panel</em> &gt; <em>Sound</em> poklepete na repráčcích a přepnete se na kartu <em>Enhancements</em>. Zde zaškrtnete volbu <strong>Disable all enhancements</strong>. A je to v cajku…</p> <div><img src=\"/data/obrazky/vista-sound.png\" alt=\"\" /></div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:35:54.283-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Audio stack ve Vistách",
  :published #inst "2007-05-25T20:03:07.143-00:00",
  :url "audio-stack-ve-vistach",
  :id 210,
  :description
  "Visty maj novej audio stack, ale ne vždy jsou změny k lepšímu. Jak řešit některé problémy možná napoví tento článek.",
  :category "Tuning",
  :tags ["windows" "vista" "audio"]},
 :231-jak-na-php-ve-viste.aspx
 {:html
  "<p>Možná už jste přešli na Vistu, nebo o tom přemýšlíte, a chtěli byste si zprovoznit PHP. Samozřejmě je tu možnost použít bundle s Apachem (neověřeno), ale tento článek bude o tom, jak to udělat na IIS 7.</p> <p><strong>Upozornění:</strong> Následující postup vám <em>nebude fungovat</em> na <strong>Home Basic</strong> edici Windows Vista, protože její součástí je pouze omezené <acronym title=\"Internet Information Services\">IIS</acronym> pro provoz <acronym title=\"Windows Communication Foundation\">WCF</acronym>.</p> <p>Microsoft a Zend nedávno podepsali dohodu o vzájemné podpoře, výsledkem je nový FastCGI modul pro IIS, na kterém by mělo PHP běžet stejně, ne-li lépe než na Apache. Na druhou stranu je tu podpora MS SQL pro PHP. Takže první plody tu máme a myslím, že k oboustranné spokojenosti.</p> <h3 id=\"toc-instalace-iis\">Instalace IIS</h3> <p>Pokud ještě nemáte na Vistě IIS nainstalované, je tu vhodná chvíle to napravit. Otevřete si <em>Control panel</em> \\ <em>Programs</em> a v sekci <em>Program and Features</em> klikněte na <strong>Turn Windows features on or off</strong>. Otevře se vám následující okno, kde zaškrtnete podporu CGI (není od věci si zapnout i ASP.NET, když už jsme tady).</p> <div><img src=\"/data/obrazky/iis_features.gif\" alt=\"nastavení komponent\" /></div> <p>Pokud chcete konzolu pro správu IIS najdete ji ve <em>Web Management Tools</em>, je tam jak stará šestková, tak nová sedmičková. Ale pro náši potřebu není bezpodmínečně nut­ná.</p> <p>Po odkliknutí tlačítka <strong>OK</strong> budete pravděpodobně vyzváni k restartu systému.</p> <h3 id=\"toc-instalace-php\">Instalace PHP</h3> <p>Pokud tedy máme IIS nainstalováno, přejdeme k instalaci PHP.</p> <ol> <li><a href=\"http://www.php.net/downloads.php\">Stáhněte</a> si zip balíček <em>Non-thread-safe Win32 binaries</em>.</li> <li>Balíček rozbalte např. do <code>C:\\PHP</code>.</li> <li>Přejmenujte soubor <code>php.ini-recommended</code> na <code>php.ini</code>.</li> <li>Upravte následující klíče: <ul> <li><code>register_long_arrays = on</code></li> <li><code>extension_dir = \"C:\\PHP\\ext\"</code></li> </ul> </li> <li>Soubor uložte.</li> </ol> <h3 id=\"toc-instalace-fastcgi\">Instalace FastCGI</h3> <p>FastCGI je novinkou IIS7, ale není ještě ve Vistě (bude až v 2008 Serveru a možná i v Service Packu pro Vistu, který by měl vyjít současně se serverem), proto je nutné ho doinstalovat.</p> <ol> <li>Stáhněte si zip balíček pro <a href=\"http://www.iis.net/default.aspx?tabid=1000052\">x86</a> nebo <a href=\"http://www.iis.net/default.aspx?tabid=1000055\">x64</a> podle toho na jaké jste platformě.</li> <li>Rozblate ho např. do <code>C:\\PHP\\FastCGI\\</code></li> <li>Otevřete si příkazovou řádku (Win+“cmd“).</li> <li>Pokračujte následovně:</li> </ol> <pre class=\"console\"><code>C:\\Users\\rarous\\Downloads&gt;cd c:\\php\\fastcgi c:\\php\\FastCGI&gt;fcgisetup /install Stopping IIS services ... Copied files Registered FastCGI configuration section Installed FastCGI module Starting IIS services ... Success: Installation completed succesfully c:\\php\\FastCGI&gt;fcgisetup /add c:\\php\\php-cgi.exe PHP Configured FastCGI pool Created handler mappings Success: Installation completed succesfully</code></pre> <p>Tím by mělo být hotovo. Pro ověření funkčnosti si vytvořte v <code>c:\\inetpub\\wwwroot\\</code> soubor <code>index.php</code> do kterého zadáte následující kód:</p> <pre class=\"php\"><code>&lt;?php phpinfo(); ?&gt;</code></pre> <p>Uložíte a do browseru zadáte adresu <code>http://localhost/index.php</code>. Měla by se objevit standardní stránka s výpisem konfigurace PHP. Pro dnešek vše :)</p> <p>PS. FastCGI se dá doinstalovat i do <a href=\"http://www.iis.net/go/1521\">IIS 6</a> na Windows 2003.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:17:52.010-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak na PHP ve Vistě",
  :published #inst "2007-11-15T08:10:06.960-00:00",
  :url "jak-na-php-ve-viste",
  :id 231,
  :description
  "Možná už jste přešli na Vistu, nebo o tom přemýšlíte, a chtěli byste si zprovoznit PHP. Samozřejmě je tu možnost použít bundle s Apachem (neověřeno), ale tento článek bude o tom, jak to udělat na IIS 7.",
  :category "Webdesign",
  :tags ["php" "windows" "vista" "iis7" "tutorial" "fastcgi"]},
 :78-jak-na-validator-w3c.aspx
 {:html
  "<p>ASP.NET 2.0&#160;ve finální verzi produkuje kód podle <acronym title=\"Extensible Hypertext Markup Language\">XHTML</acronym> 1.0&#160;Transitional, takže by měl validátorem bez problémů projít &#8211; teda pokud neděláte v&#160;kódu prasárny. Já osobně preferuji Strict mode, takže od dob beta2 jedou tyhle stránky s&#160;doctypem XHTML 1.1, jenže generovaný kód už nedosahuje požadované kvality :) Naštěstí programátoři nezahodili striktní režim, ale pouze ho schovali za přepínač ve web.configu. Takže stačí přidat řádek <code>&lt;xhtmlConformance mode=\"Strict\" /&gt;</code> do sekce <code>&lt;system.web&gt;</code> a rázem bude výstup zase striktní! Ale pozor, nezapomínejme na adaptivní rendering ASP.NET, který je dobrým sluhou, ale i&#160;zlým pánem.</p> <p>Striktní výstup dostanou pouze prohlížeče, které mu rozumí (tohle moc nechápu, ale budiž). Pokud dáte validovat takovou stránku W3C Validátoru, tak nepochodíte. Vyskočej na vás přinejmenším tři chyby (atribut name a formu a dva inputy, které nejsou v&#160;blokovém elementu), je to způsobeno tím, že ASP.NET nezná user-agenta validátoru. Náprava je naštěstí jednoduchá, stačí si napsat vlastní <strong>browser definition file</strong> a uložit jej do adresáře <em>App_Browsers</em>. No a protože nerad dělám něco, co už někdo udělal, našel jsem <a href=\"http://idunno.org/misc/w3cvalidator.browser\">W3CValidator.brow&#173;ser</a> na stránkách <a href=\"http://idunno.org\">http://idunno.org</a> za což jim velice děkuji. Teď už je zase výstup, jak má být, projde validací, a nepotřebuju k&#160;tomu ani žádné <a href=\"http://www.aspnetresources.com/articles/HttpFilters.aspx\">OutputFiltry</a> :)</p> <h3>Update</h3> <p>Dneska jsem zjistil, že zdrojové stránky asi nefungují, proto tady uvádím zdrojový kód W3CValidator.brow&#173;ser:</p> <pre class=\"xml\"><code>&lt;browsers&gt; &lt;browser id=\"W3CValidator\" parentID=\"Mozilla\"&gt; &lt;identification&gt; &lt;userAgent match=\"W3C_Validator\" /&gt; &lt;/identification&gt; &lt;capabilities&gt; &lt;capability name=\"tagwriter\" value=\"System.Web.UI.HtmlTextWriter\" /&gt; &lt;capability name=\"ecmascriptversion\" value=\"1.5\" /&gt; &lt;capability name=\"w3cdomversion\" value=\"1.0\" /&gt; &lt;capability name=\"css1\" value=\"true\" /&gt; &lt;capability name=\"css2\" value=\"true\" /&gt; &lt;/capabilities&gt; &lt;/browser&gt; &lt;browser refID=\"Mozilla\"&gt; &lt;capabilities&gt; &lt;capability name=\"xml\" value=\"true\" /&gt; &lt;/capabilities&gt; &lt;/browser&gt; &lt;/browsers&gt;</code></pre> <!-- generated by Texy! -->",
  :keywords "strict validace asp.net 2 w3cvalidator.browser",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak na validátor W3C",
  :published #inst "2005-11-08T14:07:00.000-00:00",
  :url "jak-na-validator-w3c",
  :id 78,
  :description
  "Návod jak projít validací W3C Validatoru s&#160;ASP.NET 2.",
  :category "ASP.NET 2.0",
  :tags []},
 :153-steve-angello-poprve-v-praze.aspx
 {:html
  "<p>Už tento pátek přijeden jeden z&#160;mých nejoblíbenějších houseových producentů &#8211; Steve Angello. Přijede společně s&#160;Paul van Dykem do T-Mobile arény. Já jsem stihl lístky ještě za čtyři stovky, ale na místě budou stát už kolem litříku.</p> <p>Určitě to bude skvělá pařba a už se moc těšim&#8230;</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-05-23T08:05:12.270-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Steve Angello poprvé v Praze",
  :published #inst "2006-05-23T12:00:00.000-00:00",
  :url "steve-angello-poprve-v-praze",
  :id 153,
  :description
  "Kamarád Erica Prydze míří měsíc po Ericovi do Prahy a nebude sám.",
  :category "Muzika",
  :tags []},
 :172-alessio-busta-rainin-vibes.aspx
 {:html
  "<ol> <li>ATB – Let U Go (AT&amp;R Mix)</li> <li>Mason – Exeeder</li> <li>Ian Carey – Love Won't Wait (Original Mix)</li> <li>Buy Now – For Sale</li> <li>Buy Now – For Sale (Rude Mix Edit)</li> <li>Underworld – Born Slippy (Spacecab Remix)</li> <li>Bob Marley – Exodus (Joey Negro Club Mix)</li> <li>Bob Sinclar feat. The Hard Boys – Hard (Superchumbo Dub)</li> <li>Digitalism – Zdarlight (Axwell Bootleg)</li> <li>Yello – Oh Yeah Oh' Six (Booka Shade Remix)</li> <li>Ndea Davenport – One Day My Love (D Ramirez Vocal)</li> <li>Menace &amp; Adam – Rockin' (Original Mix)</li> <li>DJ Disciple – Yes (Ian Carey Dub)</li> </ol> <p>Ke stažení <a href=\"/files/alessio_busta_-_rainin_vibes.wma\" onclick=\"javascript:_gat._getTracker(\">Alessio Busta – Rainin' Vibes</a> (WMA 96 kbps; 47,6 MiB)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T15:11:08.050-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Alessio Busta - Rainin' Vibes",
  :published #inst "2006-08-01T09:58:49.433-00:00",
  :url "alessio-busta-rainin-vibes",
  :id 172,
  :description "Další houseový kousek v podání Alessia Busty.",
  :category "Muzika",
  :tags []},
 :278-genericky-kontejner-a-repeater.aspx
 {:html
  "<p>Zrovna předevčírem jsem měl v plánu napsat tenhle článek, ráno jsem si napsal ukázkovou třídu, kterou najdete níže, a pak šel do práce. Připravoval jsem dva celkem důležité stagingy a nakonec ještě ta Havana Party. No, a když jsem se vrátil z nákupu, zastihl jsem přímý přenos ze spouštění <a href=\"http://www.latrine.cz/\">La Trine</a>. A bylo po článku. Teda jen dočasně, protože i včera jsem měl nějakou snahu, tak jsem napsal první půlku článku.</p> <p>Někdy před rokem jsem publikoval ukázku, jak si vytvořit vlastní kontrol s <a href=\"/weblog/213-layout-template.aspx\">Layout Template</a>. Před pár týdny zase pomocníka na <a href=\"/weblog/268-vyhledavani-komponent-v-asp-net-strance.aspx\">vyhledávání komponent ve stránce i mimo jmenný kontejner</a>. To jsou takoví pomocníci, kteří mi usnadňují tvorbu serverových ovládacích prvků. A dneska si ukážeme jejich dalšího bratříčka – <strong>generický kontejner</strong>.</p> <h3 id=\"toc-kontejner\">Kontejner</h3> <p>Kontenery se používají u šablonovaných prvků svázaných s daty. Slouží jako držitel dat pro konkrétní instanci šablony. Jistě jste se setkali s <strong>Eval</strong>ováním, když jste prováděli databinding. Problém je v tom, že s sebou přináší značnou režii spojenou s boxingem. Výhodnější je používat plně typový kontejner. Zvýšíte tím nejen výkon stránky, ale i zístkáte vyšší komfort v podobě Intellisense v šabloně.</p> <p>Já jako základ takových kontejnerů používám generický kontejner, který má následující rozhraní.</p> <pre class=\"csharp\"><code>public interface IGenericContainer&lt;T&gt; : INamingContainer { T DataItem { get; } }</code></pre> <p>Toto rozhraní pak implementuju následovně:</p> <pre class=\"csharp\"><code>public class GenericContainer&lt;T&gt; : Control, IGenericContainer&lt;T&gt; { public GenericContainer&lt;T&gt;(T dataItem) { DataItem = dataItem; } public T DataItem { get; priváte set; } }</code></pre> <p>Dalším vhodným kontejnerem je prázdný kontejner:</p> <pre class=\"csharp\"><code>public class EmptyContainer : Control, INamingContainer { }</code></pre> <p>S těmito kontejnery se dá pokrýt obrovské množství potřeb. Jak je využít v praxi si ukážeme v následující čás­ti.</p> <h3 id=\"toc-genericky-repeater\">Generický repeater</h3> <p>Nyní vezmu kostičky naší stavebnice a postavím z nich základ pro vypisovače silně typových dat.</p> <pre class=\"csharp\"><code>using System; using System.Collections.Generic; using System.ComponentModel; using System.Web.UI; using System.Web.UI.WebControls; namespace Rarous.Web.UI { [ParseChildren(true)] public abstract class GenericRepeaterBase&lt;T&gt; : CompositeControl, ILayoutTemplateable { protected bool IsBound { get; set; } public IEnumerable&lt;T&gt; DataItem { get; set; } public abstract ITemplate ItemTemplate { get; set; } public abstract ITemplate AlternatingItemTemplate { get; set; } [DefaultValue(typeof(ITemplate), \"\")] [PersistenceMode(PersistenceMode.InnerProperty)] [TemplateContainer(typeof(INamingContainer))] [TemplateInstance(TemplateInstance.Multiple)] public ITemplate SeparatorTemplate { get; set; } #region ILayoutTemplateable Members [PersistenceMode(PersistenceMode.Attribute)] public string LayoutContainerId { get; set; } [DefaultValue(typeof(ITemplate), \"\")] [PersistenceMode(PersistenceMode.InnerProperty)] [TemplateContainer(typeof(INamingContainer))] [TemplateInstance(TemplateInstance.Single)] public ITemplate LayoutTemplate { get; set; } #endregion #region CompositeControl Members protected override void CreateChildControls() { Control container = TemplatingHelper.CreateLayoutContainer(this, this); bool alternate = false; foreach (T item in DataItem) { ITemplate template = alternate ? AlternatingItemTemplate ?? ItemTemplate : ItemTemplate; TemplatingHelper.Instantiate(new GenericContainer&lt;T&gt;(item), template, container); TemplatingHelper.Instantiate(new EmptyContainer(), SeparatorTemplate, container); alternate = !alternate; } } public override void DataBind() { base.DataBind(); IsBound = true; } protected override void OnInit(EventArgs e) { EnableViewState = false; base.OnInit(e); } protected override void OnPreRender(EventArgs e) { if (IsBound == false) { DataBind(); } base.OnPreRender(e); } protected override void Render(HtmlTextWriter writer) { base.RenderContents(writer); } #endregion } }</code></pre> <p>Na takovémto základě se dá stavět už slušná řada konkrétních ovládacích prvků, kde už jen doplníme šablonový typ a můžeme přidat další vlastnosti dle potřeby.</p> <p>V ukázce si můžete povšimnout, že jako typ kontejneru šablony uvádím pouze rozhraní. Dělám to kvůli zpřehlednění IntelliSense. Když pak používám výraz pro svázání s daty v šabloně, dostanu pouze vlastnosti a metody kontejneru, které jsou definovány rozhraním, nikoli spoustu zbytečných vlastností a metod, které sebou nese třída <code>Control</code> ze které musí být kontejner poděděný.</p> <p>Doufám, že se bude hodit a pokud najdete nějakou chybu, neváhejte a reportujte :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-02-22T07:16:44.337-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Generický kontejner a repeater",
  :published #inst "2008-05-31T11:55:54.243-00:00",
  :url "genericky-kontejner-a-repeater",
  :id 278,
  :description
  "V několika předchozích článcích jsem prezentoval některé ponocníky pro tvorbu serverovývh ovládacích prvků. Dnes si ukážeme jejich bratříčka - generický kontejner",
  :category "ASP.NET 2.0",
  :tags ["genericcontainer" "repeater" "aspnet"]},
 :13-maturitni-ples-sps-se.aspx
 {:html
  "<p>26. března jsme byli na plese SPŠ SE v&#160;Liberci, jako její absolventi jsme se tam po roce opět sešli a to docela v&#160;hojném počtu. Nálada byla, myslím, skvělá a určitě jsme si to užili mnohem lépe než loni.</p> <p>Pro ty, co tam nebyli, tu mám nějaký <a href=\"http://www.pslib.cz/podrobne.php?id=237\">fotky na serveru prumky</a> a na <a href=\"http://pluto.pslib.cz/malym/fotky/spsse/?show=2004-03-maturitak04\">Mikově webu</a>.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Maturitní ples SPŠ SE",
  :published #inst "2004-04-20T10:00:00.000-00:00",
  :url "maturitni-ples-sps-se",
  :id 13,
  :description "Report z akce.",
  :category "Škola",
  :tags []},
 :91-aktualne.aspx
 {:html
  "<p>Dneska, ačkoliv nemám žádnou školu, mám docela našlapáno. Ráno jsem zkoumal statistiky na Google Analytics a byl to šok. Za včerejšek nárůst návštěvnosti o&#160;1&#160;200%. Důvodem je již zmiňovaná účast v&#160;soutěži. jsem rád, že se sem tolik lidí podívalo, ale nikdo sem nenapsal ani čárku :( Škoda. Nemyslim si že píšu o&#160;tak nezajímavých tématech. No nic, třeba se časem moje články zalíbí nebo naopak a nějakou odezvu mi zanechá.</p> <p>Konečně jsem dostal od <a href=\"http://mikemaly.net\">mika</a> <a href=\"/galerie.aspx?show=2005-12-03_Heges\">fotky z&#160;páteční akce v&#160;Hegeši</a>, takže jsem se konečně dokopal k&#160;tomu abych dopsal další kus Gryphoonu, tentokrát pro upload souborů na server. Upload je doplněn o&#160;možnost nahrávání zazipovaných složek s&#160;jejich automatickou dekompresí na server. Tohle jsem potřeboval kvůli uploadu galerií na web. Na našem Wifi prostě nedostanu přes FTP soubor velikosti fotky, ani kdybych se zbláznil. Teď si export z&#160;<a href=\"http://picasa.google.com\">Picasy</a> zabalím, přes Gryphoona nahraju a už vše běhá tak, jak má.</p> <p>Kromě programových změn, jsem pročistil kategorie a některé přidal tak, aby byla navigace trochu přehlednější &#8211; sám jsem se v&#160;tom občas ztrácel :) No a to je asi pro dnešek všechno, protože musim udělat projekt na Ekonomiku pro podnikatele a domácí úkol na Architekturu počítačových systémů.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Aktuálně",
  :published #inst "2005-12-06T15:26:48.510-00:00",
  :url "aktualne",
  :id 91,
  :description "Co se dneska událo.",
  :category "Jen tak",
  :tags []},
 :193-team-building.aspx
 {:html
  "<p>Před chvílí jsme dorazili busem před budovu Atlasu. Dojeli jsme se značným zpožděním, kvůli neschopnosti dopravce dostavit funkční autobus. On už pak ani autobus potřeba nebyl, páč nás tam zbylo jen osm, sic přijel (dřív než jsme se vydali na vlak).</p> <p>Cestou Filip, Honza a Radek dospávali spánkový deficit – málo komu se podařilo proflámovat celou noc – vyjímkou byl Marek, který v buse nespal (spí až teď za kompem v kanclu :D ). Cestou jsme dopíjeli výhry – proto omluvte případný vyšší výskyt pravopisných chyb, než je obvyklé.</p> <p>Jako, tým jsme stmelili výborně, alespoň nás posledních osm :D Zbytek akce byl taky dobrý. Po příjezdu na místo (sorry, teď si nevybavím název), jsme se ubytovali a šli prozkoumat terén. Zakésli jsme na <span title=\"ovšem né stolním\">fotbálku</span>, kdy jsme nejprve hráli ve třech a pak dva na dva. Vydejchali jsme se a pak se šlo na oběd. Z oběda bylo asi nejlepší Kamikaze, které jsme pili už během přednášek našich nadřízených. Po hovězí polívce, se dostavil Kamikaze efekt a bylo. Na svíčkovou už se nedostalo :)</p> <p>Po obědě do dostavily teamové hry. V teamu jsem byl mimo jiné s Petrem Šnajdrem. Nejdřív jsem stavěli ze špaget a maršmelounů nejvyšší stavbu – nepovedlo se. Potom pokračovala orientační část, při které jsme dostali čtyři body na GPSce a čtyři na mapě, kde měly být údajně obálky s úkoly a bonusy, které se pak započítaly do skore týmu.</p> <p>V teamu nás bylo osm, takže jsme se rozdělili do dvojic. To, že <span title=\"na mapě\">bodů</span> bylo celkem osm, jsem se dozvěděl až po soutěži :). Já s kolegou jsme nakonec na požadované místo vůbec nedorazili, ale dobrý – mapu jsem jen zběžne skoukl a řekl si „ok, jdeme.“ A šli jsme – úplně jinam :D. To Petr byl mnohem úspěšnější. Mapu si nafotil do mobilu, takže věděl kam jít a dokonce našel :)</p> <p>Neúspěch v orientační části jsme nikterak nevylepšili v dalších disciplínách – holt teamovou spolupráci si, jako vývojář, představuji nějak jinak. Závěrečná disciplína byla o skládání slov z písmen z nalezených obálek. Ani tu jsme nevyhráli. Stejně nezáleží na tom vyhrát, ale <span title=\"dělení o výhru\">zúčastnit se</span>. Pak pokračovala volná zábava doprovázená úchylnou diskotékou, cassinem a logickými hrami, což byla pro nás programátory výzva :D. Dobře jsem si pokecal s naším produktovým ředitelem Petrem Šnajdrem, čekejte nějaké fotky <a href=\"http://management.blog.lupa.cz/\">na jeho blogu</a>, s generálním DDem a mnoha dalšími :) No prostě skvělá zábava. Mezi tím si Honza „Mravenec“ Bien vyškemral funkci zástupce ředitele, tak jsem zvědav, jak se s tím chlapec popere…</p> <p>PS: Ve výtězném týmu, nebyl nikdo jiný než Honza Mravenec. Cituji: „Já jsem vyhrál!“</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:43:50.323-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Team Building",
  :published #inst "2006-11-11T13:37:05.750-00:00",
  :url "team-building",
  :id 193,
  :description
  "Můje první team bulding akce v Atlasu. Opravdu stála za to.",
  :category "Jen tak",
  :tags ["atlas"]},
 :66-gryphoon-verze-1-5.aspx
 {:html
  "<p>Po delší odmlce je tu další příspěvek o&#160;úpravách Gryphoonu. Nepsal jsem proto, že jsem značně upravil databázi a změny jsem prováděl pouze v&#160;prezentační části. Dneska jsem dostal editor do stavu, kdy už je schopnej publikovat, ale ještě neni zcela dopsaný. Po dokončení úprav administrace dojde k&#160;povýšení Gryphoonu na verzi 1.6. Dalšim krokem k&#160;plánované verzi 2.0&#160;bude verze 1.7&#160;s&#160;funkčním Rewritingem adres. Verze 1.8&#160;bude již konečně pracovat u&#160;uživatelskými rolemi. Finální 2.0&#160;bude podporovat více blogů a odolnější spamfiltering a tu pravděpodobně uvolnim pod GPL.</p> <h3>Novinky v&#160;současné verzi</h3> <ul> <li>Syndikační služba s&#160;podporou RSS 2.0, Atom 1.0&#160;a Google SiteMap</li> <li>TrackBack systém</li> <li>Implementovaná Texy! jak v&#160;Administračním rozhranní, tak pro zadávání komentářů.</li> <li>Zvýrazňování syntaxe</li> <li>Převedení výkonného kódu aplikace do Assembly, SQL dotazy převedeny na uložené procedury</li> <li>a další, na které si teď zrovna nevzpomenu</li> </ul> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Gryphoon verze 1.5",
  :published #inst "2005-08-24T18:10:31.000-00:00",
  :url "gryphoon-verze-1-5",
  :id 66,
  :description "Pokusný příspěvek, po změnách v Gryphoonu.",
  :category "Gryphoon",
  :tags []},
 :369-odpalovani-akci-menicich-data-odkazem.aspx
 {:html
  "<p>V RESTové architektuře webu byste neměli odpalovat akce, které mění data, pomocí odkazů. Měli byste tak činit pomocí sloves HTTP protokolu (<code>PUT</code>, <code>POST</code>, <code>DELETE</code>). Přejdu fakt, že dnešní prohlížeče znají jen sloveso <code>POST</code> a ostatní musíte simulovat pomocí <acronym title=\"XML HTTP Request\">XHR</acronym>. Stejně se dostanete do situací, kdy potřebujete nějakou akci měnící data odpalít odkazem.</p> <p>Abych pro příklad nemusel chodit daleko, vezmu si hlasování k akcím na <a href=\"http://www.trop.cz/\">Tropu</a>. U každé akce se můžete vyjádřit k tomu, zda na akci <em>půjdete</em>, <em>možná se ukážete</em> nebo <em>nepůjdete</em>. Pokud je uživatel nepřihlášený, vidí pod názvem akce tři ikonky s počtem hlasů. Po přihlášení se stanou aktivními a lze s nimi hlasovat. Původně byla tato „tlačítka“ pouhými odkazy na akci, která hlasování zpracovávala. Jenže po tom, co jsem pouštěl některé spidery, začaly přibývat hlasy.</p> <p>Tím se dostáváme k praktickému důsledku porušení doporučení z prvního odstavce. Problém jsem nakonec vyřešil následujícím vzorem: Do stránky jsem přidal formuláře, které bezpečným způsobem odpalují akce měnící data. Každý formulář má své <code>id</code>. Odkazy, které původně vedly na akce měnící data, nyní odkazují na id jednotlivých formulářů a mají třídu <code>form-submit</code>. Jednoduchý jQuery kód pak projde tyto odkazy a na <code>click</code> jim naváže <code>submit</code> odkazovaného formuláře a ten pak schová.</p> <p>Stránka vypadá pořád stejně, chová se stejně, ale dělá to <em>jinak</em>. Pokud nemá uživatel povolený JavaScript, tak se po kliknutí na ikonku dostane na správný formulář, který musí odeslat stiskem tlačítka submit. Funkčnost tak zůstává přístupná i bez JavaScriptu. Zároveň nehrozí, že by došlo k nechtěné aktivaci akce nějakým spiderem, který si ošahává odkazy na stránce.</p> <p>Snad se bude hodit i vám.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-11-16T09:29:26.240-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Odpalování akcí měnících data odkazem",
  :published #inst "2009-11-16T09:29:26.230-00:00",
  :url "odpalovani-akci-menicich-data-odkazem",
  :id 369,
  :description
  "Jak volat serverové akce, které jsou potenciálně nebezpečné (mění data), odkazem, se dozvíte možná v tomto spotu.",
  :category "Webdesign",
  :tags ["jquery" "trop" "rest" "form"]},
 :186-vyhledavac-ve-zdrojich-o-dotnetu.aspx
 {:html
  "<p>Možná už víte o možnosti postavit si vlastní vyhledávač postavený na Googlu. Tuto možnost nabízí Google v rámci projektu <a href=\"http://www.google.com/coop/\">Google Co-op</a>. Díky rychlé reakci dotnet komunity máme nyní možnost vyhledávat potřebné informace na speciálím <a href=\"http://www.google.com/coop/cse?cx=014414512506709758688%3Alw8tquo75fu\">.net Search</a> enginu a navíc si ho můžete <a href=\"javascript:window.external.AddSearchProvider('http://static.dotnetkicks.com/tools/search/dotnetsearch.xml')\">integrovat</a> do vašeho oblíbeného prohlížeče…</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:09:17.403-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vyhledávač ve zdrojích o dotnetu",
  :published #inst "2006-10-26T13:31:18.580-00:00",
  :url "vyhledavac-ve-zdrojich-o-dotnetu",
  :id 186,
  :description
  "Vyhledávejte ve zdrojích o dotnetu pomocí perzonalizovaného vyhledávání Googlu.",
  :category "ASP.NET 2.0",
  :tags ["google" "search" "dotnet"]},
 :285-alessio-busta-seven.aspx
 {:html
  "<div class=\"haudio\"> <ol> <li class=\"item\"><span class=\"contributor\">Dubfire</span> – <span class=\"title\">Emissions</span></li> <li class=\"item\"><span class=\"contributor\">Steve Angello</span> – <span class=\"title\">Trix</span></li> <li class=\"item\"><span class=\"contributor\">Delete</span> – <span class=\"title\">Flight Schedule</span></li> <li class=\"item\"><span class=\"contributor\">Gui Borato</span> – <span class=\"title\">The Rivington</span></li> <li class=\"item\"><span class=\"contributor\">Lutzenkirchen</span> – <span class=\"title\">Kobalt</span></li> <li class=\"item\"><span class=\"contributor\">Solaris Heights</span> – <span class=\"title\">No Trance</span> (Popof Remix)</li> <li class=\"item\"><span class=\"contributor\">System 7</span> – <span class=\"title\">Space Bird</span> (Dubfire Remix)</li> </ol> <p>Ke stažení <span class=\"category\">dj set</span> <a rel=\"enclosure\" href=\"http://rarousmusic.com/mp3/alessio_busta_-_seven-rm.mp3\"><span class=\"contributor\">Alessio Busta</span> – <span class=\"title\">Seven</span></a> (MP3 128 kbps; 36,4 MiB)</p> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-24T09:20:42.390-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Alessio Busta - Seven",
  :published #inst "2008-06-23T14:24:55.203-00:00",
  :url "alessio-busta-seven",
  :id 285,
  :description
  "Nějaký minimal techno na začátek léta. Ačkoli už je staršího daty výroby :)",
  :category "Muzika",
  :tags []},
 :62-top-albums.aspx
 {:html
  "<ol> <li>Dave Clarke &#8211; World Service 2</li> <li>Elektrofon Compilation #1</li> <li>Subliminal Sessions 8</li> <li>Funky House Sessions</li> <li>Felix Da Housecat &#8211; Devine Dazzel &amp; The Neon Fever</li> </ol> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Top albums",
  :published #inst "2005-07-04T00:00:00.000-00:00",
  :url "top-albums",
  :id 62,
  :description "Moje oblíbená alba za poslední dobu",
  :category "Muzika",
  :tags []},
 :189-format-opensearch-dil-2.aspx
 {:html
  "<p>OpenSearch je otevřený formát založený na XML, jehož vývoj iniciovala a podporuje firma Amazon. V současné době existuje Draft 3 verze 1.1, kterou implementují i nejnovější verze oblíbených prohlížečů <a href=\"http://www.microsoft.com/cze/windows/ie/default.mspx\">Internet Explorer 7</a> a <a href=\"http://www.firefox.cz/\">Firefox 2.0</a> nebo vyhledávač <a href=\"http://www.a9.com\">A9</a> právě od Amazonu. OpenSearch je sada specifikací z nichž nejdůležitější jsou formáty OpenSearch Description a OpenSearch Response. Tyto formáty jsou určeny k popisu vyhledávaciho stroje a popisu nalezených výsledků.</p> <h3 id=\"toc-opensearch-description\">OpenSearch Description</h3> <p>Tento formát je, jak už název napovídá, určen k popisu vyhledávacího stroje. Základní elementy patří do jmenného prostoru <code>http://a9.com/-/spec/opensearch/1.1/</code> a kořenovou značkou je <code>OpenSearchDescription</code>. Tato obsahuje následující subelementy:</p> <dl> <dt>ShortName</dt> <dd>Název vyhledávacího stroje</dd> <dd>Musí být v dokumentu právě jednou a jeho obsah je omezen na 16 znaků čistého textu.</dd> <dt>Description</dt> <dd>Popis vyhledávacího stroje</dd> <dd>Musí být v dokumentu právě jednou a jeho obsah je omezen na 1024 znaků čistého textu.</dd> <dt>Url</dt> <dd>URL hledaného datazu</dd> <dd>Musí být v dokumentu alespoň jednou, nejedná se o párovou značku, obsah je definován následujícímí atributy.</dd> <dd>povinný atribut <em>template</em> definuje šablonu url datazu, šablona je parametrizována pomocí <a href=\"#template\">OpenSearch URL template syntaxe</a>, povinný je parametr <code>{searchTerms}</code>, který je nahrazován hledanou frází</dd> <dd>povinný atribut <em>type</em> určuje MIME typ výstupu hledání</dd> <dd>nepovinné atriuty <em>indexOffset</em> a <em>pageOffset</em> slouží k posunutí indexu prvního výsledku nebo první stránky, oba jsou přednastaveny na jedničku. Ovlivňují počítání nepovinných parametrů <code>{startIndex?}</code> a <code>{startPage?}</code>.</dd> <dt>Contact</dt> <dd>Nepovinný element definující kontakt na adminstrátorara. Element může obsahovat pouze e-mailovou adresu a v dokumentu se může vyskytovat maximálně jednou.</dd> <dt>Tags</dt> <dd>Nepovinný element obasující klíčová slova oddělená mezerou. Délka je omezena na 255 znaků a element se může v dokumentu vyskytovat maximálně jednou.</dd> <dt>LongName</dt> <dd>Název vyhledávacího stroje ve formě čitelné pro lidi</dd> <dd>Může se v dokumentu vyskytovat maximálně jednou a měl by být preferovaný pro zobrazování před ShortName. Délka je omezena na 48 znak.</dd> <dt>Image</dt> <dd>Ubsahuje URL obrázku, grafické ikonky, spojené s vyhledávačem.</dd> <dd>Počet výskytů není omezen, jednotlivé obrázky se mohou lišit ve velikosti a MIME typu, které jsou specifikovány následujícími volitelnými atributy.</dd> <dd>Atribut <em>width</em> určuje šířku obrázku</dd> <dd>Atribut <em>height</em> určuje šířku obrázku</dd> <dd>Atribut <em>type</em> určuje MIME typ obrázku</dd> <dt>Language</dt> <dd>Definuje jazyk výsledku hledání, obsah může obsahovat pouze zkratku jazyka podle XML nebo asterix (*) pro všechny jazyky.</dd> <dt>InputEncoding</dt> <dd>Znaková sada přijímaná vyhledávacím strojem. Pokud nejí určeno použije se UTF-8 kódování.</dd> <dt>OutputEncoding</dt> <dd>Znaková sada výstupu hledání.</dd> </dl> <p>Sepecifikace definuje ještě několik dalších elementů pro definici práv k dokumentu, ochrana mladistvích apod. které se používají ve specifických případech a jejich použití není zas tak běžné. Nyní si ještě doplníme výčet URL parametru.</p> <h3 id=\"template\">OpenSearch URL parameters</h3> <p>Parametry se používají v atributu <code>template</code> značky <code>Url</code> a jsou nahrazovány konkrétními daty dotazu. Syntaxe parametru je velice jednoduchá: název pramatru je uzavřen ve složených závrokách a nepovinnost parametru je vyjádřena otazníkem před uzavírací závorkou. Příklad: <code>{povinnyParametr}</code> a <code>{nepovinnyParametr?}</code>. Parametry mohou být rozšířeny o vlastní sady pomocí XML jmenných prostorů. Ukázka <code>&lt;Url xmlns:moje=\"urn:moje-rozsireni\" template=\"http://example.com/?q={searchTerms}&amp;amp;neco={moje:neco}\" ...</code>.</p> <dl> <dt>searchTerms</dt> <dd>Parametr je nahrazen hledanou frází</dd> <dt>count</dt> <dd>Parametr je nahrazen počtem výsledků na stránku</dd> <dt>startIndex</dt> <dd>Parametr je nahrazen indexem výsledku</dd> <dt>startPage</dt> <dd>Parametr je nahrazen číslem stránky</dd> <dt>language</dt> <dd>Parametr je nahrazen jazykem</dd> <dt>inputEncoding</dt> <dd>Parametr je nahrazen vstupním kódováním</dd> <dt>outputEncoding</dt> <dd>Parametr je nahrazen výstupním kódováním</dd> </dl> <p>Ukázku kódu najdete v <a href=\"/clanek/185-format-opensearch-dil-1.aspx\">prvním díle</a> této mini série. Tímto bych ukončil popis formátu OpenSearch Description a příště bych rád něco o formátu OpenSearch Response.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:07:22.713-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Formát OpenSearch – díl 2.",
  :published #inst "2006-10-29T12:01:14.770-00:00",
  :url "format-opensearch-dil-2",
  :id 189,
  :description
  "Po úvodním dílu, který nám ukázal jak si přidat vlastní vyhledávací modul do prohlížeče, si probereme formát OpenSearch Description trochu podrobněji.",
  :category "Webdesign",
  :tags ["rss" "opensearch" "ie7" "firefox"]},
 :58-bezpecnejsi-brouzdani.aspx
 {:html
  "<p>Dnes vám poradím, jak zbezpečnit brouzdání po stránkách Internetu, kde na vás čekají nejrůznější bezpečnostní nástrahy. Předem upozorňuji, že provedené změny v&#160;systému děláte na vlastní nebezpečí.</p> <p>Pokud používáte systém Windows 2000&#160;nebo XP a brouzdáte Internetem v&#160;uživatelské roli Administrátor, zakládáte si na pěkný malér, neboť všechny aplikace mají přístup do systémových složek a registrů, kde je systém nejzranitelnější. Já vám přináším řešení, kterým můžete omezit práva vybraným aplikacím.</p> <p>Nejprve si vytvořte soubor <strong>prava.reg</strong> a do něho vložte následující řádky:</p> <pre><code>[HKEY_LOCAL_MACHINE\\SOFTWARE\\Policies\\Microsoft\\Windows\\Safer\\CodeIdentifiers] \"Levels\"=dword:00020000</code></pre> <p>Uložte ho a potom ho spusťte – zanesete tím novou položku do registrů. Tato položka vám umožní omezit práva některých aplikací. V&#160;dalším kroku si spusťte <strong>Místní zásady zabezpečení</strong> (najdete ho v &#8218;Ovládací panely &gt; Nástroje pro správu&#8216;).</p> <p>Zde si otevřete složku <strong>Zásady omezení softwaru</strong> a v&#160;ní <strong>Další pravidla</strong>. Nyní klepněte na menu <strong>Akce</strong> a vyberte <strong>Nové pravidlo cesty</strong>. Nyní se vám otevře dialog, kde si vyberete soubor kterému chcete omezit oprávnění (např. &#8218;C:\\Program Files\\Mozilla Firefox\\firefox&#173;.exe&#8216;) a <em>Úroveň zabezpečení</em> nastavíte na <strong>Běžný uživatel</strong> &#8211; tato položka přibyla po aplikaci souboru <em>prava.reg</em>.</p> <p>Osobně doporučuji snížit takto práva všem aplikacím, které přistupují na Internet a mohou přijímat škodlivý software. Na tomto místě můžete také některé aplikace úplně zakázat. Stačí nastavit úroveň zabezpečení na <strong>Nepovoleno</strong> a milá aplikace pouze vyhodí chybovou hlášku a konec.</p> <p>Na závěr ještě návod, jak vše vrátit. Postup je stejný, jen úroveň oprávnění nastavíte na <strong>Bez omezení</strong>. Toť vše přátelé.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Bezpečnější brouzdání",
  :published #inst "2005-05-09T00:00:00.000-00:00",
  :url "bezpecnejsi-brouzdani",
  :id 58,
  :description "Návod na to, jak brouzdat bezpečněji.",
  :category "Tuning",
  :tags []},
 :253-jak-je-to-s-tim-serialem.aspx
 {:html
  "<p>Před Vánocema jsem slíbil seriál o tom, jak napsat <a href=\"/weblog/242-redakcni-system-na-asp-net-mvc.aspx\">redakční systém nad ASP.NET <acronym title=\"Model View Controller\">MVC</acronym></a> pomocí <acronym title=\"Test Driven Development\">TDD</acronym>. Mám pár dílů na disku, tak proč nejsou venku?</p> <p>No při psaní jsem narazil na pár problémů, ať je to ještě nezralost ASP.NET MVC, nedostatek času a tak. Rozhodně však nejde o další mrtvý projekt. Pokusím se ho dopsat společně s návazností na <a href=\"/weblog/245-nforms-pro-asp-net.aspx\">NForms</a> a <a href=\"/weblog/250-cssx.aspx\">CSSX</a>, protože to jsou věci, od kterých si slibuju mnohem jednodušší a rychleší tvorbu webíků.</p> <p>Ale psát kód a zároveň tvořit článek, kterému by rozuměl i macík, je dost časově náročné. A protože musim chodit občas pařit, nebou skouknout nějakej ten film a nebo prostě jenom relaxovat, tak asi blognu až jenom finál…</p> <p>Přišli jste sem z RSS čtečky? Zkontrolujte si prosím, zda máte správnou URL feedu <a href=\"http://feeds.feedburner.com/rarous-weblog\">http://feeds.feedburner.com/rarous-weblog</a>. Děkuji</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:39:58.283-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak je to s tím seriálem?",
  :published #inst "2008-02-02T09:58:46.227-00:00",
  :url "jak-je-to-s-tim-serialem",
  :id 253,
  :description
  "Před Vánocema jsem slíbil seriál o tom, jak napsat redakční systém nad ASP.NET MVC pomocí TDD. Mám pár dílů na disku, tak proč nejsou venku?",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "mvc" "cssx" "nforms"]},
 :19-gigis-good-night.aspx
 {:html
  "<p>Pravě se mi do rukou dostal noví singl od <a href=\"http://www.ggdag.com/\">Gigiho</a>, spolupracoval na něm s&#160;<a href=\"http://www.angelopandolfi.com/\">Pandolfim</a>. Je to opravdu výborná práce, starej dobrej Gigi v&#160;novým soundu. Do toho ještě perfektní samply <em>Eins, Zwei Polizei</em> a nádherný vokály. Prostě super. Tohle musíte slyšet!</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Gigi's Good Night",
  :published #inst "2004-05-01T19:13:00.000-00:00",
  :url "gigis-good-night",
  :id 19,
  :description "Nový Gigiho singl.",
  :category "Muzika",
  :tags []},
 :251-holland-trip.aspx
 {:html
  "<h3>Den první</h3> <p>Tak mám za sebou první den v Den Haagu. To je město, kde sídlí nizozemský parlament a mezinárodní soudní tribunál. Taky je to město, kde studuje a žije moje sestřička Zuzka. Po půl roce, co tam bydlí, jsem se rozhodl, že jí navštívím a jela se mnou i naše kamarádka Evíka.</p> <p>Teda jela. Jako sedět v autobuse 16 hodin se mi opravdu nechtělo a raději jsem zvolil cestu leteckou. Sice cesta vyjde přibližně na jednou takový peníze, ale zabere tak šestinu času. Nejhorší na tom bylo vstávat ve čtvrt na pět, abych byl v půl šestý na letišti.</p> <p>Přestože byla celá Evropa pod mrakem a pršelo, tak to s letadlem ani moc neházelo. V Amsterdamu trochu zabrala cesta do místnosti se zavazadly, museli jsme projít skoro celé letiště, které není tak malé jak v Praze. Prý páté největší v Evropě.</p> <p>V příletové hale na nás čekala Zuzka s Danem (to je její přítel). Po přivítání jsem si šel vybrat z bankomatu nějaký eura, páč se mi nechtělo lítat po Praze a hledat nejlepší kurz. Tahle jsem to nechal na mateřské bance… Pak jsme sedli na vlak (nádraží je součástí letištního komplexu) a vzali směr Den Haag. Cesta do samotného centra Háchu trvala asi 20 min. Vlastně jsme jeli i šalinou, takže o něco víc.</p> <p>Cestou jsme se tedy zastavili na snídani v pasáži a pak jsme se vydali k Danovi do bytu. Tam jsme sbírali síly a vyprávěli si zážitky za dobu, co jsme se neviděli. Odpoledne jsme se pak jeli podívat na pobřeží, kde pracuje Zuzka. Docela pěkný podnik. Dal jsem si tam Walkera, přišel právě vhod, a pak řecký salát, který byl skoro tak dobrý, jako dělám já… ;)</p> <p>Protože pršelo, tak nemělo cenu se někde dál courat, jeli jsme proto nazpět do bytu. Tam jsme si zapnuli bednu a sbírali síly na večerní akci. Já jsem to s tím regeneračním spánkem trochu přehnal a tak už jsem potom nikam nešel. Teda vlastně šel – do postele. Holky šly tedy pařit samy.</p> <!--[if !IE]> --> <object type=\"application/x-shockwave-flash\" data=\"http://picasaweb.google.cz/s/c/bin/slideshow.swf\" width=\"550\" height=\"367\"> <!-- <![endif]--> <!--[if IE]> <object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\" width=\"550\" height=\"367\"> <param name=\"movie\" value=\"http://picasaweb.google.cz/s/c/bin/slideshow.swf\" /> <!--><!--dgx--> <param name=\"loop\" value=\"true\" /> <param name=\"menu\" value=\"false\" /> <param name=\"flashvars\" value=\"host=picasaweb.google.cz&amp;RGB=0xF8F8FF&amp;feed=http%3A%2F%2Fpicasaweb.google.cz%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5157532442355930209%3Fkind%3Dphoto%26alt%3Drss\" /> </object> <!-- <![endif]--> <h3>Den druhý</h3> <p>Protože i v době psaní toho (11.44) ještě všichni vychrápávaj, sebral jsem se ráno na menší obchůzku po okolí. Vzal jsem si něčí klíče, zkusil, jestli pasují do zámku a vydal jsem se prohlídnout několik okolních vesniček. Tady za rohem šlo ještě pár lidí na ranní mši – přeci jen je neděle. Po krátké procházce jsem se rozhodl navštívit zdejšího Alberta a koupit si něco k snídani. Ceny tam jsou přibližně podobné jako u nás, možná o málo větší.</p> <p>Cestou z krámu jsem potkal spoustu lidí, asi šli z té ranní mše.</p> <p>Krátce po poledni došlo k procitnutí spícího království. Podívali jsme se tedy společně na fotky a všichni se divili, co jsem toho už dneska stihnul… Po snídani jsme se vydali na cestu do Amsterdamu. Z nádraží jsme se dali cestou po nábřeží směrem ke královninu paláci. Na náměstí jsme si udělali několik snímků a šli se mrknout na nějaký hadry do Magna Plaza. Nakonec jsme tam nic nepořídili, tak jsme zamířili do dalších nekonečných ulic plných nejrůznějších krámů a lidí.</p> <p>Po nějaký době jsme navštívili coffeeshop, kde jsme si dali nějaký pití (zajímavý je, že takovej coffeshop je rozdělenej na dvě části, v jedný se nesmí prodávat alkohol a ve druhý drogy). Po drinku jsme se nasměrovali do „red lights“ – vyhlášené čtvrti. Pak už jsme mířili na vlak, protože nás čekali Danovi rodiče s večeří. Domů jsme se dostali až v jedenáct. Byl to celkem dlouhý den, plný chození, courání a šmajdání.</p> <!--[if !IE]> --> <object type=\"application/x-shockwave-flash\" data=\"http://picasaweb.google.cz/s/c/bin/slideshow.swf\" width=\"550\" height=\"367\"> <!-- <![endif]--> <!--[if IE]> <object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\" width=\"550\" height=\"367\"> <param name=\"movie\" value=\"http://picasaweb.google.cz/s/c/bin/slideshow.swf\" /> <!--><!--dgx--> <param name=\"loop\" value=\"true\" /> <param name=\"menu\" value=\"false\" /> <param name=\"flashvars\" value=\"host=picasaweb.google.cz&amp;RGB=0xF8F8FF&amp;feed=http%3A%2F%2Fpicasaweb.google.cz%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5157688362553677185%3Fkind%3Dphoto%26alt%3Drss\" /> </object> <!-- <![endif]--> <h3>Den třetí</h3> <p>Třetí den uběhl celkem rychle. Ráno jsme vstali kolem deváté, aby Zuzka stihla v deset školu. Dokonce jsme tak spěchali, že jsme ani nestihli koupit lístek na tramvaj a jeli jsme na černo. Naštěstí jsme na těch třech zastávkách nepotkali žádnou revizi. Takže ke škole jsme se dopravili v pořádku a Zuzka utíkala na hodinu. Já s Evčou jsme zatím šli do studentské kavárny. Tam jsme si dali nějakou snídani a počkali až Zuzka skončí.</p> <p>Po škole jsme šli zpátky procházkou po zdejších uličkách, které najednou byly plné nejrůznějších obchodů. Nejprve jsme zapluli do obchodního domu Bijenkorf. Tam jsme si se Zuzkou koupili dárky k Vánocům :) Já si tam navíc koupil nějaká trička a kalhoty. Pak jsme pokračovali hlouběji do města a procházeli víc a víc obchodů. Po jídle v Burger Kingu jsme šli domů. Dan zrovna vstával…</p> <p>Trochu jsme dobyli baterky a chystali se na odpolední vycházku po památkách a večeři. Nakonec to dopadlo všechno jinak. Když jsme vycházeli ven, zrovna pěkně pršelo. Otevřeli jsme deštníky, ale foukal pěknej vítr a Zuzce se deštník zlomil. :)</p> <p>Stejně jsme šli dál. Došli jsme k parlamentu, ten jsme si vyfotili, prošli jsme skrz a byli jsme tak zmoklí, že jsme museli najít nějakou kavárnu, kam zapadnout. Jednu jsme našli, dali jsme si něco teplého na zahřátí. Pak jsme si řekli, že ani na tu večeři nemá cenu chodit, že něco radši uděláme doma. Tak jsme se vydali nazpět. Holky se cestou stavili v Albertovi, aby koupili něco k večeři.</p> <p>Večer jsme pak koukali na nějaký filmy a Zuzka udělala výbornou večeři.</p> <!--[if !IE]> --> <object type=\"application/x-shockwave-flash\" data=\"http://picasaweb.google.cz/s/c/bin/slideshow.swf\" width=\"550\" height=\"367\"> <!-- <![endif]--> <!--[if IE]> <object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\" width=\"550\" height=\"367\"> <param name=\"movie\" value=\"http://picasaweb.google.cz/s/c/bin/slideshow.swf\" /> <!--><!--dgx--> <param name=\"loop\" value=\"true\" /> <param name=\"menu\" value=\"false\" /> <param name=\"flashvars\" value=\"host=picasaweb.google.cz&amp;RGB=0xF8F8FF&amp;feed=http%3A%2F%2Fpicasaweb.google.cz%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5158623435977852017%3Fkind%3Dphoto%26alt%3Drss\" /> </object> <!-- <![endif]--> <h3>Den čtvrtý</h3> <p>Původně jsme měli v plánu navštívit Amsterdam a projít si jeho památky, ale protože se nezdařil včerejší výlet po památkách Haagu a navíc svítilo sluníčko, rozhodli jsme se, že si projdeme konečně zbytek Haagu. Nějak po poledni jsme tedy vyrazili, po původní trase – tedy směr parlament. Po parlamentu jsme navštívili muzeum. Z muzea jsme pokračovali dál, až jsme došli k pracovnímu paláci královny.</p> <p>Asi jsme měli štěstí, protože před vchodem byla přistavená limuzína a vypadalo to, že se asi někam královna chystá. Po nějaké době se před palácem nashromáždilo celkem dost lidí. Všichni byli zvědaví. Nakonec z paláce vylez princ a jeho choť, naskočili do limuzíny a odjeli pryč. :) A bylo po show.</p> <p>Zjistil jsem, že kousek od královského paláce je naše česká ambasáda. Asi je moc důležitá. Po této zkušenosti nám došlo, že jsme ještě nejedli a chtělo by to nějakou snídani. Tak jsme si na ní zašli. Po snídani (dá-li se tomu tak ve dvě říkat) jsme zamířili k mezinárodnímu soudnímu tribunálu, ale nakonec nás tam ale nechtěli, prý tam dneska měli napilno a byla tam zvýšená možnost kriminality. Tak byly prohlídky zrušený.</p> <p>Poslední atrakcí na naší dlouhé cestě bylo Omniversum. Koupili jsme si lístky za €10 a hodinu koukali na kulatý plátno s filmem o mumiích. Docela dobrý, až na to, že sloupy se na bocích nereálně ohýbaly. To mi zkazilo celkový dojem. :) Po promítání jsme se vydali na šalinu a jeli zpátky k bytu. Holky se šly ještě podívat na hadry do Stingu a já s Danem do Alberta pro nějaký jídlo.</p> <!--[if !IE]> --> <object type=\"application/x-shockwave-flash\" data=\"http://picasaweb.google.cz/s/c/bin/slideshow.swf\" width=\"550\" height=\"367\"> <!-- <![endif]--> <!--[if IE]> <object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\" width=\"550\" height=\"367\"> <param name=\"movie\" value=\"http://picasaweb.google.cz/s/c/bin/slideshow.swf\" /> <!--><!--dgx--> <param name=\"loop\" value=\"true\" /> <param name=\"menu\" value=\"false\" /> <param name=\"flashvars\" value=\"host=picasaweb.google.cz&amp;RGB=0xF8F8FF&amp;feed=http%3A%2F%2Fpicasaweb.google.cz%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5158622808912626401%3Fkind%3Dphoto%26alt%3Drss\" /> </object> <!-- <![endif]--> <h3>Fotky</h3> <ul> <li><a href=\"http://picasaweb.google.cz/rarous/DenHaag\">Fotky z Haagu</a> (1. den)</li> <li><a href=\"http://picasaweb.google.cz/rarous/Amsterdam\">Fotky z Amsterdamu</a> (2. den)</li> <li><a href=\"http://picasaweb.google.cz/rarous/DenHaag2\">Fotky z Haagu</a> (3. den)</li> <li><a href=\"http://picasaweb.google.cz/rarous/DenHaag3\">Fotky z Haagu</a> (4. den)</li> </ul> <p>Foceno Olympusem µ750.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-02-09T15:07:13.390-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Holland Trip",
  :published #inst "2008-01-20T13:26:07.627-00:00",
  :url "holland-trip",
  :id 251,
  :description
  "Zápisky z výletu do holandska, budu postupně doplňovat.",
  :category "Kamarádi",
  :tags []},
 :430-continuous-delivery-cz-podcast-69.aspx
 {:html
  "<p>Když pár týdnů nazpět, vyhlásilo @czpodcast call to action na téma <a href=\"http://java.cz/article/czpodcast-continuous-delivery\">continuous delivery</a>, trapně jsem se obratem ozval. Rok se pomalu s rokem sešel a už jsem zase seděl ve Vendavo s @_dagi a @jirifabian, bohužel nikdo další se asi nepřihlásil, tak jsme si dali 69 ve třech. Jak to nakonec dopadlo si můžete <a href=\"http://s3-eu-west-1.amazonaws.com/czpodcast-1/czpodcast69.mp3\">poslechnout</a> sami.</p> <p>Dost věcí, co jsme tam probírali jste si už tady na blogu mohli <a href=\"http://rarous.net/weblog/405-nejsem-schopny-dopsat-clanek-o-continuous-integration.aspx\">trochu přečíst</a>. Nebo <a href=\"http://rarous.net/weblog/394-continuous-delivery.aspx\">slyšet na WebExpu</a>. Samozřejmě jsem opět klouzal po povrchu.</p> <p>Pokud si myslíte, že je to nějak kontroverzní nebo nenasaditelná praktika, vězte, že většinu o čem jsem tam mluvil mám ověřenou v praxi. Ať už jde o mainline vývoj, automatizaci buildu, testování i deploymentu, včetně <a href=\"http://rarous.net/weblog/404-prepinani-featur-a-vetveni-abstrakci.aspx\">feature toggles a větvení abstrakcí</a>. To jsou věci, které nejen propaguju, ale i prakticku uplatňuju. ;)</p> <p>A vám v tom taky nic nebrání. Pouze lenost (pohodlnost to být nemůže). Tak šup, čím dneska začnete?</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-10-09T09:11:50.877-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Continuous Delivery - CZ podcast 69",
  :published #inst "2012-10-09T09:09:01.727-00:00",
  :url "continuous-delivery-cz-podcast-69",
  :id 430,
  :description
  "Skoro po roce jsem byl opět hostem CZ podcastu. Tentokrát jsme se bavili o Continuous Delivery.",
  :category "Moje práce",
  :tags ["ci"]},
 :265-using-pattern.aspx
 {:html
  "<p>Je tomu již dlouhá doba, co jsem psal <a href=\"/weblog/171-blok-using.aspx\">spotík o užívání bloku <code>using</code></a> v jazyce C# pro třídy implementující rozhranní <code>System.IDisposable</code>. Tohoto bloku se dá využít k logickému členění kódu do bloků a vytvořit tak syntax sugar na úrovni API.</p> <h3 id=\"toc-ukazky-uziti\">Ukázky užití</h3> <p>S using patternem se v moderních API dá potkat celkem často. První ukázka je z mockovacího frameworku <a href=\"http://www.ayende.com/projects/rhino-mocks/downloads.aspx\">Rhino Mocks</a>. Používá se pro nahrávání a přehrávání chování mockovaného objektu.</p> <pre class=\"csharp\"><code>MockRepository mocks = new MockRepository(); IDependency dependency = mocks.CreateMock&lt;IDependency&gt;(); using(mocks.Record()) { Expect.Call(dependency.GetSomething(\"parameter\")).Return(\"result\"); dependency.DoSomething(); } using(mocks.Playback()) { Subject subject = new Subject(dependency); subject.DoWork(); }</code></pre> <p>Using pattern usnadňuje čtení takovéhoto kódu a hned je jasná i logická struktura.</p> <p>Další ukázka pochází z ASP.NET MVC frameworku, kde se using pattern používá v HTML helperu pro generování formuláře.</p> <pre><code>&lt;% using(Html.Form&lt;HomeController&gt;(action =&gt; action.Index())) { %&gt; ... &lt;% } %&gt;</code></pre> <h3 id=\"toc-implementace\">Implementace</h3> <p>Základem, tedy, je blok <code>using</code>, který slouží k bezpečnému zavolání metody <code>Dispose</code> objektu implementujícího rozhranní <code>System.IDisposable</code>. Jak na to, když v using bloku předáváme metodu a ne objekt? Jednoduše, musíme vrátit v metodě objekt, který se o špinavou práci postará. V podstatě ani nemusí být nijak inteligentní.</p> <pre class=\"csharp\"><code>public class UsingPattern : IDisposable { private WorkerMethod _method; public delegate void WorkerMethod(); public UsingPattern(WorkerMethod method) { _method = method; } public void Dispose() { _method(); } }</code></pre> <p>Užití v našem API je pak celkem triviální.</p> <pre class=\"csharp\"><code>public class SomeClass { public UsingPattern SomeMethod() { Console.WriteLine(\"Zacatek bloku\"); return new UsingPattern(() =&gt; Console.WriteLine(\"Konec bloku\")); } } public class OtherClass { public void Consumer() { var some = new SomeClass(); using (some.SomeMethod()) { Console.WriteLine(\"Blok\"); } } }</code></pre> <p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/c%23\">c#</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/patterns\">patterns</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:38:14.650-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Using pattern",
  :published #inst "2008-04-14T15:32:14.900-00:00",
  :url "using-pattern",
  :id 265,
  :description
  "Dneska se podíváme na jeden zajímavý vzor v jazyce C#.",
  :category "ASP.NET 2.0",
  :tags ["patterns" "idisposable" "aspnet" "mvc" "rhinomocks"]},
 :441-jeden-balicek-na-vsechno.aspx
 {:html
  "<p>„Jak to vypadá s tím balíčkem pro Honzu?“ „V pohodě, v podstatě je připravenej, jen tam přidám, aby se generovala rovnou i databáze a nainstalovala windows service…“ Tak určitě. Já vůl. Prej jen…</p> <p>Nakonec to bylo o dost těžší než jsem čekal. Scénář, který jsem si představoval, zdál se být chvíli i nemožný. Ale vždyť to musí jít! Wizard to dokáže, tak proč bych to neměl dokázat já? Zakopanej pes byl nakonec v neštědře zdokumentované featůře.</p> <p>Již pár let používám k deployování webových aplikací MsDeploy (aka Web Deployment Tools). Většinou je peklo jen s tím, nastavit cílový server, aby vše běhalo jak má. Tedy hlavně nastavení nejrůznějších práv. To už se naštěstí za tu dobu změnilo a stačí jen <a href=\"http://www.iis.net/learn/publish/using-web-deploy/powershell-scripts-for-automating-web-deploy-setup\">spustit pár PowerShellových scriptů</a>. Mám automatizovaný deploy jak webu, databáze, tak i instalaci windows služeb. Jinak mi to ani moje závislost na Continuous Delivery nedovolí.</p> <p>Jenže jedna věc je mít sadu scriptů pro stroj a druhá věc je mít instalační balíček, který je bez problémů schopný nasadit člověk. Ano, mohl by dostat sadu scriptů a hromadu souborů, se kterýma ty scripty pracují, ale potenciální možnost zanesení chyby je vysoká. A komfort velmi nízký.</p> <h3 id=\"toc-prvni-pokus\">První pokus</h3> <p>Nejprve jsem se snažil nasynchronizovat jednotlivé kroky do cílového balíčku. Nejprve jsem přes <code>MsBuild /t:Package</code> vytvořil balíček s webem. Databázové schema verzujeme pomocí databázového projektu ve Visual Studiu a tak pro deploy používám již zastaralý <code>dbSqlPackage</code> provider. Tak jsem se ho snažil <code>sync</code>nout do balíčku. Povedlo se, ale manifest v balíčku obsahoval, jen deploy databáze. Uáááá. Už jsem pomalu propadal beznaději a přemýšlel o tom, jak napíšu uživatelsky přívětivý script. To aby UX nepřišlo na úbytě.</p> <blockquote class=\"twitter-tweet\"> <p>featury, který potřebuju, jsou vždycky nejmíň zdokumentovaný…</p> — Aleš Roubíček (@alesroubicek) <a href=\"https://twitter.com/alesroubicek/status/314035271136059392\">March 19, 2013</a></blockquote> <p>Popravdě, koho z vás by napadlo, že <a href=\"http://technet.microsoft.com/en-us/library/dd568976(v=ws.10).aspx\">tohleto může vést k cíli</a>? Mně to trvalo asi hodinu. A docvaklo mi to až díky <a href=\"http://stackoverflow.com/questions/5408585/msdeploy-remoting-executing-manifest-twice\">tomuhle nešťastníkovi</a>.</p> <blockquote class=\"twitter-tweet\"> <p>Po tom, co už jsem skoro nedoufal, přišel malý aha moment a jsem zase na stopě… :)</p> — Aleš Roubíček (@alesroubicek) <a href=\"https://twitter.com/alesroubicek/status/314023743024418817\">March 19, 2013</a></blockquote> <h3 id=\"toc-jak-na-to\">Jak na to?</h3> <p>Základem je nevytvářet balíček rovnou, ale vytvořit si nejprve manifest, který obsahuje jednotlivé kroky deploymentu. Ten můj vypadá nějak tak:</p> <pre class=\"xml\"><code>&lt;sitemanifest&gt; &lt;dbDacFx path='$dbSource' /&gt; &lt;runCommand path='$presync' waitInterval='30000'/&gt; &lt;dirPath path='$winSource' /&gt; &lt;runCommand path='$postsync' waitInterval='30000'/&gt; &lt;IisApp path='$webSource' managedRuntimeVersion='v4.0'/&gt; &lt;setAcl path='$webSource' setAclResourceType='Directory'/&gt; &lt;setAcl path='$webSource' setAclResourceType='Directory' setAclUser='anonymousAuthenticationUser'/&gt; &lt;/sitemanifest&gt;</code></pre> <p>Můžete si povšimnout, že je parametrizovaný. To proto, že ho generuju v build scriptu pro konkrétní implementační projekt.</p> <p><code>$dbSource</code> je cesta k <code>dacpac</code> souboru, který je výstupem databázového projektu.<br /> <code>$winSource</code> je cesta k <code>bin</code> adresáři windows služby.<br /> <code>$webSource</code> je cesta k <code>PackageTmp</code> adresáři, kde je připravená webová aplikace.</p> <p>A konečně <code>$presync</code> a <code>$postsync</code> jsou cesty k vygenerovaným <code>cmd</code> souborům, které se spustí na cílovém stroji. PreSync zastaví a odinstaluje již běžící službu:</p> <pre><code>net stop Svc_$instance $installUtil /u /name=Svc_$instance $destPath\\$instance\\Svc.exe</code></pre> <p>PostSync nainstaluje novou verzi a tu následně spustí:</p> <pre><code>$installUtil /name=Svc_$instance $destPath\\$instance\\Svc.exe net start Svc_$instance</code></pre> <p>Opět jsou generované scriptem pro konkrétní instance.</p> <p>Tím mám připravený manifest a všechno, co potřebuju pro úspěšné vytvoření balíčku. Nyní už jen stačí balíček vygenerovat:</p> <pre class=\"php\"><code>$source = \"manifest=$manifest\" $dest = \"package=$pkgLocation\" exec { msdeploy -verb:sync -source:$source -dest:$dest }</code></pre> <p>Kde <code>$manifest</code> je cesta k vygenerovanému manifestu a <code>$pkgLocation</code> je cesta, kde najdu vygenerovaný balíček. No a to je celá magie. Ani to moc nebolelo, když už se ví jak na to. :)</p> <p>Teď už jen zbývá umožnit Honzovi vyplnit konfigurační údaje pro konkrétní servery…</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-03-20T10:34:45.227-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jeden balíček na všechno",
  :published #inst "2013-03-20T07:06:23.547-00:00",
  :url "jeden-balicek-na-vsechno",
  :id 441,
  :description
  "Taková historka ze života, jak jsem potřeboval vytvořit WebDeploy balíček, kterej nedeployuje jen Web.",
  :category "Moje práce",
  :tags ["msdeploy"]},
 :177-internet-explorer-7-rc1-je-venku.aspx
 {:html
  "<p>Včera v pozdních večerních hodinách byl vypuštěn první kandidát na release Windows Internet Exploreru 7. Přináší hlavně zvýšení stability a výkonu a opět opravu několika bugů, které byly nalezeny v betafázi.</p> <p>Vývojáři upozorňují, že byla přepracována architektura rozšíření (Add-ons) a proto některé němusí fungovat správně. Současná architektura by se však již do finální verze měnit neměla.</p> <p>Příjemnou novinkou je, že se instalátor umí vypořádat s předchozími betaverzemi, takže je nemusíte odebírat ručně. Nicméně nepřijdete o dva nutné restarty (v případě upgradu z IE 6 jen jeden). Na první pohled asi žádné významné změny nepoznáte, možná rychlejší startování prohlížeče. Víc jsem toho ale otestovat nestihl. Další postřehy, pokud budou čekejte v updatu článku :)</p> <p>Stahovat můžete za <a href=\"http://www.microsoft.com/windows/ie/default.mspx\">stránek Internet Exploreru</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:19:18.360-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Internet Explorer 7 RC1 je venku",
  :published #inst "2006-08-25T09:13:25.767-00:00",
  :url "internet-explorer-7-rc1-je-venku",
  :id 177,
  :description
  "Včera v pozdních večerních hodinách byl vypuštěn první kandidát na release Windows Internet Exploreru 7.",
  :category "Webdesign",
  :tags ["ie7"]},
 :60-top-6.aspx
 {:html
  "<ol> <li>Deep Dish &#8211; Stay Gold</li> <li>Dottor DAG &#8211; La Batteria della Mente</li> <li>Marcus Storc &amp; Eric Prydz &#8211; Bass-Ism</li> <li>P. Diddy &amp; Felix Da Housecat &#8211; Jack U</li> <li>Rockefeller &#8211; Do It 2&#160;Nite</li> <li>Steve Angello &amp; Sebastian Ingrosso &#8211; 82&#8211;83</li> </ol> <p>Pořadí je abecední.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Top 6",
  :published #inst "2005-06-09T00:00:00.000-00:00",
  :url "top-6",
  :id 60,
  :description "Mých šest nejoblíbenějších písniček za poslední dobu.",
  :category "Muzika",
  :tags []},
 :146-hrajeme-si-s-viewstate.aspx
 {:html
  "<p><a href=\"http://www.eggheadcafe.com/articles/20040613.asp\">http://www.eg&#173;gheadcafe.com/&#8230;200406&#173;13.asp</a> <a href=\"http://www.eggheadcafe.com/articles/20060208.asp\">http://www.eg&#173;gheadcafe.com/&#8230;200602&#173;08.asp</a></p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-05-11T09:13:20.440-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Hrajeme si s ViewState",
  :published #inst "2006-05-11T08:56:45.787-00:00",
  :url "hrajeme-si-s-viewstate",
  :id 146,
  :description
  "Článek o zvýšení výkonosti ViewState, díky cacheování na straně serveru.",
  :category "ASP.NET 2.0",
  :tags []},
 :372-jak-jsem-potkal-twitter.aspx
 {:html
  "<p>Znáte Twitter? Nejspíš ano, kdo by ho dnes neznal. Ale nebylo tomu vždycky tak.</p> <p>Budou tomu dva roky, co @mravenec přemýšlel jak vylepšit @weblogy. „Chtělo by to nějakej chat,“ povídá. A já si myslel, k čemu, nějakej jabber gadget? Pak úplně nesouvisle k tomu, jsem <a href=\"/weblog/252-v-zajeti-socialnich-siti.aspx\">ve Flocku nastartoval Twitter</a>. Tehdy jsem to používal na broadcast. Ukázal jsem to pár kolegům, napsal jsem „jdeme vařit“ a za chvíli se zvedl @mravenec s hrnkem, následován @fromen a @macus a šli jsme navštívit naši Atlasí kuchyňku. V tomhle fungoval twitter skvěle. :)</p> <p>Pak se najednou nenápadně objevil takový malý box pod zprávičkama na W3B. Bylo tam tehdy asi šest účtů. Ono jich tehdy na českém štěbetáku taky o moc víc nebylo. Ale začaly přibývat. :) A to celkem rychle. Ten box si pomalu našel cestu nahoru. Možná se to spoustě lidí nelíbilo a křičeli, ale nebyli vyslyšeni. Tehdy se objevila beta IE8 a @hassmanm absolutně vytapetoval weblogy svou on-line reportáží z její instalace a prvních dojmů. Myslím, že byl za to na nějaký čas odfollowován… :)</p> <p>No a dneska je situace zcela jiná. Twitter už zná skoro každý, dokonce se o něm pořádají přednášky, jak na něj správně psát a jak na něm dělat marketing. Škoda, že jsme ty znalosti neměli už tehdy. Dneska jsme mohli bejt strašně bohatý. ;)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-11-25T06:00:15.883-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak jsem potkal Twitter",
  :published #inst "2009-11-25T05:59:13.973-00:00",
  :url "jak-jsem-potkal-twitter",
  :id 372,
  :description
  "Znáte Twitter? Nejspíš ano, kdo by ho dnes neznal. Ale nebylo tomu vždycky tak. Trošku nostalgické ohlédnutí za počátky štěbetání na W3B.",
  :category "Webdesign",
  :tags ["weblogy" "twitter" "social"]},
 :257-novy-rarous-net.aspx
 {:html
  "<p>Právě jsem spustil první beta verzi homepage <a href=\"http://rarous.net/\">rarouš.net</a>. Po letech jsem se vrátil k homepagi oddělené od blogu, když ne tak úplně. Nová verze by měla v krátkosti informovat o mně. Je na ní <a rel=\"me\" href=\"http://rarous.net/#kontakt\">kontakt</a>, poslední články z blogu, poslední alba na picase, poslední zápich z twittru, co zrovna poslouchám a co mě zaujalo ve čtečce.</p> <p>Všechny tyto informace jsou agregované a k jejich načítání používám nové třídy z .net frameworku 3.5 (LINQ to XML a Syndication services). Aby nedocházelo k přetěžování, tak jsou data cachována na 5min.</p> <p>Zajímavé je, že to málo mi zabralo celé tři dny práce – vymyšlení konceptu, návrh grafiky, nakódování šablony a programování. Jenže zdaleka ještě nejsem hotov. :) Ještě mi zbývá přidat hledání, udělat celou patičku a dovymyslet způsob agregování muziky z <a href=\"http://rarousmusic.com/\">raroušmusic­.com</a>.</p> <p>No ještě je toho dost, ale teď je načase nejakej relax…</p> <h3>Update</h3> <p>Tak patička je snad hotová.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-02-17T18:30:15.930-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nový rarouš.net",
  :published #inst "2008-02-17T12:40:37.727-00:00",
  :url "novy-rarous-net",
  :id 257,
  :description
  "Právě jsem spustil první beta verzi homepage rarouš.net. Po letech jsem se vrátil k homepagi oddělené od blogu, když ne tak úplně. Nová verze by měla v krátkosti informovat o mně.",
  :category "Moje práce",
  :tags []},
 :55-posledni-dobou.aspx
 {:html
  "<p>Poslední dobou jsem udělal několik webů. Po zprovoznění <a href=\"http://ggdag.euweb.cz/\">Gigi D'Agostino Czech fan pages</a> jsem udělal jednoduché stránky pro náš <a href=\"http://team.kvalitne.cz/\">projekt v předmětu Softwarové inženýrství</a>. Minulý víkend jsem udělal kompletní návrh webu pro <a href=\"http://www.inkasni.cz\">Inkasní družstvo</a> a teď čekám, jak se k tomu vyjádří. Dále jsme s mikem konečně zprovoznily jeho stránky, takže vás tímto <a href=\"http://mikemaly.net/\">zvu na prohlídku…</a></p> <p><a href=\"http://www.microsoft.com\">Microsoft</a> konečně uvolnil druhou betaverzi <a href=\"http://lab.msdn.microsoft.com/vs2005\">Visual Studia 2005</a> a já se pomalu pouštím do rekonstrukce těchto stránek. Prvním krokem bylo převedení frontendu blogu do Masteru. Taky jsem přidal do pravého sloupce výpis mikových článků z jeho webu. Je to generovaný z RSS pomocí XSLT…</p> <p>Po dlouhé době vyšla <a href=\"http://my.opera.com/rarous/affiliate/\">nová verze Opery</a>, prvního prohlížeče s podporou SVG – vektorové grafiky zapisované v XML. Opera dělá promo akci, pokud přivedu 250 unikátních návštěvníků na jejich stránky, dostanu registraci zdarma, tak prosím klikněte na banner v horní části stránky, naoplátku pro vás taky něco udělám. Dík, je to <a href=\"http://my.opera.com/rarous/affiliate/\">jenom jedno kliknutí…</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T19:04:06.447-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Poslední dobou",
  :published #inst "2005-04-24T21:06:00.000-00:00",
  :url "posledni-dobou",
  :id 55,
  :description "",
  :category "Moje práce",
  :tags []},
 :61-omluva.aspx
 {:html
  "<p>Omlouvám se všem, že mi přes týden nefungoval blog, ale vyskytl se problém v&#160;databázi a dlouho mi trvalo, než jsem přišel na to, kde přesně chyba je. Teď už by mělo být vše v&#160;pořádku. V&#160;průběhu týdne se ale ještě bude měnit databázový stroj, takže dojde ještě k&#160;jednomu výpadku, ale ten snad nebude tak dlouhý.</p> <p>Jako satisfakci přijměte letecký snímek mého bydliště.</p> <div class=\"center image\"><img src=\"/images/druzcov.jpg\" alt=\"letecký snímek Druzcova\" /> <p>foto &copy; ISR, T-Mapy spol. s&#160;r. o., GEODIS, EuroGraphisc 2005</p> </div> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Omluva",
  :published #inst "2005-06-25T00:00:00.000-00:00",
  :url "omluva",
  :id 61,
  :description "Omluva za nefunkční stránky.",
  :category "Jen tak",
  :tags []},
 :53-luther-646.aspx
 {:html
  "<p>Oční kontakt. To se Lutherovi nikdy nelíbilo, když se snažili udržet oční kontakt. Znamenalo to, že je vydíraný a nic s&#160;tím nemůže udělat. <br />3128&#160;1028&#160;1600 Parlament Spojené Země přijímá pořádkový zákon. <br />3128&#160;1111&#160;0800 65% obyvatelstva Spojené Země se bouří proti pořádkovému zákonu. <br />Číslo dvacet sedm se na Luthera dlouze zadíval svýma temnýma očima a snažil se něco říct, nemohl. Ne snad, že by mu to nějak ublížilo, nebo by mu to někdo zakázal, to ne. Nemohl, protože už mu někdo ublížil a on nemohl otevřít ústa, aby vypověděl, co zažil, co si myslí, nebo cokoliv jiného. Navíc byl za plexisklem, takže by ho stejně nikdo neslyšel. <br />3128&#160;1112&#160;0800 V&#160;zemích Spojené Země začíná akce Pořádek. <br />3128&#160;1112&#160;1200 81% obyvatelstva Spojené Země se bouří proti pořádkovému zákonu. <br />Každý něco dělal. Číslo dvacet dva se strašlivě rozčilovala, číslo patnáct nechápala, číslo dvě pomočil plexisklo ve výšce Lutherova obličeje, číslo osmnáct omdlel, číslo dvacet sedm se snažil něco říct. <br />3128&#160;1119&#160;1815 Prezident Spojené Země ruší pořádkový zákon. <br />3128&#160;1120&#160;0800 Obyvatelstvo Spojené Země vyšlo slavit do ulic. <br />Každý něco dělal, kromě čísla jedna. Číslo jedna přišel do bílé místnosti a posadil se na židli. Místnost byla bílá s&#160;kruhovým otvorem na východní stěně a stejným otvorem na západní stěně. V&#160;jižní stěně byly dveře, kudy všichni přicházeli a v&#160;severní stěně plexisklo, za kterým seděl Luther, se kterým se každý snažil o&#160;interakci. Každý kromě čísla jedna. Ten tam jen seděl na přišroubované kovové židli a vypadalo to, jako když pozoruje vzduch vzdálený třicet centimetrů od jeho očí. Občas se podrbal za uchem, ale jinak pokračoval v&#160;apatii. <br />3128&#160;1223&#160;2000 Prezident Spojené Země umírá. <br />3128&#160;1224&#160;0800 Parlament Spojené Země volí nového prezidenta Spojené Země. <br />Luther se potil a věděl moc dobře proč. Horkem to nebylo, ačkoliv za plexisklem byla co chvíli teplota přesahující patnáct tisíc stupňů celsia, v&#160;jeho místnosti byl celkem příjemný chládek. To to tlačítko, v&#160;tom to bylo. Musel ho zmáčknout, nechtěl, ale musel. Číslo dvacet devět, třicet sedm, devadesát dva, sto patnáct. Každý unikátní a přitom nikdo jako jedna. <br />3128&#160;1224&#160;0815 Dvacátý pátý prezident Spojené Země nastupuje do funkce. <br />3129&#160;0101&#160;0800 Prezident Spojené Země zkritizoval politiku dvacátého čtvrtého prezidenta Spojené Země. <br />3129&#160;0101&#160;1000 Parlament Spojené Země přijímá pořádkový zákon. <br />Jednička Luthera děsila. Kdo určil, že jednička půjde jako první? Kdo si dovolil tam jedničku vůbec přivést? <br />3129&#160;0102&#160;0800 85% obyvatelstva Spojené Země se bouří proti pořádkovému zákonu. <br />3129&#160;0109&#160;1600 Parlament Spojené Země přijímá novelu pořádkového zákona. <br />3129&#160;0201&#160;1200 V&#160;zemích Spojené Země údajně fungují skupiny na svržení systému. <br />Sto šedesát čtyři. Otevřené dveře. Dvě stě. Příchod. Dvě stě dvacet pět. Zavřené dveře. Dvě stě sedmdesát devět. Třicet vteřin. Tři sta deset. Stisk tlačítka. Tři sta osmdesát jedna. Patnáct tisíc stupňů celsia. Pět set dva. Vyčištění. Šest set čtyřicet čtyři. Další. Šest set čtyřicet pět. <br />3129&#160;0422&#160;1615 Bojovníci za Svobodu ukázali svou tvář. <br />3129&#160;1130&#160;1200 Po měsících strachu se situace zklidňuje. <br />Oheň hořel vždy pět vteřin. Smrt nastala okamžitě. <br />3129&#160;1202&#160;0800 Pořádková policie pochytala a uvěznila poslední členy Bojovníků za Svobodu. <br />Země Spojené Země jsou konečně opět bezpečné. <br />3129&#160;1202&#160;0801 Otci revoluce byl udělen nejvyšší trest. <br />Klik. Ozvalo se krátké zadunění a zabublání. V&#160;mžiku oka byla místnost plná všepožírajících plamenů zkázy. Mělo to být vše, mělo přijít vyčištění a číslo dvě. Ale ještě předtím se u&#160;průhledné přepážky vynořila z&#160;plamenů zpuchýřovaná ruka a napsala na sklo čtyři písmena, užívajíc sebe samé namísto inkoustu. <br />Luther se na nápis zadíval a pozpátku ho přečetl. Z&#160;oka mu vytekla jediná slza. <br />OTČE</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "dekan",
  :title "Luther 646",
  :published #inst "2005-03-10T08:17:20.000-00:00",
  :url "luther-646",
  :id 53,
  :description "",
  :category "Jen tak",
  :tags []},
 :76-plny-dum.aspx
 {:html
  "<p>Již včera přijely přítelkyně – Monika a Tereza – mých spolubydlících k nám na návštěvu a usadily se tu na delší dobu, takže dnes nás spalo v jednom pokoji pět. Dnes večer se má dostavit další várka lidí na oslavy narozenin několika byvalých spolubydlících. Takže tu bude v jeden čas něco okolo 15 až 20 lidí a to už stojí za to! Ještě že s přibývajícím množstvím lidí bude přibývat i alkoholu :o) jinak nevim jak bych to já, konzervativní a samotářský typ, zvládl…</p> <p>Včera jsme konečně naplno zprovoznili nový hosting a adresu stránek, takže si prosim změňte záložky a <acronym title=\"Really Simple Syndication\">RSS</acronym> na novou adresu <a href=\"http://www.rarous.net\">www.rarous.net</a>. Až se mi povede zbavit se zakésnuté dll na <a href=\"http://www.aspweb.cz/\">AspWebu</a>, budou fungovat i staré adresy na nové stránky. Tím bych měl mít vyřešeno i ono indexování vyhledávačema, protože to bude posílat HTTP 301 Moved Permanently :)</p> <p>No ještě bych zapoměl, <a href=\"http://www.mikemaly.net/clanek/8-neni-tabletka-jako-tabletka.aspx\">mike se včera skoro zabil</a>…</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T19:46:11.320-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Plný dům",
  :published #inst "2005-10-26T12:41:33.423-00:00",
  :url "plny-dum",
  :id 76,
  :description "Aneb jak nacpat 20 lidí do 3+KK.",
  :category "Kamarádi",
  :tags []},
 :366-odsazovani-kodu-a-bloky.aspx
 {:html
  "<p>Konečně jsem se dostal k tomu, abych si otevřel knihu <a href=\"http://knihy.cpress.cz/knihy/pocitacova-literatura/programovani/co-programatory-ve-skole-neuci-aneb-softwarove-inzenyrstvi-v-realne-praxi/\">Co programátory ve škole neučí</a>. Hezky shrnuje žalostný stav našeho školství s ohledem na přípravu budoucích vývojářů. Dále zanáší pravidla pro psaní přehlednějšího kódu. S mnoha pravidly, které autor zanáší, musím plně souhlasit. K některým mám výhrady a jedno bych teď chtěl doplnit.</p> <blockquote> <h3 id=\"toc-pravidlo-sedme\">Pravidlo sedmé</h3> <p>Kód musí obsahovat dostatek volných řádek oddělujících od sebe krátké logické celky.</p> </blockquote> <p>Tohle pravidlo mi mluví z duše. Sám se vypořádávám s kódem kolegy, který o „odstavci“ v životě neslyšel. Číst monolitický text je velice těžké a ještě těžší je mu porozumět. Pan Paleta (autor knihy) dále doporučuje:</p> <blockquote> <p>Zdrojový kód zpřehledňují prázdné řádky, které by podobně jako tačka za větou měly „ukončovat myšlenku.“ Nepřerušená sekvence příkazů může být dlouhá asi tak dva až pět řádků, jen výjimečně o něco více. <em>Někdy je vhodné jako první řádek sekvence uvést krátký komentář…</em></p> </blockquote> <p>Schválně jsem zvýraznil poslední větu, protože to je ta část, ke které mám výhradu. Možná si vzpomenete, jak jsem minule psal: <a href=\"/weblog/361-nepiste-zbytecny-kod.aspx\">Nepiště zbytečný kód</a>. Klidně takový kus kódu napiště. Ale ihned ho refaktorujte! Logický blok uvozený konetářem, je totiž ideální místo pro vytvoření metody. Název této metody je právě obsah komentáře a tělem následný logický blok.</p> <p>Pokud máte <a href=\"http://devexpress.com/Products/Visual_Studio_Add-in/Refactoring/\">Refactor! Pro</a> od Developer Express, stačí onen blok označit a stisknout <code>Ctrl+;</code> (klávesa nad <code>Tab</code>) a vybrat <code>Extract method</code>. Tento refaktoring udělá přesně to, co jsem popsal v minulém odstavci.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-09-21T19:37:49.177-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Odsazování kódu a bloky",
  :published #inst "2009-09-20T20:42:31.070-00:00",
  :url "odsazovani-kodu-a-bloky",
  :id 366,
  :description
  "Jak zacházet s odsazováním kódu a komentáři, aby byl kód co nejčitelnější?",
  :category "ASP.NET 2.0",
  :tags []},
 :335-lehky-facelift.aspx
 {:html
  "<p>Dnes jsem zapracoval něktreté drobné změny designu, které jsem už delší dobu připravoval. Hlavním cílem změny byla patička webu, protože na ní jsem se při původním návrhu moc nesoustředil.</p> <p>Nyní by měla být trochu uspořádanější. Styl jsem tak trochu opajcnul ze slajdů PDC 2008. Homepage taky doznala lehké přeurovnání do mřížky. Další změnou jsou fonty. V boxu s agregací blogu, by měl být styl více podobný tomu, co je na blogu. Trochu se změnil i hledací formulář, který teď kopíruje aktuální styl Live Search, který je pro zdejší hledání použit.</p> <p>Změny to jsou jen kosmetické, ale i tak zabraly dost času. Každopádně to není ještě vše. Na blogu brzo přibude patičkový box pro agregaci. Další EVO by pak měla mít jeden stylopis pro celý web. Že by dárek k pátým narozeninám?</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-12-07T17:05:26.297-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Lehký facelift",
  :published #inst "2008-12-07T17:04:54.673-00:00",
  :url "lehky-facelift",
  :id 335,
  :description "Dnes jsem trochu faceliftoval tyhle strány.",
  :category "Moje práce",
  :tags ["design" "css"]},
 :49-valka-browseru-hlavne-bezpecne.aspx
 {:html
  "<p>Microsoft nedávno anoncoval vydání betaverze Internet Exploreru 7, které by mělo proběhnout někdy v&#160;létě. Spousta lidí to komentovala na svých blozích, není třeba to rozebírat. Netscape dnes odložil vydání betaverze Netscape Browseru 8.0&#160;na konec února. Netscape Browser má být postaven na Firefoxu, který si stáhlo již 25&#160;mil. lidí na světě. To je stručné vnesení do začínající druhé světové války prohlížečů internetového obsahu.</p> <p>Připomeňme, že tu první světovou vyhrál Microsoft se svým Internet Explorerem. V&#160;první světové šlo hlavně o&#160;to, kdo dokáže přečíst větší kodérskou prasárnu a kdo má víc vlastních technologií, které jsou navzájem nekompatibilní. Vzešlo z&#160;toho i&#160;něco dobrého, uchytili se technologie jako JavaScript nebo kaskádní styly, web v&#160;té době začal být dynamický.</p> <p>Po válce se sešly moudré hlavy, aby zjistily, že spoušť, kterou za sebou tahle válka nechala, je třeba uklidit. A&#160;tak začalo období evangelizace. V&#160;tomto období spousta tvůrců webu začala zjišťovat, že existují webové standardy &#8211; které vymyslely moudré hlavy &#8211; a něketří je začali dodržovat. Bohužel Microsoftí Internet Explorer si se standardy zcela nerozumí a začíná pouštět vedle sebe pohrobka Netscape Comunicatoru: Mozillu a Operu, prohlížeče, které standardům rozumí daleko víc a navíc přinášejí rozšířenou funkcionalitu oproti zastarávajícímu Internet Exploreru.</p> <p>Jenže Mozilla je moc velká a práce s&#160;ní není zrovna nejjednodušší, proto nemůže konkurovat Internet Exploreru na poli domácích uživatelů. Tak vznikl projekt Phoenix, později Firebird a dnes Firefox, který má přivést Mozillu do domácích počítačů. Vsází na jednoduchost ovládání a podobný vzhled jako IE. Marketingově je jeho vypuštění zvládnuté na jedničku a dnes má Firefox skoro 10% podíl na trhu. Jeho hlavním heslem je bezpečnost.</p> <p>Microsoft si jistě všiml, že z&#160;malého OpenSource projektu se stává vážná konkurence a proto vydal zprávu, že chystá nový browser, který bude zaměřen na bezpečnost, kdo by to byl řekl. Dnes měla vyjít betaverze Netscape Browseru 8.0&#160;a hádejte, proč byla odložena, protože hlavním cílem vývojářů je bezpečnost nového produktu. Proč to jen nikoho nenapadlo dřív?</p> <p>Odpověď je nasnadě. Dnes má k&#160;internetu přístup skoro každý &#8211; samozřejmě počítám lidi z &#8222;vyspělé části světa&#8220; &#8211; a s&#160;jeho masovostí a složitostí služeb jim zprostředkovaných roste i&#160;možnost útoků, podvodů, ztráty dat a jiných nepěkných věcí. Toho, že je Internet Explorer nejrozšířenější, využívají lidé, kteří na vás chtějí zaútočit, můžou využít jednu díru nebo technologii k&#160;útoku s&#160;vysokou efektivitou.</p> <p>Firefox hlásá, že je bezpečnější než IE, ale zlatý oči. S&#160;tím jak jeho popularita roste poroste i&#160;počet útoků na jeho uživatele. Proto není obranou využívat slabin nepřítele ke svému posílení, ale soustavná práce na prevenci a maximálním zabezpečení produktů. Nechme se překvapit, co přinese jaro.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:54:57.660-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Válka browserů - hlavně bezpečně",
  :published #inst "2005-02-18T00:00:00.000-00:00",
  :url "valka-browseru-hlavne-bezpecne",
  :id 49,
  :description "",
  :category "Webdesign",
  :tags []},
 :45-mike-bloguje.aspx
 {:html
  "<p>Můj kamarád mike si konečně pořídil blog, ale není to blog obyčejný, ale zcela vyjímečný. Je totiž věnován dění u nás na bytě a věřte tomu, že se tam toho neděje málo. ;) Zatim tam je informace o poslední akci, ale časem prý přibudou další, tak nezbývá než popřát hodně informačního štěstí.</p> <h3>Update</h3> <p>Tenhle web dlouho nevydržel, protože jsme s mikem udělali ještě speciálnější stránky <a href=\"http://mikemaly.net\">http://mikemaly.net</a>. Let's go!</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T19:01:31.367-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "mike bloguje",
  :published #inst "2005-01-30T00:00:00.000-00:00",
  :url "mike-bloguje",
  :id 45,
  :description "",
  :category "Kamarádi",
  :tags []},
 :235-intellisense-javascriptu-ve-vs-2008.aspx
 {:html
  "<p>Jednou z novinek <a href=\"http://go.microsoft.com/?linkid=7729281\">nového Visual Studia</a> je nesrovnatelně lepší Intellisense pro psaní JavaScriptů. Pojďme si ji trochu přiblížit na následujících řádcích.</p> <p>Kdysi byl pro mě JavaScript odporným jazykem bez ladu a skladu. Přibližně před rokem, se začala psát nová verze <a href=\"http://www.amapy.cz/\">AMap</a> postavená na <a href=\"http://www.mapi.cz/\">API</a> a frameworku <a href=\"http://www.mootools.net/\">Mootools</a>. V rámci interního vzdělávání nás Dan zasvětil do tajů JavaScriptu a já pomalu začal objevovat jeho kouzlo. V průběh února jsem potřeboval psát nějaké AJAXové věci, a tak nastal čas se JavaScript naučit.</p> <p>Zjistil jsem, že s MooToolama je to celkem sranda a postupem času člověk začne chápat víc a víc v různých souvislostech. Čím víc toho pak píše, začne se poohlížet po něčem, co by mu psaní ulehčilo. Zkoušel jsem <a href=\"http://www.aptana.com/\">Aptanu</a>, ale ta mi moc nepomáhala, protože MooTooly neuměla. Zkoušel jsem i beta verze Orcasu, ale stejně to nebylo ono, aspoň mi to teď tak připadá…</p> <p>Zkrátka, za poslední dva týdny jsem napsal JavaScriptu docela kopec, a poslední týden ve VS2008, takže můžu bezprostředně porovnat. No prostě s ním je to lepší. Konec románů a teď k věci.</p> <h3 id=\"toc-intellisense\">Intellisense</h3> <p>Intellisense se nově objevuje po prvním napsaném písmenku, ne až po tečce jako v předchozí verzi. Nabízí i klíčová slova, takže funguje moje oblíbené <code>ret</code> mezera. Okénky intellisense jde i zprůhlednit, pokud potřebujete kouknout na kód, který je pod ním. Stačí podržet klávesu <strong>CTRL</strong>.</p> <p>Intellisense je plněna parserem přilinkovaných JavaScriptů. Parser je podle mého názoru, ještě trošku v pubertě. Pokud píšete script, dokáže interpretovat, pouze to, co je před kurzorem. I když používá značnou cache, nedokáže vám nabídnout funkce, které jsou až dál.</p> <p>Jelikož je JavaScript dynamicky typovaný, je tu občas problém, že parser nerozpozná aktuální typ a tak vám intellisense nenabídne nic. :) Toto chování by se dalo značně minimalizovat díky dokumentačním komentářům, kde se např. u parametrů dají nastavit datové typy. Snad v příští verzi.</p> <h3 id=\"toc-dokumentacni-komentare\">Dokumentační komentáře</h3> <p>Aby byla intellisense živena kvalitním obsahem, přichází nové studio s dokumentačními komentáři, ve stylu jak je známe v C#, také v JavaScriptu. Hlavní rozdíl je, že se komentáře píší do těla funkce, nikoli před ní. A je tu i další chybka parseru, nedokáže zobrazovat v intellisense obsah dokumentace ze stejného souboru.</p> <p>Jak tedy takové komentáře vypadají? Následovně:</p> <pre><code>function add(node) { /// &lt;summary&gt;Přidá uzel do stromu.&lt;/summary&gt; /// &lt;param name=\"node\" type=\"TreeNode\"&gt;Uzel.&lt;/param&gt; }</code></pre> <p>Dokumentační tag <code>summary</code> přidá popis funkce, v praxi to vypadá asi následovně:</p> <div><img src=\"/data/obrazky/vs_js_summary.png\" alt=\"\" /></div> <p>Tag <code>param</code> popisuje parametr funkce a v tomto případě i jeho typ. Opět ukázka:</p> <div><img src=\"/data/obrazky/vs_js_param.png\" alt=\"\" /></div> <h3 id=\"toc-reference-na-scripty\">Reference na scripty</h3> <p>Pokud píšete něco většího, neobejdete se bez extrahování scriptů do samostatných souborů. V tom případě, ale intellisense neví, co je v ostatních souborech, a moc nám toho neukáže. Naštěstí je tu pseudodokumentační tag <code>reference</code> pomocí něhož se jde odkazovat na další scripty, jejichž kód využíváme (tradičně JS frameworky), nebo dokonce i na <code>ScriptService</code> v projektu. Užití může být následující:</p> <pre><code>/// &lt;reference path=\"mootools.js\" /&gt; /// &lt;reference path=\"/services/ajax.svc\" /&gt;</code></pre> <p>Tento kód napíšeme na začátku souboru a studio už bude vědět. Občas se mi ale stává, že pokud provedu změnu v referencovaném souboru, změna se v intellisense neprojeví. Za vinu to kladu cacheování. Zatím 100% řešením, zdá se, je soubor zavřít a znovu otevřít. Po přeparsování už by měla být intellisense aktuální.</p> <h3 id=\"toc-uzaver\">Uzávěr</h3> <p>Jak už jsem psal na začátku, podpora JavaScriptu ve Visual Studiu pokročila o pořádný kus dopředu, přesto má ale ještě pár much, které by stálo za to vychytat. S ohledem na to, jak Microsoft podporuje vývoj interpretů a kompilátorů pro dynamické jazyky, doufám, že se jejich podpora ve VS ještě zlepší.</p> <h3 id=\"toc-souvisejici\">Související</h3> <ul> <li><a href=\"http://blogs.msdn.com/webdevtools/archive/2007/11/06/jscript-intellisense-a-reference-for-the-reference-tag.aspx\">JScript IntelliSense: A Reference for the “Reference” Tag</a></li> <li><a href=\"http://weblogs.asp.net/bleroy/archive/2007/04/23/the-format-for-javascript-doc-comments.aspx\">The format for JavaScript doc comments</a></li> </ul> <p style=\"font-size:75%\">debuged by <a href=\"http://www.mishak.net/\">MiSHAK</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:38:56.300-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Intellisense JavaScriptu ve VS 2008",
  :published #inst "2007-11-30T22:15:59.783-00:00",
  :url "intellisense-javascriptu-ve-vs-2008",
  :id 235,
  :description
  "Jednou z novinek nového Visual Studia je nesrovnatelně lepší Intellisense pro psaní JavaScriptů. Pojďme si ji trochu přiblížit na následujících řádcích.",
  :category "ASP.NET 2.0",
  :tags
  ["intellisense"
   "javascript"
   "vs"
   "vs2008"
   "mootools"
   "documentation"]},
 :205-mate-radi-sve-oci.aspx
 {:html
  "<p>Jako programátor koukám velkou část dne do monitoru, ztoho asi 70% času do Visual Studia (VS). Problém je, že VS nemá ve výchozím nastavení zrovna nejergonomičtější barvy a fonty. Font je pravděpodobně věcí osobního vkusu a kvality zraku, ale obrovské bílé jasně svítící plochy nejsou pro oči to nejslepší. Jednoho dne, kdy už jsem docela slzel a pálili mě oči, jsem se rozhodl, že musím změnit theme :) A to nejlépe na nějaký málo kontrastní a nejlépe s tmavým pozadím.</p> <p>Přenesení themu není naštěstí ve VS2005 veliký problém a najít ten správný, již předpřipravený jistě ulehčí stránka <a href=\"http://idehotornot.ning.com/\">Is your IDE hot or not?</a>. Mě osobně nejvíce sedí <a href=\"http://idehotornot.ning.com/index.php/index/show?id=2046192\">oldschool theme alá Turbo IDE</a> od Borlandu. A font? Do teď jsem používal <em>Fixedsys</em>, ale pro změnu jsem se vrátil ke <a href=\"http://www.microsoft.com/downloads/details.aspx?familyid=22e69ae4-7e40-4807-8a86-b3d36fab68d3&amp;displaylang=en\">Consolasu</a>, který se na LCDčku s ClearTypem čte asi nejlépe.</p> <div><img src=\"/data/obrazky/code.png\" alt=\"ukázka tématu\" /></div> <h3 id=\"toc-jak-naimportovat-theme\">Jak naimportovat theme</h3> <p>Stáhněte si požadovaný theme. Rozbalte ho do adresáře s vašim nastavením pro VS2005 (obvykle <code>%My Documents%\\Visual Studio 2005\\Settings</code>). Ve Studiu pak postupujete po ose <code>Tools &gt; Import and Export setting</code> <code>Next</code>, tady můžete zazálohovat své aktuální nastavení nebo dát <em>No</em> a <code>Next</code>, vyberete v sekci <em>My Setting</em> stažený theme a <code>Finish</code>.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:42:49.680-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Máte rádi své oči?",
  :published #inst "2007-04-10T16:52:46.203-00:00",
  :url "mate-radi-sve-oci",
  :id 205,
  :description
  "Návod jak si vylepšit pracovní prostředí Visual Studia, aby vás nebolela oka.",
  :category "Tuning",
  :tags ["vs" "theme" "cleartype"]},
 :358-tip-na-prehlednejsi-sablony.aspx
 {:html
  "<p>Zastávám názor, že šablona by měla být co nejvíce přehledná a obsahovat co nejméně programového kódu. Pojďme se podívat na některé kousky zasmrádlého kódu a jak se s nimi vypořádat.</p> <h3 id=\"toc-html-actionlink\">Html.ActionLink</h3> <p><code>Html.ActionLink</code> je pro mne jedním z prvních míst, kde zvednout ukazováček a říct: „takhle ne.“ Již <a rel=\"bookmark\" title=\"Pojmenované routy v ASP.NET MVC\" href=\"/weblog/340-pojmenovane-routy-v-asp-net-mvc.aspx\">ve spotu o routingu</a> jsem psal, že procházení routovací tabulky při hledání akce je výpočetně náročné a pokud vaše tabulka obsahuje mnoho řádků, může být zdrojem nepříjemného zdržení. Mějme například helper odkaz na detail zboží v jehož URL obsahuje informace o kategorii zboží, jeho id a název:</p> <pre class=\"xml\"><code>&lt;%= Html.ActionLink(Model.Name, \"Detail\", \"Goods\", new { id = Model.Id, name = Model.UrlName, category = Model.Category.UrlName }) %&gt;</code></pre> <p>Tohle rozhodně není přehledné, ani výkonné. Začněme tedy refaktorovat. Nelíbí se mi, že tag odkazu je generovaný a že pořádně netuším, jestli třeba nejsou parametry ve špatném pořadí. A co potom takový kodér? Co když bude chtít přidat nějakou třídu, aby mohl tento konkrétní odkaz lépe nastylovat nebo mu dát nějaký sémantický význam? Přejděme na <code>Url.Action</code>!</p> <pre class=\"xml\"><code>&lt;a href=\"&lt;%= Url.Action(\"Detail\", \"Goods\", new { id = Model.Id, name = Model.UrlName, category = Model.Category.UrlName }) %&gt;\"&gt;&lt;%= Html.Encode(Model.Name) %&gt;&lt;/a&gt;</code></pre> <p>No moc jsme si nepomohli. Sice teď máme větší kontrolu nad generovaným kódem, ale kód je o dost delší a pořád pěkně „smrdí.“ Zbavme se teď kouzelných řetězců, ty mohou být zdrojem špatně dohledatelných chyb!</p> <pre class=\"xml\"><code>&lt;a href=\"&lt;%= Url.RouteUrl(RouteTo.CommodityDetail, new { id = Model.Id, name = Model.UrlName, category = Model.Category.UrlName }) %&gt;\"&gt;&lt;%= Html.Encode(Model.Name) %&gt;&lt;/a&gt;</code></pre> <p>Zbavili jsme se možnosti udělat chybu v názvu akce nebo řadiče a navíc teď probíhá vyhledávání routy v tabulce podle klíče, tudíž mnohem efektivněji. Ale pořád mi tu něco smrdí. Ano je to ta anonymní třída, i tady je velká šance na vnesení chyby. Ačkoli to tak na první pohled nevypadá, názvy vlastností této třídy nejsou nic jiného než kouzelné řetězce, jen bez uvozovek. Na pozadí se totiž překládají jako klíče ve slovníku. Lék na to je jednoduchý. Vytvoříme si vlastní helper!</p> <pre class=\"xml\"><code>&lt;a href=\"&lt;%= Url.CommodityDetail(Model) %&gt;\"&gt;&lt;%= Html.Encode(Model.Name) %&gt;&lt;/a&gt;</code></pre> <p>Zápis se rázem zpřehlednil, snížila se možnost zanesení chyby a množství opakovaného kódu.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-07-13T08:14:21.957-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Tip na přehlednější šablony",
  :published #inst "2009-07-12T09:25:30.993-00:00",
  :url "tip-na-prehlednejsi-sablony",
  :id 358,
  :description
  "Zastávám názor, že šablona by měla být co nejvíce přehledná a obsahovat co nejméně programového kódu. Pojďme se podívat na některé kousky zasmrádlého kódu a jak se s nimi vypořádat.",
  :category "ASP.NET 2.0",
  :tags ["routing" "aspnet" "mvc" "refactoring" "bestpractice"]},
 :412-trenujete-na-code-retreat.aspx
 {:html
  "<p>Již za týden se koná akce, do které jsem tak trochu namočený, Global Day of Code Retreat. My se snažíme připravit jedno <a href=\"http://coderetreat.cz\">místečko v Praze</a>.</p> <p>Ačkoli má akce za cíl vás vytrénovat v lepší vývojáře, je dobré abyste na něj přišli trochu připravení. :) Určitě si přečtěte <a href=\"http://en.wikipedia.org/wiki/Conway's_Game_of_Life\">pravidla problému</a>, který se bude celý den znova a znova implementovat. Ale nezůstaňte pouze u čtení, zamyslete se nad tím, jak danou úlohu naimplementovat. Nebojte se a jděte ještě dál a vážně tu vaši ideu i zhmotněte!</p> <p>Dalším krokem jak se na akci připravit, je zacvičit si nějakou tu katu v kódování. Zkuste třeba oblíbenou <a href=\"http://codingdojo.org/cgi-bin/wiki.pl?KataBowling\">bowling game</a> nebo <a href=\"http://katas.softwarecraftsmanship.org/?p=80\">string calculator</a>. Procvičíte si tak TDD i nástroje, které budete používat.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-12-27T09:16:32.257-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Trénujete na Code Retreat?",
  :published #inst "2011-11-26T09:19:00.510-00:00",
  :url "trenujete-na-code-retreat",
  :id 412,
  :description
  "Již za týden se koná první velký český Code Retreat v Praze. Je na čase trénovat!",
  :category "Moje práce",
  :tags ["coderetreat"]},
 :365-alessio-busta-waiting-fot-the-tram.aspx
 {:html
  "<p>Po roce odmlky, je tu set s minimálním setupem, progresivním soundem a… Však uslyšíš.</p> <div class=\"haudio\"> <ol> <li class=\"item\"><span class=\"contributor\">Pryda</span> – <span class=\"title\">Waves</span></li> <li class=\"item\"><span class=\"contributor\">Zoo Brazil</span> &amp; <span class=\"contributor\">Nic Fanciulli</span> – <span class=\"title\">Ide</span></li> <li class=\"item\"><span class=\"contributor\">Paolo Mojo</span> – <span class=\"title\">Oscilate</span></li> <li class=\"item\"><span class=\"contributor\">Reset Robot</span> – <span class=\"title\">Do the Slot</span></li> <li class=\"item\"><span class=\"contributor\">Cirez D</span> – <span class=\"title\">On/Off</span></li> <li class=\"item\"><span class=\"contributor\">Sébastien Léger</span> – <span class=\"title\">Bubbly</span></li> <li class=\"item\"><span class=\"contributor\">Felix da Housecat</span> – <span class=\"title\">Kickdrum</span></li> <li class=\"item\"><span class=\"contributor\">Nick Fanciulli</span> – <span class=\"title\">Green Tea</span></li> <li class=\"item\"><span class=\"contributor\">Alex Neri</span> &amp; <span class=\"contributor\">Federico Grazzini</span> – <span class=\"title\">Habla</span></li> <li class=\"item\"><span class=\"contributor\">Cirez D</span> – <span class=\"title\">Raptor</span></li> <li class=\"item\"><span class=\"contributor\">Deadmau5</span> – <span class=\"title\">Lack of Better Name</span></li> <li class=\"item\"><span class=\"contributor\">Inpetto</span> – <span class=\"title\">The Milky Way</span></li> <li class=\"item\"><span class=\"contributor\">Sébastien Léger</span> – <span class=\"title\">Le Moustique</span></li> <li class=\"item\"><span class=\"contributor\">Mark Knight</span> &amp; <span class=\"contributor\">Funkagenda</span> – <span class=\"title\">Good Times</span></li> <li class=\"item\"><span class=\"contributor\">Steve Mac</span> &amp; <span class=\"contributor\">Nic Fanciulli</span> – <span class=\"title\">20%</span> (140% fuck up)</li> <li class=\"item\"><span class=\"contributor\">Kim Fai</span> – <span class=\"title\">Good Life</span></li> </ol> <p>Ke stažení <span class=\"category\">dj set</span> <a rel=\"enclosure\" href=\"http://rarousmusic.com/mp3/alessio_busta_-_waiting_for_the_tram-rm.mp3\"><span class=\"contributor\">Alessio Busta</span> – <span class=\"title\">Waiting for the Tram</span></a> (MP3 200 kbps VBR; 131 MiB)</p> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-09-10T09:41:21.030-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Alessio Busta - Waiting for the Tram",
  :published #inst "2009-09-10T07:24:13.610-00:00",
  :url "alessio-busta-waiting-fot-the-tram",
  :id 365,
  :description "Set ke stažení.",
  :category "Muzika",
  :tags []},
 :259-www-spojeno-cz.aspx
 {:html
  "<p><a href=\"http://www.spojeno.cz/\">http://www.spojeno.cz/</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-02-26T10:57:18.940-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "www.spojeno.cz",
  :published #inst "2008-02-26T10:57:18.880-00:00",
  :url "www-spojeno-cz",
  :id 259,
  :description "no comment",
  :category "Webdesign",
  :tags []},
 :164-phunky-summer-beatz.aspx
 {:html
  "<ol> <li>Paolo Mojo – 1983 (Eric Prydz Remix)</li> <li>Pryda – Seadweller</li> <li>Phunk Investigation – You Don't Fool Me (Tali Freaks Remix)</li> <li>Retarded Funk – Venta</li> <li>Steve Angello – Teasing Mr. Charlie (Long Vesrion)</li> <li>Lorraine – Transatlantic Flight (Axwell Remix)</li> <li>Steve Angello &amp; Sebastian Ingrosso – Click</li> <li>Scrape feat. D Empress – Be My Friend (Ian Carey Dub Mix)</li> <li>Steve Angello &amp; Laidback Luke – Otherwize Then</li> <li>DJ Flex &amp; Sandy Wilhelm – Love For You (Steve Angello &amp; Sebastian Ingrosso Remix)</li> <li>Lee Cabrera feat. Mim – I Watch You (Ian Carey Remix)</li> <li>Michael Gray – The Weekend (Ian Carey Remix)</li> </ol> <p>Ke stažení: <a href=\"/files/alessio_busta_-_phunky_summer_beatz.wma\" onclick=\"javascript:_gat._getTracker(\">Alessio Busta – Phunky Summer Beatz</a> (WMA 128kbps, 75 MiB)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T15:12:36.897-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Phunky Summer Beatz",
  :published #inst "2006-07-02T09:45:54.760-00:00",
  :url "phunky-summer-beatz",
  :id 164,
  :description "Alessio Busta je zpět!",
  :category "Muzika",
  :tags []},
 :236-mvc-unit-testy.aspx
 {:html
  "<p>Již delší dobu jsem chtěl napsat článek o tom, proč je MonoRail lepší, když chceme, aby se projekt dal testovat. Jenže vždycky nějak nebyl čas. Navíc se blíží vypuštění ASP.NET MVC, takže nakonec z toho bude trošku obecnější pojednání než jsem původně plánoval.</p> <h3 id=\"toc-webforms-testovani\">WebForms testování</h3> <p>Než si ukážeme jak snadné je testovat MVC, nejprve si povíme, že i WebForms se dají testovat. Ano, ale vyžaduje to větší kázeň a víc práce. :) Většinou stejně použijete MVP pattern nebo jeho blízké příbuzné. Pokud tedy nechcete psát testy, které simulují livecycle stránky a dekódují ViewState. (Ano, dotahuju to ad absurdum, ale i tak to může vypadat.)</p> <p>Aby se tedy kód dal snadno testovat, měl by se co nejvíce oddělit od stránky.</p> <p>Klasickým modelem tedy je využití MVP vzoru, kdy aspx stránka obsahuje pouze logiku pro prezentaci dat a implementuje rozhranní View, přes které komunikuje s Presenterem. Díky tomu, že Presenter obsahuje téměř veškerou logiku, je ideálním místem pro zacílení našich testů. Pro účely testů pak implementujeme stub nebo mock rozhranní view. Na něm pak sledujeme jak ho Presenter ovlivňuje.</p> <div><img src=\"/data/obrazky/mvp.png\" alt=\"\" /></div> <p>Předchozí diagram ukazuj, že Presenter zná rozhranní View. Stránka, která toto rozhranní implementuje, se však musí postarat o to, aby byl presenter ve správnou chvíli zavolán. Možný scénář zachycuje ukázka kódu.</p> <pre class=\"csharp\"><code>public class BlogViewPage : System.Web.UI.Page, IBlogView { BlogPresenter presenter; protected void Page_Init(object sender, EventArgs e) { presenter = new BlogPresenter(this); // injekce View } protected void Page_Load(object sender, EventArgs e) { presenter.LoadArticles(); } // implementace IBlogView ... }</code></pre> <p>Na to, že to stránka udělá správně, se už musíme spolehnout. Otestovat i takto jednoduchý kód, je už trošku náročnější práce…</p> <h3 id=\"toc-mvc-testovani\">MVC testování</h3> <p>MVC frameworky jako MonoRail nebo ASP.NET MVC, přicházejí s podobným schématem <strong>by default</strong>. V podstatě nás přímo nutí psát web tak, aby se dal lépe testovat. :) Nebudu přehánět, když řeknu, že ASP.NET MVC byl psán se zřetelí na velice snadné testování a obsahuje i sadu mock objektů (např. pro <code>HttpContext</code>). MonoRail dokonce přináší i Fixtures a Asserty pro snadnější testování – bohužel jsou psané pouze pro NUnit, který nepoužívám.</p> <div><img src=\"/data/obrazky/mvc.png\" alt=\"\" /></div> <p>Tento diagram se od předchozího mírně liší. Controller např. netuší jaké má View rozhranní, proto s ním nikterak nepracuje. Prostě zavolá <code>RenderView(*název*, *objekt s daty*)</code> a spoléhá se na ViewFactory že všechno zařídí. Navíc stránka do poslední chvíle netuší, jestli něco bude dělat. Tady totiž proces zpracování začíná u routingu, který vybere správný controller, viz <a href=\"/weblog/220-jak-funguje-monorail.aspx\">předchozí díl</a>.</p> <p>Dostáváme se i k lepšímu objektovému návrhu, kde každá třída je zodpovědná za provedení pouze jednoho úkolu (stránka v MVP těch úkolů řeší hned několik). To se opět lépe testuje. Máme sadu několika komponent s jednoduchými závislostmi a každá má na starosti pouze jednu část z procesu.</p> <p>Pro dnešek to tady ukrouhnu. Bude-li nějaké příště, ukážeme si nějaké praktické ukázky. Možná :)</p> <h3 id=\"toc-souvisejici\">Související</h3> <ul> <li><a href=\"http://blog.vuscode.com/malovicn/archive/2007/10/25/model-view-presenter-mvp-design-pattern-close-look-part-1-passive-view.aspx\">Model View Presenter (MVP) design pattern close look – Part 1 (Supervising Controller)</a></li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:12:12.120-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "MVC na ASP.NET – Testování jednotek",
  :published #inst "2007-12-01T16:15:14.103-00:00",
  :url "mvc-unit-testy",
  :id 236,
  :description
  "Již delší dobu jsem chtěl napsat článek o tom, proč je MonoRail lepší, když chceme, aby se projekt dal testovat. Jenže vždycky nějak nebyl čas. Navíc se blíží vypuštění ASP.NET MVC, takže nakonec z toho bude trošku obecnější...",
  :category "Webdesign",
  :tags
  ["aspnet" "webforms" "mvc" "mvp" "unittesting" "monorail" "castle"]},
 :90-o-soutezi-lcd-za-web.aspx
 {:html
  "<p>Dnes mi přišel e-mail, že moje aplikace splnila podmínky pro přijetí do soutěže <a href=\"http://www.lcdzaweb.cz/\">LCD za web</a>. E-mail po mně požaduje kontaktní údaje, pro poslání trička a knihy. To jsem rád. Jal jsem se tedy prohlížet konkurenci v&#160;soutěži. Bohužel zajímavých aplikací, ať už funkčností nebo designem, jsem moc nenašel. Pár výjimek se však najde, jejich autorům gratuluji k&#160;pěkné práci.</p> <p>Bohužel většina přihlášených aplikací je postavena na Starter Kitu <strong>Personal web page</strong> nebo jeho klubové variantě. To by mi ani tak nevadilo, ale spousta lidí si ani nedala tu práci, aby něco změnila, třeba jenom text. Prostě si udělali nový projekt a uploadovali ho na server. Škoda, myslel jsem, že potkám spoustu zajímavých stránek od lidí, kteří jsou podobně postiženi jako já ;)</p> <p>Další várka prací je pro změnu nedostupná, buď obsahuje nějakou chybu – většinou ConnectionString na <a href=\"http://www.aspweb.cz/\">ASPWEBu</a> – nebo aplikace není vůbec.</p> <p>Ještě si neodpustím trochu jedovatou poznámku na adresu jednoho nešťastníka, který mi vykrádá obsah. Není to poprvé ani naposledy, ale smířit se s&#160;tím nehodlám. Psaní těch článků si vyžádalo nějaký můj čas i&#160;know-how a pak si je někdo zkopíruje, navíc ještě zkrátí, a podepíše se pod to. Nakonec se s&#160;tím přihlásí do stejné soutěže jako já a myslí si, že si toho nevšimnu. Dotyčnému už jsem napsal e-mail s&#160;<strong>prosbou o&#160;nápravu</strong>. Pokud tak v&#160;dohledné době neučiní, budu ho lynčovat po webovém způsobu…</p> <p>Ještě k&#160;mé účasti. Do soutěže jsem přihlásil svůj redakční systém Gryphoon, jenže z&#160;pochopitelných důvodů nemůžu nechat lidi procházet se v&#160;mojí administraci, ani kdybych jim ořezal práva. Proto bych hodnotící chtěl požádat, aby aplikaci hodnotili z&#160;frontendu, tedy takové věci, které mohou používat obyčejní čtenáři. Jsou tím například věci jako: Galerie, různé informační boxy, které se načítají z&#160;různých XML zdrojů, syndikační služba a další komponenty Gryphoonu. Děkuji za pochopení a držte mi palce, popřípadě <a href=\"http://www.lcdzaweb.cz/hlasuj.aspx\">mi pošlete svůj hlas</a>, mé soutěžní číslo je <strong>1025</strong>.</p> <!-- generated by Texy! -->",
  :keywords "LCD za web Gryphoon ASP.NET 2.0",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "O soutěži LCD za web",
  :published #inst "2005-12-05T14:49:56.323-00:00",
  :url "o-soutezi-lcd-za-web",
  :id 90,
  :description "Pár slov o soutěži LCD za web.",
  :category "ASP.NET 2.0",
  :tags []},
 :228-novy-unit-test-framework-pro-dotnet.aspx
 {:html
  "<p>Přibližně před dvěma týdny byla vypuštěna první beta verze nového testovacího frameworku <a href=\"http://www.codeplex.com/xunit\">xUnit.net</a>. Spousta lidí si říká, k čemu další framework – vždyť tu máme NUnit, MbUnit, MsTest – a navíc syntakticky nekompatibilní?</p> <p>xUnit.net přináší eleganci, jednoduchost a zdravý rozum. Byly zrušeny <em>SetUp</em>y a <em>TearDown</em>y a nahrazuje je <strong>IDisposable pattern a konstruktor</strong> (jednoduše elegantní), pro každý test je vždy vytvořena <strong>nová instance testovací třídy</strong>. <em>Assert</em>y byly revidovány a duplicitní či zbytečné byly odebrány.</p> <p>Framework je navržen tak, aby byl snadno rozšiřitelný o vlastní atributy, kterými můžete specifikovat vlastní akce (např. Authetifikaci) či požadavky. Součástí frameworku není žádný <em>mock</em>vací nástroj. K čemu také, když už tu máme skvělé <a href=\"http://www.ayende.com/projects/rhino-mocks.aspx\">Rhino Mocks</a>?</p> <h3 id=\"toc-nove-moznosti\">Nové možnosti</h3> <p>Běžnou praxí je na testy zakládat samostatný projekt, takže jsou testy v samostatné assembly. Pokud jste chtěli mít testy společně v jednom projektu s výkonným kódem mohli jste tak taktéž učinit. Jenže pořád je tu problém, pokud z nějakého důvodu potřebujete testovat privátní věci. Sice to je ukázka toho, že něco smrdí, ale stejně se to občas může hodit.</p> <p>xUnit.net totiž ruší atribut <code>TestFixture/TestClass</code> a při spouštění test prohledává všechny třídy na přítomnost metod s atributem <code>Test</code>. To nám umožňuje mít testovací metody v jedné třídě společně s výkonným kódem a testovat tak privátní členy bez nutnosti používat reflexi. Když už se k něčemu takovému rozhodnete je dobré ještě využít <code>partial class</code> a testy přesunout do samostatného souboru např. <code>Class.tests.cs</code></p> <p>Soubor SomeClass.cs:</p> <pre class=\"csharp\"><code>public partial class SomeClass { private bool _isDirty; private string _someText; public string SomeText { set { _isDirty = true; _someText = value; } } }</code></pre> <p>Soubor SomeClass.tests.cs</p> <pre class=\"csharp\"><code>public partial class SomeClass { [Test] private void SettingSomeTextMakesSomeClassDirty() { var testInstance = new SomeCLass(); Assert.False(testInstance._isDirty); testInstance.SomeTest = \"text\"; Assert.True(testInstance._isDirty); } }</code></pre> <p>Také je celkem dobré nechat takové testovací metody skryté před vnějším světem, tak že jim nastavíme modifikátor viditelnosti na <code>private</code>. xUnit.net umí spouštět i privátní a interní metody za účelem testování (platí pro beta2 a novější).</p> <p>Osobně se mi tento framework velice líbí a už jsem na něj přepsal <a href=\"http://www.codeplex.com/texynet/SourceControl/ListDownloadableCommits.aspx\">testy pro Texy.net</a>.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:21:42.263-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nový Unit Test Framework pro dotnet",
  :published #inst "2007-10-07T19:35:28.923-00:00",
  :url "novy-unit-test-framework-pro-dotnet",
  :id 228,
  :description
  "Na půdě Microsoftu vzniká nový open source framework pro \"jednotkové testy.\" Díky jeho eleganci se dají dělat i některé dosud těžko proveditelné testy.",
  :category "ASP.NET 2.0",
  :tags ["xunit" "untitesting" "rhinomocks"]},
 :107-houselesson-vol-4.aspx
 {:html
  "<p>01. Cloud 9 – How shall I rock thee (Antoine Clamaran Remix) 02. The Modern – Industry (Sebastian Ingrosso Mix) 03. Panjabi MC – Mundian to Bach Ke (Tocadisco Mix) 04. Robbie Rivera – Bizzare Love Triangle (Original Mix) 05. Who's Who? – Sexy Fuck 06. Basement Jaxx – Do You Thing (Robbie Rivera Mix) 07. Da Millo – Rockyabody 08. Dj DLG &amp; Laidback Luke – Ambition (Dj DLG Remix) 09. Cirez D – Copyrat 10. David Carretta – Lovely Toy (Electrosexual Remix) 11. Markus Stork &amp; Sheridan – Deep Flavour 12. Dj Tonio &amp; Laurent Ho – Jocker (Henrik B Remix)</p> <p>Ke stažení <a href=\"/files/alessio_busta_-_houselesson_vol_4.wma\" onclick=\"javascript:_gat._getTracker(\">Alessio Busta presents HouseLesson vol. 4</a> (WMA 96 kbps, 40,3 MiB)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T15:19:20.340-00:00",
  :is-published true,
  :author "alessio busta",
  :title "HouseLesson vol. 4",
  :published #inst "2006-02-09T12:48:32.460-00:00",
  :url "houselesson-vol-4",
  :id 107,
  :description "Další set z rukou Alessia Busty.",
  :category "Muzika",
  :tags []},
 :434-technologicky-radar.aspx
 {:html
  "<p><a href=\"http://devblog.cz/2012/10/thoughtworks-technology-radar-2012-10/\">Miro se na devblogu trošku rozepsal</a> o tom, co ho zaujalo <a href=\"http://www.thoughtworks.com/articles/technology-radar-october-2012\">v poslední vydání Technology Radaru</a> a na závěr vyzval k reakci. Tož tady je ta má.</p> <p>Technology radar sleduji již nějaký ten rok. Srovnávám si sním svůj pohled na to, co vypadá perspektivně a co ne. Často se dost shodujeme, občas rozcházíme. Ale takový je život. Já tu vypíchnu věci, který mě překvapily nebo zaskočily.</p> <h3 id=\"toc-nedelejte-feature-banching\">Nědělejte feature banching</h3> <p>S tímhle se ztotožňuji a preferuji chytřejší návrh, který umožňuje pružné nasazování featur změnou konfigurace a podle potřeby i za běhu. U služeb nebo produktů se tedy branchování vyhýbejte. Ale jak už to tak bývá, existují výjimky, kde se tato praktika naopak hodí. Jednou z nich jsou pull-requesty do OSS. Zde patří k etice odklonovat, odbranchovat a pak až dělat změny.</p> <h3 id=\"toc-micro-sluzby\">Micro služby</h3> <p>Tahle technika souvisí s předchozím bodem na úrovni komponent. Místo komponent máme malé nezávislé služby, které spolu spolupracují. Umožňuje to rozpadnout velké aplikace na dílčí služby, které se samy o sobě lépe udržují i vyvýjí. Zajímavé je, že ESB je naproti tomu v hold. Z mého pohledu micro služby s ESB souvisí a nebo jsem jen zatim nenašel lepší způsob provázání micro služeb.</p> <h3 id=\"toc-automatizace-vyvojarske-infrastruktury\">Automatizace vývojářské infrastruktury</h3> <p>Tohle je technika, kterou mi přineslo Continuous delivery. Na Webmiu jsme ji celkem slušně prověřili a dneska si bez ní nedovedu představit, že bych mohl pracovat. Rozhodně ne efektivně. Což pro změnu zase souvisí s následujícím bo­dem:</p> <h3 id=\"toc-rake-pro-automatizaci-java-i-net\">Rake pro automatizaci Java i .net</h3> <p>S tímhle bodem bych byl schopnej souhlasit u projektu, kde je zapotřebí buildit i na jiných platformách, než jsou Windows. Jako mackař, bych občas uvítal, možnost dělat všechno v MacOS a nemuset do Parallels. Nadruhou stranu mi syntaxe Psake a fakt, že má za sebou kompletní PowerShell, vyhovuje tak, že to jsem schopný skousnout. :)</p> <p>Takže tady se držím Psake, s kterým automatizuju nejem integrační build, ale i vývojářskou infrastrukturu. Jednoduchá syntaxe, mocný shell, snadná dokumentace scriptu, značná vyspělost tohoto nástroje a dostupnost na všech windows jsou pro mě jednoznačná plus.</p> <h3 id=\"toc-angular-a-knockout\">Angular a Knockout</h3> <p>U mě jasně hraje prim AngularJS. Můj přístup k vývoji aplikací je s ním velmi kompatibilní. Naproti tomu KO vychází ze zmetku MVVM, který vychází z nepochopení MVC/MVP. Dále je vidět, že autor je webem nepolíbený a všechno co dělá to akorát zdůrazňuje. Viz neprefixovaný <code>data-bind</code> atribut, syntaxe v něm použitá, vlastní „elementy“ definované pomocí komentářů a další podobná zvěrstva. Jo, jsou to detaily, ale pro ortodoxního webaře nepřekonatelný. :)</p> <h3 id=\"toc-meteor-js-a-dart\">Meteor.js a Dart</h3> <p>Meteor je v sekci hold a s tím souhlasím. Zatím tento framework ve mně vyvolává spíš rozpaky než nadšení. Dart se taky drží v holdu. Mě Dart zajímá z pohledu language designu a iženýringu, proč, co a jak dělaj. Ale že bych ho v následujích letech měl používat si nedovedu představit…</p> <h3 id=\"toc-f\">F#</h3> <p>Bohužel F# se na radaru moc nepohnul (stále trial) a myslím, že je to škoda. Doufám, že se to do příště změní, přesto, že Microsoft má F# spíš jako inkubátor zajímavých věcí (generics, type inference, async, type providers, immutable), který pak flákne do mainstreamových jazyků jako C# a VB. Mnozí si myslí, že jeho budoucnost a případné rozšíření je na Monu. MonoDevelop už má stabilní language binging, který si člověk nemusí ručně buildit. Mono má <code>fsc</code> i <code>fsi</code> v základní distribuci.</p> <p>F# je čistý jazyk, ve kterém jdou složité koncepty vyjadřovat jednoduše. Netrpí obskurní alegorickou dekorativností a při blbé inicializaci fieldu přes kontruktor nemusím psát třikrát stejný kód (sice ho za mě píše CodeRush, ale pořád je ve zdrojácích). V práci pořád C#, ale osobní projekty rozhodně v F#.</p> <h3 id=\"toc-nuget\">NuGet</h3> <p>Na předchozím projektu jsme NuGet používali pouze pro správu externích závislostí. Aktuálně ho používám i interně pro balíčkování komponent a tvorbu různých konfigurací produktu. K tomuhle tématu se snad ještě vrátím v samostatném spo­tu.</p> <h3 id=\"toc-konfigurace-v-dns\">Konfigurace v DNS</h3> <p>Na tohle se musim podívat blíž. Mám tušení, že to brzy použiju a snad se k tomu vrátím i tady na blogu. :)</p> <h3 id=\"toc-zaver\">Závěr</h3> <p>Tak to je můj zkrácený pohled na technologický radar. Jak ho vidíte vy?</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-10-31T10:14:28.737-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Technologický radar",
  :published #inst "2012-10-31T10:07:08.620-00:00",
  :url "technologicky-radar",
  :id 434,
  :description
  "Technology radar sleduji již nějaký ten rok. Srovnávám si sním svůj pohled na to, co vypadá perspektivně a co ne. Často se dost shodujeme, občas rozcházíme. Ale takový je život. Já tu vypíchnu věci, který mě překvapily nebo zaskočily.",
  :category "Moje práce",
  :tags []},
 :109-tohle-nechapu.aspx
 {:html
  "<p>Už je tomu více než rok, co jsem spokojeným uživatelem perfektní freemailové služby z&#160;dílny Google &#8211; GMail. Asi tak půl roku existuje Google Talk &#8211; instantní zprávař postavený na otevřených protokolech Jabber. Pokud chcete používat Talk, musíte mít GMail, což neni asi nepotěšitelné omezení. Před asi týdnem došlo k&#160;integraci Talku přímo do GMailu. Můžete chatovat přímo z&#160;GMailu se svými Talkovými a Jabber kontakty, historie zpráv se ukládá na serveru &#8211; další pozitivum.</p> <p>Ale teď k&#160;tomu proč tenhle spot píšu. Nová funkčnost je prozatím dostupná pouze v&#160;angličtině (ok tu mám stejně nastavenou) a v&#160;prohlížečích Firefox a Internet Explorer. Tady jsem si taky řekl &#8222;ok&#8220;, používám Netscape Browser 8.1&#160;postavenej na obou zmiňovaných. Těšil jsem se, že už brzo budu moc Talkovat přímo z&#160;GMailu, ale ouha. Dnes jsem náhoudou na GMail koukal ve Firefoxu a Talk mám dávno integrovaný, rychle mrknu do Netscapu &#8211; NIC.</p> <p>Tohle <strong>opravdu nechápu</strong>.</p> <p>PS. pokud máte zájem si to zkusit a podpořit mě (a nejen mě) v&#160;přechodu z&#160;ICQ, nabízím vám pozvánky do GMailu, takže neváhejte a pokud ještě GMail nemáte a chcete ho, napište mi.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-02-16T19:31:39.347-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Tohle nechápu",
  :published #inst "2006-02-15T19:25:02.963-00:00",
  :url "tohle-nechapu",
  :id 109,
  :description "O mých zkušenostech s GMailem.",
  :category "Webdesign",
  :tags []},
 :427-deploytime-feature-toggles.aspx
 {:html
  "<p>Často se při vývoji setkáme s potřebou některé featury zapínat a vypínat dle potřeby. Pokud děláme službu, tak se jistě hodí zainvestovat do systému <a href=\"http://rarous.net/weblog/404-prepinani-featur-a-vetveni-abstrakci.aspx\">feature toggles</a>, které jde zapínat/vypínat on-line nejlépe z administrativního rozhraní.</p> <p>Možnost výběru omezeného okruhu uživatelů a nebo vzorků podle nějakého kritéria jistě také není na škodu. Dá se tak dělat postupný deployment a featuru testovat na omezeném vzorku uživatelů, ale taky se to může hodit při A/B testování. Možnost z produkce stáhnout nefunkční/spadlou featuru bez nutného redeploye také ocení asi každý. Feature toggles jsou dobro. :)</p> <p>Ale co my, co zrovna neděláme služby a deployujeme k různým zákazníkům, různé featury, nás se to netýká? Ale ano. Koukneme se na jednu z možných technik deploytime feature toggles.</p> <p>Deploytime feature toggles jsou méně flexibilní, každá změna vyžaduje redeploy aplikace. Na druhou stranu nás můžou ochránit před nechtěným užíváním featur, které zákazník nemá zakoupené a náhodou objevil, jak se k nim dostat. Jak tedy na to?</p> <h3 id=\"toc-msdeploy\">MSDeploy</h3> <p>Začnu předpokladem, že deployment neděláte ručně přes FTP (SSH, VPN/RD) nebo E-mail. Teď neposlouchám…</p> <p>Ok. :) Dobře takže každý používá nějakou automatizaci deploye, nejlépe tu, kterou mu poskytuje jeho platforma. Ve Visual Studiu/IIS7 je nástroj zvaný MsDeploy, který slouží nejen k balíčkování, konfiguraci a deploymentu na webový server. Umí toho celkem dost, ale nám bude zatím stačit schopnost vytvářet deployovací balíčky. Je to taková ta funkce, která se skrývá v kontextové nabídce webového projektu pod názvem <code>Build Deployment Package</code>.</p> <h3 id=\"toc-feature-toggles\">Feature Toggles</h3> <p>Pro deploytime feature toggles nebudeme vymýšlet nějaké složitosti a využijeme to, co nám platforma nabízí. Využijeme integraci s MsBuildem. Já vím, psát deployovací scripty v XML je špatné, ale tohle je tak snadné, že to snad zvládne každý. Jdeme trošku pod povrch, takže zamávejte dialogům a GUI a zapněte si svůj oblíbený XML editor a otevřete si projektový soubor webového projektu (nebo prostě dejte <code>Unload Project</code> a pak <code>Edit *FooBar*.csproj</code> přes kontextovou nabídku nad projektem). Taky vám začalo být srdce rychleji? :)</p> <p>Dalším předpokladem je, že vývojová verze obsahuje všechny featury a toggles slouží jen k odebírání. Proto si nadefinujeme vlastnosti, které budou sloužit jako příznak pro odebrání featury.</p> <pre class=\"xml\"><code>&lt;PropertyGroup&gt; &lt;RemoveFoo Condition=\" '$(RemoveFoo)'=='' \"&gt;false&lt;/RemoveFoo&gt; &lt;RemoveBar Condition=\" '$(RemoveBar)'=='' \"&gt;false&lt;/RemoveBar&gt; &lt;/PropertyGroup&gt;</code></pre> <p>V aplikaci máme dvě featury <code>Foo</code> a <code>Bar</code>. <strong>Foo</strong> je featura, která je třeba jednou ASPX stránkou. <strong>Bar</strong> je pro změnu složena z controlleru a sady jeho views.</p> <pre class=\"xml\"><code>&lt;PropertyGroup&gt; &lt;ExcludeFilesFromDeployment Condition=\" '$(RemoveFoo)' == 'true' \"&gt; $(ExcludeFilesFromDeployment);Foo.aspx&lt;/ExcludeFilesFromDeployment&gt; &lt;ExcludeFoldersFromDeployment Condition=\" '$(RemoveBar)' == 'true' \"&gt; $(ExcludeFoldersFromDeployment);Views\\Bar&lt;/ExcludeFoldersFromDeployment&gt; &lt;/PropertyGroup&gt;</code></pre> <p><code>ExcludeFilesFromDeployment</code> a <code>ExcludeFoldersFromDeployment</code> jsou extension pointy pro balíčkovací target, kde můžete říct, co nemá být součástí výsledného balíčku. Můžete tak odebírat nejen stránky, ale i styly, scripty, assemblies… Prostě, co zrovna nepotřebujete. V ukázce používám <code>Conditional</code> atribut, kde se ptáme na hodnotu vlastností definovaných výše. Navíc, díky zanořené referenci <code>$(ExcludeFilesFromDeployment);</code> můžete mít takových toggles kolik potřebujete a hezky se poskládají podle konfigurace.</p> <p>Dost bylo hrabání se v XML a přejděme k té hezčí práci. :) K příkazové řádce.</p> <pre><code>msbuild FooBar.csproj /t:Package /p:RemoveFoo=true</code></pre> <p>Vypínání jednotlivých featur v balíčku řídíme pomocí parametrů MsBuildu, zde konkrétně máme vypnutou featuru <em>Foo</em>. S příchodem deployovacích profilů ve VS 2012, to možná půjde udělat ještě líp, ale to jsem zatím nezkoumal.</p> <h3 id=\"toc-zaver\">Závěr</h3> <p>Tohle samozřejmě funguje jen na fyzické odebírání featur z aplikace. Pokud potřebujete i logické odebírání, můžete k tomu využít třeba <a href=\"http://rarous.net/weblog/424-vlastni-transformace-konfiguracnich-souboru.aspx\">vlastní transformace konfigurace</a>.</p> <p>Příjemné deployování!</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-08-31T09:33:04.960-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Deploytime feature toggles",
  :published #inst "2012-08-30T12:38:43.723-00:00",
  :url "deploytime-feature-toggles",
  :id 427,
  :description
  "Často se při vývoji setkáme s potřebou některé featury zapínat a vypínat dle potřeby. Malá ukázka, jak to vypínat featury při deployi.",
  :category "Moje práce",
  :tags ["deployment"]},
 :422-je-povoleno-psat-kod-dvakrat.aspx
 {:html
  "<p>Ve světe pragmatických programátorů vládné všudepřítomné sucho (<acronym title=\"Don't Repeat Yourself\">DRY</acronym>), které rozlévají, kam až oko dohlédne. Jenže aplikovat jakoukoli poučku bez rozmyslu je cesta do sraček. :)</p> <p>Již nějakou dobu si dopřávám odpočinku a mám dost času přemýšlet. Přemýšlím i tom, kde děláme jako vývojáři chybu. Proč je většina kódu špatná? Vždyť se snažíme ho udržovat čistý, trávíme týdny refaktorováním, jen aby byl kód fit, a hlavně se neopakujeme! Ano, neopakujeme, neopakujeme, neopak…</p> <blockquote> <p>Repetitio mater studiorum</p> </blockquote> <p>Tak určitě a je v tom pěkný bordel.</p> <p>Už se vám určitě stalo, že jste celý den, dva něco psali, pak jste o to blbou náhodou přišli. Zálohy žádný. Co teď? Musíte to napsat znovu. A najednou vám to zabere jen hodinu nebo tři, ale ne celý den. Dokonce jste s výsledkem možná spokojenější. Čím to, sakra, je?</p> <p><a href=\"http://blog.8thlight.com/dave-moore/2012/06/20/what-do-developers-do-all-day.html\">Vývojařina není psaní kódu!</a> Jde o mix zkoumání problému, hledání jeho <span title=\"ano, více\">možných řešení</span>, návrh výsledného řešení, samotná realizace a následné ověření. No, zní to trochu jako vodopád, ale někteří lidé potřebují sekvenční schema. Jiní na poslední tři (někdy i na všechny) použijí <acronym title=\"Test Driven Development\">TDD</acronym>.</p> <p>Když, děláme <a href=\"http://coderetreat.cz/\">CodeReatreaty</a>, tak první session je určená právě na zkoumání problému a hledání možných řešení. Každý by se nad problémem měl zamyslet, dekomponovat ho na podproblémy a zkusit najít obrysy schůdné cesty. Na víc mu čas stejně nezbyde. Vzhledem k tomu, že je tam dalších 10, 15 lidí, kteří zkoumají ten samý problém a každý má jiný pohled na věc, vznikne z toho zajímavý den, proplněný různými implementacemi stejného problému. Kód se za každou session zahazuje a začíná se vždy načisto. Nové nápady, jak psát lepší kód, nejsou zadušeny starou implementací.</p> <p>Důležité je se naučit zahazovat <span title=\"můj kód nemůže být nikdy špatný, vždyť jsem ho psal já\">špatný kód</span>. Opakovat se, psát ho znovu.</p> <p>Většina softwaru trpí tím, že programátoři jsou spokojeni, když najdou jedno fungující řešení a jdou od válu. Celý den lepili kousíčky různě vygooglenýho kódu, aby vyřešili problém a teď by to měli <strong>zahodit? Ano!</strong> Víte, tohleto googlení a lepení je právě <strong>průzkumná fáze</strong>, kdy se tepreve učíte a <strong>nic dobrého z toho nevyleze</strong>. Pokud průzkumnou fází projdete s řešením, víte, že tudy cesta vede. Vraťte se na začátek a začněte se kochat. :) Sedněte si s někým do páru a použijte v klidu osvědčené techniky.</p> <p>Kent Beck říká něco takového:</p> <blockquote> <p>Není nic špatného na tom psát kód sám a bez testů, pokud zrovna zkoumáte zajímavý problém a hledáte, zda má vůbec řešení. Jakmile to řešení najdete, ok, víte, že cesta tudy vede. Smažte ten kód, sežente si partnera a napište to společně pomocí TDD.</p> </blockquote> <p>A já s ním naprosto souhlasím.</p> <p>A vám, <span title=\"zdravím Dušane\">teď probliklo hlavou</span>, „ale můj PM s tím souhlasit nebude. Vždyť všechno píšu dvakrát, sežere to mnohem víc času.“ Kdepak! Pokud se shodnem na tom, že když píšeme kód podruhé, píšeme ho rychleji a lépe, tak to znamená, že příští průzkumničení bude díky menším překážkám rychlejší! Ve výsledku budete trávit možná stejně času, možná o málo víc, nad stejnými úkoly jako dřív, ale budete mít <em>mnohem</em> – <strong>mnohem</strong> – kvalitnější software. Nebo snad chcete dál odevzdávat makety a prototypy?</p> <p>Pište kód dvakrát, ale nezanechávejte duplicity!</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-06-25T12:05:56.167-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Je povoleno psát kód dvakrát",
  :published #inst "2012-06-25T10:52:22.627-00:00",
  :url "je-povoleno-psat-kod-dvakrat",
  :id 422,
  :description
  "Ve světe pragmatických programátorů vládné všudepřítomné sucho. Někdy až příliš velké sucho.",
  :category "Moje práce",
  :tags ["xp" "tdd"]},
 :140-ie7-beta-2.aspx
 {:html
  "<p>Je tomu tak právě byla vydáná <strong>skutečná beta2</strong> IE7. Verze, které byly dosud, byly pouze Beta2 Preview. Dnešní release by měl přinést opravu, chyb které byly reportovány díky Preview verzím. Beta 2, bude uvolněna i&#160;v němčině, arabštině, japonštině a finštině :) Čeština ve výčtu chybí ;) Dalšími důležitými releasy by měla být WinVi Beta 2, IE7 beta3, následovaná RCčkama a finální verze bychom se měli dočkat někdy v&#160;druhé půlce tohoto roku. (osobně tipuju konec listopadu)</p> <p>Pokud se rozhodnete pro <a href=\"http://www.microsoft.com/windows/ie/downloads/default.mspx\">instalaci IE7b2</a> nezpoměňte nejprve <a href=\"http://www.dgx.cz/trine/item/jak-odinstalovat-ie7-beta/category/web-design\">odinstalovat předchozí IE7</a> verze! Pokud se vám to, stejně jako mně, nepovede &#8211; smazal jsem si restorepointy :D &#8211; dejte vědět, přes mail vám napovím, jak na to ;)</p> <h3>Doplnění</h3> <p>Tak už jsem vyzkoušel a tady jsou mé postřehy:</p> <ul> <li>Lehká změna UI, nyní je decentnější, jemnější a konzistentnější, změna neji nikterak markatní, ale je příjemná</li> <li>Renderovací chyby asi zůstaly : pořád se mi rozpadají kulaté rohy v&#160;<a href=\"http://www.gmail.com/\">GMailu</a>, floatování taky ještě neni OK (viz taby na <a href=\"http://www.atlas.cz/\">titulce Atlasu</a>)</li> <li>Pravděpodobně došlo k&#160;odstarnění některých chyb v&#160;JavaScriptu &#8211; začal mi fungovat <a href=\"http://reader.google.com/\">Google Reader</a>, který Preview verzi spolehlivě odstřelil.</li> </ul> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-25T09:57:17.910-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "IE7 beta 2",
  :published #inst "2006-04-25T09:55:00.000-00:00",
  :url "ie7-beta-2",
  :id 140,
  :description
  "Komentář k uvolnění skutečné Beta2 Internet Exploreru 7 s pár postřehy, co se změnilo.",
  :category "Webdesign",
  :tags []},
 :200-amapy-api-v-praxi.aspx
 {:html
  "<p>Udělal jsem dvě ukázky použití <a href=\"http://amapy.atlas.cz/api\">API nových Atlasích map</a>. První ukázkou je <a href=\"http://rarous.net/weblogy/2.0-alfa2/georss-catcher.htm\">generátor GeoRSS a GeoURL</a> tagů vybráním místa na mapě. Druhou ukázkou je budoucí mash-up Weblogy API a AMapy API, který zobrazuje <a href=\"http://rarous.net/weblogy/2.0-alfa2/weblogy-map.htm\">mapu blogerů z Weblogy.cz</a>. Teď už možná chápete, k čem je první ukázka dobrá ;)</p> <p>Happy coding.</p> <h3 id=\"toc-update\">Update</h3> <p>Množí se případy s hláškou chybný GUID. Proto čtěte pozorně. :) Pro to aby bylo možné API používat je nutné si <a href=\"http://amapy.atlas.cz/api/registration.aspx\">vygenerovat GUID</a> pro „konkrétní URL“ na stránkách AMapy API. Pokud chcete použít ukázky u sebe, musíte si změnit GUID pro svoji URL. Děkuji za pochopení.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:41:20.493-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "AMapy API v praxi",
  :published #inst "2007-01-29T22:12:38.287-00:00",
  :url "amapy-api-v-praxi",
  :id 200,
  :description
  "Udělal jsem dvě ukázky použití API nových Atlasích map.",
  :category "Webdesign",
  :tags ["atlas" "amapy" "api"]},
 :370-mikroformaty-jako-datovy-model-stranky.aspx
 {:html
  "<p>Dříve, když jsem psal webové aplikace, kde bylo potřeba hodně JavaScriptu, aby se dosáhlo pohodlné práce, duplikoval jsem data. Ano, je to tak a stydím se za to. Většina dat, které se na stránce vypisovaly, byla duplicitní. Jednou byly v <acronym title=\"Hypertext Markup Language\">HTML</acronym> a podruhé v <acronym title=\"JavaScript Object Notation\">JSON</acronym>, aby se s nimi dalo snadno pracovat v JavaScriptu. Jenže všichni víme, že duplikování je zlo. :)</p> <p>V <a href=\"http://www.trop.cz/\">Tropu</a> jsem se tomuto nešvaru snažil vyhnout. A tak je většina dat ve stránkách označena mikroformáty. Výhodou mikroformátů je, že jsou snadno strojově zpracovatené. Tudíž i JavaScriptem. Pokud se třeba podíváte na detail místa (např. <a href=\"http://www.trop.cz/v/13\">The Pub na Staroměstské</a>) uvidíte mapku, kde je bublina s kontaktními údaji místa. Tato data nejsou v žádném JSON ve stránce, ani se nestahují AJAXovým dotazem. Script jednoduše vezme data z mikroformátu <a href=\"http://microformats.org/wiki/hcard\">hCard</a> včetně geo souřadnic, kde se má bublina vykreslit.</p> <p>Podobný model je aplikován na různých místech Tropu.</p> <h3 id=\"toc-mikroformaty-vs-rdfa\">Mikroformáty vs. RDFa</h3> <p>Myslím, že v tomto případě se i ukazuje, že mikroformáty jsou lepší než RDFa. Protože parsovat mikroformáty pomocí jQuery je mnohem snažší a přehlednější. RDFa je možná flexibilnější v tom, kolik gramatik dokáže pojmout, ale to je i jeho zásadní slabinou. Mikroformáty definují jednoduché formáty, které staví na jednoduchém modelu HTML. Existují nástroje, díky nimž lze s nimi snadno pracovat.</p> <h3 id=\"toc-mikroformaty-a-asp-net-mvc\">Mikroformáty a ASP.NET MVC</h3> <p>Úžasnou novinkou ASP.NET MVC 2 bude extenze <code>Html.DisplayFor</code>, kde se vytvoří jediná šablona třeba s vizitkou uživatele a pak jí mužu používat všude, aniž bych někde na něco zapomněl nebo něco nabořil. Dnes musím mít několik extenzí pro různé typy dat, kde mám navíc kód přímo v extenzi. Sice je jednoduchý, ale čím méně HTML v C# kódu, tím lépe. (On to tedy není přímo HTML kód, ale jeho objektová reprezentace.)</p> <p>Práce s mikroformáty tak bude mnohem jednodušší a ucelenější. :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-11-18T12:51:04.070-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Mikroformáty jako datový model stránky",
  :published #inst "2009-11-18T12:47:56.843-00:00",
  :url "mikroformaty-jako-datovy-model-stranky",
  :id 370,
  :description
  "Dříve, když jsem psal webové aplikace, kde bylo potřeba hodně JavaScriptu, aby se dosáhlo pohodlné práce, duplikoval jsem data. Jenže všichni víme, že duplikování je zlo. :)",
  :category "Webdesign",
  :tags ["microformats" "aspnet" "mvc" "rdfa" "trop"]},
 :48-hlavne-diskretne.aspx
 {:html
  "<p>Včéra jsem podruhé absolvoval zkoušku z&#160;Diskrétní matematiky a logiky. Nevím jestli jsem nebyl dostatečně diskrétní, ale v&#160;důsledku jsem zase vyhořel :( což není moc povzbudivé. Obvzvlášť, když další termíny jsou plně obsazené. Nu což čeká mě oprava v&#160;létě, do tý doby všechno krásně zapomenu (otázkou je jestli je co zapomenout).</p> <p>Po písemné části jsem měl takový dobrý pocit, že už by to za tu lidovku mohlo být, ale paní prof. Demlová tento pocit nezdílela. Když jsme čekali na ústní část, dozvěděl jsem se od pár lidí, že už tam jsou potřetí, hmm.</p> <p>Pak přišla ona a začala číst jména, bylo jich hodně. &#8222;Aha,&#8220; říkal jsem si, &#8222;asi čte ty, co to dali.&#8220; Pozorně jsem poslouchal a vtom uslyšel své jméno, ale nevěděl jsem přesně, co to znamená. Pak jsme se odebrali do místnosti, kde nám rozdala písemky. &#8222;Hmm, tak zase nic.&#8220; Na deskách se vyjímalo hodnocení 1 1/4 bodu. Závěrem zbývá podotknout, že na zmánku <em>dobře</em> je zapotřebí zisku alespoň 3&#160;bodů.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:54:29.427-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Hlavně diskrétně",
  :published #inst "2005-02-17T00:00:00.000-00:00",
  :url "hlavne-diskretne",
  :id 48,
  :description "",
  :category "Škola",
  :tags []},
 :71-gigi-dagostino-v-hany-bany.aspx
 {:html
  "<p>Já a jsem vyzvedl Pira a Vendy na hl. nádraží kolem půl osmý a rovnou jsme vyrazili směr Kongresové centrum. Na místě už bylo několik hloučků vyznavačů Gigiho muziky, byli mezi nimi a tací, kteří neměli ještě vstupenky :) Pozdravili jsme se s&#160;pár lidma a zamířili do hospody. Tam jsme se trošku připravili na nenízké ceny v&#160;Hany Bany. Potkali jsme tam další dvě skupinky fanoušků&#8230;</p> <p>Asi v&#160;půl desátý jsme vyrazili do Hany. Před vstupem lehká fronta, trapný vyhazovači, co nás hezky vošahali&#8230; utrhnout lístek a jsme tam. Piro s&#160;Vendy ještě skočili do šatny s&#160;věcma. Pak jsme zamířili k&#160;parketu, cestou nás zdravili lidi, o&#160;kterých dosud nevím co jsou zač, ale zdravil jsem je taky :) První cesta byla na záchod, ta Plzeň byla celkem močopudná. Po návratu z&#160;WC zamířil Piro ke klukům z&#160;<a href=\"http://www.gigi.cz\">Gigi.cz</a> a za chvíli se přišli pozdravit i&#160;se mnou. Pak jsme tam nějak jako i&#160;tancovali. Pak jsme potkali mášu.</p> <p>Zanedlouho jsme se přemístili k&#160;Gigi.cz, zapili jsme setkání a udělali <a href=\"http://forum.gigi.cz/uploads/gigicz.jpg\">společné foto</a>, pak jsme si šly udělat místo na parketu, v&#160;první řadě, něco přes hodinu jsme tancovali a pak přišel <strong>on</strong>. Dav skandoval &#8222;Gi gi gi gi gi&#8230;&#8220;, na pódiu se objevila zpěvačka a snažila se něco pěkného zazpívat, dav nepřeřvala&#8230; Gigi do jejího zpěvu začal pouštět muziku (nějakou klasiku), v&#160;davu to začalo vřít, každou změnu v&#160;rytmu, náležitě ocenil.</p> <p>Do klasiky začal přimíchávat svoji klasiku &#8211; Uomo Suono &#8211; Passo Passo :) nejdřív jen bassline a postupně i&#160;screamy, bomba! Pak Popcorn a už to jelo&#8230; <a href=\"http://forum.gigi.cz/index.php?showtopic=42&amp;st=20#entry546\">Tracklist</a> jsem už psal do fóra. Během vystoupení i&#160;okolo něj fotil Piro jako blázen (něco kolem 180&#160;fotek a pár videí), takže až je zpracuje, můžete se na ně těšit v&#160;<a href=\"http://ggdag.euweb.cz/fotky\">nově otevřené galerii</a>, kde už pár fotek z&#160;téhle akce je. Jestli někdo máte zájem svoje fotky z&#160;<strong>mini tour</strong> u&#160;nás vystavit, neváhejte mě <a href=\"mailto:rarous@seznam.cz?subject=fotky_z_akce\">kontaktovat</a>.</p> <!-- generated by Texy! -->",
  :keywords "Gigi D'Agostino Hany Bany Praha report",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Gigi D'Agostino v Hany Bany - report z akce",
  :published #inst "2005-09-26T17:17:29.000-00:00",
  :url "gigi-dagostino-v-hany-bany",
  :id 71,
  :description
  "Gigi konečně přijel do Prahy, tady je report z průběhu akce.",
  :category "Muzika",
  :tags []},
 :151-intellisense-pro-sql.aspx
 {:html
  "<p>Red Gate vydali novou verzi <a href=\"http://www.red-gate.com/products/sql_prompt/index.htm\">SQL Prompt</a>, což je skvělá utilitka, schovaná v trayi, které rozpozná, když píšete SQL dotazy v jakémkoli editoru, a vyhodí vám nabídku Intellisense s možnými keywordy, tabulkami, sloupcemi apod. Umí dokonce formátovát dotazy, aby byly přehlednější. Tak na co ještě čekáte, když <a href=\"http://www.red-gate.com/products/sql_prompt/index.htm\">je to zdarma</a>? :D</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:36:45.850-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Intellisense pro SQL",
  :published #inst "2006-05-22T19:32:24.163-00:00",
  :url "intellisense-pro-sql",
  :id 151,
  :description
  "Skvělá věc, kterou potřebuje každý vývojář, který pracuje s T-SQL.",
  :category "Webdesign",
  :tags ["intellisense" "sql"]},
 :255-method-chaining-vs-fluent-interface.aspx
 {:html
  "<p>Přes <a href=\"http://www.devlogy.cz/\">Devlogy.cz</a> jsem narazil na článek <a href=\"http://interval.cz/\">Intervalu</a> s názvem <a href=\"http://php.interval.cz/clanky/fluent-interfaces/\">Fluent Interfaces</a>, ve kterém autor popisuje <a href=\"http://martinfowler.com/dslwip/MethodChaining.html\">Method Chaining</a>. Kde udělal kolega Mrozek chybu?</p> <p>V definici vážení! :)</p> <blockquote> <p>Takzvané „Fluent Interface“ (česky též „plynulé rozhraní“ nebo „řetězcovité volání“) je způsob spojování metod <strong>jednoho objektu</strong>, který usnadňuje předávání pracovního kontextu objektu.</p> </blockquote> <p>Plynulé rozhraní totiž jde za hranice jednoho objektu. Umožňuje kontextově navazovat třeba celé API do jedné věty. Často se jako návratový typ dané metody používá nějaké rozhraní. Důležité také je, že plynulá rozhraní se používají k tvorbě <acronym title=\"Domain Specific Language\">DSL</acronym>.</p> <p>To jsem dneska zase rozepsal…</p> <p>Přišli jste sem z RSS čtečky? Zkontrolujte si prosím, zda máte správnou URL feedu <a href=\"http://feeds.feedburner.com/rarous-weblog\">http://feeds.feedburner.com/rarous-weblog</a>. Děkuji</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-02-03T11:25:49.487-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Method Chaining vs. Fluent Interface",
  :published #inst "2008-02-03T11:24:55.363-00:00",
  :url "method-chaining-vs-fluent-interface",
  :id 255,
  :description
  "Přes Devlogy jsem narazil na článek Intervalu s názvem Fluent Interfaces, ve kterém autor popisuje Method Chaining. Kde udělal kolega Mrozek chybu?",
  :category "ASP.NET 2.0",
  :tags []},
 :234-problem-se-sql-server-compact-edition.aspx
 {:html
  "<p>Píšu takovou malou aplikaci, která používá SQL Compact Edition pro ukládání dat a Castle ActiveRecord jako persistenční vrstvu. Očekával jsem, bezproblémové použití, ale chyba lávky. To bych přišel o námět na tenhle spot.</p> <p>Napoprvé jsem chtěl využít služeb LINQ to SQL, ale ten si s SQL CE moc nerozumí (tj. vůbec). Tak jsem tedy sáhl po ActiveRecord o kterém jsem četl, že se SQL CE umí (díky NHibernatu). Přidal jsem DB do projektu, nastavil konfiguraci následujícně:</p> <pre class=\"xml\"><code>&lt;activerecord&gt; &lt;config&gt; &lt;add key=\"hibernate.dialect\" value=\"NHibernate.Dialect.MsSqlCeDialect\" /&gt; &lt;add key=\"hibernate.connection.driver_class\" value=\"NHibernate.Driver.SqlServerCeDriver\" /&gt; &lt;add key=\"hibernate.connection.provider\" value=\"NHibernate.Connection.DriverConnectionProvider\" /&gt; &lt;add key=\"hibernate.connection.connection_string\" value=\"Data Source=DbFile.sdf;\" /&gt; &lt;/config&gt; &lt;/activerecord&gt;</code></pre> <p>Spustím testy. Nic, spadlo to na výjimce, že NHibernate nemůže vytvořit Driver pro SQL CE. Po chvilce hledání jsem našel, že se musí u reference na <code>Syste.Data.SqlServerCe</code> nastavit vlastnost <strong>Copy Local</strong> na <em>True</em> a to i u testovacího projektu!</p> <p>Tak jsem zas o něco chytřejší :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:15:27.433-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Problem ActiveRecord se SQL CE",
  :published #inst "2007-11-27T20:17:43.537-00:00",
  :url "problem-se-sql-server-compact-edition",
  :id 234,
  :description
  "Píšu takovou malou aplikaci, která používá SQL Compact Edition pro ukládání dat a Castle ActiveRecord jako persistenční vrstvu. Očekával jsem, bezproblémové použití, ale chyba lávky. ",
  :category "ASP.NET 2.0",
  :tags ["castle" "activerecord" "sqlce" "sql"]},
 :206-nova-era-klientskeho-programovani.aspx
 {:html
  "<p>Ještě jsem se ani pořádně neohřál ve studených vodách JavaScriptu a přichází mi vysvobození! Microsoft konečně vypustil novou verzi <acronym title=\"Common Language Runtime\">CLR</acronym>, která je součástí plug-inu Silverlight (dříve známý pod kódovým označením „WPF/E“). Co je na tom tak vysvobozujícího?</p> <p>Microsoft vzal CLR 2.0, trochu ho přepracoval, přibyla nová vrstva <acronym title=\"Dynamic Language Runtime\">DLR</acronym>, která ulehčuje portaci dynamických jazyků (Python, Ruby, ECMA Script, VB Script) na platformu dotnet. K CLR přibalil základní knihovny .net frameworku, potažmo jejich podmnožinu, a zabalil to do plug-in o velikosti 4,5 MiB, který funguje v prohlížečích IE, Firefox a Safari a zanedlouho přibyde i podpora pro Operu. Pokud jste četli pozorně určitě jste si všimli <em>Safari</em>, ano tento plug-in funguje i na OS X! Odteď můžeme tedy psát klientské „skripty“ v C#, VB.NET nebo třeba v <a href=\"http://www.codeplex.com/IronPython\">IronPythonu</a>. Brzy by měla přijít i podpora IronRuby, ECMA Scriptu 3.0 a VBx (VB Script).</p> <p><a href=\"http://www.silverlight.net/\">Silverlight</a> umožňuje psát graficky zajímavé, interaktivní aplikace, které jsou součástí HTML stránky, stylem na který jste zvyklí při psaní serversidu nebo WPF. Můžete také použít stávající assembly i na klientovi, bez nutnosti rekompilace.</p> <p>Otázkou zůstává, zda-li se Silverlight dokáže prosadit na trhu, kde už vládne Flash/Flex…</p> <h3 id=\"toc-souvisejici\">Související</h3> <ul> <li><a href=\"/weblog/198-prinasi-microsoft-novou-generaci-webu.aspx\">Přináší Microsoft novou generaci webu?</a></li> <li>Borek Bernard: <a href=\"http://www.borber.com/blog/prvni-detaily-o-wpf-e\">První detaily o WPF/E</a></li> <li>Dev::Info: <a href=\"http://dev20.info/microsoft-silverlight-dal-i-do-ringu-k-adobe-flex\">Microsoft Silverlight – další do ringu k Adobe Flex</a></li> <li>Brad Abrams: <a href=\"http://blogs.msdn.com/brada/archive/2007/04/30/silverlight-poster.aspx\">Silverlight Poster…</a></li> <li>Jesse Ezell: <a href=\"http://weblogs.asp.net/jezell/archive/2007/05/03/silverlight-vs-flash-the-developer-story.aspx\">Silverlight vs. Flash: The Developer Story</a></li> <li>C|net News: <a href=\"http://news.com.com/8301-10784_3-9714669-7.html\">Silverlight on Linux? We're in, says Mono founder</a></li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:40:33.427-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nová éra klientského programování",
  :published #inst "2007-05-03T07:35:44.970-00:00",
  :url "nova-era-klientskeho-programovani",
  :id 206,
  :description
  "Ještě jsem se ani pořádně neohřál ve studených vodách JavaScriptu a přichází mi vysvobození! Microsoft Silverlight.",
  :category "Webdesign",
  :tags ["dotnet" "silverlight" "plugin" "dlr"]},
 :9-nova-mobilmania.aspx
 {:html
  "<p>Po delší době jsem navštívil stránky <a href=\"http://www.mobilmania.cz\">mobilmánie</a> a užasl jsem. Pravděpodobně je předělali do stylů, nebo co to mělo znamenat? Když pominu milion DIVů a tabulkovou hlavičku, tak ten web hodně ztratil na přístupnosti. Ta minulá verze byla opravdu mnohem použitelnější a nejde jen o&#160;nezvyk. Jestli se autoři snažili o&#160;něco, co se stalo na <a href=\"http://mobil.idnes.cz\">Mobil.cz</a>, tak se jim to opravdu nepovedlo, to nemají na nějakého profíka? Znám plno amatérských webů, které, jsou na mnohem větší úrovni.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nová MobilMania",
  :published #inst "2004-03-04T10:00:00.000-00:00",
  :url "nova-mobilmania",
  :id 9,
  :description "Nepovedený redesign Mobilmánie.",
  :category "Webdesign",
  :tags []},
 :381-zalezi-na-jazyku.aspx
 {:html
  "<p>Považuji se za C# vývojáře, ale každý den používám spoustu dalších jazyků. Je znalost jazyka opravdu to, co z nás dělá programátory?</p> <dl> <dt>C#</dt> <dd>Jazyk, který používám pro psaní serverových částí webových aplikací, konzolových utilit a služeb. Imperativní objektový jazyk s funkcionálními vlastnostmi se hodí skoro na všechno.</dd> <dt>Boo</dt> <dd>Boo používám hlavně na části, které se mohou u aplikace měnit i po zkompilování aplikace. Jeho silnou vlastností je tvorba <acronym title=\"Domain Specific Language\">DSL</acronym> a díky tomu je konfigurace aplikací příjemnou záležitostí.</dd> <dt>JavaScript</dt> <dd>Původně jsem se JavaScriptu vyhýbal a neměl jsem ho rád. Pak jsem mu ale přišel na chuť a zjistil, jak moc pěkný jazyk to je a co všechno se s ním dá dělat. Používám výhradně na oživení webových stránek.</dd> <dt>PowerShell</dt> <dd>S tímto jazykem teprve začínám, ale některé jeho vlastnosti jsou opravdu zajímavé. Snažím se v něm psát scripty pro automatizaci některých rutin na serverech.</dd> <dt>MSBuild</dt> <dd>XML jazyk, který používám pro build a deployment scripty. V nové verzi podporuje i vkládání PowerShell scriptů a stává se tak ještě zajímavějším nástrojem.</dd> <dt>XHTML</dt> <dd>Další XML jazyk, který používám pro tvorbu prezentační části webových aplikací.</dd> <dt>CSS</dt> <dd>Ovládnutí tohoto jazyka může vypadat jako hračka, ale často rozeznáte mistry od obyčejných dělníků. Používám pro stylování prezentační části webových aplikací.</dd> <dt>T-SQL</dt> <dd>Dotazovací jazyk do databází není mojí nejsilnější zbraní, ale přesto v něm dokážu napsat některé zajímavé věci. S tím, že používám NHibernate, se mi nutnost jeho použití trochu snižuje, ale stejně člověk potřebuje občas udělat nějaké změny ve schematu nebo nějaký report.</dd> <dt>Texy!</dt> <dd>Tahle syntaxe mi pomáhá při psaní textů na web takřka denně.</dd> </dl> <p>Sešla se mi tu sbírka devíti jazyků, které používám takřka denně ke svojí práci, a to jsem schválně opomněl všechny ty XML dialekty pro různé konfigurace. :)</p> <p>Jazyk je pouze nástroj a každý se hodí k jinému účelu. Stává se, že některé jazyky si najdou cestičku, jak se dostat do jiných a mnohdy je to výhoda. Obzvlášť, pokud oba známe. Samozřejmě je dobré mít povědomí i o jiných jazycích, jejichž myšlenky nás mohou obohatit i v našem oblíbeném jazyce.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-02-26T07:44:43.860-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Záleží na jazyku?",
  :published #inst "2010-02-26T07:43:23.513-00:00",
  :url "zalezi-na-jazyku",
  :id 381,
  :description
  "Považuji se za C# vývojáře, ale každý den používám spoustu dalších jazyků. Je znalost jazyka opravdu to, co z nás dělá programátory?",
  :category "Jen tak",
  :tags []},
 :386-aktualizace-vypisu-na-strance-pomoci-rx.aspx
 {:html
  "<p>Včera jsem začal implementovat <a href=\"/weblog/385-casovy-vypis-s-aktualizaci.aspx\">aktualizaci času na výpisu</a> typu <em>friend feed</em>. Dnes se podíváme na to, jak si zjednodušit práci s asynchronním voláním na server. Samozřejmě opět s využitím jQuery a Reactive Extensions.</p> <h3 id=\"toc-asynchronni-volani\">Asynchronní volání</h3> <p>Asynchronní volání je z pohledu šetření zdroji výhodné, ovšem z hlediska psaní a údržby kódu už to taková sláva není. Proto nám na pomoc přicházejí <acronym title=\"Reactive eXtensions\">Rx</acronym>, které asynchronní operace převádějí na neblokující lineární kód.</p> <p>Pojďme hned k dnešní ukázce, která bude o dost jednodušší než včera. Ale použitá technika a principy zůstávají stejné:</p> <pre class=\"php\"><code>Rx.Observable. Interval(60000). Select(getFeedUpdates). Switch(). SelectMany(function(result) { return $(result).find('.hentry').toArray().reverse().toObservable(); }). Subscribe(function(entry) { var feed = $('.hfeed') feed.prepend(entry); $('.hentry:last', feed).remove(); });</code></pre> <p>Opět vytvářím <code>Observable</code> objekt, který něco vystřelí jednou za minutu. Tajemství funkce <code>getFeedUpdates</code> si nechám na později. A rovnou se vrhnu na zpracování dorazivších výsledků. Výsledkem mého asynchronního volání je kus HTML kódu s vygenerovaným feedem s novými příspěvky. Z tohohle kusu HTML si vyberu jen elementy s třídou <code>hentry</code>. Ty jsou seřazeny podle data sestupně, ale já chci feed aktualizovat postupně od nejstarších příspěvků k nejnovějším, takže je otočím funkcí <code>reverse</code> a pošlu je do světa jako <code>Observable</code> objekty.</p> <p>Nakonec se přihlásím k odběru těchto jednotlivých příspěvků pomocí operátoru <code>Subscribe</code>. Když mi nějaký příspěvek přilítne, tak ho vezmu a dám ho na začátek feedu a potom odeberu poslední záznam, aby se nám feed na stránce nenatahoval. Takže jsme elegantně zvládli příjem nových příspěvků. A jak je vlastně načítáme?</p> <pre class=\"php\"><code>function getLastActivityDate() { return $('.hfeed&gt;.hentry .updated .value-title').first().attr('title'); } function getFeedUpdates() { var subject = new Rx.AsyncSubject(); var data = { lastActivity: getLastActivityDate() }; jQuery.post(\"url\", data, function(result, status) { if (status == \"success\") { subject.OnNext(result); subject.OnCompleted(); } else { subject.OnError(result); } }); return subject.AsObservable(); }</code></pre> <p>Funkce <code>getLastActivityDate</code> načte datum posledního zobrazeného příspěvku, které slouží k načtení novějších příspěvků ze serveru. Opět k tomu využívám mikroformátu <code>hAtom</code> a jeho konkrétní implementaci v mé stránce.</p> <p>Podívejme se ale raději na další funkci. To je výše zmiňovaná <code>getFeedUpdates</code>, která nám transformuje asynchronní volání na objekt <code>Observable</code> a to pomocí třídy <code>AsyncSubject</code>. Povšimněte si, že v callbacku asynchronního volání vrátím přes closure data do subjektu, který už je tou dobou pozorován první ukázkou kódu.</p> <p>Když přijde odpověď od serveru, je zavolána metoda <code>OnNext</code>, která vyhodí přijatá data dál ke zpracování. A vzhledem k tomu, že na jeden dotaz asi více odpovědí nepřijde, tak taky ukončíme vysílání výsledků pomocí metody <code>OnComplete</code>. Kdyby náhodou něco na serveru selhalo, máme tu ještě metodu <code>OnError</code>, jejíž zpracování nikde neřeším. :)</p> <p>Ale vězte, že chyby můžete zpracovávat stejně snadno jako normální data.</p> <p>No a to je pro dnešek vše. Tuhle ukázku si bohužel vyzkoušet nemůžete, protože k ní už je zapotřebí i serverová část a ta ještě není venku. Příště se možná podíváme, jak pomocí Rx snadno a rychle vytvořit poměrně sofistikovaný našeptávač.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-05-25T06:52:23.760-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Aktualizace výpisu na stránce pomocí Rx",
  :published #inst "2010-03-24T15:55:17.677-00:00",
  :url "aktualizace-vypisu-na-strance-pomoci-rx",
  :id 386,
  :description
  "Dnes se podíváme na to, jak si zjednodušit práci a asynchronním voláním na server. Budeme aktualizovat feed pomocí mikroformátu, jQuery a Rx.",
  :category "Webdesign",
  :tags ["javascript" "jquery" "rx" "trop" "microformats"]},
 :286-zapisujeme-mikroformaty-pomoci-texy.aspx
 {:html
  "<p>Mým oblíbeným značkovacím jazykem je <a href=\"http://texy.info/\" title=\"The best text → HTML converter and formatter\">Texy!</a> Léta jsme na ní zvyklý, ostatně používám ji i tady na blogu. Mikroformáty jsou téma, které mě zajímá v poslední době. Pojďme si přiblížit jejich užití v Texy!</p> <p>O tom, co jsou mikrofomáty se třeba dočtete na <a href=\"http://www.microformats.cz/\">Microformats.cz</a>. Pokud se vám to nechce dohledávat, tak vězte, že jde o kusy (X)<acronym title=\"Hypertext Markup Language\">HTML</acronym> kódu, které mají vyšší sémantiku. Začněme tedy s jednoduchými ukázkami.</p> <h3 id=\"toc-rel-design-pattern\">rel-design-pattern</h3> <p>Jedním z nejjednodušších vzorů je užití atributu <code>rel</code> u odkazů. Tento atribut se používá k označení vztahu k odkazovanému dokumentu. Odkazy se dají v Texy zapsat několika způsoby, já s oblibou využívám reference, které vypisuju na konci dokumentu. Pro mne je to pak mnohem přehlednější, mít všechny odkazy na jednom místě.</p> <pre class=\"texy\"><code>[rarous]: http://rarous.net/#kontakt Aleš Roubíček .{rel:me} [david]: http://davidgrudl.com/ David Grudl .{rel:friend met} [tag microformats]: http://technorati.com/tag/microformats Microformats .{rel:tag} [clanek(282)]: /weblog/282-mikroformaty-v-hledani-yahoo.aspx Mikroformáty v hledání Yahoo .{rel:bookmark}</code></pre> <p>V předchozí ukázce jsem použil <a href=\"http://microformats.org/wiki/rel-design-pattern\">vzor rel</a> při definici mikroformátů <a href=\"http://gmpg.org/xfn\"><acronym title=\"XHTML Friends Network\">XFN</acronym></a>, <a href=\"http://microformats.org/wiki/rel-tag\">rel-tag</a> a permalink z HTML4.</p> <h3 id=\"toc-vizitky-hcard\">vizitky hCard</h3> <p>O něco pokročilejším mikroformátem je <a href=\"http://microformats.org/wiki/hcard\">hCard</a>.</p> <pre class=\"texy\"><code>/--div .[vcard] ==Aleš Roubíček .[fn] vývojář webových aplikací .[job] Web: - [rarous] E-mail: - [email] Telefon: - +420737461283 .[tel] \\--div [rarous]: http://rarous.net/ .[url]{rel:me} [email]: ales@roubicek.name .[email]</code></pre> <p>Takto nějak může být v Texy zapsaná vizitka – kontaktní informace. Je to zkrácená verze, toho co mám <a rel=\"me\" href=\"/#kontakt\">v kontaktu</a> na titulce.</p> <h3 id=\"toc-tracklisty-haudio\">tracklisty hAudio</h3> <p>Dalším mikroformátem, který se může hodit je <a href=\"http://microformats.org/wiki/haudio\">hAudio</a>, sloužící k popisu hudebních děl.</p> <pre class=\"texy\"><code>/--div .[haudio] 1. \"Dubfire .[contributor]\" - \"Emissions .[title]\" .[item] 2. \"Steve Angello .[contributor]\" - \"Trix .[title]\" .[item] 3. \"Delete .[contributor]\" - \"Flight Schedule .[title]\" .[item] 4. \"Gui Borato .[contributor]\" - \"The Rivington .[title]\" .[item] 5. \"Lutzenkirchen .[contributor]\" - \"Kobalt .[title]\" .[item] 6. \"Solaris Heights .[contributor]\" - \"No Trance .[title]\" (Popof Remix) .[item] 7. \"System 7 .[contributor]\" - \"Space Bird .[title]\" (Dubfire Remix) .[item] Ke stažení \"dj set .[category]\" [download] (MP3 128 kbps; 36,4 MiB) \\--div [download]: http://rarousmusic.com/mp3/alessio_busta_-_seven-rm.mp3 \"Alessio Busta .[contributor]\" - \"Seven .[title]\" .{rel:enclosure}</code></pre> <p>Tohle je například živá ukázka ze včerejšího <a rel=\"bookmark\" href=\"/weblog/285-alessio-busta-seven.aspx\">vydání setu Seven</a>.</p> <h3 id=\"toc-zaver\">Závěr</h3> <p>Doufám, že jsem předvedl pár praktických ukázek užití mikroformátů v Texy! Nejsem si jistý, zda lze syntaxí Texy pokrýt všechny možné nuance mikroformátu, ale ona k tomu ani není přímo určena. Každopádně mnohé lze užívat bez problémů. Zajímavým cvičením dnes pro mne bylo, jak v Texy zapisovat Texy :)</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a rel=\"bookmark\" href=\"/weblog/282-mikroformaty-v-hledani-yahoo.aspx\">Mikroformáty v hledání Yahoo</a></li> <li><a rel=\"bookmark\" href=\"/weblog/267-vkladani-data-do-stranky.aspx\">Vkládání data do stránky</a></li> <li><a rel=\"bookmark\" href=\"/weblog/256-mikroformaty-duvod-proc-pouzivat-xhtml.aspx\">Mikroformáty – důvod proč používat XHTML</a></li> <li><a href=\"http://www.microformats.cz/\">Microformats.cz</a></li> </ul> </div> <p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/microformats\">Microformats</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/texy\">Texy!</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:15:39.257-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zapisujeme mikroformáty pomocí Texy!",
  :published #inst "2008-06-24T08:49:21.033-00:00",
  :url "zapisujeme-mikroformaty-pomoci-texy",
  :id 286,
  :description
  "Mým oblíbeným značkovacím jazykem je Texy! Léta jsme na ní zvyklý, ostatně používám ji i tady na blogu. Mikroformáty jsou téma, které mě zajímá v poslední době. Pojďme si přiblížit jejich užití v Texy!",
  :category "Webdesign",
  :tags ["microformats" "texy" "xfn" "rel-tag" "hcard" "haudio"]},
 :165-asynchronni-strankovani-v-asp-net.aspx
 {:html
  "<p>V jednom z komentářů k článku <a href=\"/clanek/132-zaciname-s-atlasem-2.aspx\">Začínáme s Atlasem 2</a> se komentující ptal na to, jak může docílit toho, aby se nenačítala MasterPage celá, ale pouze ContentPages. To jsem označil za nepochopení MasterPages, protože ty slouží pouze jako šablony společných prvků pro skupinu stránek. MasterPages slouží k udržení jednotného vzhledu a struktury stránek a k pomyslnému oddělení obsahu a zbytku stránky dochází pouze na serveru. Na klienta se posílá pouze jedna jediná stránka – složená z mástru a obsahu. Je to zkrátka něco jako razítko na výkresu, jednotlivá políčka musíte vyplnit sami a výkres je také nedělitelný :).</p> <p>Tazatel však chtěl docílit efektu framů, kde by se načítal jen měnící se obsah a zbytek zůstal v prohlížeči. Jedním z možných řešení je využití ASP.NET komponenty <code>asp:MultiView</code> společně s ASP.NET ‚Atlas‘. To si nyní představíme podrobněji…</p> <p>Komponenta <em>MultiView</em> je novou kompozitní komponentou v ASP.NET 2.0, která je přímou příbuznou <a href=\"/clanek/106-samanismus-v-asp-net-2-0.aspx\"><em>Wizardů</em></a>. MultiView je elegantnějším řešením tam, kde se dříve využívali skrývané Panely a s množstvím různých panelů na stránce docházelo k velikému zmatku. Nesměli jste zapomenout jedny panely schovat a další zase naopak zobrazit. MultiView pouze zadáte index požadovaného pohledu, který se má zobrazit. Doporučení hodnou praktikou je si pro jednotlivé pohledy vytvořit výčet (enumeraci). Kód pak získá větší přehlednost a i po několika týdnech budete vědět o jaký pohled šlo ;).</p> <p>Tak jsme si teoreticy probrali komponentu MultiView a nyní si ukážeme praktickou ukázku. Takže mějme následující MasterPage:</p> <pre class=\"xml\"><code>&lt;%@ Master Language=\"C#\" %&gt; &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt; &lt;html xmlns=\"http://www.w3.org/1999/xhtml\" lang=\"cs\" xml:lang=\"cs\"&gt; &lt;head runat=\"server\"&gt; &lt;title&gt;Ukázky s ASP.NET 'Atlas'&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;form id=\"form1\" runat=\"server\"&gt; &lt;div&gt; &lt;h1&gt;Ukázky s ASP.NET 'Atlas'&lt;/h1&gt; &lt;asp:contentplaceholder id=\"ContentPlaceHolder1\" runat=\"server\"&gt; &lt;/asp:contentplaceholder&gt; &lt;p&gt;&amp;copy;2006 Aleš Roubíček. Některá práva vyhrazena. creative commons&lt;/p&gt; &lt;/div&gt; &lt;/form&gt; &lt;/body&gt; &lt;/html&gt;</code></pre> <p>K ní vytvoříme následující ContentPage:</p> <pre class=\"xml\"><code>&lt;%@ Page Language=\"C#\" MasterPageFile=\"Atlas.master\" Title=\"Ukázka MultiView\" %&gt; &lt;script runat=\"server\"&gt; enum PageViews { First = 0, Second = 1 } protected void FirstViewButton_Click(object sender, EventArgs e) { PagesMultiView.ActiveViewIndex = (int)PageViews.First; } protected void SecondViewButton_Click(object sender, EventArgs e) { PagesMultiView.ActiveViewIndex = (int)PageViews.Second; } &lt;/script&gt; &lt;asp:Content ID=\"Content1\" ContentPlaceHolderID=\"ContentPlaceHolder1\" Runat=\"Server\"&gt; &lt;asp:LinkButton ID=\"FirstViewButton\" runat=\"server\" Text=\"První stránka\" OnClick=\"FirstViewButton_Click\"&gt;&lt;/asp:LinkButton&gt; &lt;asp:LinkButton ID=\"SecondViewButton\" runat=\"server\" Text=\"Druhá stránka\" OnClick=\"SecondViewButton_Click\"&gt;&lt;/asp:LinkButton&gt; &lt;asp:MultiView ID=\"PagesMultiView\" runat=\"server\" ActiveViewIndex=\"0\"&gt; &lt;asp:View ID=\"FirstView\" runat=\"server\"&gt; &lt;h2&gt;První stránka&lt;/h2&gt; &lt;p&gt;Obsah první stránky.&lt;/p&gt; &lt;/asp:View&gt; &lt;asp:View ID=\"SecondView\" runat=\"server\"&gt; &lt;h2&gt;Druhá stránka&lt;/h2&gt; &lt;p&gt;Obsah druhé stránky.&lt;/p&gt; &lt;/asp:View&gt; &lt;/asp:MultiView&gt; &lt;/asp:Content&gt;</code></pre> <p>Tato stránka obsahuje dvě tlačítka a jeden MultiView. Tlačítka mají nastarosti přepínat pohledy. Přepínání je prováděno v ovladačích události <em>Click</em>. Prozatím nic úchvatného, máme stránku, která umí přepínat svůj obsah, ale stejně se vždy musí poslat požadavek na server, kde se přepne pohled a pak se odešle nová celá stránka. To neřeší náš problém :( Naštěstí konečné řešení je velice blízko :) Stačí oživit stránku pomocí ASP.NET ‚Atlas‘. Výsledná ContentPage bude vypadat následujícně:</p> <pre class=\"xml\"><code>&lt;%@ Page Language=\"C#\" MasterPageFile=\"Atlas.master\" Title=\"Ukázka MultiView\" %&gt; &lt;script runat=\"server\"&gt; enum PageViews { First = 0, Second = 1 } protected void FirstViewButton_Click(object sender, EventArgs e) { PagesMultiView.ActiveViewIndex = (int)PageViews.First; } protected void SecondViewButton_Click(object sender, EventArgs e) { PagesMultiView.ActiveViewIndex = (int)PageViews.Second; } &lt;/script&gt; &lt;asp:Content ID=\"Content1\" ContentPlaceHolderID=\"ContentPlaceHolder1\" Runat=\"Server\"&gt; &lt;atlas:ScriptManager ID=\"ScriptManager1\" runat=\"server\" EnablePartialRendering=\"true\"&gt; &lt;/atlas:ScriptManager&gt; &lt;asp:LinkButton ID=\"FirstViewButton\" runat=\"server\" Text=\"První stránka\" OnClick=\"FirstViewButton_Click\"&gt;&lt;/asp:LinkButton&gt; &lt;asp:LinkButton ID=\"SecondViewButton\" runat=\"server\" Text=\"Druhá stránka\" OnClick=\"SecondViewButton_Click\"&gt;&lt;/asp:LinkButton&gt; &lt;atlas:UpdatePanel ID=\"ViewUpdate\" runat=\"server\" RenderMode=\"Block\"&gt; &lt;ContentTemplate&gt; &lt;asp:MultiView ID=\"PagesMultiView\" runat=\"server\" ActiveViewIndex=\"0\"&gt; &lt;asp:View ID=\"FirstView\" runat=\"server\"&gt; &lt;h2&gt;První stránka&lt;/h2&gt; &lt;p&gt;Obsah první stránky.&lt;/p&gt; &lt;/asp:View&gt; &lt;asp:View ID=\"SecondView\" runat=\"server\"&gt; &lt;h2&gt;Druhá stránka&lt;/h2&gt; &lt;p&gt;Obsah druhé stránky.&lt;/p&gt; &lt;/asp:View&gt; &lt;/asp:MultiView&gt; &lt;/ContentTemplate&gt; &lt;Triggers&gt; &lt;atlas:ControlEventTrigger ControlID=\"FirstViewButton\" EventName=\"Click\" /&gt; &lt;atlas:ControlEventTrigger ControlID=\"SecondViewButton\" EventName=\"Click\" /&gt; &lt;/Triggers&gt; &lt;/atlas:UpdatePanel&gt; &lt;/asp:Content&gt;</code></pre> <p>Tímto máme hotovo. Při změně pohledu dojde k asynchronnímu načtení pouze vnitřku stránky a zbytek MasterPage zůstane v prohlížeči.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:27:14.550-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Asynchronní stránkování v ASP.NET",
  :published #inst "2006-07-04T21:05:53.947-00:00",
  :url "asynchronni-strankovani-v-asp-net",
  :id 165,
  :description
  "Ukázka využití komponenty MultiView s ASP.NET 'Atlas' k asynchronnímu stránkování prezentovaných dat.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "ajax"]},
 :138-prvni-prakticka-ukazka-pouziti-atlasu.aspx
 {:html
  "<p>Když už jsem v&#160;<a href=\"/clanek/136-texy-rpc-wrapper-pro-dotnet.aspx\">minulém spotu</a> napsal takovou pěknou webovou službu, proč ji nevyužít k&#160;praktické ukázce využití Atlasu :) Následůjící kód převádí zadaný text v&#160;Texy syntaxu na XHTML a zobrazí ho do stránky s&#160;polečně s&#160;výpisem získaného kódu.</p> <pre class=\"xml\"><code>&lt;%@ Page Language=\"C#\" %&gt; &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt; &lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt; &lt;head id=\"Head1\" runat=\"server\"&gt; &lt;title&gt;Texy Converter v Atlasu&lt;/title&gt; &lt;style type=\"text/css\"&gt; .bordered {border:3px double #CCC;} .pre {font-family:monospace;} &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;form id=\"form1\" runat=\"server\"&gt; &lt;atlas:ScriptManager ID=\"ScriptManager1\" runat=\"server\" /&gt; &lt;div&gt; &lt;fieldset&gt; &lt;legend&gt;Převést Texy! do XHTML&lt;/legend&gt; &lt;label for=\"texyInput\"&gt;Texy kód&lt;/label&gt; &lt;br /&gt; &lt;textarea id=\"texyInput\" cols=\"80\" rows=\"12\"&gt; ukázkový kód v \"Texy!\":[http://www.texy.info] &lt;/textarea&gt; &lt;br /&gt; &lt;input type=\"button\" id=\"convertButton\" value=\"Převeď\" /&gt; &lt;/fieldset&gt; &lt;!-- Zprava behem nacitani dat --&gt; &lt;div id=\"progress\"&gt;Načítám data...&lt;/div&gt; &lt;!-- Placeholder pro vystup --&gt; &lt;div id=\"output\"&gt; &lt;h2&gt;Formátovaný text&lt;/h2&gt; &lt;div id=\"xhtmlOutput\" class=\"bordered\"&gt;&lt;/div&gt; &lt;h2&gt;XHTML kód&lt;/h2&gt; &lt;div id=\"textOutput\" class=\"bordered pre\"&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/form&gt; &lt;script type=\"text/xml-script\"&gt; &lt;page xmlns:script=\"http://schemas.microsoft.com/xml-script/2005\"&gt; &lt;components&gt; &lt;control id=\"output\" visible=\"false\" /&gt; &lt;control id=\"progress\" visible=\"false\" /&gt; &lt;label id=\"xhtmlOutput\"&gt; &lt;bindings&gt; &lt;binding id=\"resultsBinding1\" dataContext=\"texyService\" dataPath=\"result\" property=\"text\" automatic=\"false\" /&gt; &lt;/bindings&gt; &lt;/label&gt; &lt;label id=\"textOutput\" htmlEncode=\"true\"&gt; &lt;bindings&gt; &lt;binding id=\"resultsBinding2\" dataContext=\"texyService\" dataPath=\"result\" property=\"text\" automatic=\"false\" /&gt; &lt;/bindings&gt; &lt;/label&gt; &lt;textBox id=\"texyInput\" /&gt; &lt;button id=\"convertButton\"&gt; &lt;click&gt; &lt;invokeMethod target=\"texyService\" method=\"invoke\" /&gt; &lt;setProperty target=\"progress\" property=\"visible\" value=\"true\" /&gt; &lt;/click&gt; &lt;/button&gt; &lt;serviceMethod id=\"texyService\" methodName=\"ConvertToXhtml\" url=\"/ws/TexyService.asmx\"&gt; &lt;bindings&gt; &lt;binding property=\"parameters\" propertyKey=\"text\" dataContext=\"texyInput\" dataPath=\"text\" /&gt; &lt;/bindings&gt; &lt;completed&gt; &lt;invokeMethod target=\"resultsBinding1\" method=\"evaluateIn\" /&gt; &lt;invokeMethod target=\"resultsBinding2\" method=\"evaluateIn\" /&gt; &lt;setProperty target=\"output\" property=\"visible\" value=\"true\" /&gt; &lt;setProperty target=\"progress\" property=\"visible\" value=\"false\" /&gt; &lt;/completed&gt; &lt;/serviceMethod&gt; &lt;/components&gt; &lt;/page&gt; &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;</code></pre> <p>Celá ukázka se obešla bez napsání jediného řádku JS kódu &#8211; byla použita deklarativní metoda :) Na ukázce neni moc zvláštností. Jde o&#160;standardní ASP.NET stránku s&#160;přidaným <code>ScriptManagerem</code>, formulářem pro zadávání textu a placeholdery pro vypsání výsledku. Následuje <strong>XML-Script</strong> a tomu se podíváme na zoubek.</p> <p>Prvním krokem je přidání komponent &#8211; navázání HTML prvků s&#160;objektovým modelem Atlasu. Přidal jsem <code>output</code> a zneviditelnil ho, aby se neukazovaly prázdné divy a nadpisy před příchodem dat. Přidal jsem další dva divy jako <code>label</code>y, které načítají data z&#160;webové služby, a ten druhý encoduje HTML na entity.</p> <p>Přidání <code>textBox</code>u&#160;pro vstup je samozřejmostí :) Odesílacímu tlačítku přiřadíme ovladač události <code>click</code> a nastavíme, aby odeslal data webové službě a zobrazil box s&#160;výsledkem. Poslední komponentou je samotná služba. Ta má pouze jeden vstupní parametr <code>text</code>, který je svázaný s&#160;hodnotou vstupního políčka.</p> <p>A&#160;pokud proběhla komunikace se službou v&#160;pořádku a máme výsledek, svážeme ho s&#160;výstupními placeholdery. A&#160;to je pro dnešek vše, přátelé. Na případné dotazy rád odpovím v&#160;komentářích.</p> <h3>Doplnění</h3> <p>Díky věcné <a href=\"/clanek/138-prvni-prakticka-ukazka-pouziti-atlasu.aspx#km144\">připomínce</a> Petra v&#160;komentářích jsem doplnil zobrazení zprávy o&#160;průběhu akce při probíhající komunikaci se službou. Díky ;)</p> <p><a href=\"http://rarous.net/ukazky/texy-atlas.aspx\">Ukázka aplikace</a></p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-26T10:30:58.243-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "První praktická ukázka použití Atlasu",
  :published #inst "2006-04-25T21:46:00.000-00:00",
  :url "prvni-prakticka-ukazka-pouziti-atlasu",
  :id 138,
  :description
  "Další díl seriálu o Atlas frameworku, tentokrát praktická ukázka. (Rozšířeno o Progress)",
  :category "ASP.NET 2.0",
  :tags []},
 :254-david-se-vrhl-na-goliase-xhtml.aspx
 {:html
  "<p>DGX se rozhodl vydat článek s titulkem <a href=\"http://latrine.dgx.cz/konecne-pravda-o-xhtml-a-html\">Konečně pravda o XHTML a HTML</a> a moudře zakázal komentáře, protože toto je stále téma, které dokáže pěkně blafnout. Díky tomu můžu napsat svůj komentář u sebe.</p> <ol> <li>Dovolil bych si nesouhlasit s následujícím tím, úryvkem, z části <a href=\"http://latrine.dgx.cz/konecne-pravda-o-xhtml-a-html#toc-mytus-html-dovoluje-prasarny-ktere-vam-v-xhtml-neprojdou\">Prasárny</a>. <blockquote> <p>XHTML kód zase třeba používáním řetězců abc, AbC, aBC pro různé třídy.</p> </blockquote> <p>Hodnoty atributů <code>class</code> a <code>id</code> jsou stejně case-sensitive jak v HTML, tak v XHTML. Pokud se tak nechoval např. Netscape 6-, byla to chyba jeho interpreteru CSS.</p> </li> <li>Můj názor na DTD v XHTML je již nějakou dobu celkem jasný – přináší jen problémy, stěžuje rozšiřitelnost. Užívejme raději schéma a jmenné prostory. Jediný důvod k použití DTD v XHTML je, bohužel, přepínání prohlížeče do standard modu.</li> <li>Dle mého názoru je velkou výhodou XHTML v čisté podobě to, že je lépe čitelné pro lidského čtenáře, protože se může lépe orientovat (vizuálně), kde daný element končí a kde začíná.</li> </ol> <p>Největším problémem bezesporu je XML samotné. Jeho striktnost a jednoznačnost vyvolává v kreativní části lidstva ranní nevolnost. Jak jinak si vysvětlit, že ani relativně velké firmy nejsou schopné dodávat dobře sestavené dokumenty?</p> <p>Tagy: <a href=\"http://technorati.com/tag/xhtml\">XHTML</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:46:37.923-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "David se vrhl na Goliáše XHTML",
  :published #inst "2008-02-03T09:08:10.667-00:00",
  :url "david-se-vrhl-na-goliase-xhtml",
  :id 254,
  :description
  "Z titulku můžete vyčíst tajnou šifru DGX. Snad jsem toho neprozradil moc... Aneb moje reakce na článek „Konečně pravda o XHTML a HTML.“",
  :category "Webdesign",
  :tags ["xhtml"]},
 :233-chyba-v-kompilatoru-csharp30.aspx
 {:html
  "<p>Po prvních dnech s novým Visual Studiem 2008 jsem narazil na menší problém v kompilátoru C# 3.0. Když jsem si v práci otevřel náš Opus, nešel zkompilovat, ačkoli v 2005 je vše ok. Problém byl v tom, že nový kompilátor má problémy rozpoznat plné nesystémové namespacy a tak např. zápis <code>Atlas.Web...</code> chápe jako <code>Atlas.Opus.Atlas.Web...</code>. Takový namespace neexistuje a pak nejde kód zkompilovat.</p> <p>Ukázka zkráceného kódu, kde může nastat chyba:</p> <pre class=\"csharp\"><code>namespace Atlas.Opus.Web { public class SomeClass { // nejaky kod tridy var value = Atlas.Web.Utils.Config.GetInt32(\"key\"); // tady // dalsi kod tridy } }</code></pre> <p>Řešení se nabízejí přinejmenším dvě.</p> <ol> <li>Použít globální identifikátor např. <code>global::Atlas.Web...</code>, čímž se problém vyřeší, ale zápis je ještě o kousek delší, než by musel být.</li> <li>Tam, kde to jde, použít <code>using</code> namespace.</li> <li>Tam, kde hrozí kolize názvů tříd, použít aliasy pomocí klíčového slova <code>using</code> např. <code>using utils = Atlas.Web.Utils;</code> a v kódu pak upravit volání na <code>utils::Config...</code>.</li> </ol> <p>Je to docela zajímavá vlastnost, že nová verze kompilátoru interpretuje namespacy jinak než předchozí verze. Naneštěstí je to vlastnost nepěkná a přináší v některých případech práci navíc.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:16:13.870-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Chyba v kompilátoru C# 3.0",
  :published #inst "2007-11-27T11:28:04.070-00:00",
  :url "chyba-v-kompilatoru-csharp30",
  :id 233,
  :description
  "Po prvních dnech s novým Visual Studiem 2008 jsem narazil na menší problém v kompilátoru C# 3.0.",
  :category "ASP.NET 2.0",
  :tags ["csharp" "compilator"]},
 :148-rucni-strankovani-v-gridview.aspx
 {:html
  "<p><a href=\"http://aspnet.4guysfromrolla.com/demos/printPage.aspx?path=/articles/031506-1.aspx\">http://aspnet&#173;.4guysfromrolla&#173;.com/&#8230;intPage&#173;.aspx?&#8230;</a></p> <p><a href=\"http://aspnet.4guysfromrolla.com/demos/printPage.aspx?path=/articles/032206-1.aspx\">http://aspnet&#173;.4guysfromrolla&#173;.com/&#8230;intPage&#173;.aspx?&#8230;</a></p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2007-01-12T14:11:30.923-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Ruční stránkování v GridView",
  :published #inst "2006-05-12T13:24:49.340-00:00",
  :url "rucni-strankovani-v-gridview",
  :id 148,
  :description
  "Chcete zvýšit výkon a snížit objem přenášených dat u stránkování komponent svázaných s daty? Pokračujte ve čtení...",
  :category "ASP.NET 2.0",
  :tags []},
 :291-nforms-na-codeplexu.aspx
 {:html
  "<p>Na Codeplexu se objevil nový opensource projekt a není to nic menšího než <a href=\"http://www.codeplex.com/nforms\">NForms</a>. Zatím jste se o nich mohli jen dočíst u mě na blogu a prakticky vyzkoušet taktéž tady – přidávání komentářů frčí na NForms. Nyní však máte jedinečnou možnost stáhnout si zdrojáky, poučit se z nich, <a href=\"http://www.codeplex.com/nforms/WorkItem/List.aspx\">nahlásit chyby</a> nebo <a href=\"http://www.codeplex.com/nforms/Thread/List.aspx\">diskutovat</a> náměty na vylepšení, zkompilovat, spustit testy a konečně nasadit a používat ve vlastních projektech.</p> <p>No není to skvělé?</p> <h3 id=\"toc-k-cemu-je-to-dobre\">K čemu je to dobré?</h3> <p>NForm jsem napsal jako programátorské cvičení. Líbila se mi <a href=\"http://davidgrudl.com/\">Davidova</a> myšlenka, chtěl jsem napsat něco v C# 3.0… Jenže je to taky docela užitečná věc. Daj se pomocí toho snadno vytvářet znovupoužitelné formuláře nezávislé na infrastruktuře. Můžete je používat jak v klasickém <a href=\"http://asp.net/\">ASP.NET</a> modelu (můžete použít více než jeden formulář na stránce), tak v <a href=\"http://asp.net/mvc\">MVC</a> nebo <a href=\"http://www.codeplex.com/websf/Release/ProjectReleases.aspx?ReleaseId=8812\">MVP</a> modelu.</p> <h3 id=\"toc-dalsi-vyvoj\">Další vývoj</h3> <p>Aktuálně připravuju podrobnější <a href=\"http://www.codeplex.com/nforms\">dokumentaci na wiki</a>, ale pro začátek jistě bude stačit pár mých spotíků tady na blogu, příklady užití najdete v Unit Testech, popřípadě další moudra najdete v nedokonalých XML komentářích v samotném kódu.</p> <p>Při psaní wiki jsem už našel nějaké možnosti pro vylepšení, tak až bude připraveno, hodím je zase na Codeplex. Stay tuned…</p> <p>Časem bych chtěl přidat podporu validace na straně klienta. Zatím se generují jen některé třídy, na které lze napojit vlastní implementace v JavaScriptu, ale není to nic pro složitější validaci…</p> <h3 id=\"toc-credits\">Credits</h3> <p>Musím <a href=\"http://www.latrine.cz/vyzva-udelejme-davidkovi-radost\">poděkovat Davidovi</a> za inspiraci, NForms jsou značně obšlehnuté od <a href=\"http://nettephp.com/\">Nette::Forms</a> (dříve známé jako NForms), trochu inspirace jsem pobral i u <a href=\"http://www.djangoproject.com/documentation/forms/\">New Forms z djanga</a>, některé zajímavé nápady, jak využít novinky C# 3.0 pro změnu z <a href=\"http://asp.net/mvc\">ASP.NET MVC</a>. Takže díky!</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a rel=\"bookmark\" href=\"/weblog/245-nforms-pro-asp-net.aspx\">NForms pro ASP.NET</a></li> <li><a rel=\"bookmark\" href=\"/weblog/247-validace-v-nforms-pro-asp-net.aspx\">Validace v NForms pro ASP.NET</a></li> <li><a rel=\"bookmark\" href=\"/weblog/284-temer-novy-rarous-weblog.aspx#toc-nforms-v-akci\">NForms v akci</a></li> <li><a href=\"http://nettephp.com/\">PHP framework Nette</a></li> <li><a href=\"http://www.djangoproject.com/documentation/forms/\">django New Forms</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:11:31.113-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "NForms na Codeplexu",
  :published #inst "2008-08-16T13:59:02.903-00:00",
  :url "nforms-na-codeplexu",
  :id 291,
  :description
  "Vydal jsem první veřejnou verzi zdrojových kódů formulářového pomocníka NForms pro ASP.NET. Najdete ji na Codeplexu.",
  :category "ASP.NET 2.0",
  :tags ["codeplex" "nforms"]},
 :417-texy-js-prvni-dojmy.aspx
 {:html
  "<p>Posledních pár týdnů jsem koketoval s myšlenkou zase se pokusit o vlastní implementaci Texy!, abych jí mohl pohodlnějš používat na svých projektech. <a href=\"http://texynet.codeplex.com/\">Texy.net</a> sice funguje, ale má své neduhy. <a href=\"http://rarous.net/weblog/64-texy-web-service-ws.aspx\">Texy WS</a> jsem používal na několika projektech, ale zas jí chybí pořádné API. Proto jsem chtěl něco nativního. Portovat to ale do C# už se mi nechtělo. Rozhodoval jsem se mezi implementací v F# nebo v JavaScriptu.</p> <h3 id=\"toc-vyhral-javascript\">Vyhrál JavaScript</h3> <p>JavaScript je dneska všude a ať budu svůj další projekt chtít psát v čemkoli je velká pravděpodobnost, že <a href=\"https://github.com/rarous/Texy.js\">Texy.js</a> využiju. Tak, jako před lety bylo pro původní Texy! PHP jasnou volbou – PHP bylo na většině serverů, dnes je jasnou volbou JavaScript. Běží jak v browseru, což může mnoho věcí, co se dají s Texy! dělat, zpříjemnit, tak na serverech – ať už v podobě Node.js nebo implementací pro VM.</p> <p>JavaScript je navíc jazyk, který dokáže psát/číst kde kdo. Je velká šance, že se do <a href=\"https://github.com/rarous/Texy.js\">otevřeného vývoje</a> zapojí další lidé, kteří nejsou nutně sběhlí v F# nebo dotnetu. Navíc je JavaScript celkem pěkným jazykem, ikdyž si to lidé často nemyslí. Rozhodl jsem se psát to v ECMA Scriptu 5, řídit vývoj pomocí TDD a držet čistý kód. Zároveň se nebojím toho, že někdo objeví moji chybu, proto když píšu tak i často pushuju. Čím dřív někdo chybu objeví, tím líp. Chyby děláme všichni, důležité je na to přijít co nejdříve.</p> <p>JavaScript není objektovým jazykem, ale zato je slušným funkcionálním jazykem, proto v kódu zatím moc typů nenajdete, spíš hodně funkcí. Měla by to být taková skládačka jednoduchých a čistých funkcí. Texy.js chce být minimalistická a neexpanzivní.</p> <h3 id=\"toc-borkuv-boj\">Borkův boj</h3> <p>Od začátku dostávám od @borekb spoustu dotazů, ale vzhledem k našim opačným biorytmům se moc nestřetáváme, abych mohli vést kvalitní dialog. :) Tady se pokusím osvětlit několik jeho dotazů.</p> <p>Texy.js píšu ve <a href=\"http://www.jetbrains.com/webstorm/\">WebStormu</a> a pro běh testů požívám <a href=\"http://code.google.com/p/js-test-driver/\">JsTestDriver</a>, který je součástí poslední verze. Projekt zatím není moc contributors friendly, protože jsem na něm trávil zatím jen pár hodin minulý víkend. A v tomto omezeném čase jsem chtěl mít připravenou nějakou funkčnost nad kterou se dá dál stavět a nezaobírat se věcma, jako je chybějící README s návody jak si pustit testy. IMO by toho měl být každý vývojář schopnej – Google je náš kamarád. Časem, až bude projekt víc stable, se tyhle věci jistě doplní. Už jsem se zmiňoval, že přijímám příspěvky? ;) Ano i README je hodnotným příspěvkem!</p> <p>Texy.js píšu tak, že si čtu <a href=\"https://github.com/dg/texy\">Texy! na githubu</a> a přemýšlím, co tím chtěl básník říct. Když na něco příjdu, napíšu na to test a snažím se ho naimplementovat. Ikdyž mám jiný názor na to, jak by měl vypadat srozumitelný kód a jak dělat návrh, snažím se držet původních myšlenek a produkovat na 99,999 % stejné výsledky. Ta mírná odchylka není zaokrouhlovací chybou, jen se mi tam nechce cpát ten reklamní komentář.</p> <p>Texy! vnitřně pracuje s UTF-8, využívá speciální znaky apod. Chci co nejvíc použít myšlenky (a někdy i kód) z původní implementace, proto Texy.js taky vnitřně pracuje v UTF-8. JavaScript nic pořádnýho na práci s různými kódováními nemá, proto jsem zaintegroval kus chytrého kódu, který převádí UTF-16 na UTF-8 a zase zpátky. Jo, není to moc clean code. Je to dost low level, ale taková už práce s kódováním je…</p> <p>Odpověď na otázku, proč Texy.js nahrazuje A se stříškou je snadná: Soft Hyphen (alias <code>&amp;shy;</code>) se v UTF-16 zapisuje jako <code>\\u00AD</code>, ale v UTF-8 jsou to dva byty <code>\\xC2\\xAD</code>.</p> <p>To je prozatím odemě vše. Pokud máte dotazy nebo názory, nebojte se je napsat do komentářů. Pokud máte nápady na vylepšení, nebojte se udělat fork a poslat pull-request. Pokud bude dobrý, zaintegrujeme. Pokud ne, určitě vám napíšu, co se mi nezdálo. :) Pokud máte zájem o nějakou featuru, pošlete pull-request s padajícím testem.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-03-11T09:45:24.913-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Texy.js - první dojmy",
  :published #inst "2012-03-11T09:37:51.527-00:00",
  :url "texy-js-prvni-dojmy",
  :id 417,
  :description "První dojmy a reakce na čerstvě rozběhnutý projekt.",
  :category "Moje práce",
  :tags ["texy" "js"]},
 :59-now-playing-na-strankach.aspx
 {:html
  "<p>Dnes jsem přidal další box do pravého panelu. Jmenuje se <strong>Právě poslouchám</strong> a zobrazuje aktuální přehrávanou písničku nebo video v&#160;mém počítači. Funguje to díky plug-inu <a href=\"/files/SongWriter.zip\" title=\"stáhnout archív s instalací plug-inu\">SongWriter</a> pro <a href=\"http://www.windowsmedia.com/\">Windows Media Player</a> 9&#160;a novější, ten uploaduje přes FTP XML s&#160;požadovanými informacemi, a vlastnímu controlu pro výpis těchto informací.</p> <h3>Jak na to</h3> <p>Nejprve je nutné si nainstalovat plugin SongWriter a nastavit si co a kam se má generovat. Okno s&#160;nastavením na vás vyskočí po instalaci pluginu a zapnutí Media Playeru. Pokud by nevyskočilo najdete ho v&#160;menu Možnosti \\ Nastavení \\ Moduly Plug-in, Kategorie: Pozadí, SongWriter Plugin, Vlastnosti. Tady si navolíte vlastnosti, které chcete zobrazit, zvolíte formát XML a nastavíte vlastnosti FTP připojení (cesta nesmí končit lomítkem).</p> <p>Zkuzte, jestli je vše správně nakonfigurováno, nejlépe testem přímo na serveru, soubor se jmenuje <strong>songout.xml</strong>. Pro ty, co jsou ve zpracování XML, zde článek končí, neboť si data zpracují sami :) Ostatní nechť směle pokračují ve čtení.</p> <p>Nyní přistoupíme k&#160;tvorbě controlu. Předem upozorňuju, že je napsanej v&#160;ASP.NET 2 (beta 2), takže nemusí a ani nebude fungovat ve starších verzích.</p> <pre class=\"csharp\"><code>using System; using System.Data; using System.Configuration; using System.Collections; using System.IO; using System.Web; using System.Web.Security; using System.Web.UI; using System.Web.UI.WebControls; using System.Web.UI.WebControls.WebParts; using System.Web.UI.HtmlControls; using System.Xml; public partial class NowPlaying : System.Web.UI.UserControl { public string Src { set { ViewState[\"nowplayingsrc\"] = value; } get { return ViewState[\"nowplayingsrc\"].ToString(); } } protected void Page_Load(object sender, EventArgs e) { NactiData(); } protected void NactiData() { string path = Server.MapPath(Src); XmlDocument doc = new XmlDocument(); doc.Load(path); XmlNodeList media = doc.GetElementsByTagName(\"media\"); XmlNode posledni = media[0]; XmlNode autor = posledni.SelectSingleNode(\"artist\"); XmlNode pisen = posledni.SelectSingleNode(\"title\"); XmlNode album = posledni.SelectSingleNode(\"album\"); if (autor != null) { if (autor.InnerText.ToLower() == \"stopped\") { NowPlayingOut.Text = \"&lt;p&gt;Zrovna nic.&lt;/p&gt;\"; } else { if ((pisen != null) &amp;&amp; (album != null)) NowPlayingOut.Text = String.Format(\"&lt;dl&gt;&lt;dt&gt;Autor&lt;/dt&gt;&lt;dd&gt;{0}&lt;/dd&gt;&lt;dt&gt;Píseň&lt;/dt&gt;&lt;dd&gt;{1}&lt;/dd&gt;&lt;dt&gt;Album&lt;/dt&gt;&lt;dd&gt;{2}&lt;/dd&gt;&lt;/dl&gt;\", autor.InnerText, pisen.InnerText, album.InnerText); else if ((pisen != null)) NowPlayingOut.Text = String.Format(\"&lt;dl&gt;&lt;dt&gt;Autor&lt;/dt&gt;&lt;dd&gt;{0}&lt;/dd&gt;&lt;dt&gt;Píseň&lt;/dt&gt;&lt;dd&gt;{1}&lt;/dd&gt;&lt;/dl&gt;\", autor.InnerText, pisen.InnerText); } } else { if ((pisen != null)) NowPlayingOut.Text = String.Format(\"&lt;p&gt;{0}&lt;/p&gt;\", pisen.InnerText.Replace('_',' ')); } } }</code></pre> <p>No a teď prezentační část.</p> <pre class=\"xml\"><code>&lt;%@ Control Language=\"C#\" AutoEventWireup=\"true\" CodeFile=\"NowPlaying.ascx.cs\" Inherits=\"NowPlaying\"&gt; &lt;div class=\"box nowplaying\"&gt; &lt;h2&gt;Právě poslouchám&lt;/h2&gt; &lt;asp:Literal ID=\"NowPlayingOut\" runat=\"server\"&gt;&lt;/asp:Literal&gt; &lt;/div&gt;</code></pre> <p>Přeju hodně zábavy.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Now Playing na stránkách",
  :published #inst "2005-06-01T20:32:00.000-00:00",
  :url "now-playing-na-strankach",
  :id 59,
  :description "",
  :category "Webové služby",
  :tags []},
 :196-texy-net-release-candidate.aspx
 {:html
  "<p>Po delší odmlce přicházím opět s dotnetovou implementací <a href=\"/data/projekty/Texy-net-1.0.RC1.zip\" onclick=\"javascript:urchinTracker('/data/projekty/Texy-net-1.0.RC1.zip');\">Texy! XML-RPC</a> klienta. Přesto, že jsem nedostal žádnou odezvu, jsem odchytal pár bugů z předešlé verze, ale hlavně došlo k rozšíření o podporu deklarativní konfigurace.</p> <p>Dosud se musela Texy.net konfigurovat pokaždé zvlášť v kódu ve kterém byla volána. Nová verze přináší možnost konfigurace pomocí vlastní sekce ve <code>web.config</code> souboru. Vytvořil jsem jak vlastní handler pro načítání konfigurace, tak i <a href=\"/data/projekty/GryphoonConfig.xsd\" onclick=\"javascript:urchinTracker('/data/projekty/GryphoonConfig.xsd ');\">schéma</a> pro snadnější editaci konfigurace. Schéma si zkopírujte do adresáře <code>C:\\Program Files\\Microsoft Visual Studio 8\\Xml\\Schemas\\Custom\\</code> a do souboru <code>C:\\Program Files\\Microsoft Visual Studio 8\\Xml\\Schemas\\DotNetConfig.xsd</code> přidejte následující kód:<br /> <code>&lt;xs:include schemaLocation=\"Custom/GryphoonConfig.xsd\" /&gt;</code>.</p> <h3 id=\"toc-ukazka-pouziti\">Ukázka použití</h3> <p><strong>web.config</strong></p> <pre class=\"xml\"><code>&lt;?xml version=\"1.0\" ?&gt; &lt;configuration&gt; &lt;configSections&gt; &lt;section name=\"rarous.texy\" type=\"Rarous.Texy.Configuration.ConfigSectionHandler, Rarous.Texy\" allowLocation=\"true\" allowDefinition=\"Everywhere\" /&gt; &lt;/configSections&gt; &lt;rarous.texy&gt; &lt;formatterModule indent=\"false\" lineWrap=\"255\" /&gt; &lt;headingModule top=\"2\" /&gt; &lt;/rarous.texy&gt; ... &lt;/configuration&gt;</code></pre> <p>Ukázka výše má za následek, že výstupní kód nebude odsazován a bude zalamován po 255 znacích. Dále je nastaven nadpis <code>h2</code> jako nejvyšší možný. Následuje obligátní ukázka požití v kódu.</p> <pre class=\"csharp\"><code>string input = \"nějaký text.\"; // vstupní text // načteme konfiguraci Rarous.Texy.Configuration.ConfigSectionHandler handler = (Rarous.Texy.Configuration.ConfigSectionHandler) ConfigurationManager.GetSection(\"rarous.texy\"); // vytvoříme instanci Texy! Rarous.Texy.Texy texy = new Rarous.Texy.Texy(input, handler); // překonvertujeme na XHTML s pomocí konfigurace string output = texy.ToXhtml(true);</code></pre> <p>Tímto však možnosti nekončí. Já například zmiňovaný handler používám v připravovaném redakčním systému Gryphoon2 pro konfiguraci pro články a pro komentáře. TexyProcessor se pak stará o načítání konfigurace pro aktuální potřebu.</p> <p>No a protože tohle není úplně nejjednodušší ukázka kódu, máme tu ještě takové usnadnění :) Nejjednodušší možnost použití Texy tedy je:</p> <pre class=\"csharp\"><code>string html = Rarous.Texy.Texy.Process(\"Hello World!\");</code></pre> <p>Doufám, že alespoň někomu to pomůže k snadnějšímu používání Texy! na dotnetu. Závěrem bych vás chtěl poprosit, pokud najdete nějakou chybku, neváhejte a sdělte mi ji, ať už v komentářích, nebo na <a href=\"mailto:rarous+texy&#64;gmail.com\">e-mail</a>. Za každý feedback budu rád. :)</p> <h3 id=\"toc-ke-stazeni\">Ke stažení</h3> <ul> <li><a href=\"/data/projekty/Texy-net-1.0.RC1.zip\" onclick=\"javascript:urchinTracker('/data/projekty/Texy-net-1.0.RC1.zip');\">Texy.net RC1</a></li> <li><a href=\"/data/projekty/GryphoonConfig.xsd\" onclick=\"javascript:urchinTracker('/data/projekty/GryphoonConfig.xsd ');\">Schéma do Visual Studia</a></li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:46:11.340-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Texy.net release candidate",
  :published #inst "2006-11-30T22:40:40.677-00:00",
  :url "texy-net-release-candidate",
  :id 196,
  :description
  "Použití Texy! na dotnetu nebylo nikdy předtím jednodušší!",
  :category "Webdesign",
  :tags ["texynet"]},
 :421-pravidla-jednoducheho-navrhu.aspx
 {:html
  "<p>Volně přeloženo z knihy <a href=\"http://www.amazon.com/Extreme-Programming-Explained-Embrace-Change/dp/0201616416\">Extreme Programming Explained</a></p> <ol> <li>Systém (kód i testy) musí jasně vyjadřoval všechny vaše záměry.</li> <li>Systém nesmí obsahovat duplicitní kód.</li> <li>Systém by měl mít nejmenší možný počet tříd.</li> <li>Systém by měl mít nejmenší možný počet metod.</li> </ol> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-06-09T12:59:55.573-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pravidla jednoduchého návrhu",
  :published #inst "2012-06-09T12:59:32.310-00:00",
  :url "pravidla-jednoducheho-navrhu",
  :id 421,
  :description "Čtyři pravidla jednoduché návrhu.",
  :category "Moje práce",
  :tags ["xp" "design"]},
 :75-dalsi-omluva-za-vypadek.aspx
 {:html
  "<p>Chtěl bych se všem čtenářům omluvit za výpade těchto stránek. Na vině bylo nekvalitní <acronym title=\"File Transfer Protocol\">FTP</acronym> připojení a podivné chování <acronym title=\"Internet Information Service\">IIS</acronym>, kdy se mi nepovedlo uploadovat aktualizovanou verzi assembly na server a IIS mi pak nechtělo povolit tu assembly smazat nebo přepsat. Když admin tento problém vyřešil tak se mi to povedlo znovu :) Bohužel zrovna nefungovalo forum, kde bych problém nahlásil, proto takové zdržení…</p> <p>V současné době připravujeme přechod na profi hosting, kde bude lepší technická podpora. Taky jsem zakoupil <a href=\"http://rarous.net\">novou doménu</a> a budu muset znovu budovat svoje pozice ve vyhledávačích :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T19:43:54.870-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Další omluva za výpadek",
  :published #inst "2005-10-23T21:24:20.000-00:00",
  :url "dalsi-omluva-za-vypadek",
  :id 75,
  :description "Omlouvám se za dlouhý výpadek stránek.",
  :category "Moje práce",
  :tags []},
 :387-dupacky.aspx
 {:html
  "<p>Nejprve pozvánka. Ve čtvrtek <a href=\"http://www.facebook.com/event.php?eid=113003785377204\">8.4.2010 budou v klubu Touster další Dupačky</a>, které pořádá <a href=\"http://www.idj.cz/pepe/\">Peter Pea</a>. Jeho hostem nebude nikdo jiný, než <a href=\"http://www.idj.cz/alessiobusta/\">moje maličkost</a>. Pokud si chcete zadupat na groovy techno nebo se nechat unášet na progressivních vlnách housu, jistě si přijdete na své.</p> <p>Jako malou návnadu přikládám reprýzu první hodiny setu z únorových Dupaček. Tech House přesunující se do Techna… :)</p> <!--[if !IE]> --> <object type=\"application/x-shockwave-flash\" data=\"http://player.soundcloud.com/player.swf?url=http%3A%2F%2Fsoundcloud.com%2Falessio-busta%2Fdupacky-iv-reprise\" width=\"100%\" height=\"81\"> <!-- <![endif]--> <!--[if IE]> <object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\" width=\"100%\" height=\"81\"> <param name=\"movie\" value=\"http://player.soundcloud.com/player.swf?url=http%3A%2F%2Fsoundcloud.com%2Falessio-busta%2Fdupacky-iv-reprise\" /> <!--><!--dgx--> <param name=\"loop\" value=\"true\" /> <param name=\"menu\" value=\"false\" /> <param name=\"allowfullscreen\" value=\"true\" /> <param name=\"flashvars\" value=\"\" /> </object> <!-- <![endif]--> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-04-06T14:31:09.760-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Dupačky!",
  :published #inst "2010-04-06T14:24:34.267-00:00",
  :url "dupacky",
  :id 387,
  :description
  "Záznam první hodiny setu z Dupaček IV a pozvánka na Dupačky VI. ",
  :category "Muzika",
  :tags []},
 :362-prubezna-integrace-s-teamcity.aspx
 {:html
  "<h3 id=\"toc-mereni-pokryti-kodu-testy\">Měření pokrytí kódu testy</h3> <p>Když už se nám pěkně reportují do Teamcity výsledky testů, není od věci si udělat i report pokrytí kódu. V dotnetu najdeme dva free nástroje – straší verze NCover 1.5.8 a PartCover. Samozřejmě můžeme sáhnout po mocnějších komerčních nástrojích. Já volím NCover 1.5.8, který je součástí balíku TestDriven.net.</p> <p>Integrace do build scriptu je poměrně snadná:</p> <p>Jenže, když script spustíme, nejspíš zjistíme, že build nedoběhl v pořádku. NCover je totiž COM aplikace. Navíc je spouštěna pod uživatelským účtem <code>LOCAL SERVICE</code> (pokud jste při instalaci build agenta nic neměnili), který nemá potřebná oprávnění.</p> <p>V registrech si najděte následující klíč:</p> <pre><code>HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment</code></pre> <p>V menu <code>Edit</code> si vyberte <code>Permissions</code> a klikněte na <code>Advanced</code>. Přidejte uživatele <code>LOCAL SERVICE</code> a nastavte mu následující práva:</p> <pre><code>Query Value Set Value Create Subkey Enum Subkeys Notify Read Control</code></pre> <p>Dále je ještě nutné přeregistrovat knihovnu. Spusťte si konzoli jako Administrátor, vlezte do složky, kde máte nainstalovaný NCover a spusťte registraci <code>regsvr32 coverlib.dl</code>. Teď už by build script měl proběhnout bez chyb.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-08-14T18:20:04.060-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Průběžná integrace s TeamCity",
  :published #inst "2009-08-14T18:20:04.010-00:00",
  :url "prubezna-integrace-s-teamcity",
  :id 362,
  :description "",
  :category "ASP.NET 2.0",
  :tags []},
 :336-model-binders-v-asp-net-mvc.aspx
 {:html
  "<p>Jednou z pěkných vlastností ASP.NET MVC je, že data která posíláte akci, můžete v kódu získávat přes silně typové parametry metody (akce). Pokud dostatečně dodržujete dané konvence, můžete takto získat i třeba komplexní typy.</p> <p>To je zařízeno něčím, co se jmenuje <strong>model binders</strong>. Základem je <code>DefaultModelBinder</code>, který implementuje rozhranní <code>IModelBinder</code>. Dále pak atributy <code>BindAttribute</code> a jeho bratříček k psaní vlastních atributů <code>CustomModelBinderAttribute</code> a v neposlední řadě metody řadiče <code>UpdateModel</code> a <code>TryUpdateModel</code>.</p> <p>O tom jak používat <code>DefaultModelBinder</code>, si můžete <a href=\"http://weblogs.asp.net/scottgu/archive/2008/10/16/asp-net-mvc-beta-released.aspx#four\">přečíst třeba u ScottaGu</a>. Já bych se spíš chtěl zaměřit na možnosti rozšíření, které nám infrastruktura model binders přináší.</p> <p>Velkou slabinou konvenčního <code>DefaultModelBinder</code>u je, že ve view musíte dodržovat jmenné konvence vašeho modelu. Sice to může přinést spoustu benefitů, ale i problémů.</p> <h3 id=\"toc-moznosti\">Možnosti</h3> <p>Možností, jak bindery používat, je mnoho. Můžete si třeba <a href=\"http://www.aboutcode.net/2008/12/08/Model+Binders+For+HttpCookie+And+AppSetting.aspx\">bindovat z AppSettings nebo z třeba z cookie</a>. I to je pomocí model binders možné. Pojďme se ale podívat na to, jak bindovat váš model na data odeslaná z view s odlišnou jmennou konvencí…</p> <h3 id=\"toc-zaklady\">Základy</h3> <p>Vlastní bindery můžeme vytvořit tak, že implementuje rozhraní <code>IModelBinder</code>. Hotovou implementaci pak musíme zaregistrovat při startu aplikace. Pro ukázku si uděláme velice jednoduchý příklad načítání adresy z <code>FormsCollection</code>. Mějme datovou třídu adresa:</p> <pre class=\"csharp\"><code>public class Address { public string Street { get; set; } public string StreetNumber { get; set; } public string Town { get; set; } public string PostalCode { get; set; } }</code></pre> <p>K ní si vytvoříme model binder:</p> <pre class=\"csharp\"><code>public class AddressBinder : IModelBinder { public ModelBinderResult BindModel(ModelBindingContext bindingContext) { var address = new Address { Street = bindingContext.HttpContext.Request[\"address_street\"].Trim(), StreetNumber = bindingContext.HttpContext.Request[\"address_street_number\"].Trim(), PostalCode = bindingContext.HttpContext.Request[\"address_postal_code\"].Trim(), Town = bindingContext.HttpContext.Request[\"address_town\"].Trim(), }; return new ModelBinderResult(address); } }</code></pre> <p>Který nakonec zaregistrujeme v <code>Global.asax</code>:</p> <pre class=\"csharp\"><code>protected void Application_Start() { ModelBinders.Binders[typeof(Address)] = new AddressBinder(); }</code></pre> <p>Když teď akci předáme parametr typu <code>Address</code>, bude automaticky vázán pomocí <code>AddressBinder</code>u. Stejně tak, použijeme-li metodu <code>UpdateModel</code>. V některých scénářích zjistíte, že výše uvedený binder, není úplně skvělý, ba co víc, že je v podstatě dost k ničemu. Navíc taky přijdete na to, že když váš model bude trochu bohatší, tak se váš <code>Global.asax</code> pěkně natáhne, navíc pokud budou mít vaše bindery závislosti na jiných službách, začne v tom být pěkný bordel…</p> <h3 id=\"toc-binsor-na-scenu\">Binsor na scénu</h3> <p>Minule jsme si ukázali, <a rel=\"bookmark\" title=\"Inversion of Control v ASP.NET MVC\" href=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">jak propojit ASP.NET MVC s IoC kontejnerem</a> a dnes ho využijeme a trochu si ulehčíme práci… Jak jsem již psal, všechny model bindery implementují rozhranní <code>IModelBinder</code> a toho můžeme využít pro jejich registraci do kontejneru, přidáním následujících řádků do souboru <code>Windsor.boo</code>:</p> <pre class=\"boo\"><code>for binder in AllTypesBased of IModelBinder(\"&lt;nazev assembly s Model Bindery&gt;\"): component binder.Name.ToLower(), IModelBinder, binder</code></pre> <p>Máme je zaregistrované v kontejneru, ale potřeby psát něco do <code>Global.asax</code> jsme se nezbavili. To je pravda, ale vzápětí to napravíme. Budeme ještě potřebovat generickou bázovou třídu. Proč gerenerickou? No, je v tom takovej fígl – ten prozradím až za chvíli. :) Teď k věci:</p> <pre class=\"csharp\"><code>public abstract class ModelBinderBase&lt;T&gt; : IModelBinder { public Type ModelType { get { return typeof(T); } } public abstract ModelBinderResult BindModel(ModelBindingContext bindingContext); }</code></pre> <p>V podstatě jsme rozšířili rozhraní <code>IModelBinder</code> o znalost typu datového objektu se kterým pracuje. Proč? Vzpomeňte si na registraci binderu, kde je klíčem ve slovníku binderů typ datového objektu. Ano, to je on!</p> <p>Jěště trochu poupravíme náš <code>AddressBinder</code>:</p> <pre class=\"csharp\"><code>public class AddressBinder : ModelBinderBase&lt;Address&gt; { public override ModelBinderResult BindModel(ModelBindingContext bindingContext) { var address = new Address { Street = bindingContext.HttpContext.Request[\"address_street\"].Trim(), StreetNumber = bindingContext.HttpContext.Request[\"address_street_number\"].Trim(), PostalCode = bindingContext.HttpContext.Request[\"address_postal_code\"].Trim(), Town = bindingContext.HttpContext.Request[\"address_town\"].Trim(), }; return new ModelBinderResult(address); } }</code></pre> <p>Pořád tu zůstává ta nepěkná závislost na <code>HttpRequestu</code>, je snadno řešitelná, ale našemu příkladu nevadí a vypořádáme se s ní někdy jindy… Takže vraťme se zase k <code>Windsor.boo</code> a na jeho konec přidejme následující řádky:</p> <pre class=\"boo\"><code>for modelBinder as duck in IoC.Container.ResolveAll of IModelBinder(): ModelBinders.Binders[modelBinder.ModelType] = modelBinder</code></pre> <p>Upozorňuji, že tyto řádky <strong>musí být až na konci</strong> souboru. Musí se volat, až po tom, co se zaregistrují všechny komponenty, protože tady si vyzvedáváme již hotové bindery z kontejneru a registrujeme je do ASP.NET MVC.</p> <p>Možná jste si povšimli formulky <code>as duck</code>. <a href=\"http://boo.codehaus.org/\">Boo</a> je staticky typovaný jazyk, stejně jako C#, jen využívá implicitního typování. V tomto případě nám generická metoda <code>ResolveAll</code> vrací hotové instance, které implementují rozhranní <code>IModelBinder</code> a taky mají tento silný typ. A toto rozhraní neví nic o tom s jakým typem modelu je svázáno.</p> <p>Naštěstí Boo podporuje <a href=\"http://en.wikipedia.org/wiki/Duck_typing\">duck typing</a>, což nám přidává tak trochu dynamičnost – pozdní vazbu. Já vím, že všechny moje bindery dědí z bázové třídy, která má vlastnost <code>ModelType</code> a s použítím <code>as duck</code> jí můžu zavolat. Tohle je vlastnost, kterou bude C# umět až ve verzi 4.0, do té doby je v něm toto velice těžko řešitelné (osobně jsem se o to ani nepokoušel, ale nejspíš nějak přes reflexi by to jít mělo).</p> <p>Tím jsme se zbavili nutnosti registrovat každý model binder zvlášť.</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a rel=\"bookmark\" title=\"Inversion of Control v ASP.NET MVC\" href=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">Inversion of Control v ASP.NET MVC</a></li> <li><a href=\"http://weblogs.asp.net/scottgu/archive/2008/10/16/asp-net-mvc-beta-released.aspx#four\">Refactored Model Binder Infrastructure</a></li> <li><a href=\"http://www.aboutcode.net/2008/12/08/Model+Binders+For+HttpCookie+And+AppSetting.aspx\">Model Binders for HttpCookie and AppSetting</a></li> <li><a href=\"http://en.wikipedia.org/wiki/Duck_typing\">Duck typing</a></li> <li><a href=\"http://boo.codehaus.org/\">Jazyk Boo</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-12-18T07:08:43.490-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Model binders v ASP.NET MVC",
  :published #inst "2008-12-13T20:15:00.427-00:00",
  :url "model-binders-v-asp-net-mvc",
  :id 336,
  :description
  "Jednou z pěkných vlastností ASP.NET MVC je, že data která posíláte akci, můžete v kódu získávat přes silně typové parametry metody (akce). Pokud dostatečně dodržujete dané konvence, můžete takto získat i třeba komplexní typy.",
  :category "ASP.NET 2.0",
  :tags
  ["aspnet" "mvc" "boo" "binsor" "windsor" "ioc" "imodelbinder"]},
 :128-zase-klacky-pod-nohama.aspx
 {:html
  "<p>Možná jste si již <a href=\"http://blog.filosof.biz/microsoft-active-x/\">všimli</a>, že díky skvělé patentové politice USA dojde k&#160;<a href=\"http://www.dgx.cz/trine/item/patent-co-polozi-pulku-webu\">znefunkčnění ActiveX prvků</a> vkládaných do HTML stránek pomocí tagů <code>object</code> a <code>embed</code>. Tuto metodu má totiž patentovanou firma Eolas. Za dva měsíce bude nutné nejprve na takový prvek kliknout, aby se zobrazil. To je velice špatná zpráva pro servery, které se živí flashovou reklamou. První obětí je Microsoft, který zaplatil půl miliardy USD a musí předělat IE, tak aby splňovalo požadavky.</p> <p>Když už jsme u&#160;této problematiky. Konečně se někdo začne zabývat tímhle nesmyslem, kdy se do hypertextu vkládají aktivní objekty – kusy aplikací. Podle mě je to nešťastné řešení a mělo by se to řešit pomocí ECMAScriptu. Bohužel podpora ze strany prohlížečů je špatná. Nedávno jsem řešil, jak do stránky dynamicky vložit přehrávač zvuku (MediaPlayer) a ovládat ho pomocí skriptů. To jsem narazil. Mozilla v&#160;defaultu ActiveX nepodporuje a je potřeba nejprve nainstalovat ActiveX Plug-In, který je zdá se nestabilní a ne vždy funkční – alespoň v&#160;tomto případě se mine nepodařilo zprovoznit. Díky tomu nemáte šanci se dostat k&#160;vlastnostem a metodám takové prvku a ve stránce je zbytečný.</p> <p>Myslím, že je čas, aby se sešla rada pro výrobu webových prohlížečů, a vymysleli nějaký pořádný způsob, jak do stránek vkládat programové objekty pomocí JS a zároveň se ujednotily na nějakém způsoby zpřístupnění API takových objektů pro scriptování. Když žijeme v&#160;době, kdy se hlásí o&#160;slovo AJAX a nové webové aplikace si bez JS stejně neškrtnou, tak proč ne?</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-03T20:30:31.270-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zase klacky pod nohama",
  :published #inst "2006-04-03T17:17:40.253-00:00",
  :url "zase-klacky-pod-nohama",
  :id 128,
  :description
  "Jak nám zákony mohou pomoci k větším penězům? Přidají nám práci na víc ;)",
  :category "Webdesign",
  :tags []},
 :269-hlavicka-pragma-a-jeji-misto-v-html.aspx
 {:html
  "<p>Velmi často se ve zdrojových kódech HTML stránek potkávám se zajímavým mýtem a to s následujícím ta­gem:</p> <pre class=\"xml\"><code>&lt;meta http-equiv=\"pragma\" content=\"no-cache\"&gt;</code></pre> <p>Autor se tím pravděpodobně pokouší docílit toho, aby se jeho stránka necachovala. Přejdu-li to, že vypnutí cachování je nesmysl už z pohledu škálování výkonu webové aplikace, tak stejně užití pragmy nemá hlubšího významu.</p> <h3 id=\"toc-proc-je-pouziti-pragma-no-cache-nesmysl\">Proč je použití Pragma:no-cache nesmysl</h3> <ol> <li>Hlavička <code>Pragma</code> s hodnotou <code>no-cache</code> je <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.32\">součástí specifikace HTTP 1.1</a> z <strong>historic­kých důvodů</strong> a je dnes plně nahrazena hlavičkou <code>Cache-Control</code>.</li> <li>Hlavička <code>Pragma</code> je <strong>pouze hlavičkou požadavku</strong> a v odpovědi nemá opodstatnění.</li> </ol> <p>Hlavičku Pragma:no-cache posílali klienti HTTP/1.0 když nechtěli dostat cachovanou odpověď z lokální nebo proxy cache, ale přímo od serveru, který volali. Posílat ji tedy v odpovědi (natož v HTML) nemá žádný význam. Někdo by mohl podotknout, že mu to funguje. <a href=\"http://support.microsoft.com/kb/222064\">Mícrosoft na to říká</a>: strkejte si pragmu do HTML, ale my vás stejně budem cachovat. Mozilla raději řídí <a href=\"http://www.mozilla.org/projects/netlib/http/http-caching-faq.html\">cachování pomocí HTTP hlaviček</a> a tento tag také ignoruje.</p> <h3 id=\"toc-zaver\">Závěr</h3> <p>Nejprve si rozmyslete, zda je pro vás zakázání cachování opravdu přínosné – v 99% případů nebude. Pokud stejně nebudete chtít cachovat (každý požadavek bude váš server muset vždy zpracovat, bude muset protéct po vaší lince atd.), posílejte HTTP hlavičku <code>Cache-control</code> s hodnotou <code>no-cache</code>. Vkládání do meta stránky nemá opodstatnění, zbytečně tak zvětšíte opověď a prohlížeče to stejně většinou ignorují.</p> <p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/html\">HTML</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/pragma\">Pragma</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/cache\">Cache</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:29:13.487-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Hlavička Pragma a její místo v HTML",
  :published #inst "2008-05-17T09:51:36.420-00:00",
  :url "hlavicka-pragma-a-jeji-misto-v-html",
  :id 269,
  :description
  "Zajímavým fenoménem je používání HTTP hlavičky Pragma v meta HTML dokumentu. Proč je to úplná zbytečnost? ",
  :category "Webdesign",
  :tags ["html" "xhtml" "http" "pragma" "caching"]},
 :258-par-postrehu-k-nove-hp.aspx
 {:html
  "<p>O tom, že jsem spustil novýho <a href=\"http://rarous.net\">rarouše na net</a>, jste se mohli dočíst <a href=\"/weblog/257-novy-rarous-net.aspx\">minule</a>. Teď ještě pár postřehů s odstupem času…</p> <h3 id=\"toc-hledani\">Hledání</h3> <p>Jednou z plánovaných funkcí je hledání. Používám kustomizované Live Search. Stačí mi přidat jen malý formulář, ale zatím se mi nechce. Vždyť většina návštěvníků má stejně prohlížeč s hledacím políčkem a může si <a href=\"/weblog/185-format-opensearch-dil-1.aspx\">snadno přidat můj plugin</a>.</p> <h3 id=\"toc-styly\">Styly</h3> <p>Wow, napsal jsem to celý ve standard modu s CSS 2.1 selektorama a vůbec jsem to nikterak neladil a funguje to všude stejně – pokud to teda umí CSS 2.1… ;) Pak jsem kolegovi diktoval adresu a najednou se ubjevila nějaká žumpa, heh bylo to v IE6. Je to hnus velebnosti, ale upravovat to nebudu.</p> <h3 id=\"toc-hlavni-sloupec\">Hlavní sloupec</h3> <p>Lukáš Mačí mi jako reakci na mou novou homepage sdělil:</p> <blockquote> <p>na muj vkus je docela potlacenej ten hlavni sloupek</p> </blockquote> <p>No netušil jsem, kterej hlavní sloupec myslí, já totiž žádnej sloupec za hlavní nepovažuju. Proto maj oba obsahový boxy přidělenou stejnou část obrazovky.</p> <h3 id=\"toc-agregace\">Agregace</h3> <p>Pro načítání většiny dat na HP je použita agregace z různých kanálů – proto je ta stránka taková sociální. Celý kód pro načítání všech boxů je asi na 10 řádek a dost z toho zabíra metoda pro načtení feedu. :) Všechno je to úžasně jednoduché, díky novému 3.5 frameworku.</p> <p>Novinkou v 3.5 je totiž nový namespace <code>System.ServiceModel.Syndication</code>, který obsahuje abstrahovaný model nad RSS 2.0 a Atom 1.0. Pro oba formáty lze použít pouze jednu třídu <a href=\"http://msdn2.microsoft.com/en-us/library/system.servicemodel.syndication.syndicationfeed.aspx\">SyndicationFeed</a>, s níž jde práce jak po másle. Načtení feedu pak vypadá asi následovně:</p> <pre class=\"csharp\"><code>private static SyndicationFeed GetFeed(string feedUrl) { var reader = XmlReader.Create(feedUrl); var feed = SyndicationFeed.Load(reader); return feed; }</code></pre> <p>Naštěstí jsou zdroje, ze kterých čerpám, wellformed a validní. Jak si tahle třída poradí s prasokódem fakt netuším a ani jsem to nezkoušel.</p> <p>Nejvíc jsem se zapotil u načítání galerií z picasy, protože jsem chtěl čerpat data z Media RSS Extensions. Původně jsem napsal asi 20 řádkový strašidelný kód, který načítal pouze adresu náhledového obrázku a stejně nefungoval. Postupně jsem se však přibližoval k cíli a nakonec jsem skončil u celkem elegantní konstrukce:</p> <pre class=\"csharp\"><code>private static string GetThumbnailUrl(SyndicationItem item) { var reader = item.ElementExtensions[0].GetReader(); var group = XElement.ReadFrom(reader) as XElement; var url = group. Element(XName.Get(\"thumbnail\", \"http://search.yahoo.com/mrss/\")). Attribute(XName.Get(\"url\")).Value; return url; }</code></pre> <h3 id=\"toc-na-zaver\">Na závěr</h3> <p>Nakonec jsem se rozhodl, že i na agregovanou HP nasadím <a href=\"http://texy.info/\" title=\"The best text → HTML converter and formatter\">Texy!</a>. Zatim tam není, ale důvody pro ni jsou jasné: z twittru nechoděj URL jako odkazy, typografický pravidla nejsou vůbec nikde. Takže k tomu bude Texy! dobrá. Možná mě to donutí napsat tu novou Texy-WS a patřičného providera pro <a href=\"http://www.codeplex.com/texynet\">Texy.net</a>. Ale možná taky ne!</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T13:44:14.667-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pár postřehů k nové HP",
  :published #inst "2008-02-20T21:02:41.147-00:00",
  :url "par-postrehu-k-nove-hp",
  :id 258,
  :description "Pár postřehů z tvorby nové homepage rarouš.net.",
  :category "Webdesign",
  :tags []},
 :37-zmeny.aspx
 {:html
  "<p>Právě mám zkouškové období a hned jak mi zkoušky zkončí vrhnu se do práce. Čeká mě brigáda v&#160;Benteleru. Budu dodělávat Skladovou aplikaci, kterou jsem jim programoval v&#160;srpnu. Za tu dobu se objevili, některé věci, které je třeba doplnit nebo upravit. Hlavní věcí bude udělat tiskové sestavy a protože je to celý psaný v&#160;ASP.NET, tak to snad nebude taková práce. Budu muset udělat a odladit tiskový styly pro databázový reporty.</p> <p>Možná jste si všimli, že začal přispívat můj kamarád <strong>dekan</strong>. Bude psát převážně svoje povídky, je fakt dobrej. Proto chci předělat admin sekci. Nevyhovuje už dnešním požadavkům. Hlavně potřebuju udělat uživatelské role a doplnit některé věci, které mě za ten rok napadly. Možná udělám přispívání pomocí Webové služby a e-mailu, ale to závisí na čase, který mi na to zbyde.</p> <p>Drobné změny jsem provedl na serveru. Mám hodně přístupů, kvůli semestrálním pracem a školním věcem vůbec, ale některé requesty jsou na adresy, které jsem používal před třičtvrtě rokem, kdy jsem udělal restrukturalizaci adresářové struktury. Tak jsem udělal přesměrování ze starých adres na nové. Taky jsem přidal robots.txt a další drobnůstky, které nejsou na venek vidět.</p> <p>Tak přeji pěknou zimu a zachvejte mi přízeň.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Změny",
  :published #inst "2005-01-22T22:10:00.000-00:00",
  :url "zmeny",
  :id 37,
  :description "",
  :category "Jen tak",
  :tags []},
 :438-alessio-busta-vesper.aspx
 {:html
  "<p>Po delší době nějaká ta hudba k tanci i poslechu. Back to basics.</p> <div class=\"haudio\"> <ol> <li class=\"item\"><span class=\"contributor\">Pink Floyd</span> — <span class=\"title\">Is There Anybody Out There?</span></li> <li class=\"item\"><span class=\"contributor\">Ame</span> — <span class=\"title\">Rej</span></li> <li class=\"item\"><span class=\"contributor\">Christian Smith</span> — <span class=\"title\">Cinnamon</span></li> <li class=\"item\"><span class=\"contributor\">Oliver Huntemann</span> — <span class=\"title\">Decks &amp; The City</span></li> <li class=\"item\"><span class=\"contributor\">Marc Romboy</span> &amp; <span class=\"contributor\">Stephan Bodzin</span> — <span class=\"title\">Atlas – Gui Boratto Remix</span></li> <li class=\"item\"><span class=\"contributor\">Christian Smith</span> — <span class=\"title\">Flyertalk</span></li> <li class=\"item\"><span class=\"contributor\">Cirez D</span> — <span class=\"title\">Teaser – Oliver Huntemann Remix</span></li> <li class=\"item\"><span class=\"contributor\">Paperclip People</span> — <span class=\"title\">4 My Pepz – Dubfire Rework</span></li> <li class=\"item\"><span class=\"contributor\">Jesper Dahlback</span> — <span class=\"title\">Alright</span></li> <li class=\"item\"><span class=\"contributor\">Sasha</span> — <span class=\"title\">Smoke Cone</span></li> <li class=\"item\"><span class=\"contributor\">Udo Kier</span> feat. <span class=\"contributor\">Nicolette Krebitz</span> — <span class=\"title\">Prayer – Gui Boratto Mix</span></li> </ol> <p><span class=\"category\">dj set</span> <span class=\"contributor\">Alessio Busta</span> – <span class=\"title\">Vesper</span></p> </div> <!--[if !IE]> --> <object type=\"application/x-shockwave-flash\" data=\"//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falessiobusta%2Fvesper%2F&amp;embed_uuid=1be44f82-16ff-46ff-94f0-7b28c82493e8&amp;stylecolor=&amp;embed_type=widget_standard\" width=\"100%\" height=\"160\"> <!-- <![endif]--> <!--[if IE]> <object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\" width=\"100%\" height=\"160\"> <param name=\"movie\" value=\"//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falessiobusta%2Fvesper%2F&amp;embed_uuid=1be44f82-16ff-46ff-94f0-7b28c82493e8&amp;stylecolor=&amp;embed_type=widget_standard\" /> <!--><!--dgx--> <param name=\"loop\" value=\"true\" /> <param name=\"menu\" value=\"false\" /> <param name=\"allowfullscreen\" value=\"true\" /> <param name=\"flashvars\" value=\"\" /> </object> <!-- <![endif]--> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-01-23T09:39:45.810-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Alessio Busta - Vesper",
  :published #inst "2013-01-23T09:38:53.020-00:00",
  :url "alessio-busta-vesper",
  :id 438,
  :description "Po delší době nějaká ta hudba k tanci i poslechu.",
  :category "Muzika",
  :tags []},
 :409-produktivita-s-coffeescriptem.aspx
 {:html
  "<p>CoffeeScript může zvýšit produktivitu pouze v případě že JavaScript píšete v primitivním editoru typu Notepad. Kdo to s produktivitou v JavaScriptu myslí vážně, investuje pár tisícovek do pořádného IDE s podporou doplňování kódu, type hintingu, refactoringu a integrovaného test runneru.</p> <p>Kvalitní nástroje jsou něco, co CoffeeScript ještě dlouho mít nebude. A kvalitní nástroje jsou to, co opravdu zvyšuje vaši produktivitu, ne obskurní syntaxe.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-11-13T09:10:29.437-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Produktivita s CoffeeScriptem?",
  :published #inst "2011-11-13T09:10:29.420-00:00",
  :url "produktivita-s-coffeescriptem",
  :id 409,
  :description
  "Jednorázová investice do kvalitních nástrojů je efektivnější než učit se nový jazyk, který má špatný ekosystém.",
  :category "Webdesign",
  :tags []},
 :34-vzkaz.aspx
 {:html
  "<p>Omlouvám se, že jsem dlouho nic nepsal, ale neměl jsem na to zrovna moc času. V&#160;poslední době mám docela dost práce:</p> <ol> <li>Začal jsem učit na základní škole tvorbu webových stránek</li> <li>Ve škole začíná být dusno. Začínaj se psát písemnky, musim dodělávat semestrálku ap.</li> <li>Dělal jsem design <a href=\"http://www.unierozhodcu.cz/\">Unie rozhodců</a> a předělal jsem kompletně design firemních stránek <a href=\"http://pbsoftware.cz/\">PB software</a>, ještě se bude muset opravit pár chybyček v&#160;XHTML a aktualizovat obsah, ale to už není moje práce :)</li> </ol> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:51:08.300-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vzkaz",
  :published #inst "2004-11-15T00:00:00.000-00:00",
  :url "vzkaz",
  :id 34,
  :description "",
  :category "Jen tak",
  :tags []},
 :31-jak-umlcet-13-letou-holku.aspx
 {:html
  "<p>Právě jsem na návštěvě u&#160;strejdy, kterej má 13&#160;letou dceru. To je neštěstí&#8230; Poradtě prosím někdo jak ji umlčet.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:52:22.130-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak umlčet 13 letou holku?",
  :published #inst "2004-09-22T00:00:00.000-00:00",
  :url "jak-umlcet-13-letou-holku",
  :id 31,
  :description "",
  :category "Jen tak",
  :tags []},
 :342-testovani-routingu-v-asp-net.aspx
 {:html
  "<p>Nejspíš poslední zastávka u routingu v ASP.NET bude o tom, jak jednoduše testovat pravidla v routovací tabulce.</p> <p>Pokud váš projekt doroste do rozměrů, kdy máte spoustu routovacích pravidel a pomalu se v nich začínáte ztrácet, nebo se vybírá jiné pravidlo než byste si představovali, nebo jen chcete zjistit, jak to vlastně funguje, hodil by se nástroj, kterým by se to dalo snadno zvládnout. A takový existuje! Pojďme se na něj podívat.</p> <h3 id=\"toc-routing-debugger\">Routing debugger</h3> <p>Ten nástroj se jmenuje <a href=\"http://haacked.com/archive/2008/03/13/url-routing-debugger.aspx\">ASP.NET Routing Debugger</a> a jeho autorem je samotný <a href=\"http://haacked.com/\">Phil Haack</a> product manager ASP.NET MVC, Routingu a integrace DLR do ASP.NET.</p> <p>Jeho užití je poměrně velice jednoduché. Nejprve je nutné si debbuger <a href=\"http://haacked.com/code/RouteDebug-Binary.zip\">stáhnout</a>, rozbalit a přidat do projektu referenci na rozbalenou knihovnu. Pak už jen stačí do <code>Global.asax</code> přidat následující řádek (za registraci routovacích pravidel):</p> <pre class=\"csharp\"><code>protected void Application_Start() { RegisterRoutes(RouteTable.Routes); RouteDebug.RouteDebugger.RewriteRoutesForTesting(RouteTable.Routes); }</code></pre> <p>Odteď bude všechny požadavky požírat debbuger routingu. Když si projekt spustíme, uvidíme pěknou tabulku, kde jsou vypsaná jednotlivá pravidla, včetně příznaku, která jsou zrovna vhodná pro aktuální URL. Ano, vhodných pravidel může být povícero, ale vždy se vybere jen ta, která je <strong>první v pořadí</strong>. Dále pak jsou vidět hodnoty, které jsou z aktuální adresy získány, přednastavené výchozí hodnoty a zpřesňující pravidla.</p> <p>Snad se bude hodit :)</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a href=\"http://haacked.com/archive/2008/03/13/url-routing-debugger.aspx\">ASP.NET Routing Debugger</a></li> <li><a href=\"http://phpfashion.com/testovani-routingu-v-nette-frameworku\">Testování routingu v Nette Frameworku</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-09T07:23:39.173-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Testování routingu v ASP.NET",
  :published #inst "2009-01-08T10:09:13.973-00:00",
  :url "testovani-routingu-v-asp-net",
  :id 342,
  :description
  "Nejspíš poslední zastávka u routingu v ASP.NET bude o tom, jak jednoduše testovat pravidla v routovací tabulce.",
  :category "Webdesign",
  :tags ["aspnet" "routing" "mvc"]},
 :184-asp-net-ajax-extensions-beta-1.aspx
 {:html
  "<p>Dnes byla po dlouhé odmlce vypuštěna další verze ‚Atlas‘ Frameworku, tentokráté již pod komerčním názvem a ve fázi beta testování. Co se vše změnilo?</p> <p>Krom názvu tedy doznal framework <a href=\"http://ajax.asp.net/files/AspNet_AJAX_CTP_to_Beta_Whitepaper.aspx\">značných změn</a>. Prvně byl framework rozdělen na <em>Core</em> a <em>Preview</em> část. <a href=\"http://download.microsoft.com/download/3/1/c/31cb8c2d-d6e5-4b5e-ae1c-79724667f7d1/ASPAJAXExtSetup.msi\">Core</a> obsahuje nejdůležitější jádro frameworku (JSON, Class Library, Compatibility layer apod.) a jeho velikost se podařilo stlačit na přibližně 20 KiB (GZip komprese), což je velice dobrá zpráva, konečně se Atlas stává použitelným i v reálném světě :) <a href=\"http://download.microsoft.com/download/a/a/9/aa9949bb-58e4-4048-85f3-35ac4ab5cc04/ASPAJAXCTP.msi\">Preview</a> balíček obsahuje spoustu dalších věcí, které byly součástí předchozích verzí a budou nadále vyvíjeny s možností zařazení do Core po jejich dostatečné stabilizaci a otestování kompatibility. <a href=\"http://www.codeplex.com/Release/ProjectReleases.aspx?ProjectName=AtlasControlToolkit\">ControlToolkit</a> zůstává a byl opět rozšířen o další nové Extendery.</p> <p>Krom struktury projektu došlo i na technologické změny. Tou nejdůležitější změnou je přechod z closures na prototypování. Tím doznal framework i značného výkonostního nárůstů, protože prototypy obecně spotřebovávají mnohem méně paměti. Vývojáři si od prototypování slibují také snadnější vývoj a podporu pro Intellisenee v ‚Orcas‘ studiu. Podlě náznaků to vypadá, že Intellisense poběží díky metadatům v JavaScriptu (obdoba Atributů v C#). Nechme se překvapit.</p> <p>Co se týče serverové části tzv. ASP.NET 2.0 AJAX Extensions, tak všechny controly mají nyní prefix <code>asp</code> namísto <code>atlas</code> a od příští verze dotnet frameworku budou i jeho integrální součástí. AJAX Extensions také nahrazují stávající <strong>Validátory</strong>, které byly přepsány nad <a href=\"http://ajax.asp.net/downloads/beta/default.aspx?tabid=47&amp;subtabid=471\">MS AJAX Library</a>. Snad budou fungovat mnohem lépe než ty stávající.</p> <p>Osobně jsem ještě velice zajímavě vypadající novinky nezkoušel, ale snad se brzy naskytne ta možnost :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:11:30.467-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "ASP.NET AJAX Extensions beta 1",
  :published #inst "2006-10-20T20:28:03.800-00:00",
  :url "asp-net-ajax-extensions-beta-1",
  :id 184,
  :description "Atlas Framework se blíží ke stabilní verzi.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "ajax" "javascript"]},
 :116-neco-malo-na-tema-skolstvi.aspx
 {:html
  "<p>Jak jste si mohli všimnout v&#160;<a href=\"/clanek/115-rarous-v-atlasu.aspx\">minulém spotu</a>, zařadil jsem se do pracovního procesu, což se v&#160;mém případě neslučuje s&#160;tím, že bych nadále pokračoval ve studiu. Tímto spotem bych chtěl svoje působení v&#160;procesu vzdělávání shrnout. Jednou větou, naše školství není v&#160;pořádku. Co mě k&#160;tomuto závěru vede?</p> <p>Již od <a href=\"http://www.pslib.cz/\">střední školy</a> jsem byl já i&#160;moji souputníci tzv. <em>pokusným králíkem</em>. Vysvětlím, proč mám, nejen já, tento pocit. Na střední se nám několikrát změnil obor a s&#160;ním i&#160;osnovy, takže tomu chyběla nějaká koncepce &#8211; z&#160;výběrového oboru se stal vyvrhel na okraji pozornosti (hlavně z&#160;pohledu vedení školy). Možná od nás očekávali, že jim polezeme do zadku a že budeme mimoškolní čas trávit aktivitami spojenými se správou školní sítě. Místo toho se dočkali do značné míry rebelů, kteří se dokázali ozvat na věci, které se jim nelíbily a to se zase nelíbilo vedení :) Většina lidí z&#160;naší třídy šla pak na vysokou.</p> <p>Asi třetina šla na <a href=\"http://www.fel.cvut.cz/\">FEL</a>. A&#160;zde jsme se opět stali těmi <em>pokusnými králíky</em>. Byli jsme totiž první studenti tzv. strukturovaného studia. Na nás si všichni zkoušeli nové předměty, který často chyběla vazba na jiné, či se naopak kryly &#8211; chyběla prostě nějaká koncepce, což vyplívá i&#160;ze <a href=\"https://www.feld.cvut.cz/referendum/K4zprava1-7-2005.pdf\">zprávy skupiny K4</a>, která měla vyhodnotit stávající studijní program a říci, co dál. Výsledky byly neuspokojivé, ale to pro nás studenty nebylo nic nového, to jsme věděli už dávno. Velikým problémem je odtrženost škol od reálného světa a neschopnost pružně reagovat na poptávku po kvalitních oborech. To jsem bohužel zjistil relativně pozdě.</p> <p>Nebudu se zde rozepisovat o&#160;tom, jak dokáže takový systém motivovat ke studiu, bylo by to marné. Ze školy jsem čerpal věci (znalosti), které se mi hodily a zbytek času jsem věnoval samostudiu úplně jiné látky, až to došlo tak daleko, že jsem nezískal dostatek kreditů pro postup do dalšího semestru a šel jsem do práce :) Času stráveného ve škole však nelituji, nabyl jsem spoustu důležitých zkušeností a už vím, že takhle ne pánové.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-06T07:13:55.500-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Něco málo na téma školství",
  :published #inst "2006-03-05T07:42:40.460-00:00",
  :url "neco-malo-na-tema-skolstvi",
  :id 116,
  :description
  "Moje zkušenosti s našim školstvím. Taková malá rekapitulace a pravděpodobně poslední spot do rubriky Škola.",
  :category "Škola",
  :tags []},
 :216-kecalek-ve-visual-studiu.aspx
 {:html
  "<p>Leopold by možná řekl: „Člověče, to je dobrý, tohleto! To vypadá jako, že pracuju, ikdyž ne. To je dobrý :).“ Bohužel už není mezi námi, takže se to asi nedovíme. Nebojte, nenašli ho udušeného počítačovou myší, to jen přesedlal z Visual Studia na linux, a kdo ví, v čem píše teď :D.</p> <p>A co že by se mu tak líbilo? Hledajíce PyTel na zajíce, tedy vlastně, kterak zapnout podporu <a href=\"http://codeplex.com/IronPython\">IronPythonu</a> ve Visual Studiu (dále jen VS), jsem narazil na nutnost stáhnout si <a href=\"http://www.microsoft.com/downloads/details.aspx?FamilyID=51A5C65B-C020-4E08-8AC0-3EB9C06996F4\">Visual Studio SDK</a>, kde je jedním z ukázkových balíčku (čtyři projekty) právě <a href=\"http://blogs.msdn.com/aaronmar/archive/2006/02/16/a-bit-more-on-ironpython.aspx\">integrace IronPythonu do VS</a>. Ale to jen tak na okraj. Hlavní důvod, proč toto pišu je, že jsem v souvislosti s VS SDK narazil na velice zajímavý projekt s názvem <a href=\"http://codeplex.com/vsmessenger\">VSMessenger</a>.</p> <p>Název samotný může ledasco napovědět. Vězte tedy, že se jedná o integrovaný kecálek (IM klient) přímo do prostředí VS. Tady je <a href=\"http://www.vssdk.com/screencasts/Intro_PartII.wmv\">ukázkové video</a>, že nekecám. Na výběr máme dokonce dva providery. Tím prvním je samozřejmě Windows Live Messenger, u kterého si můžete na speciálním toolbaru držet informaci o stavu vybraných kontaktů. Po kliknutí na jméno se vám ale otevře chatovací okno WLM. Druhým, pro mne o dosti zajímavějším, providerem je Jabber (chcete-li XMPP) provider. Ten je do VS integrován kompletně i s chatovacím ok­nem.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:32:16.673-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Kecálek ve Visual Studiu",
  :published #inst "2007-07-26T07:18:46.527-00:00",
  :url "kecalek-ve-visual-studiu",
  :id 216,
  :description
  "Leopold by možná řekl: „Člověče, to je dobrý, tohleto! To vypadá jako, že pracuju, ikdyž ne. To je dobrý :).“ Bohužel už není mezi námi, takže se to asi nedovíme.",
  :category "Webdesign",
  :tags ["vs" "ironpython" "messenger" "im" "jabber"]},
 :221-atlas-faceliftoval-svoji-homepage.aspx
 {:html
  "<p>Atlas dnes vypustil facelift svoji hlavní stránky, který je na první pohled vzdušnější a přehlednější. Kluci se snažili <a href=\"http://www.atlas.cz\">homepage Atlasu</a> trochu osvěžit a připravit ji na nové možnosti, které se od homepage očekávají.</p> <p>Společně s osvěženou homepagi vyrážejí do světa další novinky z projektu <em>Atlas+</em>:</p> <ol> <li><a href=\"http://azpravy.atlas.cz\">aZprávy</a> – zbrusu nové zprávy na Atlasu, které vás budou bavit.</li> <li><a href=\"http://spunt.atlas.cz\">Špunt</a> – magazín nejen pro rodiče.</li> <li><a href=\"http://utulne.atlas.cz\">Útulně</a> – magazín o bydlení.</li> </ol> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:24:18.717-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Atlas faceliftoval svoji homepage",
  :published #inst "2007-09-02T18:32:22.750-00:00",
  :url "atlas-faceliftoval-svoji-homepage",
  :id 221,
  :description
  "Atlas dnes vypustil facelift svoji hlavní stránky, který je na první pohled vzdušnější a přehlednější. A nejen to",
  :category "Webdesign",
  :tags ["atlas" "homepage"]},
 :5-materialy.aspx
 {:html
  "<p>Dnes jsem započal soustavné učení se na zkoušku z&#160;materiálů. Je to opravdu záživná látka, ale musí to být, jinak se nedostanu na toužený obor, viď. No mám na to ještě šest dnů, tak snad ve mě něco uvízne. Dneska jsem provedl další interní změny v&#160;Gryphoonu, tak jsem zvědav, jak to bude fungovat :)</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Materiály",
  :published #inst "2004-02-16T18:31:46.000-00:00",
  :url "materialy",
  :id 5,
  :description "Dnes jsem započal soustavné učení se na zkoušku.",
  :category "Škola",
  :tags []},
 :161-navody-na-tvorbu-asp-net-stranek.aspx
 {:html
  "<p>Přímo na domovské stránce <a href=\"http://asp.net/\">ASP.NET</a> vyšla <a href=\"http://asp.net/learn/dataaccess/\">sada návodů</a> na tvorbu ASP.NET 2.0 stránek, které pracují s daty. Je zde popsán postup od vytvoření třívrstvé aplikace (<acronym title=\"Data Access Layer\">DAL</acronym>, <acronym title=\"Business Logic Layer\">BLL</acronym>, <acronym title=\"Presentation Layer\">PL</acronym>) přes Master-Deatil pohledy na data po kompletní řešení. Ukázky kódů jsou jak v jazyce Visual Basic .NET tak v C#, ale většinou se jedná o ukázku <acronym title=\"Rapid Application Development\">RAD</acronym> ve Visual Studiu :) Za celým 20 dílným tutoriálem stojí Scott Mitchel, <a href=\"http://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco\">autor několika knih</a> o ASP.NET a autor <a href=\"http://www.4guysfromrolla.com\">několika</a> <a href=\"http://scottonwriting.net/\">zajímavých</a> webů.</p> <p>Ještě něž mě začnete kamenovat, vrátím se k číslu 20 :) Vím, na zmíněných stránkách je k nalezení pouze 15 tutoriálů. Ta další pětka tam také je, ale není odnikud odkázána. Stačí pouze změnit číslo v URL a jste tam :)</p> <p>Přejí příjemné studování.</p> <p>PS. Osobně se mi podobný způsob psaní aplikací úplně nezamlouvá, ale pořád je to čistější než některé opičárny, které občas můžeme potkat ;)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:28:42.660-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Návody na tvorbu ASP.NET stránek",
  :published #inst "2006-06-27T10:07:21.770-00:00",
  :url "navody-na-tvorbu-asp-net-stranek",
  :id 161,
  :description
  "Perfektní návody na tvorbu ASP.NET stránek pro práci s daty",
  :category "ASP.NET 2.0",
  :tags ["aspnet"]},
 :182-atlas-icq-je-tu.aspx
 {:html
  "<p>Když jsem <a href=\"/weblog/115-rarous-v-atlasu.aspx\">nastupoval do Atlasu</a>, rozjížděl se projekt, o kterém se moc nemluvilo a spíš se vše drželo v tajnosti. Atlas jednal s ICQ o spolupráci. Stal se mediálním zástupcen pro český trh a od května se u českých ICQ klientů zobrazovala i naše reklama. Tím však spolupráce nekončí.</p> <p>Celou tu dobu se připravovalo technické zázemí na propojení Atlasu a ICQ. Nyní můžeme nabídnou plně česky lokalizovaného klienta s napojením na služby Atlasu. Propojení se určitě neobešlo o některá úskalí, která mě vyprovokovala např. k napsání článk <a href=\"/weblog/145-php-brzda-internetu.aspx\">PHP, brzda internetu?</a>. Na mě spadlo přepsání <a href=\"http://registrace.atlas.cz/\">registrace</a>, což taky nebylo nic příjemného, ale nakonec se to snad povedlo :)</p> <p>Tak stahujte na <a href=\"http://www.icq.atlas.cz/\">icq.atlas.cz</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:14:30.110-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Atlas ICQ je tu",
  :published #inst "2006-09-26T14:26:34.717-00:00",
  :url "atlas-icq-je-tu",
  :id 182,
  :description
  "Po měsících dřiny můžeme konečně nabídnout českým uživatelům ICQ klienta v češtině s napojením na naše služby.",
  :category "Jen tak",
  :tags ["atlas" "icq"]},
 :20-first-may.aspx
 {:html
  "<p>Včera bylo opravdu pěkně, po vydařených čarodějnicích, které jsme si museli zorganizovat na poslední chvíli úplně sami, jsme prožili další výborný den. Uklidili jsme u hřiště, hráli pinec a večer jsme pak šli do <a href=\"http://www.discodubnice.cz/\">Dubnice</a>. Tahákem večera byla <a href=\"http://www.verona-music.cz/\">Verona</a>, ale nějak moc extra to nebylo, ukázali se tam tak na 25 min a zase letěli. Ale to je fuk :) Nechal jsem si zahrát <strong>Gigi's Good Night</strong> a myslím, že to mělo úspěch. Možná budou i nějaký fotky.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:41:41.917-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "First May",
  :published #inst "2004-05-02T19:12:00.000-00:00",
  :url "first-may",
  :id 20,
  :description "Něco slov o prvním máji.",
  :category "Kamarádi",
  :tags []},
 :21-neco-pro-cteni.aspx
 {:html
  "<p>Po dlouhé době vyšly na <a href=\"http://interval.cz/\">Intervalu</a> zase nějaké články, které mě zaujaly. Za prvé je to <a href=\"http://interval.cz/clanky/jak-psat-css-prehledne-a-logicky/\">Jak psát CSS přehledně a logicky</a>, kde se dozvíte, jak byste mohli formátovat CSS, aby bylo lépe čitelné. Déle je to článek <a href=\"http://interval.cz/clanky/webdesignerovy-poznamky-z-typografie/\">Webdesignerovy poznámky z typografie</a>, který vás zasvětí do tajů webové typografie. Doporučuji přečíst i hutnou diskusi k článku.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:44:58.260-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Něco pro čtení",
  :published #inst "2004-05-29T21:06:01.000-00:00",
  :url "neco-pro-cteni",
  :id 21,
  :description "Tipy pro čtení.",
  :category "Webdesign",
  :tags []},
 :449-parsovani-primitivnich-typu-znova-a-lepe.aspx
 {:html
  "<p>Způsobů, jak parsovat primitivní typy z texu, je celá řada. Každý typ má svou statickou metodu <code>Parse</code>, která vyhodí výjimku, když se jí to nepovede. Pak tu máme modul <code>Convert</code>, který dokáže parsovat poměrně bezpečně, ale ne vždy chceme dostávat <code>default</code> hodnoty, když se mu podstrčí nic.</p> <p>Občas zkrátka potřebujeme mít absenci nějaké hodnoty vyjádřenou v logice kódu. Proto často nezbývá než se vrhnout po hlavě do šíleného vzoru, který je v <acronym title=\"Base Class Library\">BCL</acronym> rozšířen jak mor v době temna – <code>TryParse</code>. Protože tyto metody vznikly někdy v době, kdy si ještě mohlo <acronym title=\"Common Language Runtime\">CLR</acronym> o generikách nechat zdát, je práce s ní celkem neohrabaná a plná nepěkných věcí, jako <code>out</code> parametry nebo porušení základního objektového principu <em>tell don't ask</em>.</p> <pre class=\"csharp\"><code>int? TryParse(string input) { int result; if (Int32.TryParse(input, out result)) return result; return null; }</code></pre> <p>Tohle je jednoduchá ukázka, kterou jistě ve svém kódu najdete nespočetněkrát. Proč už něco takovýho není v BCL od verze 2? Každopádně má to své mouchy, třeba teď to pro změnu <a href=\"/weblog/447-zatocime-s-null.aspx\">vrací null</a>! A to jsme jeden problém vyřešili zavedením jiného.</p> <p>Tak se necháme inspirovat u F#, které nemá podporu pro <code>out</code> parametry. Ten to řeší nějak tak:</p> <pre class=\"csharp\"><code>Tuple&lt;bool, int&gt; TryParse(string input) { int result; bool success = Int32.TryParse(input, out result); return Tuple.Create(success, result); }</code></pre> <p>Bohužel C# není jazyk, který by prvotřídně podporoval <code>Tuple</code>s. Můžeme se ptát proč, ale je to asi taky zbytečný. Každopádně, nemáme problém s <code>null</code>, ale typ samotný nám toho taky moc neřekne. Co je ten <code>bool</code>? Nevíme, dokud se nepodíváme do dokumentace – kódu. Musí to jít i lépe! Maybe. ;)</p> <pre class=\"csharp\"><code>Maybe&lt;int&gt; TryParse(string input) { int result; bool success = Int32.TryParse(input, out result); return success ? result.ToMaybe() : new Nothing&lt;int&gt;(); }</code></pre> <p>Nyní máme existenci hodnoty vyjádřenou na úrovni typu a můžeme s ní bezpečně pracovat. Můžeme využít funkcionální kompozice, a hodnotu, pokud existuje, dále zpracovávat. Nikde (skoro), však nemusíme ověřovat, jestli ji máme nebo ne. Kód se tak krásně vyčistí.</p> <p>Celé řešení můžeme nakonec pěkně generalizovat a vytvořit si vlastní modul pro parsování:</p> <pre class=\"csharp\"><code>public static class ParseEx { public delegate bool ParserDelegate&lt;T&gt;(string input, out T result); public static Maybe&lt;T&gt; Parse&lt;T&gt;(string input, ParserDelegate&lt;T&gt; parser) { T result; bool isSuccess = parser(input, out result); return isSuccess ? result.ToMaybe() : new Nothing&lt;T&gt;(); } public static Maybe&lt;DateTime&gt; ParseDateTime(string input) { return Parse&lt;DateTime&gt;(input, DateTime.TryParse); } public static Maybe&lt;int&gt; ParseInt32(string input) { return Parse&lt;int&gt;(input, Int32.TryParse); } }</code></pre> <p>Máme jednu parametricky polymorfní metodu, která nám umožňuje parsovat libovolná data, pomocí předaného delegáta. Tu pak používáme k vytvoření specifických parsovacích metod, které nám umožní opět kód pročistit.</p> <p>Kdybyste hledali implementaci <code>Maybe</code>, <a href=\"https://gist.github.com/rarous/5355792\">najdete ji v tomhle gistu</a> i se spoustou šikovných extenzí.</p> <p>Toto řešení může mít u některých performance hunterů některé efekty, ze kterých by nemuseli klidně spát. Hlavně ty alokace na heapu, když jsme mohli zůstat v klidu na zásobníku. No jo. V tohle případě je však zisk z čitelnosti a korektnosti o tolik řádů větší než pár ušetřených cyklů levného výpočetního výkonu, že to snad ani nemá cenu zase v komentářích řešit, co? ;)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-04-23T17:12:24.767-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Parsování primitivních typů znova a lépe",
  :published #inst "2013-04-23T17:10:57.920-00:00",
  :url "parsovani-primitivnich-typu-znova-a-lepe",
  :id 449,
  :description "Praktické využití těch šílených monád.",
  :category "Moje práce",
  :tags []},
 :410-o-vymysleni-kola.aspx
 {:html
  "<p>V pátek jsem si utvítl, že „Psát virtuální distribuovanej file systém je challenge.“ a hned jsem dostal reakce, že jsem další v řadě a že znova vymýšlím kolo a další parafráze mých výroků.</p> <p>Jak to tedy je? :)</p> <h3 id=\"toc-challenge-pro-vas\">Challenge pro vás</h3> <p>Ukažte mi implementaci <code>VirtualPathProvider</code>u, který má správně vyřešené cachování a škáluje přes více než jeden webový front-end.</p> <p>Když se vám to povede, veřejně mě můžete prohlásit za hlupáka, který neumí hledat a znovu vynalézá kolo. Když se vám to nepovede, můžete se mě snažit uplatit, abych vám prozradil pikantní podrobnosti.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-11-15T13:49:05.040-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "O vymýšlení kola",
  :published #inst "2011-11-15T13:48:38.447-00:00",
  :url "o-vymysleni-kola",
  :id 410,
  :description "a tak jak to vlastně bylo...",
  :category "Moje práce",
  :tags []},
 :390-progressive-may.aspx
 {:html
  "<p>Dlouho slibovaný odkládaný set s výbornými progressivními tracky v ne zas tak super provedení…</p> <div class=\"haudio\"> <ol> <li class=\"item\"><span class=\"contributor\">Pryda</span> — <span class=\"title\">Melo</span></li> <li class=\"item\"><span class=\"contributor\">Adrian Lux</span> — <span class=\"title\">Teenage Crime</span> (Axwell &amp; Henrik B Remode)</li> <li class=\"item\"><span class=\"contributor\">Faithless</span> — <span class=\"title\">Not Going Home</span> (Eric Prydz Remix)</li> <li class=\"item\"><span class=\"contributor\">EDX</span> — <span class=\"title\">Hoover</span></li> <li class=\"item\"><span class=\"contributor\">Moguai</span> — <span class=\"title\">Oyster</span></li> <li class=\"item\"><span class=\"contributor\">Mark Knight</span> &amp; <span class=\"contributor\">Funkagenda</span> — <span class=\"title\">Antidote</span></li> <li class=\"item\"><span class=\"contributor\">Miike Snow</span> — <span class=\"title\">Silvia</span> (Sebastian Ingrosso &amp; Dirty South Remix)</li> <li class=\"item\"><span class=\"contributor\">Pryda</span> — <span class=\"title\">Emos</span></li> <li class=\"item\"><span class=\"contributor\">Marc Marzenit</span> — <span class=\"title\">Motor</span></li> <li class=\"item\"><span class=\"contributor\">Mihalis Safras</span> — <span class=\"title\">San Tropez</span> (Oxia Remix)</li> <li class=\"item\"><span class=\"contributor\">Skylar</span> — <span class=\"title\">Movin</span> (Joris Voorn Rejected Rave Dub)</li> <li class=\"item\"><span class=\"contributor\">Pryda</span> — <span class=\"title\">Inspiration</span></li> <li class=\"item\"><span class=\"contributor\">King Unique</span> — <span class=\"title\">2000000 Suns</span></li> <li class=\"item\"><span class=\"contributor\">Pryda</span> — <span class=\"title\">Viro</span></li> <li class=\"item\"><span class=\"contributor\">Pryda</span> — <span class=\"title\">Lift</span></li> <li class=\"item\"><span class=\"contributor\">Adrian Lux</span> — <span class=\"title\">Teenage Crime</span> (Axwell Remix)</li> <li class=\"item\"><span class=\"contributor\">Joris Voorn</span> — <span class=\"title\">The Secret</span></li> </ol> <p><span class=\"category\">dj set</span> <span class=\"contributor\">Alessio Busta</span> – <span class=\"title\">Progressive May</span></p> </div> <!--[if !IE]> --> <object type=\"application/x-shockwave-flash\" data=\"http://www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-progressive-may%2F&amp;embed_uuid=fdf39e5b-5e55-41ff-9d4f-0c52b802dd5d&amp;stylecolor=&amp;embed_type=widget_standard\" width=\"100%\" height=\"160\"> <!-- <![endif]--> <!--[if IE]> <object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\" width=\"100%\" height=\"160\"> <param name=\"movie\" value=\"http://www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-progressive-may%2F&amp;embed_uuid=fdf39e5b-5e55-41ff-9d4f-0c52b802dd5d&amp;stylecolor=&amp;embed_type=widget_standard\" /> <!--><!--dgx--> <param name=\"loop\" value=\"true\" /> <param name=\"menu\" value=\"false\" /> <param name=\"allowfullscreen\" value=\"true\" /> <param name=\"flashvars\" value=\"\" /> </object> <!-- <![endif]--> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-10-08T09:10:05.707-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Progressive May",
  :published #inst "2010-06-06T09:01:05.317-00:00",
  :url "progressive-may",
  :id 390,
  :description
  "Dlouho slibovaný odkládaný set se super progressivní muzikou v ne zas tak super provedení...",
  :category "Muzika",
  :tags ["alessiobusta" "progressive" "house"]},
 :155-patecni-stripky.aspx
 {:html
  "<p>Málem jsem se rozmázl o&#160;sloup. Pomalu přestává pršet. Je 0.35, sedím v&#160;tramvaji a přes zavlhčené sklo pozoruji míhající se světla lamp na Evropské třídě. <img class=\"right\" src=\"/data/obrazky/orosene_okno.jpg\" alt=\"Zapršené okno tramvaje\" /> Přestup na Hradčanské proběhl nečekaně rychle – čekala tam dvacítka. Schoval jsem se pod stromem, ale stejně na mne kapalo. Na Štrosmajeráku prší, ostatně jako celou cestu z&#160;T-Mobile arény. Rozloučil jsem se se Zuzkou, Kubou a Dádisem a vyrazil směr postel. Čekání jsem si krátil prohlížením nafocených fotek, ale dlaždičky moc nehřály. Zuzka šla najít kluky. Nakonec snad trefil. Mike šel na záchod, ale trochu špatným směrem.</p> <p>Prolezli jsme tribunu, ale kluci nikde – tady je nemůžeme najít. Mike se nás snažil vyfotit, ale nějak mu to nefotilo – třikrát spadl na zem, nakonec se to snad ale povedlo. Po Stevově vystoupení jsem si dal dvě Nestea, docela bodly, i&#160;když pořád cítím tu Whiskey. (1.05&#160;Teď volal Mike, že už taky jde.) <img class=\"left\" src=\"/data/obrazky/steve_angello_1.jpg\" alt=\"Steve Angello live\" /> Stevův set byl úžasný, přesně to, co jsem potřeboval: věci, co sem poznal (Eric Prydz feat. Adeva – In&amp;Out(Re-Mode), Röyksopp &#8211; What Else Is There? (Trentemöller Remix), Eurythmix – Sweet Dreams (Steve Angello Bootleg Mix), Deep Dish – Say Hello (Steve Angello &amp; Sebastian Ingrosso Remix), Buy Now – for sale, Steve Angello – Teasing Mr. Charlie, Steve Lawler – That Sound (Steve Angello &amp; Sebastian Ingrosso Remix), Who’s Who – Not so Dirty, Who’s Who – Sexy Fuck, Steve Angello &#8211; Streight). Další věci jsem taky znal, ale vypadla mi jména :D. Nabušený dvě hodiny, určitě to za to stálo. Steve má můj respekt.</p> <p><img class=\"right\" src=\"/data/obrazky/steve_angello_2.jpg\" alt=\"Steve Angello live\" /> Šel jsem si ho dopředu vyfotit z&#160;blízka (zoom nestačil) a ňáká děvka se mi snažila vytáhnout z&#160;kapsy peněženky – zpravil to vražený loket do onoho prostoru. Přišel Paul van Dyk a potřásl si pravicí se Stevem. Je vidět jak si to užívá, extrémní fáze ještě přes sampler prodlužuje a vytahuje do vejšek – nářez. Přišli jsme v&#160;čas, ještě Steve nehrál.</p> <p>Jakub se hned někde ztratil v&#160;davu a už jsme ho nenašli. Z&#160;hospody jdeme ke kasám – je vyprodáno, ale čekaj tam na nás kluci. Skočil jsem si na záchod – oni zatím zaplatili. Šel jsem do hospody pro ségru a klucí. Lístek pro Zuzku jsem koupil za pjéťo od nějakých slováku, co se s&#160;nima seznámil Jakub. Pěkně chčije, ale už jsme u&#160;arény – pěkná fronta před vstupem. Za deset minut začíná Steve a to musím stihnout. Vylejzáme na Štrosmajeráku a flašky už jsou prádný – „Ty lidi se na nás koukaj. Já se stydím,“ pronesl Mike při výlezu ze šaliny. Docela ostuda, ale to je fuk. Jakub bouchnul šáňo, za chvíli to snad pojede – prší (ale já tam cítím, chčije).</p> <ul> <li><a href=\"http://axwell.proboards38.com/index.cgi?action=display&amp;board=general&amp;thread=1148815664&amp;page=1\">Diskuse u&#160;Axwella</a></li> <li><a href=\"/galerie/2006-05-26_Paul_van_Dyk/default.aspx\">Fotoalbum z&#160;akce</a></li> </ul> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-07-26T11:03:06.770-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Páteční střípky",
  :published #inst "2006-05-28T09:18:35.707-00:00",
  :url "patecni-stripky",
  :id 155,
  :description
  "Střípky z páteční akce. Z nějakého podivného důvodu ve stylu LIFO.",
  :category "Jen tak",
  :tags []},
 :195-drobne-novinky-v-okolnim-webu.aspx
 {:html
  "<p>Weblogy.cz mají nové logo. Většině komentujících se nelíbí, něktří ho ani nepovažují za logo :) Většina úspěšných log je postavena na jednoduchosti a většinou jsou textová (NOKIA, SIEMENS, SONY, MICROSOFT, IBM a mnoho dalších). Weblogy se snažily jít podobnou cestou navíc s vtipem sobě vlastním – parodie W3C. Takže si změňte své bookmarky a favorities na <a href=\"http://www.w3blogy.cz/\">www.W3Blogy.cz</a> a vychutnejte si otočenou trojku plnými doušky – někteří z vás ji možná i pochopí ;) Změna loga není a ani nebude jedinou změnou na této službě. Již předtím došlo k lehkému faceliftu designu, kdy weblogy chvílemi připomínaly známou <a href=\"http://www.dgx.cz/trine/\">La Trine</a>, která v záchvatu originality raději redesignovala také :D</p> <p>Na <a href=\"http://www.atlas.cz/\">Atlasu</a> došlo k lehkému rozšíření personalizace o možnost výběru barevných skinů. Krom klasické modré, si nyní můžete novou homepage vychutnávat i v zelené, oranžové a červené. Bohužel, můj oblíbený černý skýn, nebyl nasazen, škoda, snad se na něj ještě v budoucnu dostane… Když už jsem u Atlasu, neustále <strong>sháníme posily do našeho týmu!</strong> Pokud umíte C#, ASP.NET, MS SQL a <strong>jste v tom dobří,</strong> chcete pracovat v opravdu neformálním prostředí, společně s tropickým šílencem <a href=\"http://www.mraveniste.org\">Honzou Bienem</a>, slečnou <a href=\"http://pokec.atlas.cz/blogy/mapy/\">Veronikou</a>, <a href=\"http://management.blog.lupa.cz/\">Petrem Šnajdrem</a>, <span title=\"Daniel Steigerwald\">strejdou</span> a mnoha dalšími internetovými profesionály, dejte vědět, třeba na mejl <a href=\"mailto:rarous&#64;gmail.com\">rarous&#64;<!---->gmail.com</a>…</p> <p>PS. Přepínání barviček na Atlasu najdete v pravém horním rohu ;)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:47:43.777-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Drobné novinky v okolním webu",
  :published #inst "2006-11-24T14:40:53.663-00:00",
  :url "drobne-novinky-v-okolnim-webu",
  :id 195,
  :description "Pár postřehů z dění posledních dnů.",
  :category "Webdesign",
  :tags ["atlas" "homepage" "weblogy"]},
 :143-skoleni-oop-uml-a-navrhovych-vzoru.aspx
 {:html
  "<p>Poslední tři dny jsem se účastnil <a href=\"http://blog.renestein.net/PermaLink,guid,bacdc2f2-68ca-428b-8489-98a31e946b27.aspx\">školení OOP, UML a návrhových vzorů</a>, které pořádá <a href=\"http://blog.renestein.net/\">René Stein</a>. Na školení jsem se dostal čirou náhodou a dověděl jsem se o&#160;tom až den před zahájením – můj kolega Filip se nechal zapsat právě na tento kurz, ale vzhledem k&#160;tomu, že zrovna dokončuje důležitý projekt, nemohl se zúčastnit. Protože již byl kurz zaplacený, byl jsem nakonec vyslán já – tímto děkuji ;)</p> <p>Začnu nejdříve tím, co se mi na kurzu nelíbilo: nelíbilo se mi, že pro tři učebny je pouze jedna toaleta v&#160;podobě <span title=\"samozřejmě záchodové\">jedné mísy</span>. Tím výčet mé nespokojenosti končí :)</p> <p>René se ze mne snažil vypáčit nějaký feedback, ale záměrně jsem mlžil a nechal jsem si ho až na tento zápisek, který píšu po shlédnutí kompletní sady přednášek. Školení pro mě bylo přínosem, ať už proto, že jsem se setkal se zajímavými lidmi z&#160;oboru nebo proto, že jsem poznal příjemnou pizzerii, která leží jen pár metrů od míst, která jsme skoro denně navštěvoval několik let (2,5&#160;roku FELace na katedře počítačů :D). Samozřejmě, že největším přínosem pro mě byl obsah přednášek, kdy se René snaží v&#160;prvním dni projet OOP s&#160;návazností na UML, zbořit některé mýty – <a href=\"/clanek/114-kladivo-na-carodejnice.aspx\">to já rád</a> – a srovnat znalosti posluchačů na úroveň, se kterou budou schopni vstřebávat informace prezentované v&#160;následujících dnech. Musím říct, že je to pěkná <em>nalejvárna</em> a to, co jiní vykládají celé semestry, René zvládne za tři dny a má to větší efektivnost. Výhodou tohoto kurzu je spousta praktických ukázek a výměna zkušeností z&#160;praxe lektora, tak účastníků kurzu.</p> <p>Vzhledem k&#160;tomu, že je školení velice přínosné, musím ho doporučit všem, kdož mají zájem navrhovat a psát kvalitní objektové aplikace. René taky chystá návazný kurz, který bude zaměřen více na praktickou stránku věci s&#160;využitím znalostí právě z&#160;tohoto kurzu. Nevím, jestli neprozradím nějaké tajemství, ale můžeme se těšit i&#160;na knihu věnovanou této problematice. <strong>Díky René.</strong></p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-05-05T21:14:09.547-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Školení OOP, UML a návrhových vzorů",
  :published #inst "2006-05-05T21:10:24.377-00:00",
  :url "skoleni-oop-uml-a-navrhovych-vzoru",
  :id 143,
  :description
  "Poslední tři dny jsem se účastnil školení OOP, UML a návrhových vzorů. Zde jsou mé dojmy.",
  :category "Moje práce",
  :tags []},
 :301-stack-overflow-socialni-studnice-znalosti-pro-vyvojare.aspx
 {:html
  "<p>Tento týden byla spuštěna do veřejného beta provozu nová studnice znalostí pro vývojáře s romantickým názvem <a href=\"http://www.stackoverflow.com/\">Stack Overflow</a>.</p> <p>Tento web se veze na sociální vlně. Je to kombinace FAQ, Wiki a Diggu. Umožňuje hlasování o relevantnosti odpovědí, tagování, gravatary, komentáře, prostě všechny tydlety cool 2.0 věci. Zatímto zajímavám počinem pro vývojáře stojí dvě docela známé a uznávané osobnosti v blogosféře a to <a href=\"http://www.codinghorror.com/\">Jeff Atwood</a> (Coding Horror) a <a href=\"http://www.joelonsoftware.com/\">Joel Spolsky</a> (Joel on Software).</p> <p>Tak honem šup šup se na něco zeptat nebo odpovědět, úspěch této aplikace závisí pouze na dostatečně relevantích přispěvatelích.</p> <p>PS. technická poznámka, celé je to postaveno pomocí <a href=\"/weblog/tag/mvc.aspx\">ASP.NET MVC</a> frameworku.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-25T08:08:32.160-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Stack Overflow - sociální studnice znalostí pro vývojáře",
  :published #inst "2008-09-19T17:29:09.140-00:00",
  :url "stack-overflow-socialni-studnice-znalosti-pro-vyvojare",
  :id 301,
  :description
  "Tento týden byla spuštěna do veřejného beta provozu nová studnice znalostí pro vývojáře s romantickým názvem Stack Overflow.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "mvc" "web20"]},
 :357-service-locator.aspx
 {:html
  "<p>Znáte vzor Service Locator? Pravděpodobně jste s ním setkali nespočetněkrát aniž byste o tom věděli.</p> <h3 id=\"toc-update\">Update</h3> <p>Service locator je <strong>code smell</strong>. Následující řádky jsou zajímavé jako programátorské cvičení, nedoporučuji ho však používat v praxi. Třída by měla mít co nejméně závislostí a pokud chceme zredukovat počet parametrů konstruktoru, není následující řešení řešením vhodným! Měli bychom přemýšlet o změně návrhu.</p> <hr /> <p><a href=\"http://martinfowler.com/articles/injection.html#ADynamicServiceLocator\">Service Locator</a> je návrhový vzor, který je součástí techniky dependency injection / inversion of control. Jeho úkolem je dodat hotové instance služeb na vyžádání. Můžeme si ho představit nějak tak:</p> <pre class=\"csharp\"><code>public interface IServiceLocator { TService GetService&lt;TService&gt;(); IEnumerable&lt;TService&gt; GetServices&lt;TService&gt;(); }</code></pre> <p>Jeho úkolem je poskytnout službu daného typu nebo všechny služby, které splňují danný kontrakt. K čemu je to dobré? Dobré je to především pro konfigurovatelné a rozšiřitelné aplikace. Řekněme, že budu chtít do svého redakčního systému přidat možnost oznámení na e-mail, když někdo zadá komentář. První řešení bude nejspíš to přímočaré:</p> <pre class=\"csharp\"><code>public class CommentsController : Controller { public ActionResult AddComment(Comment comment) { // validace a persistence komentáře var notificator = new EmailNotificator(); notificator.send(new CommentNotification(comment)); return Json(comment); } }</code></pre> <p>Proč nepřidat možnost odesílání SMSek? Tak jo:</p> <pre class=\"csharp\"><code>public class CommentsController : Controller { public ActionResult AddComment(Comment comment) { // validace a persistence komentáře var emailNotificator = new EmailNotificator(); emailNotificator.send(new CommentNotification(comment)); var smsNotificator = new SmsNotificator(); smslNotificator.send(new CommentNotification(comment)); return Json(comment); } }</code></pre> <p>Skvěle, teď ještě posílání na <a href=\"http://www.twitter.com/\">Twitter</a> nebo na <a href=\"http://friendfeed.com/\">FriendFeed</a> a akce nám krásně roste… :) Takže se oprostíme od toho, že dopředu víme, kudy všudy se chceme nechat informovat o nových komentářích a využijeme Service Locator:</p> <pre class=\"csharp\"><code>public class CommentsController : Controller { private readonly IServiceLocator _serviceLocator; public CommentsController(IServiceLocator serviceLocator) { _serviceLocator = serviceLocator; } public ActionResult AddComment(Comment comment) { // validace a persistence komentáře var newCommentNotification = new CommentNotification(comment); var notificators = _serviceLocator.GetServices&lt;INotificator&gt;(); notificators.Each(notificator =&gt; notificator.send(newCommentNotification)); return Json(comment); } }</code></pre> <p>Tím jsme také vyřešili problém vznikající při <strong>constructor injection</strong> a to rostoucí počet parametrů konstruktoru s rostoucími závislostmi. Protože service locator nám dokáže obstarat potřebné služby, nemusíme je injektovat zvlášť.</p> <p>Ještě se vrátím k poznámce v úvodu, kde jsem psal, že jste se určitě s tímto vzorem setkali, aniž byste si toho byli vědomi. O co jde? O Singleton! :) Singleton je speciální případ service locatoru, který vrací službu jediného typu s řízeným životním stylem jedináčka.</p> <p>To je všechno pěkné, ale jak tedy service locator ví, jak ty služby získat a jakej mají životní styl? Pokud používáte IoC kontejner, odpověd je snadná: service locator si udělám jako fasádu nad kontejnerem a tu do něj zaregistrujeme. Pokud žádný IoC kontejner nepoužíváte, tak si honem nějaký sežeňte! :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-04-19T15:15:49.813-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Service Locator",
  :published #inst "2009-05-30T11:44:44.580-00:00",
  :url "service-locator",
  :id 357,
  :description
  "Znáte vzor Service Locator? Pravděpodobně jste s ním setkali nespočetněkrát aniž byste o tom věděli.",
  :category "ASP.NET 2.0",
  :tags ["servicelocator" "pattern" "ioc"]},
 :64-texy-web-service-ws.aspx
 {:html
  "<p>Již dlouhou dobu používám <a href=\"http://texy.info/\">Texy!</a> v&#160;několika webových projektech, které používají redakční systém <a href=\"http://www.textpattern.com\">TextPattern</a>. Na syntax Texy! jsem si zvykl a líbí se mi, jak jednoduše dostanu XHTML validní kód. Už v&#160;začátku jsem chtěl přepsat Texy! do dotnetu, abych ho mohl použít i&#160;v mém redakčním systému Gryphoon. Jenže Texy! má velice rozsáhlé zdrojové kódy a tak se mi do toho moc nechtělo, i&#160;když by to byla velice zajímavá zkušenost. Jednoho krásného dne mě však napadlo, že by bylo docela zajímavé udělat z&#160;Texy! webovou službu, ke které může přistupovat v&#160;podstatě kdokoliv.</p> <p>Nakonec jsem se rozhodl službu napsat sám a něco se přiučit v <a href=\"http://www.php.net\" title=\"PHP Hypertext Processor\">PHP</a> (né že by to byla moje priorita, ale každá zkušenost dobrá). Zjistil jsem, že PHP 4.x nemá podporu pro <a href=\"http://www.w3.org/TR/2003/REC-soap12-part0-20030624/\" title=\"Simple Object Access Protocol\">SOAP</a> volání, tak jsem našel knihovnu <a href=\"http://sourceforge.net/projects/nusoap/\" title=\"stránky projektu nuSOAP\">nuSOAP</a>. Knihovna nuSOAP je univerzální knihovnou jak pro WS klienty, tak pro WS servery. Jedinou podivností této knihovny je, že z&#160;nějakého zvláštního důvodu převádí UTF-8&#160;na ISO-8859&#8211;1 a pak zpět, čímž dojde ke ztrátě znaků s&#160;diakritikou.</p> <p>Takže je potřeba v&#160;této knihovně udělat několik změn, aby správně fungovala čeština. Nejprve je nutné upravit funkci <strong>character_data</strong> ve třídě <em>soap_parser</em>. Následující kód prostě zakomentujte:</p> <pre class=\"php\"><code>if($this-&gt;decode_utf8) { $data = utf8_decode($data); }</code></pre> <p>Dále je potřeba nastavit kódování odchozí zprávy na UTF-8, to se dělá v&#160;deklaracích třídy <em>nusoap_base</em>, řádek</p> <pre class=\"php\"><code>var $soap_defencoding = 'ISO-8859-1';</code></pre> <p>Změňte na:</p> <pre class=\"php\"><code>var $soap_defencoding = 'UTF-8';</code></pre> <p>Tím by měly být problémy se ztrátou českých znaků vyřešeny. Další nutnou knihovnou je samotná <a href=\"http://www.texy.info/cz/download\">knihovna Texy!</a>. No a nyní se dostáváme k&#160;tomu nejdůležitějšímu &#8211; službě samotné.</p> <pre class=\"php\"><code>&lt;?php /* Texy Web Service * ================ * * Provides SOAP interface for Texy! syntax convertor. * Author: Aleš Roubíček -rarous- (rarous@seznam.cz) * */ require_once(\"texy-compact.php\"); // knihovna Texy! require_once(\"nusoap.php\"); // knihovna nuSOAP $ns = \"http://texy.info\"; // prostor názvů služby $server = new soap_server(); $server-&gt;configureWSDL('TexyConverter', $ns); // název webové služby $server-&gt;wsdl-&gt;schemaTargetNamespace = $ns; // zveřejnění metody s jejími parametry $server-&gt;register( 'PrevedDoXhtml', array('text' =&gt; 'xsd:string'), array('return' =&gt; 'xsd:string'), $ns ); $server-&gt;register( 'PrevedDoXhtmlR', array('text' =&gt; 'xsd:string', 'utf' =&gt; 'xsd:boolean', 'trust' =&gt; 'xsd:boolean', 'headingLevel' =&gt; 'xsd:integer' ), array('return' =&gt; 'xsd:string'), $ns ); // funkce pro základní formátování s natvrdo nastavenými vlastnostmi // input string text – text v Texy! syntaxu // return string html – vrací XHTML kód function PrevedDoXhtml($text) { $texy = &amp;new Texy(); $texy-&gt;utf = true; $texy-&gt;trustMode(); $texy-&gt;headingModule-&gt;top = 3; $html = $texy-&gt;process($text); return $html; } // funkce pro základní formátování s volitelnými vlastnostmi // input string text – text v Texy! syntaxi // input boolean utf – má Texy! pracovat s UTF? // input boolean trust – má Texy! pracovat v důvěryhodném režimu nebo v bezpečném // input integer headingLevel – nejvyšší úroveň nadpisu // return string html – vrací XHTML kód function PrevedDoXhtmlR($text, $utf, $trust, $headingLevel) { $texy = &amp;new Texy(); $texy-&gt;utf = $utf; if($trust) $texy-&gt;trustMode(); else $texy-&gt;safeMode(); $texy-&gt;headingModule-&gt;top = $headingLevel; $html = $texy-&gt;process($text); return $html; } $server-&gt;service($HTTP_RAW_POST_DATA); ?&gt;</code></pre> <p>Toť vše drazí čtenáři. Vlastně ještě ne, tohle je první příspěvek na tomhle blogu, který je formátován pomocí Texy!</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Texy! Web Service (WS)",
  :published #inst "2005-08-02T18:40:00.000-00:00",
  :url "texy-web-service-ws",
  :id 64,
  :description "",
  :category "Webové služby",
  :tags []},
 :423-proc-nemam-rad-coffeescript.aspx
 {:html
  "<p>Nepopírám, že CoffeeScript má některé featury, které jsou zajímavé. Pro mně je však nepřehledný. <a href=\"http://estejs.tumblr.com/post/29175863516/why-coffeescript\">Dan ve svém blogu píše</a> pár důvodů, proč CoffeeScript ano:</p> <blockquote> <dl> <dt>My arguments for CoffeeScript</dt> <dd>reduction of noise in code, indenting is enough, we don’t need (), {} and ;</dd> <dd>enforces consistent code style</dd> <dd>beautiful class definition</dd> <dd>less typing = less typos</dd> <dd>+zilion little big details</dd> </dl> </blockquote> <p>Zajímavé. Tohle jsou vlastně moje body, proč CoffeeScript ne. :)</p> <h3 id=\"toc-1-redukce-sumu\">1. Redukce šumu</h3> <p>Šum považuju za špatný, ovšem. C-like jazyky jsou plné šumu, který CoffeeScript zdánlivě odstraňuje. Jenže zdání klame. CoffeeScrit je plný „bílého šumu“, který je stejně špatný jako každý jiný šum. Náš mozek je z mnoha hodin matematiky zvyklý na matematická znaménka, dokáže s nimi pracovat mnohem lépe než se slovy. Správně vložená závorka/operátor je dobro.</p> <h3 id=\"toc-2-jednotny-styl\">2. Jednotný styl</h3> <p>Někdo preferuje potlačení idividualit, preferuje uniformitu, jiný nikoli. Jenže ani v případě CoffeeScriptu není konzistence nikterak závratná. Tam, kde skončili náboženské boje o závorky, tam nastoupili boje o odsazování. Někdo preferuje taby, jiný mezery. Další sází kód do tabulkového layoutu. Stejnej shit.</p> <h3 id=\"toc-3-definice-tridy\">3. Definice třídy</h3> <p>Třídy v JavaScriptu nejsou! Je to prototypový jazyk. Tak to kurva už přijměte. ;) Pokud ale fakt třídy nutně potřebujete, použijte <a href=\"http://code.google.com/p/traceur-compiler/\">Traceur</a>, což je překladač z ECMAScriptu 6. BTW <a href=\"http://blog.jetbrains.com/webide/2012/04/webstorm-4-0-in-harmony-with-ecmascript/\">Webstorm ho má</a> od verze 4 integrovaný.</p> <h3 id=\"toc-4-mene-psani\">4. Méně psaní</h3> <p>No, vsadim se, že s CodeRushem a Intellisense toho napíšu mnohem mnohem míň a s menší chybovostí než v CoffeeScriptu. (Platí jak pro C# tak pro JavaScript. Ostatně asi i pro WebStorm. :))</p> <h3 id=\"toc-5-a-ty-detaily\">5. A ty detaily</h3> <p>Jak se říká tisíckrát nic umořilo vola. Jak byl Dan z počátku ke CoffeeScriptu skeptický, mně celkem nadchl. Naopak, jak jsem postupně viděl spoustu drobných detailů, ztratil u mně zájem a podporu. Což je celkem zajímavý, protože něco podobnýho <a href=\"http://rarous.net/weblog/396-muj-pohled-na-fsharp-se-meni.aspx\">už jsem před tím taky zažil, ale obráceně…</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-08-11T09:39:02.690-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Proč nemám rád CoffeeScript",
  :published #inst "2012-08-11T09:26:11.903-00:00",
  :url "proc-nemam-rad-coffeescript",
  :id 423,
  :description "Muselo to ven. :)",
  :category "Moje práce",
  :tags []},
 :50-noisemaker-rules.aspx
 {:html
  "<p>Chlapci z&#160;labelu NoiseMaker pod vedením <a href=\"http://www.ggdag.com\">Gigiho D'Agostina</a> se opět vytáhli! Ve čtvrtek vyšel nový singl <cite>DJ Pandolfiho</cite> <strong>Forever</strong> a <cite>Elettrogangu</cite> <strong>Once upon the time</strong>. Oba sigly jsou díla velice zdařilá, ale to co příjde již brzo je velice zdrcující :) Schválně si poslechněte na <a href=\"http://www.gigidagostino.com\">www.gigidagos&#173;tino.com</a> ukázky (?) nových věcí, které nás, doufám, čekájí na nové kompilaci <strong>Laboratorio 2</strong>. Připravme se na <em title=\"Lento Violento\">pomalé rozleptání</em> touto deskou.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:55:20.300-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "NoiseMaker rules",
  :published #inst "2005-02-19T00:00:00.000-00:00",
  :url "noisemaker-rules",
  :id 50,
  :description "",
  :category "Muzika",
  :tags []},
 :398-pryc-se-stromecky.aspx
 {:html
  "<p>Blíží se Vánoce, čas stresu a shonu za nejdražšími Vánočními dárky, pro naše nejdražší. Čas, kdy se ve velkém mordují kapři (navíc na veřejnosti, no fůj!) a kácí se stromky. Ano, ty které potom ověsíme nejrůznějšími koulemi a řetězy, aby pak několik týdnů opadávalo jehličí a vůbec. O tomhle ale psát nechci. :)</p> <p>Dneska se podíváme na jiný úkaz. A to na problematiku zanořování kódu, který ve výsledku vypadá jako stromečky. (Pokud jste takový kód ještě neviděli, což pochybuju, tak ukázku najdete třeba tady v sekci <a href=\"http://blog.maartenballiauw.be/post/2009/05/20/ASPNET-MVC-Domain-Routing.aspx\">Dark Magic</a>.)</p> <h3 id=\"toc-v-cem-je-problem\">V čem je problém?</h3> <p>Možná si říkáte, „co to ten Roubíček zase vymejšlí? Vždyť takovej kód je přece v pořádku,“ (tj. dělá, to, co má.) „A navíc nemusíme chodit do lesa, protože máme stromečky pořád na očích!“ To je fakt. Jenže, ruku na srdce, dokážete odhadnout na první pohled, co takový kód vlastně dělá? Moc asi ne. A proč? Protože <strong>pět</strong> úrovní zanoření (nepočítám namespace, class ani metodu) je už trochu moc.</p> <p>Jak moc? No hrozně moc. Fakt! Ono se to totiž dá krásně změřit, např. pomocí metriky <a href=\"http://en.wikipedia.org/wiki/Cyclomatic_complexity\">Cyclomatic complexity</a>.</p> <div><img src=\"/data/obrazky/cyclomatic.png\" alt=\"\" /></div> <p>Když se podíváme na tuto metriku u ukázkového příkladu, zjistíme, že metoda <code>GetRouteData</code> dosahuje hodnoty <strong>17</strong>. Co to znamená? Když si přečtete odkazovaný popis metriky, dozvíte se také, že její hodnota určuje míru možného výskytu chyb. Čím větší je cyklomatická komplexita, tím více toho modul dělá a zvyšuje se riziko přehlédnutých chyb. Doporučuje se mít komplexitu do deseti a tady tuto hodnotu překračujeme takřka dvojnásobně.</p> <blockquote> <p>It smells like refactoring time!</p> </blockquote> <h3 id=\"toc-refaktorovat-refaktorovat-refaktorovat\">Refaktorovat, refaktorovat, refaktorovat</h3> <p>Jednoduše jsme pomocí metriky odhalili kandidáta, kde budeme kácet stromy. Když se podíváme pozorně na ukázkový příklad, můžeme si všimnout bloků kódu, které začínají komentářem. Budu se opakovat, ale <a href=\"/weblog/361-nepiste-zbytecny-kod.aspx\">nepište zbytečný kód</a>! Tohle jsou jasné samostatné metody. Použijeme tedy refaktoring <code>Extract method</code>. Po extrahování čtyř metod, už se nám metoda vejde na jednu obrazovku a cyklomatická komplexita spadne na trojku. Takřka na jednu šestinu!</p> <p>Huh. A to je teprve začátek.</p> <p>Po prvním kole vypadá výsledek asi tak:</p> <pre class=\"csharp\"><code>public override RouteData GetRouteData(HttpContextBase httpContext) { // Build regex domainRegex = CreateRegex(Domain); pathRegex = CreateRegex(Url); // Request information string requestDomain; string requestPath; RequestInformation(httpContext, out requestDomain, out requestPath); // Match domain and route Match domainMatch = domainRegex.Match(requestDomain); Match pathMatch = pathRegex.Match(requestPath); // Route data RouteData data = null; if (domainMatch.Success &amp;&amp; pathMatch.Success) { data = new RouteData(this, RouteHandler); AddDefaultsFirst(data); IterateMatchingDomainGroups(domainMatch, data); IterateMatchingPathGroups(pathMatch, data); } return data; }</code></pre> <p>Není to žádná nádhera, ale je mnohem přehlednější, než originál. A v řeči čísel:</p> <div><img src=\"/data/obrazky/cyclomatic-2.png\" alt=\"\" /></div> <h3 id=\"toc-rozpletame-podminky\">Rozplétáme podmínky</h3> <p>Tak, snížili jsme komplexitu metody, ale tiše nám narostla komplexita třídy. Klidně můžeme pokračovat v cestě, to zvládneme později. Teď se zaměříme na ty velký šestky. Na první pohled cyklus se spoustou zanořených podmínek. Pryč s nimi! Teď přijde na řadu refaktoring <code>Flatten Conditional</code> a z vše objímajícího <code>if</code>u uděláme jen guarda. Dále tu mám dva zanořený <code>if</code>y? Proč, když je můžeme logicky spojit operátorem <code>&amp;&amp;</code>? Směle do toho! Pro změnu použijeme refaktoring <code>Combine Conditionals</code> a vytvoříme jednu dlouhou a ošklivou podmínku…</p> <p>Čas na refaktoring <code>Extract method</code> a podmínku pěkně smysluplně pojmenovat. Po pár magických kombinacích kláves se nám z týhle zrůdičky:</p> <pre class=\"csharp\"><code>private static void IterateMatchingPathGroups(Match pathMatch, RouteData data) { for (int i = 1; i &lt; pathMatch.Groups.Count; i++) { Group group = pathMatch.Groups[i]; if (group.Success) { string key = pathRegex.GroupNameFromNumber(i); if (!string.IsNullOrEmpty(key) &amp;&amp; !char.IsNumber(key, 0)) { if (!string.IsNullOrEmpty(group.Value)) { data.Values[key] = group.Value; } } } } }</code></pre> <p>Stane opět poměrně snadno pochopitelný kód:</p> <pre class=\"csharp\"><code>private static void IterateMatchingPathGroups(Match pathMatch, RouteData data) { for (int i = 1; i &lt; pathMatch.Groups.Count; i++) { Group group = pathMatch.Groups[i]; if (IsNotMatch(group)) continue; string key = pathRegex.GroupNameFromNumber(i); if (IsInvalidKeyOrValue(group, key)) continue; data.Values[key] = group.Value; } }</code></pre> <p>Navíc, když se teď na ten kód podíváme, zjistíme, že se ty původní šestky (z kterých už jsou čtyřky) liší jen v tom, že používají každá jinou členskou proměnou, naštěstí stejného typu. Tak jdeme zase refaktorovat. :) Nejprve si tedy tuto proměnou uložíme lokálně na začátku metody a ze zbytku extrahujeme metodu novou s jedním parametrem navíc.</p> <p>U druhý čtyřky už to dělat nemusíme, páč výsledný extrakt z té první je plně vyhovující našim potřebám a tak ho zavoláme jen s jiným parametrem. Ze dvou čtyřek máme jednu a dvě jedničky. A komplexita třídy se nám vrátila k původní hodnotě. Ano, máme tu teď spoustu malých metod, které ale mají jasný účel. A když se podíváme blíž, zjistíme, že můžeme úplně v klidu některé z nich extrahovat no úplně nové třídy. Ale to už je na jinou pohádku.</p> <p>Stromečky jsou totiž fuč. :)</p> <p>PS. Zmíněné refaktoringy a vizualizace metrik jsou součásti skvělého produktu <a href=\"http://www.devexpress.com/Products/Visual_Studio_Add-in/Refactoring/\">Refactor Pro!</a> nebo samotné refactoringy v neplacené verzi <a href=\"http://www.devexpress.com/Products/Visual_Studio_Add-in/CodeRushX/\">Code Rush Xpress</a>.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-12-21T18:57:00.877-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pryč se stromečky!",
  :published #inst "2010-12-21T16:44:43.483-00:00",
  :url "pryc-se-stromecky",
  :id 398,
  :description "Malá předvánoční agitace za lepší svět. ",
  :category "ASP.NET 2.0",
  :tags ["refactoring"]},
 :12-zajimave-cteni.aspx
 {:html
  "<p>Na DevNetu vyšly zajímavé články pro webdesignery začínající s CSS.</p> <ul> <li><a href=\"http://www.adobe.com/devnet/dreamweaver/articles/css_gradually.html\">Gradually Implementing CSS in Your Site</a></li> <li><a href=\"http://www.adobe.com/macromedia/events/max/sessions/sa302w.html\">CSS Killer Tips for Dreamweaver</a></li> </ul> <p>Dále na intervalu vyšel článek o tvorbě layoutu, i když s nim úplně nesouhlasím, tak je to zajímavé čtení.</p> <ul> <li><a href=\"http://interval.cz/clanky/tvorba-layoutu-webu-teoreticky-uvod/\">Tvorba layoutu webu – teoretický úvod</a></li> <li><a href=\"http://interval.cz/clanky/tvorba-layoutu-webu-prakticky-prehled/\">Tvorba layoutu webu – praktický přehled</a></li> </ul> <p>No a teď už jdu radši na Tělocvik. Nejen čtením živ je člověk.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:38:44.583-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zajímavé čtení",
  :published #inst "2004-03-18T09:00:00.000-00:00",
  :url "zajimave-cteni",
  :id 12,
  :description "Pár tipů na dobré čtení.",
  :category "Webdesign",
  :tags []},
 :356-validace-v-asp-net-mvc.aspx
 {:html
  "<p>Bezpodmínečnou nutností každé aplikace, která zpracovává data z neznámých zdrojů, je validace vstupních dat. V ASP.NET je poměrně sofistikovaná sada komponent, které přidají k vašim vstupním polím validační podmínky a v případě jejich nesplnění je uživatel informován. Validace probíhá jak na straně klienta (pomocí JavaScriptu), tak i na straně serveru. Jenže tyto komponenty jsou plně závislé na serverovém formuláři a v ASP.NET MVC je tedy nelze použít.</p> <p>Nyní mírně odbočím. Z předchozího odstavce jste si mohli odnést jednu myšlenku. A to, že validace je součástí UI vrstvy aplikace. Pokud však píšete aplikaci, která obsahu spoustu business pravidel, není to úplně nejšťastnější, když máte validační pravidla v UI a pak ještě někde ve vašem modelu. Jedno ze základních pravidel dobrého návrhu říká DRY (don’t repeat yourself – neopakuj se).</p> <h3 id=\"toc-modelstate\">ModelState</h3> <p>ASP.NET MVC tedy nepřináší validátory, ale infrastrukturu, která umožňuje v případě chyby uživatele upozornit. Tato infrastruktura je postavená na stavu modelu (<code>ModelState</code>). Stav modelu má vlastnost <code>IsValid</code> a metodu <code>AddModelError</code>. V HtmlHelperu pak najdete dvě extenze <code>ValidationMessage</code> a <code>ValidationSummary</code>, které vypisují chybové hlášky pro konkrétní pole nebo sumář pro všechny. A to je vše, co nám MVC poskytuje. Další práce už je jen na nás.</p> <p>Jak pracovat se stavem modelu na nejnižší úrovni ukazuje jeden z tutoriálů: <a href=\"http://www.asp.net/learn/mvc/tutorial-36-cs.aspx\">Performing Simple Validation</a>. Možná vám to bude stačit, ale pro mne je to příliš práce navíc a ani trochu mi to nepřijde sexy. :) Jaké máme další možnosti?</p> <p>Můžeme využít vlastní validační vrstvu naší business logiky a napojit jí na stav modelu, tak, jak to ukazuje následující tutoriál: <a href=\"http://www.asp.net/learn/mvc/tutorial-38-cs.aspx\">Validating with a Service Layer</a>. Nebo vyžijeme existujících validačních frameworků. Dnes se podíváme na System.Componen­tModel.DataAn­notations a příště na Caste.Componen­ts.Validators.</p> <h3 id=\"toc-dataannotations\">DataAnnotations</h3> <p>Anotace dat je novinka z ASP.NET Dynamic Data, která usnadňuje automatické generování ASP.NET validátorů na základě modelu. Tyto anotace se dále rozšiřují a v .net 4.0 by to měla být hodně použitelná věcička, která bude v ASP.NET DD, ASP.NET MVC a dokonce i v .net RIA Services. Každopádně nemusíme čekat na velký release platformy a využít anotací již dnes. Jak to tedy funguje?</p> <p>Jediné, co musíte udělat, je označit vlastnosti vašeho modelu atributy:</p> <pre class=\"csharp\"><code>[Required] public string Name { get; set; } [RegularExpression(\"^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$ \")] public string Email { get; set; }</code></pre> <p>Dalším krokem je zaregistrovat nový model binder ` DataAnnotation­sModelBinder`, který na základě anotací provede validaci modelu a nastaví případně jeho stav na nevalidní. O víc už se starat nemusíme. Kde tento model binder získat a další potřebné informace najdete v článku Brada Wilsona <a href=\"http://bradwilson.typepad.com/blog/2009/04/dataannotations-and-aspnet-mvc.html\">DataAnnotations and ASP.NET MVC</a>.</p> <p>Protože jsem DataAnnotations použil v jedné aplikaci, tak mám několik zkušeností, o které se můžu podělit. DataAnnotation­sModelBinder má problém s komplexními typy, které mají vlastnosti taktéž komplexních typů. Jedním z možných řešení, je hacknout tento model binder a přidat podmínku na ověření komplexní vlastnosti, nebo používat <acronym title=\"Data Transfer Objects\">DTO</acronym> pouze pro účely formulářů ve view (ano, opět návrat k validaci pouze ve view vrstvě). Anotace podporují vracení chybových hlášek z resource souborů, tak nezapomeňte raději všechny hlášky přepsat, protože ty výchozí nevypadají zrovna nejlépe.</p> <p>Tak, to bychom měli jeden model binder, který už je hotový. Ale jak si napsat vlastní? To si ukážeme někdy příště na Caste.Componen­ts.Validators­. :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-05-02T14:00:12.463-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Validace v ASP.NET MVC",
  :published #inst "2009-05-02T13:56:31.313-00:00",
  :url "validace-v-asp-net-mvc",
  :id 356,
  :description "Pojďme se podívat na validaci v ASP.NET MVC.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "mvc" "validace"]},
 :43-vzpominky-na-godotha-jednoaktovka.aspx
 {:html
  "<p> <br />Ahoj. <br /><em>Čau.</em> <br />Jak to dneska jde? <br /><em> Dobrý.</em> <br />Tak to je dobrý. <br /><em> To jo.</em> <br />Hmm… <br /><em> A&#160;jak ty?</em> <br />Jako co? <br /><em> Co, jako co?</em> <br />No? <br /><em> Hmm?</em> <br />Nechápu. <br /><em>Jo.</em> <br />Aha. <br /><em> Co teď?</em> <br />Nevim. <br /><em> Co tím myslíš?</em> <br />Co tím myslím? <br /><em> Nevim.</em> <br />Aha. <br /><em> Hmm…</em> <br />Hmm… <br /><em> Říkal si něco?</em> <br />Já? <br /><em> Kdo?</em> <br />Ty? <br /><em> Já?</em> <br />Jo. <br /><em> Ne.</em> <br />Aha. <br /><em>Tak kdo?</em> <br />Nevim. <br /><em> Víš.</em> <br />Co? <br /><em> Co, co?</em> <br />Coco? <br /><em> Coby?</em> <br />Já nevim. <br /><em> Aha.</em> <br />No jo. <br /><em> Jak se má žena?</em> <br />Čí? <br /><em> Čí asi?</em> <br />To se právě ptam. <br /><em> Aha.</em> <br />Tak čí? <br /><em> Co?</em> <br />Hmm? <br /><em> Žralok.</em> <br />Co? <br /><em> Žralok!</em> <br />Proč? <br /><em> Proč ne?</em> <br />Aha. <br /><em> Jo.</em> <br />Tak to jo. <br /><em> Co?</em> <br />Agama. <br /><em> Co?</em> <br />Agama! <br /><em> Co to je?</em> <br />Co? <br /><em> Agama.</em> <br />Nevim. <br /><em> Aha.</em> <br />Přesně! <br /><em> Jo.</em> <br />Aha. <br /><em> Hmm…</em> <br />Co tady vůbec děláme?</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "dekan",
  :title "Vzpomínky na Godotha (jednoaktovka)",
  :published #inst "2005-01-28T10:37:54.000-00:00",
  :url "vzpominky-na-godotha-jednoaktovka",
  :id 43,
  :description "",
  :category "Jen tak",
  :tags []},
 :292-alessio-busta-face-to-my-face.aspx
 {:html
  "<div class=\"haudio\"> <ol> <li class=\"item\"><span class=\"contributor\">Dirty South</span> &amp; <span class=\"contributor\">Axwell</span> – <span class=\"title\">Open Your Heart</span> (Original Mix)</li> <li class=\"item\"><span class=\"contributor\">Ne-Yo</span> – <span class=\"title\">Closer</span> (Stonebridge Club Remix)</li> <li class=\"item\"><span class=\"contributor\">Ryan Murgatroyd</span> feat. <span class=\"contributor\">Tasha Baxte</span> – <span class=\"title\">Moving On</span> (Ian Carey Remix)</li> <li class=\"item\"><span class=\"contributor\">Roger Sanchez</span> &amp; <span class=\"contributor\">Traslantic Soul</span> – <span class=\"title\">Release Yo' Self</span> (D.O.N.S &amp; DNB Remix)</li> <li class=\"item\"><span class=\"contributor\">Adele</span> – <span class=\"title\">Hometown Glory</span> (Axwell Remix)</li> <li class=\"item\"><span class=\"contributor\">Antoine Clamaran</span> feat. <span class=\"contributor\">Lulu Hughes</span> – <span class=\"title\">Give Some Love</span> (Richard Earnshaw Classic House Remix)</li> <li class=\"item\"><span class=\"contributor\">Jon Fitz</span> &amp; <span class=\"contributor\">Mike Anthony</span> – <span class=\"title\">Hesitate</span> (Stonebridge Mix)</li> <li class=\"item\"><span class=\"contributor\">TV Rock</span> feat. <span class=\"contributor\">Rudy</span> – <span class=\"title\">Been A Long Time</span> (Original Mix)</li> <li class=\"item\"><span class=\"contributor\">Axwell</span> &amp; <span class=\"contributor\">Bob Sinclar</span> feat. <span class=\"contributor\">Ron Carroll</span> – <span class=\"title\">W.W.W.</span> (Original Mix)</li> </ol> <p>Ke stažení <span class=\"category\">dj set</span> <a rel=\"enclosure\" href=\"http://rarousmusic.com/mp3/alessio_busta_-_face_to_my_face-rm.mp3\"><span class=\"contributor\">Alessio Busta</span> – <span class=\"title\">Face To My Face</span></a> (MP3 128 kbps; 44,5 MiB)</p> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-08-21T07:38:04.530-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Alessio Busta - Face To My Face",
  :published #inst "2008-08-20T23:00:41.543-00:00",
  :url "alessio-busta-face-to-my-face",
  :id 292,
  :description "Set ke stažení.",
  :category "Muzika",
  :tags []},
 :443-traits-v-csharp.aspx
 {:html
  "<p>Poměrně užtečným konceptem v programovacích jazycích je trait. Můžete ho znát třeba ze Scaly, nebo se brzy objeví v PHP. Tyto jazyky mají pro traits prvotřídní podporu. Tedy, mají traits jako jazykový konstrukt. C# nic takového nemá. Nebo jo?</p> <h3 id=\"toc-co-je-to-trait\">Co je to trait?</h3> <p>Trait je něco jako rozhraní. Umožňuje tedy vícenásobnou „dědičnost“. Narozdíl od rozhraní, má však maximální možnou implementaci. Když se podíváme do dokumentace Scaly na malý příklad:</p> <pre class=\"csharp\"><code>trait Similarity { def isSimilar(x: Any): Boolean def isNotSimilar(x: Any): Boolean = !isSimilar(x) }</code></pre> <p>Můžeme si všimnout, že trait obsahuje dvě metody, z toho jedna je abstraktní a druhá implementovaná pomocí té první. Koheze metod je důležitou vlastností traits. Ostatně by to tak mělo být i u definice rozhraní.</p> <h3 id=\"toc-jak-na-to-v-c\">Jak na to v C#?</h3> <p>Není vám ten koncept trochu povědomý? Ne? A co třeba LINQ? Stačí, abyste implementovali metodu <code>GetEnumerator</code> a zbytek máte for free. Můžeme se tedy inspirovat u LINQu a podobně implementovat i <code>Similarity</code>:</p> <pre class=\"csharp\"><code>interface ISimilarity&lt;T&gt; { bool IsSimilar(T other); } static class Similarity { public static bool IsNotSimilar&lt;T&gt;(this ISimilarity&lt;T&gt; @this, T other) { return !@this.IsSimilar(other); } }</code></pre> <p>Kód sice není tak úsporný, jako v jazycích s prvotřídní podporou, ale funguje to a to je důležitý! :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-03-23T08:39:59.550-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Traits v C#",
  :published #inst "2013-03-23T08:34:39.990-00:00",
  :url "traits-v-csharp",
  :id 443,
  :description "Jak na implementaci traits v C#.",
  :category "Moje práce",
  :tags []},
 :54-gigi-dagostino-czech-fan-pages.aspx
 {:html
  "<p>Po dvou měsících usilovné práce jsem dnes konečně spustil novou verzi <a href=\"http://ggdag.euweb.cz/\">Gigi D'Agostino Czech fan pages</a>. Nová verze má zcela nový design z&#160;mých rukou a běží na redakčním systému <a href=\"http://textpattern.com/\">Textpattern</a>. Doufám, že bude stejně úspěšná jako ta předchozí a že se bude líbit&#8230;</p> <p>Spuštěním to ale ještě nekončí. Máme ještě spoustu práce. Musim doladit styl, protože jse zjistil, že v&#160;Opeře není úplně takový jaký má být, navíc mám v&#160;textu připraveno několik classů, které ještě nejsou implementovány. Potom ještě musim dosypat texty do discografie a založit další sekce. No je toho ještě dost&#8230;</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Gigi D'Agostino Czech fan pages",
  :published #inst "2005-03-27T00:00:00.000-00:00",
  :url "gigi-dagostino-czech-fan-pages",
  :id 54,
  :description
  "Pozvánka na prohlídku nových stránek, na kterých jsem dělal.",
  :category "Moje práce",
  :tags []},
 :361-nepiste-zbytecny-kod.aspx
 {:html
  "<p>Jedním ze <strong>základních pravidel</strong> psaní přehledného kódu je <strong>nepsat zbytečný kód</strong>. Pojďme si ukázat pár příkladů zbytečného kódu, kterému je zahodno se raději vyhnout.</p> <h3 id=\"toc-komentare\">Komentáře</h3> <p>Programátoři jsou často velice kreativní lidé, ale svou kreativitu si vybíjí nesprávným způsobem. Tak se může stát, že během své kariéry narazíte na skvosty typu:</p> <ol> <li>zakomentované kusy kódu</li> <li>označení dočasného kódu v kometáři</li> <li>vylévání srdíčka nad vlastní blbostí</li> </ol> <p>K bodu prvnímu. Když něco takového potkáte, rovnou to smažte, nesnažte se nad tím přemýšlet. Jestli někdy ten kód budete potřebovat, najdete ho ve vašem VCS. Pokud se přistihnete, že máte označený blok kódu a chystáte se zmáčknout magickou kombinaci kláves <code>Ctrl+K, C</code>, ušetřete si práci a rovnou zmáčkněte <code>Delete</code>. ;)</p> <p>K bodu druhému. Nejprve zjistěte, kdo to napsal a dejtemu rovnou pohlavek nebo seberte prémie. Nejlépe oboje, u někoho lépe fungují podmíněné reflexy spojené s fyzickou bolestí, někdo si vzpomene, že mu nezbyly peníze na tu skvělou chlastačku a už to nebude chtít opakovat. Zjišťovat, co na koho platí je moc drahé. ;)</p> <p>Pro představu, našli jsme takovýto kód:</p> <pre class=\"csharp\"><code>//Testovaci verze if (Request.Cookies.AllKeys.Contains(\"ticket\")) { InvitedUser iuser = _invitedUsersRepository.FindByHash(Request.Cookies[\"ticket\"].Value); if (iuser != null) { iuser.Valid = false; _invitedUsersRepository.Save(iuser); } } // -- ;</code></pre> <p>Autora jsme ztrestali. První krok máme za sebou, co dál? Tohle asi hned smazat nepůjde. Prvním možným krokem, je nadefinovat build symbol a tyto bloky obalit preprocesorovou podmínkou:</p> <pre class=\"csharp\"><code>#if TEST_VERSION if (Request.Cookies.AllKeys.Contains(\"ticket\")) { InvitedUser iuser = _invitedUsersRepository.FindByHash(Request.Cookies[\"ticket\"].Value); if (iuser != null) { iuser.Valid = false; _invitedUsersRepository.Save(iuser); } } #endif ;</code></pre> <p>Sice jsme se nezbavili špatného kódu, ale aspoň pujde dočasná featura vypnout z jednoho místa a kód hovoří trochu jasněji.</p> <p>Pokud napíšete blok kódu a pocítíte potřebu uvodit ho komentářem, nebo takových bloků máte zasebou víc, je čas refaktorovat! Místo komentářů vytvořte metody s popisnými názvy (ekvivalent komentáře). Komentáře mají tu vlastnost, že rychle ztrácejí význam a zůstávají v místech, kde už není co komentovat.</p> <p>Pravidlo: <q>Když ucítíte potřebu napsat v kódu komentář, zamyslete se, zda nenajdete lepší způsob jak tuto myšlenku vyjádřit.</q></p> <h3 id=\"toc-poznejte-svuj-jazyk\">Poznejte svůj jazyk</h3> <p>Za programátora se považuje každý, kdo se v nějakém jazyce naučí pár příkazů. Někdo si vystačí s málem a pak mu nezbývá než prasit. Základem je poznat jazyk, ve kterém se chystáme sdělovat své myšlenkové pochody. Zdrojový kód se mnohem častěji čte než píše, proto by měl obsahovat co nejméně zbytečností, které odvádějí pozornost.</p> <p>Začněme třeba u JavaScriptu. Často se setkávám s kódem, který napovídá, že autor má hrubé znalosti C a jemu podobných jazyků, ale o JavaScriptu moc potuchy nemá.</p> <h3 id=\"toc-podminene-prirazeni\">Podmíněné přiřazení</h3> <p>Jednou z typických ukázek může být validace vstupních parametrů a nastavení výchozí hodnoty, pokud přišlo <code>null</code>. Nejhorší případ:</p> <pre class=\"php\"><code>function example(options) { if (options == null) { this.options = { color: 'red' }; } else { this.options = options; } }</code></pre> <p>O něco chytřejší programátor použije ternární podmíněný operátor:</p> <pre class=\"php\"><code>function example(options) { this.options = (options != null) ? options : { color: 'red' }; }</code></pre> <p>Vývojář znalý JavaScriptu však odbourá zbytečné ruchy a vznikne logický zápis:</p> <pre class=\"php\"><code>function example(options) { this.options = options || { color: 'red' }; }</code></pre> <p>Pojďme teď dál k mému oblíbenému C#. Předchozí příklad tam nejde řešit operátorem <code>||</code> protože C# je silně typový a <code>null != false</code>. Ovšem C# 2.0 přinesl s <code>Nullable&lt;T&gt;</code> hodnotovými typy i operátor <code>??</code>. Ten slouží jako zkrácená varianta ternárního podmíněného operátoru. Díky němu můžeme následující kód:</p> <pre class=\"csharp\"><code>public void Example(Options options) { _options = (options != null) ? options : new Options { Color = Color.Red }; }</code></pre> <p>Pěkně odšumět:</p> <pre class=\"csharp\"><code>public void Example(Options options) { _options = options ?? new Options { Color = Color.Red }; }</code></pre> <p>Pokud pracujete s <code>Nullable</code> hodnotovými typy, zkraťte i následující zá­pis:</p> <pre class=\"csharp\"><code>public void Example(int? pageIndex) { int page = 1 + (pageIndex.HasValue ? pageIndex.Value : 0); }</code></pre> <p>Na:</p> <pre class=\"csharp\"><code>public void Example(int? pageIndex) { int page = 1 + (pageIndex ?? 0); }</code></pre> <h3 id=\"toc-genericke-parametry\">Generické parametry</h3> <p>Dalším, velice častým šumem, je explicitní uvádění generických parametrů, tam kde to není potřeba. Za příklad si vezměme třeba generickou metodu <code>Assert.Equal&lt;T&gt;(T expected, T actual)</code> z frameworku <a href=\"http://xunit.codeplex.com/\">xUnit.net</a>. Můžeme ji volat takto:</p> <pre class=\"csharp\"><code>Assert.Equal&lt;string&gt;(\"test\", null);</code></pre> <p>Jenže kompilátor není žádný hlupák a dokáže správně dosadit typ generického parametru podle typu předávaného parametru. Proto je možné napsat, mnohem přehlednější zápis:</p> <pre class=\"csharp\"><code>Assert.Equal(\"test\", null);</code></pre> <p>FxCop vám přímo radí: <q>Pište generické metody tak, aby se typ generického parametru dal implicitně odvodit.</q></p> <h3 id=\"toc-zbytecne-volani-tostring\">Zbytečné volání ToString</h3> <p>Často se také můžete setkat s voláním metody <code>ToString</code> tam, kde to není pořeba. Příklad:</p> <pre class=\"csharp\"><code>double rating = 3.8; string output = \"Your rating is: \" + rating.ToString();</code></pre> <p>Tohle lze napsat bez šumu:</p> <pre class=\"csharp\"><code>double rating = 3.8; string output = \"Your rating is: \" + rating;</code></pre> <p>Teď si jistě, říkáte, že jsem asi blbec, jak můžu po silně typovém C# chtít, aby sečetl <code>string</code> a <code>double</code>. Nuže můžu. Krom toho, že je C# silně typový, podporuje i přetěžování operátorů! A designéři třídy <code>String</code> přidali přetížení operátoru <code>+</code> na kterýkoliv <code>Object</code>, na kterém zavolají metodu <code>ToString</code> za vás. :)</p> <h3 id=\"toc-zbytecne-explicitni-pretypovani\">Zbytečné explicitní přetypování</h3> <p>Občas se bohužel můžeme v kódu potkat s věcmi, nad kterými zůstává rozum stát. Někdo například už pochopil dědičnost. Pochopil, že třída <code>List&lt;T&gt;</code> implementuje rozhraní <code>IList&lt;T&gt;</code> a to dědí z <code>ICollection&lt;T&gt;</code>, které je potomkem obecného rozhranní <code>IEnumerable&lt;T&gt;</code>. Jenže pak přijde na praktické použití a je zle:</p> <pre class=\"csharp\"><code>public class UserDetailViewData { public IEnumerable&lt;User&gt; Friends { get; set; } } public class UsersController : Controller { public ActionResult Detail(userName) { IList&lt;User&gt; friends = GetFriendsOfUser(userName); return View(new UserDetailViewData { Friends = (IEnumerable&lt;User&gt;)friends }); } }</code></pre> <p>Takhle vytržené z kontextu to nemusí vypadat až tak zle, ale originál mě stál málem ukroucení hlavy.</p> <h3 id=\"toc-roztahana-inicializace\">Roztahaná inicializace</h3> <p>Novinkou C# 3.0 jsou inicializátory. Zvažte následující kód:</p> <pre class=\"csharp\"><code>var user = new User(); user.Name = \"Josef Novák\"; user.Gender = Gender.Male;</code></pre> <p>Přepsat na:</p> <pre class=\"csharp\"><code>var user = new User { Name = \"Josef Novák\", Gender = Gender.Male, };</code></pre> <p>Vyhnete se tím, zbytečnému opakování <code>user.</code>.</p> <h3 id=\"toc-zavorky-navic\">Závorky navíc</h3> <p>Častý šumem v kódy bývají také závorky, které nemají žádný význam, zejména u inicilizátorů s bezparametrickým konstrukotrem <code>new User() { Name = \"Josef Novák\" }</code> a u anonymních bezparametrických delegátů <code>delegate() { return true; }</code>. Tyto závorky klidně smažte a u delegátů zvažte kompresi na lambda výraz: <code>()=&gt; true</code>.</p> <p>Na druhou stranu existuje spousta případů, kdy vhodně vložené závorky zvyšují čitelnost.</p> <h3 id=\"toc-zaver\">Závěr</h3> <p>Když říkám, že je lepší psát némě kódu, rozhodně tím nemám na mysli kriptické zápisy alá regexy. To, co ušetříte na zbytečném kódu, klidně investujte do popisných názvů proměnných a metod. Důležitá je <strong>čitelnost</strong>. Se spoustou výše zmiňovaných úprav vám mohou pomoci nástroje, např. <a href=\"http://www.devexpress.com/crx\">CodeRush Express</a>, který je zcela zdarma.</p> <p>Rozhodně jsem nepokryl všechny možnosti, kde psát zbytečný kód navíc. Jistě taky některé znáte, podělte se o ně v komentářích. :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-08-03T10:49:53.140-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nepište zbytečný kód",
  :published #inst "2009-08-03T07:19:19.083-00:00",
  :url "nepiste-zbytecny-kod",
  :id 361,
  :description
  "Nejčastější chybou při psaní zdrojových kódů je psaní kódu zbytečného. Zbytečný kód narušuje kontinuitu čtení, skrývá jasné myšlenky, neřeší problémy.",
  :category "ASP.NET 2.0",
  :tags ["csharp" "refactoring"]},
 :407-repository-je-antipattern.aspx
 {:html
  "<p>Žádný vzor není špatný. Vezměme si chudáčka Singletona. Skvělý vzor pro udržení jediné instance v požadovaném scope. Jenže pak se dočtete, že <a href=\"http://zdrojak.root.cz/clanky/antipatterny-smradlavy-kod-a-peteruv-princip-v-it/nazory/18291/\">Singleton je neslučitelný s Dependency Inversion Principle</a>. Opravdu? Jak to, že používám <a href=\"http://en.wikipedia.org/wiki/Dependency_inversion_principle\">DIP</a> i Singletonty už léta? On je problem někde jinde. U lidí co nepřemýšlí. :) Fakt.</p> <p>Mějme třídu, kde se na pěti místech v jejím kódu vyskytuje <code>HttpContext.Current</code>. Opravdu je to problem Singletonu? Ale kdepak, je to problem v užití, potažmo neschopností dělat čistý design. Přitom stačí nadefinovat členskou proměnnou typu <code>HttpContext</code> (lépe <code>HttpContextBase</code>) a tu si nechat naservírovat pomocí konstruktoru.</p> <p>Volání <code>HttpContext.Current</code> bude v aplikaci <strong>pouze na jednom místě</strong> – v <a href=\"http://blog.ploeh.dk/2011/07/28/CompositionRoot.aspx\">Composition rootu</a> aplikace (popř. V konfiguraci IoC kontejneru.) Zbytkem aplikace nám bude protékat právě tato instance.</p> <p>Doufám, že jsem na těchto pár řádcích dokázal, že Singleton není anti-pattern. Že <strong>anti-pattern jsou programátoři.</strong></p> <h3 id=\"toc-rikam-repository-myslim-data-mapper\">Říkám repository, myslím Data Mapper</h3> <p>A pomalu se dostáváme k jádru našeho problému. Vzory jsou tu od toho, aby sjednotili slovník, aby každý hned věděl o čem se bavíme. Jenže v případě <a href=\"http://martinfowler.com/eaaCatalog/repository.html\">Repository</a> to došlo tak daleko, že lidé říkají Repository, ale 99 % myslí <a href=\"http://martinfowler.com/eaaCatalog/dataMapper.html\">Data Mapper</a>.</p> <p>Repository nám schovává datový zdroj za rozhraní kolekce a umožňuje nad ním spouštět <a href=\"/weblog/377-domenove-dotazy.aspx\">doménové dotazy</a>. Světe div se, v dotnetu už něco takového máme. Ano, je to <code>IEnumerable</code> a <acronym title=\"Language Integrated Query\">LINQ</acronym>!</p> <p>V praxi se však setkáme s repository, která přímo skládá SQL dotazy, menežuje život entit a má tlusté rozhraní jako prase. Proč? Protože opět selhaly schopnosti návrhu. Zde konkrétně <a href=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\">Single Responsibility Principle</a> a <a href=\"http://en.wikipedia.org/wiki/Interface_segregation_principle\">Interface Segregation Principle</a>.</p> <h3 id=\"toc-tlusta-rozhrani\">Tlustá rozhraní</h3> <p>Tlustá rozhraní u “Repository” vznikají z potřeby zapouzdřit často používané dotazy do znovupoužitelné jednotky. Bohužel i v 21. století je jednotkou znovupoužitelnosti procedura. A tak s každým novým dotazem přidáme na rozhraní “Repository” další a další metodu. To nám spokojeně roste a roste. A opět porušujeme Interface Segregation Principle, Single Responsibility Principle a navíc i <a href=\"http://en.wikipedia.org/wiki/Open/closed_principle\">Open Closed Principle</a> – a vytváříme <a href=\"http://www.laputan.org/mud/\">krásnou kuličku sraček</a>.</p> <p>Třída, která toto rozhraní implementuje mívá nezřídka tisíc řádků a dá se v nít “snadno orientovat” pomocí <a href=\"/weblog/398-pryc-se-stromecky.aspx\">stromečků</a>. Jenže, <a href=\"http://cleancoder.posterous.com/clean-code-episode-iii-contents-and-release-n\">jak praví Uncle Bob</a>:</p> <blockquote> <p>“V každé velké metodě se schovávají malé třídy!”</p> </blockquote> <p>Ale málem bych zapomněl na <a href=\"http://en.wikipedia.org/wiki/Liskov_substitution_principle\">Liskov Substitution Principle</a>. Určitě jste všichni někdy narazili na potřebu cachovat. :)</p> <h3 id=\"toc-dekorovanim-za-cistsi-kod\">Dekorováním za čistší kód!</h3> <p>A tak, když dospějeme k závěru, že tenhle dotaz se provádí dost často a přitom se data takřka nemění, budeme cachovat. První věc, co nás napadne, je <a href=\"/weblog/397-single-responsibility-principle-in-the-wild.aspx\">nasrat tu cache přímo do <em>repository</em></a>. <em>Tak to bude transparentí a nikde to nemusím měnit.</em> <strong>Au.</strong> Lepším řešením je udělat třídu se stejným rozhraním, která v konstruktoru přijímá to samé rozhraní a potřebné metody odekoruje cachováním. Zbylé volá přímo na dekorovaném objektu.</p> <p>Netvrdím, že jde o dokonalý návrh, ale jde rozhodně o mnohem čistší řešení. A to vše díky dodržování principů <a href=\"http://en.wikipedia.org/wiki/SOLID_(object-oriented_design)\">SOLIDní architektury</a>. Opakuju se tu o tom už léta, ale asi je to stale potřeba. ;)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-09-11T07:49:30.827-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Repository je anti-pattern",
  :published #inst "2011-09-10T10:04:35.577-00:00",
  :url "repository-je-antipattern",
  :id 407,
  :description "Z vrchu křupavé, vevnitř šťavnaté...",
  :category "ASP.NET 2.0",
  :tags ["solid" "architektura"]},
 :190-beta-mapy-na-atlasu.aspx
 {:html
  "<p><a href=\"http://mapy.atlas.cz/\">Mapy Atlasu</a> dospěly do betafáze a já jsem tomu rád :) Konečně jsou tu mapy, které se mi dobře používají. Kluci na tom docela dřeli a ikdyž není všechno úplně 100%, věřím že brzy bude.</p> <p>Ohlasy jsou zatím vcelku pozitivní. Nefunkčnost v Opeře je téma samo pro sebe :) Většinou jsou výtky na nesedíci podklady, ale ty snad ještě dorovnáme. Veronika rozjela <a href=\"http://pokec.atlas.cz/blogy/mapy\">blog na komunitách</a>, kde budou přibývat informace o vývoji a novinkách. Ohlasy můžete zanechávat tady nebo v <a href=\"http://pokec.atlas.cz/diskuze/diskuze.aspx?cat=2212\">diskusi</a>…</p> <h3 id=\"toc-update\">Update</h3> <p>Chtěl bych vás poprosit, pokud vám něco nefunguje, zkuste problém popsat podrobněji a nezapomeňte dopsat i prohlížeč a verzi. Děkujeme za spolupráci.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:06:12.543-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Beta mapy na Atlasu - Update",
  :published #inst "2006-11-03T10:05:00.000-00:00",
  :url "beta-mapy-na-atlasu",
  :id 190,
  :description "Atlas vypustil novou verzi map.",
  :category "Webdesign",
  :tags ["atlas" "amapy"]},
 :279-gryphoon-1-82-je-venku.aspx
 {:html
  "<p>Kolega <a href=\"http://www.jerrysohn.net/\">Ondra</a> uvolnil systém <a href=\"http://www.gryphoon.net/\">Gryphoon</a>, který pohání tento a mnoho dalších webů včetně nějakých vylepšení. Najdete ho <a href=\"http://www.gryphoon.net/Download%20Gryphoon%20weblog%20edition.ashx\">ke stažení včetně návodu k nasazení</a> na stránkách projektu.</p> <p>Je to záležitost na kterou jsem nesahal takřka 3 roky a taky je to systém, na kterým jsem se učil. Spousta věcí je pojmenována česky, žádný komentáře v kódu a tak. Fakt to není dobrý ke studování, ale funguje to ;) Vím o spoustě míst, které by se daly snadno rozšířit, vylepšit, doplnit. Ani by to nezabralo moc času, ale z pricipu se mi nechce.</p> <p>Měl jsem pak napsanou velkou část verze dvě, ale nikdy jsem ji nedotáhl do konce. Nelíbilo se mi, že jsem použil typované DataSety a nikdy jsem pro něj nevytvořil administraci. Dvojka je tedy mrtvá. V plánu je trojka postavená na 3.5 frameworku, ASP.NET MVC a ActiveRecord. Ale u tý jsem ve fázi pokusů a designování architektury.</p> <p>Enjoy</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:22:58.043-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Gryphoon 1.82 je venku",
  :published #inst "2008-06-02T17:04:23.787-00:00",
  :url "gryphoon-1-82-je-venku",
  :id 279,
  :description
  "Ondra uvolnil systém, který pohání tento a mnoho dalších webů včetně nějakých vylepšení.",
  :category "Moje práce",
  :tags ["gryphoon"]},
 :326-slajdy-a-ukazky-z-webexpa.aspx
 {:html
  "<p>Konečně jsem se dostal k tomu abych nahrál slajdy z naší přednášky na web.</p> <!--[if !IE]> --> <object type=\"application/x-shockwave-flash\" data=\"http://www.authorstream.com/player.swf?p=99567_633604576063437500\" width=\"520\" height=\"434\"> <!-- <![endif]--> <!--[if IE]> <object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\" width=\"520\" height=\"434\"> <param name=\"movie\" value=\"http://www.authorstream.com/player.swf?p=99567_633604576063437500\" /> <!--><!--dgx--> <param name=\"loop\" value=\"true\" /> <param name=\"menu\" value=\"false\" /> <param name=\"allowfullscreen\" value=\"true\" /> <param name=\"flashvars\" value=\"\" /> </object> <!-- <![endif]--> <p>Tady tedy jsou:</p> <ul> <li><a onclick=\"t._trackPageview('/files/webexpo/webexpo-aspnet-3.5-futures.ppsx.zip')\" href=\"/files/webexpo/webexpo-aspnet-3.5-futures.ppsx.zip\">slajdy pro PowerPoint</a> (1,00 MiB, PPSX)</li> <li><a onclick=\"t._trackPageview('/files/webexpo/webexpo-aspnet-3.5-futures.pdf')\" href=\"/data/soubory/webexpo-aspnet-3.5-futures.pdf\">slajdy pro Adobe Reader</a> (2,49 MiB, PDF)</li> <li><a onclick=\"t._trackPageview('/files/webexpo/webexpo-aspnet-3.5-futures.zip')\" href=\"/files/webexpo/webexpo-aspnet-3.5-futures.zip\">ukázky</a> (19,44 MiB, ZIP)</li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-10-25T08:50:12.103-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Slajdy a ukázky z WebExpa",
  :published #inst "2008-10-19T12:58:14.843-00:00",
  :url "slajdy-a-ukazky-z-webexpa",
  :id 326,
  :description
  "Konečně jsem se dostal k tomu abych nahrál slajdy z naší přednášky na web.",
  :category "Webdesign",
  :tags ["webexpo" "aspnet" "mvc"]},
 :280-zvyste-vykon-vaseho-webu.aspx
 {:html
  "<p>Výkon webových stránek můžeme obecně zvýšit snížením počtu dotazů na server, snížením objemu přenášených dat, optimalizacemi HTML kódu a v neposlední řadě optimalizací výkonného kódu aplikace. První tři pravidla lze uplatnit i na obyčejných prezentacích, proto se na ně podíváme blížeji.</p> <h3 id=\"toc-snizeni-poctu-dotazu-na-server\">Snížení počtu dotazů na server</h3> <p>Prvním krokem v optimalizaci by mělo být snížení počtu dotazů na server. Čím víc dotazů, tím více se musí přenášet dat, tím více musí server vynaložit prostředků na jejich obsloužení.</p> <p>Snažte se snížit počet souborů, které vaše stránka tahá s sebou. Pokuste se sloučit externí skripty do jednoho souboru, stejně tak stylopisy. Místo toho, abyste měli zvláštní stylopis pro tisk, využijte pravidla <code>@media print</code>. Dále omezte <code>@import</code> pravidla na minimum. Další spoustu dotazů mají jistě na svědomí obrázky. Využijte chytře <a href=\"http://www.alistapart.com/articles/sprites/\">techniku spojování obrázků</a> a snižte tak počet dotazů na minimum.</p> <p>Dalším krokem ke snížení počtu dotazů je <strong>správně nastavené kešování</strong>. Většinou se setkávám s tím, že kešování není řízeno vůbec nebo je rovnou zakázáno. To považuju za velikou chybu. Místo zakázání kešování, zkuste nastavit cache na minutu, dvě. Nedělejte to však pomocí meta tagů, to nemá žádný význam. Posílejte HTTP hlavičky. Např. <code>Cache-Control: public, must-revalidate, proxy-revalidate, max-age=120</code> nastavuje veřejné kešování na dvě minuty a za tuto dobu musí jak lokální, tak proxy cache stránku obnovit.</p> <p>Dalším účinným pomocníkem je Entity Tag – <strong>ETag</strong>. ETag je hash obsahu. Pokud se obsah změní, změní se i hash. Tento hash je posílán v hlavičce klientovi a ten ho může připojit do opětovného dotazu. Pokud se obsah na serveru nezměnil, server odpoví kódem <code>304 Not Modified</code>. V takovém případě je odpověď krátká a přenáší se jen několik bajtů a klient ví, že může použít lokální verzi.</p> <p>Správným nastavením hlaviček <code>Cache-Control</code> a <code>ETag</code> můžete svému serveru hodně odlehčit.</p> <h3 id=\"toc-snizeni-objemu-prenasenych-dat\">Snížení objemu přenášených dat</h3> <p>Když už máme snížený počet dotazů – tedy zátěž serveru, ve druhém kroku bychom se měli pokusit snížit trafic – množství přenášených dat. Zkoušel jsem několik technik. Rád používám <acronym title=\"Extensible hypertext markup language\">XHTML</acronym> protože ho pak můžu zpracovávat pomocí obecného XML readeru. A XHTML vyžaduje oproti HTML o dost bajtů navíc. Proto jsem si udělal takový malý benchmark mojí <a href=\"/\">titulní stránky</a>. Rozdíl mezi HTML a XHTML verzí je cca 3 %. Pak jsem zkusil ořezat přebytečné bílé znaky. Tam už to bylo o něco lepší úspora 13 %. Kombinace HTML bez bílých znaků pak je na šestnácti 16%. Je to sice pěkné číslo, ale zase taková úspora to není.</p> <div><img src=\"/data/obrazky/komprese.png\" alt=\"graf porovnání různé komprese stránky\" /></div> <p>Proto jsem nasadil kompresi. Ta konečně přinesla kýžený výsledek – <strong>úspora 64 %</strong>. Docela <a href=\"http://www.aspnetresources.com/tools/httpcompression.aspx\">zajímavý nástroj</a>, který vám zjistí, zda kompresi používáte a kolik byste byli schopní uspořit, najdete na stránkách <a href=\"http://www.aspnetresources.com\">www.aspnetresources.com</a>. Zkoušel jsem pokusně české portály a kompresi používá pouze <a href=\"http://www.seznam.cz/\">Seznam.cz</a>. Přitom zcela jistě ji dříve používal i <a href=\"http://www.atlas.cz/\">Atlas.cz</a>, nechápu, proč už není zapnutá.</p> <p>Jak zprovoznit kompresi na vašem serveru? Pokud máte IIS 6 a možnost nastavit si server sám, tak detaily najdete v článku <a href=\"http://www.microsoft.com/technet/prodtechnol/WindowsServer2003/Library/IIS/d52ff289-94d3-4085-bc4e-24eb4f312e0e.mspx?mfr=true\">Enabling HTTP Compression (IIS 6.0)</a>, v případě IIS 7 zase v článku <a href=\"http://blogs.iis.net/ksingla/archive/2006/06/13/changes-to-compression-in-iis7.aspx\">Changes to compression in IIS7</a>. Pokud k nastavení serveru přístup nemáte, můžete použít <a href=\"http://www.blowery.org/code/HttpCompressionModule.html\">HttpModul pro kompresi</a>. Uživatelé Apache jistě znají <a href=\"http://httpd.apache.org/docs/2.0/mod/mod_deflate.html\">mod_deflate</a> a <a href=\"http://sourceforge.net/projects/mod-gzip/\">mod_gzip</a>.</p> <p>Správně nastavenou kompresí ušetříte trafik. Ať už platíte vy nebo váš poskytovatel, je nejen ekonomické ale i solidární mít kompresi zapnutou.</p> <h3 id=\"toc-optimalizace-kodu-stranky\">Optimalizace kódu stránky</h3> <p>Správně napsaným kódem se dá zrychlit vykreslování stránky.</p> <ul> <li>Pokud je vaše stránka well-formed a je validní, může být její vykreslení mnohem rychlejší.</li> <li>Pokud nastavíte obrázkům rozměry, bude vykreslování stránky plynulejší a nebude se nepříjemně natahovat.</li> <li>Pokud u dlouhých tabulek správně použijete <code>thead</code>, <code>tfoot</code> a vícero <code>tbody</code>, taktéž docílíte rychlejšího zpracování stránky.</li> <li>Pokud externí skripty a jiné větší objekty, na jejichž zpracování musí prohlížeč čekat, připojíte až na konec stránky, nebude se na ně zbytečně čekat na začátku nebo uprostřed. Je to třeba častý nešvar magazínů, kde se vám načte perex, pod ním se 20 sekund načítá reklama a pak najednou nablikne zbytek stránky.</li> </ul> <p>Spoustu zajímavých tipů na zrychlení najdete ve vývojářské části Yahoo v článku <a href=\"http://developer.yahoo.com/performance/rules.html\">Best Practices for Speeding Up Your Web Site</a>. Užitečný nástroj ze stejné dílny, který vám stránku zkontroluje přímo ve vašem prohlížeči je Add-on do <a href=\"http://www.getfirebug.com/\">Firebug</a>u s názvem <a href=\"http://developer.yahoo.com/yslow/\">Y-Slow</a>.</p> <p>Mnoho z vás si jistě řekně, „k čemu bych měl optimalizovat, když moje stránky navštěvuje pár lidí denně?“ Já jsem toho názoru, že plýtvat se nemá. Doma taky určitě nemáte neustále otevřený vodovodní kohoutek…</p> <div class=\"hslice\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a href=\"/weblog/269-hlavicka-pragma-a-jeji-misto-v-html.aspx\">Hlavička Pragma a její místo v HTML</a></li> <li><a href=\"http://php.vrana.cz/skoleni-vykonnost-webovych-aplikaci.php\">Školení Jakuba Vrány: Výkonnost webových aplikací</a></li> <li><a href=\"http://www.mnot.net/cache_docs/\">Caching Tutorial for Web Authors &amp; Webmasters</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:32:25.520-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zvyšte výkon vašeho webu",
  :published #inst "2008-06-05T14:14:50.660-00:00",
  :url "zvyste-vykon-vaseho-webu",
  :id 280,
  :description
  "Každý přenesený byte něco stojí, zkuste se zamyslet nad tím jak ušetřit. Pokusím se nadhodit několik tipů na snížení trafiku a zvýšení výkonu vaší webové aplikace/prezentace.",
  :category "Webdesign",
  :tags
  ["iis7"
   "apache"
   "http"
   "html"
   "xhtml"
   "css"
   "javascript"
   "etag"
   "cache"
   "compression"
   "firebug"
   "yslow"]},
 :136-texy-rpc-wrapper-pro-dotnet.aspx
 {:html
  "<h3>Update 2</h3> <p>Protože se změnil protokol komunikace s&#160;Texy RPC a já měl i&#160;pár nápdů na vylepšení, použijte raději <a href=\"/clanek/196-texy-net-release-candidate.aspx\">Texy.net RC1</a>, je to <strong>jediná funkční</strong> verze ;)</p> <h3>Update</h3> <p><em>Napsal jsem knihovnu, která zprostředkovává kounikaci s&#160;Texy! XML-RPC, která je mnohem lepší než toto řešení. Najdete ji v&#160;článku <a href=\"/clanek/158-texy-net-1-0-beta.aspx\">Texy.net 1.0&#160;beta</a></em></p> <p>Ještě jsem ani nestihl napsat, že <a href=\"http://www.dgx.cz/trine/\">DGX</a> uvolnil finální release <a href=\"http://www.texy.info/\">Texy! 1.0</a>&#160;a včera večer přidal ještě XML RPC rozhranní pro Texy (na adrese <code>http://xmlrpc.texy.info/</code>). Toho jsem nemohl nevyužít k&#160;procvičení vzdáleného volání z&#160;ASP.NET. Sice to neni tak elegantní řešení jako u&#160;<a href=\"/clanek/64-texy-web-service-ws.aspx\">Texy WS</a>, ale je tu další možnost, jak Texy do dotnetu implementovat&#8230;</p> <pre class=\"csharp\"><code>using System; using System.IO; using System.Net; using System.Web; using System.Collections; using System.Web.Services; using System.Web.Services.Protocols; using System.Xml; using System.Text; [WebService( Namespace = \"http://rarous.net/ws/\", Description = \"XML RPC to SOAP bridge for Texy!\")] [WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)] public class TexyService : System.Web.Services.WebService { public TexyService () { } [WebMethod(Description = \"Konvertuje vstupní text do XHTML\")] public string ConvertToXhtml(string text) { Uri url = new Uri(\"http://xmlrpc.texy.info/\"); HttpWebRequest request = WebRequest.Create(url) as HttpWebRequest; request.UserAgent = \"Gryphoon Texy Bridge 0.1\"; request.Accept = \"text/html, text/xml, application/xhtml+xml, application/xml\"; request.ContentType = \"text/xml\"; request.Method = \"POST\"; XmlTextWriter writer = new XmlTextWriter(request.GetRequestStream(), Encoding.UTF8); writer.WriteStartDocument(); writer.WriteStartElement(\"methodCall\"); writer.WriteElementString(\"methodName\", \"texy1.toHtml\"); writer.WriteStartElement(\"params\"); writer.WriteStartElement(\"param\"); writer.WriteStartElement(\"value\"); writer.WriteElementString(\"string\", text); writer.WriteEndElement(); writer.WriteEndElement(); writer.WriteEndElement(); writer.WriteEndElement(); writer.Close(); HttpWebResponse response = request.GetResponse() as HttpWebResponse; XmlTextReader reader = new XmlTextReader(response.GetResponseStream()); string output = String.Empty; object val = reader.NameTable.Add(\"string\"); while (reader.Read()) { if (reader.NodeType == XmlNodeType.Element &amp;&amp; reader.Name.Equals(val)) output = Server.HtmlDecode(reader.ReadInnerXml()); } reader.Close(); response.Close(); return output; } }</code></pre> <p>Rovnou jsem wrapper implementoval do Webové služby pro další využití (např. v&#160;Atlasu), ale celá magie je pouze v&#160;metodě <code>ConvertToXhtml</code>, která se o&#160;všechno postará. Tohle je první nástřel a možná má ještě nějaký mouchy, ale to se podá ;) Určitě chci ještě dopsat možnost konfigurace, kterou <a href=\"http://www.texy.info/cz/xmlrpc\">Texy RPC taky nabízí</a>.</p> <p><a href=\"/ws/TexyService.asmx\">Ukázka služby</a></p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2007-04-20T07:22:54.727-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Texy RPC wrapper pro dotnet",
  :published #inst "2006-04-20T12:35:31.787-00:00",
  :url "texy-rpc-wrapper-pro-dotnet",
  :id 136,
  :description "Texy se na nás směje.",
  :category "ASP.NET 2.0",
  :tags []},
 :289-duveryhodna-sitova-cesta.aspx
 {:html
  "<p>Společné knihovny v našich projektech linkujeme z jednoho síťového místa. Při spouštění testů z Visuál Studia se v tomto případě může objevit chybová hláška, že knihovna není v důvěryhodném umístění a testy se nepodaří spustit.</p> <pre><code>Microsoft.VisualStudio.TestTools.TestManagement.ExecutionException: Test Run deployment issue: The location of the file or directory ‘\\\\server\\path\\library.dll’ is not trusted.</code></pre> <p>Existuje na to celkem snadné řešení, ale je poměrně těžko dohledatelné… Je potřeba toto umístění přidat mezi důvěryhodná uložiště assembly .net Frameworku. Nejsnažší cesta je nastavit CAS Policy asi přes příkazovou řádku:</p> <pre><code>cd %SystemRoot%\\Microsoft.NET\\Framework\\v2.0.50727 caspol -m -ag 1.2 -url \\\\Server\\path\\* FullTrust</code></pre> <p>Snad se bude hodit.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-07-23T22:30:53.137-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Důvěryhodná síťová cesta",
  :published #inst "2008-07-23T14:00:57.243-00:00",
  :url "duveryhodna-sitova-cesta",
  :id 289,
  :description
  "Jak nastavit síťovou cestu, jako důvěryhodnou pro spouštění .net assembly.",
  :category "ASP.NET 2.0",
  :tags []},
 :68-proc-pouzivam-netscape-8.aspx
 {:html
  "<p>Na mém počítačí je naistalovaných spousta prohlížečů, ale pouze jeden má tu čest být mým hlavním. Je jím <a href=\"http://browser.netscape.com/\">Nescape Browser 8</a>. Dlouho jsem před tím používal Firebirda a potom <a href=\"http://firefox.czilla.cz/\">Firefoxe</a>, byl jsem s nimi spokojený, ale vadila mi jedna věc – některé stránky byly nepřístupné nebo nefunkční. Proto jsem musel občas otevírat Internet Explorer (IE), hlavně při chození do banky.</p> <p>Když se objevily zprávy o tom, že nová verze Netscape (NS) bude postavená na Firefoxu a že bude mít přepínání enginů, nadchlo mě to a těšil jsem se na release jako malé dítě. Hned, jak oficiálně vyšel, jsem ho naistaloval…</p> <p>Chvíli jsem ho používal, ale zase jsem se vrátil zpět k Firefoxu. Pak jsem musel zformátovat disk a při nové instalaci systému jsem se rozhodl, že dám Netscapu druhou šanci a myslím že jsem udělal dobře, jsem nad míru spokojený.</p> <h3>Co se mi na NS8 tak líbí?</h3> <p>V první řadě je to používání dvou zobrazovacích jader – Gecko a Trident – mezi kterými si můžu libovolně přepínat a nastavovat pro jednotlivé servery, jaké jádro použít s tím, že si to <acronym title=\"Netscape\">NS</acronym> pamatuje. Dále je to vychytaný systém ověřování bezpečnostních úrovní stránek, který ve Firefoxu chybí a v <acronym title=\"Internet Explorer\">IE</acronym> není tak dotažený. NS si ověřuje důvěryhodnost stránek u serverů jako je eTrust nebo VerySign, nebo si úroveň zabezpečení můžete, zase pro jednotlivé sity, nastavit ručně.</p> <p>Oproti Firefoxu má NS ve výchozí instalaci mnohem lepší podporu pro prohlížení stránek v záložkách, má integrovaný <a href=\"http://www.icq.com/\">ICQ</a> klient, má integrovanou podporu pro <a href=\"http://www.gmail.com/\">GMail</a> a jiné používané e-mailové služby, má pro mě přítulnější a kompaktnější prostředí.</p> <p>Velkou nevýhodou, oproti Firefoxu, je zatim nedostatečné množství nabízených rozšíření, ale po čase jsem zjistil, že je zase tolik nepotřebuju, jediné co mi chybělo byly MouseGestures a ty mi v poslední verzi fungují bez problémů. Oni se totiž některé extensions pro Firefox dají přemluvit k tomu, aby se tvářili, že jsou pro NS8 a ve výsledku i fungují.</p> <h3>Jak na to?</h3> <p>Postup je jednoduchý. Z <a href=\"http://update.mozilla.org/\">Mozilla Upadate</a> si stáhnete rozšíření, které se vám líbí (Udělejte to přes pravé tlačítko volbou <em>Save Target As…</em>). Potom si rozšíření otevřete pomocí ZIP a v něm upravíte soubor <strong>install.rdf</strong> a to následovně:</p> <ol> <li>Musíte změnit ID cílové aplikace</li> <li>Musíte změnit podporovanou verzi</li> </ol> <p>Výsledná část kódu po editaci bude třeba vypadat následovně:</p> <pre class=\"xml\"><code>... &lt;em:targetApplication&gt; &lt;rdf:Description&gt; &lt;em:id&gt;{3db10fab-e461-4c80-8b97-957ad5f8ea47}&lt;/em:id&gt; &lt;em:minVersion&gt;8.0.1&lt;/em:minVersion&gt; &lt;em:maxVersion&gt;8.0.4&lt;/em:maxVersion&gt; &lt;/rdf:Description&gt; &lt;/em:targetApplication&gt; ...</code></pre> <p>Výsledek uložíme a pokusíme se ho Netscapu vnutit. Otevřete si okno <em>Extensions</em> a naše rozšíření do něj přetáhneme. Potom NS restartujeme. Voalá. Ovšem je velice provděpodobné, že ho nepříjme. Pak je nutné nefunkční rozšíření odebrat, opět v okně Extensions. Pokud se k němu nedostanete, je nutné spustit NS v <em>safe modu</em> a pak to půjde. Z toho vyplívá, že to děláte <strong>na vlastní nebezpečí</strong> a já nenesu žádnou vinu na tom, co se vám může stát.</p> <!-- by Texy2! -->",
  :keywords "firefox netscape browser 8",
  :edited #inst "2008-04-19T19:16:35.493-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Proč používám Netscape 8",
  :published #inst "2005-09-04T10:45:44.000-00:00",
  :url "proc-pouzivam-netscape-8",
  :id 68,
  :description
  "O tom, proč jsem nahradil Firefox Netscape Browserem 8.",
  :category "Webdesign",
  :tags []},
 :36-ale-budu.aspx
 {:html
  "<p>Dnes ráno mě probudilo naléhavé zvonění telefonu. Chytli stopu Winklyho. Winkly je bastard, který v posledním měsíci zabil čtyři lidi, vysmíval se policii do obličeje a až do této chvíle nepozorovaně utíkal silám zákona – nám. Proto Vás nepřekvapí, že jsem byl v autě za dvě minuty dvacet sedm vteřin, nový rekord.</p> <p>Byla mlha. Dojel jsem před stanici, kde už na mě čekal můj kolega Phil, který jen naskočil do auta a už jsme se podle jeho instrukcí řítili do severní části města – přístav, jatka, skladiště – nic víc, nic míň.</p> <p>Winklyho si všiml policista, kterému právě končila noční šichta – ohlásil to a už mu skončila i ta životní šichta. To se k obětem nepočítalo, už jen z loajality jednoho policisty k druhému. Winkly nás měl na svědomí už necelý tucet.</p> <p>To, co přidávalo plyn, jak jsme to valili k přístavu jsem nebyl já, ale moji dva nájemníci. Třímetrová hromada svalů s rudě podlitýma očima a malá černooká postavička s obrovským sekáčkem na maso – Zuřivost a Pomsta.</p> <p>Maják houkal hlasitěji, než jindy a jestli ne, tak v mé mysli určitě ano. Malé kapky se začaly rozprskávat o přední sklo.</p> <p>Už jsme tam byli – celá oblast byla dokonale obklíčená nervózními kolegy. Od bosse Remory jsem se dozvěděl, že on je tam někde uvnitř. A také, že potřebuje dobrovolníka, který ho půjde tam dovnitř ulovit, protože tohle nemůže nikomu nařídit – na inteligentního zabijáka policistů Winklyho kalibru to prostě nejde.</p> <p>Co čekáte? Šel jsem a Phil se mnou.</p> <p>S vytaženými odjištěnými zbraněmi jsme opatrně pročesávali ulici za ulicí. Nebylo jich tam moc a těch pár lidí, co tu pracovali už bylo za bezpečnou hranicí policistů. Ale, zkuste postavit obranou zeď z balónků, když je útočník ostrým špendlíkem.</p> <p>Pořádně se rozpršelo.</p> <p>Odhadoval jsem, že v přístavu asi není. Sklady byly zase dost obyčejné. Zamířili jsme na jatka.</p> <p>Vešli jsme zadem. Smrdělo to tam tak, jak si to člověk na jatkách představuje – zápach krve, krys a smrti. Prošli jsme kanceláře a zamířili do vykonavatelny. A on tam byl. Chtělo se mi zvracet. Od pusy mu ztékaly potůčky čerstvé krve.</p> <p>Naneštěstí stál hned vedle sloupu a během mžiku oka už byl za ním. Ani Philův výstřel tomu nepomohl, netrefil.</p> <p>Během následujících dvou vteřin Phil vyběhl směrem k Winklymu, snažil jsem se ho zadržet, ale marně, a jakmile se dostal ke sloupu, natáhl obě ruce dopředu, upustil pistoli a zapotácel se zpět.</p> <p>Z hrudi mu koukal velký nůž. Tak jich má na svědomí už celý tucet.</p> <p>Zatímco jsem držel Phila, Winkly utekl. Žádné slzy, žádné útěchy. Jen dva páry očí, mluvící o tom stejném.</p> <p>Malému nájemníkovi se zvětšil a otupil nástroj. Tak to víc bolí.</p> <p>Vyrazil jsem jeho směrem. A měl jsem štěstí, schovával se za velkou bednou uprostřed obrovské prázdné místnosti. Až doteď se mu dařila taktika: Schovej se tam, kde tě budou hledat nejdřív. Ale tentokrát mu to nevyšlo, hledal jsem ho tam.</p> <p>A teď klečí dva metry přede mnou s rukama za hlavou, na kterou mu mířím.</p> <p>„Tak, a teď jste mě dostal. Cha, chá!“ zasmál se. „Dostal! Mě! Cha, chá! Sám víte, že mě nedostane nikdo, když to nechci, cha, chá!“</p> <p>V tom se nad námi propadl strop a místnost počal zavlažovat hustý déšť.Na nás nespadlo nic, jen okolo pár palubek a krytiny.</p> <p>Ale on se nepohnul – nevyužil šance.</p> <p>Začala se mi třást ruka. Obrovitý nájemník mi trhal uši svým řevem.</p> <p>„Ale ne, vy mě nezabijete, nemáte na to. Cha, chá!“</p> <p>Nebudu, jako on, nezabiju ho. Nejsem vrah, to on. Stal bych se jím. A to nechci. Nebudu jako on.</p> <p>„Cha, chá!“ smál se pronikavým smíchem, který mi před očima promítal všech dvanáct kolegů. Klečel tam v mokrém bahně a smál se.</p> <p>Nebudu jako on.</p> <p>Velký nájemník přestal nechápavě křičet a ten druhý ho poslal pryč. Teď jsme tady jen mi tři. Černooké postavičce se rozkýval sekáček v rukou. Nebudu jako on.</p> <p>Také jsem se usmál.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:57:26.613-00:00",
  :is-published true,
  :author "dekan",
  :title "Ale budu...",
  :published #inst "2005-01-17T20:09:23.000-00:00",
  :url "ale-budu",
  :id 36,
  :description "",
  :category "Jen tak",
  :tags []},
 :424-vlastni-transformace-konfiguracnich-souboru.aspx
 {:html
  "<p>Jedna z pozitivních věcí, se kterou přišel publikační nástroj ve VS 2010, byla automatizovaná transformace <code>web.config</code>u podle zvolené build konfigurace. Od začátku jsem ji úspěšně používal, jak na Tropu, tak později i na Webmiu, při automatizovaném deploymentu do dev/staging/pro­duction prostředí. Používal jsem k tomu <a href=\"https://github.com/rarous/WebTools/blob/master/Deployment.ps1\">jednoduchý PowerShell</a> script, který vyčistí projekt, sbuildí ho ve vybrané konfiguraci, včetně transformace web.configu, vytvoří MsDeploy balíček a pošle ho na cílový server. Je pravda, že pro Azure se používá jiný balíčkovací systém, ale princip je stejný.</p> <p>Tohle všechno je super, pokud máte jednu nebo málo cílových instancí. Pokud máme víc produkčních deloyovacích konfigurací, je zbytečné vytvářet pro každou i build konfiguraci, která může být pro všechny stejná. A tím se pomalu dostáváme k potřebě oddělit transformace konfiguračního souboru od build konfigurací.</p> <h3 id=\"toc-transformace\">Transformace</h3> <p>Transformace konfiguračního souboru jsou zdánlivě zapečené do webového projektu. Dokonce jsem do některých konzolovek linkoval <code>WebApplication.target</code>, abych mohl transformovat i <code>app.config</code>. Přitom je to samostatný MsBuild task:</p> <pre class=\"xml\"><code>&lt;UsingTask TaskName=\"TransformXml\" AssemblyFile=\"$(MSBuildExtensionsPath)\\Microsoft\\VisualStudio\\v10.0\\Web\\Microsoft.Web.Publishing.Tasks.dll\"/&gt;</code></pre> <p>Ovšem, psát build script v XML, je tak neproduktivní a nehodné 21. století. Vytvoříme si jen jednoduchý znovupoužitelný wrapper, který budeme volat z <a href=\"https://github.com/psake/psake\">psake</a> nebo jiného vhodnějšího buildovacího DSL.</p> <pre class=\"xml\"><code>&lt;Project ToolsVersion=\"4.0\" DefaultTargets=\"Transform\" xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\"&gt; &lt;UsingTask TaskName=\"TransformXml\" AssemblyFile=\"$(MSBuildExtensionsPath)\\Microsoft\\VisualStudio\\v10.0\\Web\\Microsoft.Web.Publishing.Tasks.dll\"/&gt; &lt;Target Name=\"Transform\"&gt; &lt;TransformXml Source=\"$(Source)\" Transform=\"$(Transform)\" Destination=\"$(Destination)\" /&gt; &lt;/Target&gt; &lt;/Project&gt;</code></pre> <p>Pak už si jen připravíme pomocnou funkci, která nám tenhle scrtipt zavolá a můžeme jet:</p> <pre class=\"php\"><code>function Transform-Config { param([string] $source, [string] $transform, [string] $destination = '') if (-not $destination) { $destination = $source; } Exec { MsBuild TransformHelper.build /p:Source=$source /p:Transform=$transform /p:Destination=$destination.tmp } Remove-Item $destination -force Rename-Item \"$destination.tmp\" $destination -force }</code></pre> <p>Parametr <code>$destination</code> je volitelný, pokud není zadaný přepíše se zdrojový soubor.</p> <h3 id=\"toc-pouziti-v-praxi\">Použití v praxi</h3> <p>Ve výsledku tohle používám pro transformace configu pro různé instance. V aplikaci mám složku <code>Configurations</code> kde jsou jednotlivé transformace <code>web.instance.config</code>, kde instance je proměnná. Pokud potřebuju rychle přepnout na jinou instance napíšu do konzoly:</p> <pre><code>.\\psake.ps1 TransformConfig –properties @{ instance = 'instance' }</code></pre> <p>A mám switchnuto. <code>TransformConfig</code> je task v psake scriptu, který volá výše vytvořenou funkci. Při balíčkování se dá využít běžných transformací jako <code>Web.Release.config</code>, který nastaví konfiguraci pro běh v ostrém prostředí v kombinaci s vlastními transformacemi pro různé instance. Mám tak oddělená nastavení specifická pro prostředí od těch, která specifikují konfiguraci instance.</p> <p>Samozřejmě se to dá využít i na <code>app.config</code> nebo jakékoli jiné XML. To už záleží jen na vaší představivosti. :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-08-17T14:42:15.563-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vlastní transformace konfiguračních souborů",
  :published #inst "2012-08-17T11:29:28.133-00:00",
  :url "vlastni-transformace-konfiguracnich-souboru",
  :id 424,
  :description
  "Jedna z pozitivních věcí, se kterou přišel publikační nástroj ve VS 2010, byla automatizovaná transformace web.configu podle zvolené build konfigurace.",
  :category "Moje práce",
  :tags ["psake"]},
 :30-polemika-o-semantice.aspx
 {:html
  "<p>Nedávno se na Well Done (<a href=\"http://hulan.info/blog/item/xhtml-a-semanticky-kod-versus-realita\">http://hulan&#173;.info/&#8230;rsus-realita</a>) diskutovalo, zda je semanticky lepší řadit komentáře do DIVů nebo do OL-LI číslovaného seznamu. Podle mě, je to ale plácání do vody…</p> <p>HTML, potažmo XHTML, není jazyk vytvořený k&#160;tvoření webových aplikací, nýbrž k&#160;formátování (logickému členění)&#160;textu a jeho provázání pomocí hypertextových odkazů. To že se časem nabalily k&#160;HTML formuláře, aplety a jiné objekty je smutná realita. Pokud ale někdo chce tvrdit že jeho webová aplikace je semanticky v&#160;pořádku (né-li nejlepší na webu), neberu ho vážně pokud je to celé čistě v&#160;XHTML. Na takové věci se mají používat XForms, RDF, a další vhodnější XML aplikace.</p> <p>Jenže žijeme v&#160;divné době, kdy toto nechápou ani výrobci prohlížečů&#160; (na těch záleží nejvíce), ani někteří rádoby prorokové a guruové internetu. Ale až jednou budou tyto doporučení fungovat v&#160;praxi, můžeme se začít o&#160;nějaké sémantice bavit.</p> <p>Dnes ale mame jiné možnosti:</p> <ol> <li>Dělat po &#8222;staru&#8220; a nedávat najevo nějakou svoji pochybnou dokonalost</li> <li>Napsat si vlastní semanticky lepsi XML aplikace a ty pak používat spolu s&#160;XHTML 1.1&#160;a CSS, s&#160;tím že asi budou problémy ve straších prohlížečích (IE6 je taky starej prohlížeč)</li> <li>Bod č. 1 + Testovat a učit se nové metody, až příjde čas budou se hodit a kdo dřív příjde, ten dřív mele…</li> </ol> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:58:28.500-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Polemika o semantice",
  :published #inst "2004-08-31T00:00:00.000-00:00",
  :url "polemika-o-semantice",
  :id 30,
  :description "",
  :category "Webdesign",
  :tags []},
 :22-wellstyled.aspx
 {:html
  "<p><a href=\"http://www.pixy.cz/\">Pixy</a> spustil svoje nové stránky s názvem <a href=\"http://www.wellstyled.com/\">WellStyled.com</a>. Je to studnice kvalitních řešení v CSS, vhodná jak pro začátečníky, tak i pro inspiraci pokročilým. Web je zajímavě řešen v dvojjazyčné podobě. Designově i obsahově je tedy web velice povedený a už ho mám zabookmarkovaný.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:45:23.950-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "WellStyled",
  :published #inst "2004-05-29T22:00:00.000-00:00",
  :url "wellstyled",
  :id 22,
  :description "Pixy spustil svoje nové stránky.",
  :category "Webdesign",
  :tags []},
 :367-community-meeting-net.aspx
 {:html
  "<p>Máte nějaké dotazy ohledně vývoje v ASP.NET potažmo v .net obecně? Máte chuť se seznámit s dalšími lidmi, kteří se dotnetem zabývají, nebo jen chcete osobně potkat lidi, které znáte jen virtuálně? Budete v sobotu 17. Října na WebExpu 2009?</p> <p>Pokud jste alespoň na jednu z výše položených otázek odpověděli kladně, přijďte se podívat na <a href=\"http://webexpo.cz/prednaska/community-meeting-aspnet/\">Community meeting .net</a>, kde najdete Štěpána Bechynského a moji maličkost. Můžete se nás zeptat na cokoli o ASP.NET a dalších dotnet technologiích a pokud to bude v našich silách, tak vám odpovíme. Štěpán slíbil, že součástí meetingu bude i coolkeg s náplní od Staropramenu, tak kdo bude mít žížu, tak ať si přinese vlastní pulitr, pokud nechce pít z plastiku…</p> <p>Naviděnou příští sobotu!</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-10-07T12:50:37.700-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Community meeting .net",
  :published #inst "2009-10-07T12:50:37.677-00:00",
  :url "community-meeting-net",
  :id 367,
  :description "Pozvánka na Community meeting .net na WebExpu 2009.",
  :category "ASP.NET 2.0",
  :tags ["webexpo" "aspnet"]},
 :300-vyvojova-infrastruktura.aspx
 {:html
  "<p>Na začátku vývoje každého produktu bychom si měli připravit vhodnou infrastrukturu. Základem je verzovací systém – pokud pracujete sám, je značnou výhodou, v teamu nezbytností. Další důležitou součásti je systém pro vedení úkolů a bugů. Dále je vhodná wiki a taky nějaký buildserver.</p> <h3 id=\"toc-proc-je-to-tak-dulezite\">Proč je to tak důležité?</h3> <p>Verzovací systém je vhodný na jakýkoli projekt, nemusí to nutně být ani projekt softwarový – my ho třeba s Borkem používáme na přípravu <a href=\"/weblog/295-povidani-o-asp-net-na-webexpu.aspx\">přednášky</a>. Je to ochrana před ztrátou dat, občas pomůže se podívat do historie, dnešní systémy umějí mergovat změny z více zdrojů a jsou snadno zařaditelné do automatizovaného procesu.</p> <p>Úkolník je dobrý z mnoha důvodů, vidíte, co máte dělat, jakou to má prioritu, kolik už máte hotovo. Slouží i jako váš výkaz, že se jen neflákáte. ;)</p> <p>Build server je už jen třešničkou na dortu, která za vás dělá rutinu – špinavou a nudnou práci.</p> <h3 id=\"toc-jak-to-bylo-v-atlase\">Jak to bylo v Atlase</h3> <p>Když jsem nastupoval do vývoje Atlas.cz, fungoval tam jen Visual SourceSafe, stagovalo se přes FTP. Vše bylo dost závislé na správném připravení verze do produkčního prostředí, to připravoval člověk a snadno mohlo dojít k chybě. :) Za nějaký čas jsme se rozhodovali jak to celé zautomatizovat a usnadnit. Nakonec jsme přešli na PureCM, Atlas.Build a Atlas.Autowebsite.</p> <p><a href=\"http://www.purecm.com/\">PureCM</a> je verzovací systém s integrovaným úkolníkem a s možností skriptování v pythonu a dotnetím API. Má systém repository, které mají streamy a ty lze vzájemně mergovat v rámci hierarchie. Také k nim lze dopsat tzv. Custom action. Ta u nás nebyla nic jiného než spoušť události. Služba Atlas.Build tuto událost zachytila, provedla checkout, pročistila projekt a podle jednoduchého build skriptu (zjednodušený NAnt) připravila verzi buďto na <em>dev</em> servery nebo na <em>staging</em>, kterou pak nahrála na příslušný server pod danou verzí (názvem streamu).</p> <p>Vývojář pak zadal do prohlížeče adresu, třeba <code>http://katalog.3.6.0.dev2.atlas.cz</code>, kde na něj čekal Autowebsite, který se zeptal jakou verzi frameworku použít a pak v IIS metabázi založil nový web.</p> <p>Bylo za tím spousta magie a bylo celkem jednoduché a efektní a taky ušité na míru našim potřebám.</p> <h3 id=\"toc-jak-to-mame-v-twaregu\">Jak to máme v Twaregu</h3> <p>Když jsme přišli do <a href=\"http://www.twareg.com/\">Twaregu</a>, bylo opět potřeba připravit infrastrukturu. Po týdnu zkoušení a rozhodování jsme nakonec zvolili kombinaci Subversion (SVN), Trac, TeamCity.</p> <p><a href=\"http://subversion.tigris.org/\">SVN</a> je celkem osvědčený verzovací sytém, je zdarma a multiplatformní, existuje pro něj dostatek nástrojů, včetně integrace do Visual Studia a je podporován všemi testovanými buildservery.</p> <p><a href=\"http://trac.edgewall.org/\">Trac</a> je wiki a systém pro vedení úkolů s pěkným webovým prohlížečem repository. S SVN je spjat pupeční šňůrou a dá se dobře automatizovat tvorba nových projektů. Navíc je to OpenSource a je zdarma.</p> <p><a href=\"http://www.jetbrains.com/teamcity/\">TeamCity</a> je skvělý buildserver podporující Javu i dotnet (nejen tyto), umí se připojit do SVN a zvládá i vzdálené předtestované commity, což je killer feature. Pokud se dokážete smířit s omezením na 3 build agenty, 20 uživatelů a 20 konfigurací, pak je zdarma. Má pěknou integraci do Visual Studia a má API pro rozšiřování.</p> <p>První měsíc v Twaregu jsem (nejen) připravoval infrastrukturu. Napsal jsem službu, která zakládá nové repository, připraví do nich základní adresářovou strukturu a založí projekt v tracku. Automatizované zakládání pro TeamCity zatím není a ještě nevím, jestli je potřeba. Jednotlivé konfigurace je lepší projít ručně a nastavit dle požadavků daného projektu. Na projektu většinou máme dvě konfigurace, jednu, která je pro vzdálený předtestovaný commit do vývojového branche a druhou, která se spouští při commitu do trunku. Provede se kompletní build, spustí se testy, pokud je vše <strong>ok</strong>, vytvoří se dokumentace a nahraje na intranet, provede se deploy knihoven do společného úložiště a vytvoří se weby, pokud nějaké v projektu jsou.</p> <p>Co se všechno má udělat je řízeno <a href=\"http://msdn.microsoft.com/en-us/library/0k6kkbsd.aspx\">MSBuild</a> skriptem, pro který jsem připravil několik tasků. Upravil jsem <a href=\"http://www.codeplex.com/xunit\">xUnit.net</a> task, aby se posílaly zprávy do TeamCity a přibalily výsledky testů do sumáře o buildu.</p> <p>Je fakt, že tady máme build skripty mnohem ukecanější něž v Atlasu, ale jsou mnohem flexibilnější – vzhledem k heterogennímu prostředí je to potřeba.</p> <h3 id=\"toc-zaver\">Závěr</h3> <p>Investujete-li na začátku nějaký čas na vybudování infrastruktury, jistě se vám to vrátí později v podobě nevytrhaných vlasů a neokousaných nehtů, když někdo někomu omylem přemázne celodenní práci nebo vydeployuje nefunkční verzi. Nemít verzovací systém je vyložený hazard, nemít úkolník je přinejmenším nepohodlné a bez build serveru se dá žít…</p> <p>A jakou infrastrukturu/sys­tém používáte vy?</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a rel=\"bookmark\" href=\"/weblog/299-stahnete-si-texy-net-a-nforms-pres-svn.aspx\">Stáhněte si Texy.net a NForms přes SVN</a></li> <li><a rel=\"bookmark\" href=\"/weblog/194-prednaska-o-msbuild.aspx\">Přednáška o MSBuild</a></li> <li><a rel=\"bookmark\" href=\"/weblog/174-par-tipu-pro-vyvojare.aspx\">Pár tipů pro vývojáře</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-03-01T10:59:54.173-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vývojová infrastruktura",
  :published #inst "2008-09-14T09:40:54.550-00:00",
  :url "vyvojova-infrastruktura",
  :id 300,
  :description
  "Proč je dobré mít základní vývojovou infrastrukturu? Jakou jsme ji měli v Atlasu a jakou ji máme teď? A jakou ji máte vy?",
  :category "Moje práce",
  :tags
  ["teamcity"
   "xunit"
   "atlas"
   "purecm"
   "twareg"
   "svn"
   "trac"
   "msbuild"
   "vcs"]},
 :24-firefox.aspx
 {:html
  "<p>Brzy má vyjít nová verze <a href=\"http://firefox.czilla.cz/\">Firefoxu</a> 0.9. Tak jsem se podíval na release candidate. Hned mě překvapilo zeštíhlení instalačního balíčku na 4,8&#160;MiB, dále nový vzhled Firefoxu. Nicméně mě nový vzled moc neuchvátil, líbí se mi více ten, co má <a href=\"http://www.opera.com/\">Opera</a> 7.51. No nevím jestli se k&#160;foxu vrátím, Opera si mě zatím drží svým IRC clientem a některejma vychytávkama, bohužel zase ale nemá takovou personalizaci jako Firefox. Doufám, že verze 1.0&#160;bude tak vychytaná a že bude kombinovat to nejlepší ze všech v&#160;použitelném celku.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Firefox",
  :published #inst "2004-06-10T10:00:00.000-00:00",
  :url "firefox",
  :id 24,
  :description "",
  :category "Webdesign",
  :tags []},
 :250-cssx.aspx
 {:html
  "<p>Tento člán je pouze spekulativní, píšu ho, abych si utřídil myšlenky a rozvedl jeden možná úplně blbý nápad.</p> <p>Jak tak pročítám <a href=\"http://www.weblogy.cz/\">weblůžky</a> narazil jsem na dva články: <a href=\"http://pixy.cz/pixynergia/2008/what-im-missing-in-css/\">What I’m missing in CSS</a> a <a href=\"http://www.misantrop.info/645101-parametrizovane-css.php\">Parametrizované CSS</a>. A uvědomil jsem si, že podpoře lepšího psaní <acronym title=\"kaskádové styly Macíku\">CSS</acronym>, nebo spíš jeho použitelnosti a usnadnění práce kodérů, se moc pozornosti nevěnuje.</p> <p>Rozhodl jsem se, že bych mohl napsat vlastní preprocesor pro asp.net, který rozšíří syntaxi CSS o některé nové možnosti, ale zůstane zpětně kompatibilní s lexikálními pravidly CSS. Preprocesor by měl také umožňovat komprimaci stylopisu, jak textovou, tak GZip. Měl by umět slučovat importované stylopisy a snížit tak počet http požadavků. Dále cachování a další nezbytnosti. :)</p> <h3 id=\"toc-promenne\">Proměnné</h3> <p>Prvním vylepšením CSSX jsou proměnné, které se definují na začátku dokumentu (kvůli lepší přehlednosti). Deklarace proměnné začíná zavináčovým pravidlem <code>@var</code> následuje název proměnné začínající na znak dolaru, např. <code>$firemni-modra</code> následuje dvojtečka a přiřazená hodnota. Deklaraci uzavírá středník. V praxi to může vypadat třeba následovně:</p> <pre><code>/* definice proměnných */ @var $firemni-modra: #2465B7; @var $firemni-zelena: #A0B424; a{color:$firemni-modra;} a:hover{color:$firemni-zelena;} /* další pravidla… */</code></pre> <p>V syntaxi využívám lexikální pravidla CSS, např. to, že neznámá zavináčová pravidla jsou ignorována až k následujícímu středníku nebo se ignoruje následující blok uzavřený ve složených závorkách.</p> <h3 id=\"toc-podminky\">Podmínky</h3> <p>Podmínky slouží k definování podmíněného bloku pravidel. Podmínky se definují pomocí zavináčového pravidla <code>@if</code> následovaného symbolem a blokem s definicemi:</p> <pre><code>@if IE6 { /* pravidla pouze pro IE6 */ } @if BLUE { /* pravidla pro pozadavek style.cssx?symbols=blue */ }</code></pre> <p>Symboly jsou definovány jednak pomocí „browser caps“ z asp.net a druhak pomocí GET parametru <code>symbols</code>. Podmínky jsou proto vhodné pro validní hackování stylopisu pro určité prohlížeče nebo pro skinování. Užití určitě může být povícero.</p> <p>Pokud máte další nápady na rozšíření nebo vylepšení mých návrhů, klidně to písněte do komentářů, diskusi se nebráním. :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:41:53.460-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "CSSX",
  :published #inst "2008-01-18T21:00:17.073-00:00",
  :url "cssx",
  :id 250,
  :description
  "Tento člán je pouze spekulativní, píšu ho, abych si utřídil myšlenky a rozvedl jeden možná úplně blbý nápad.",
  :category "Webdesign",
  :tags ["cssx" "css" "aspnet"]},
 :401-volme-spravne-nazvy.aspx
 {:html
  "<p>Ovládat dokážeme pouze věci, které dokážeme pojmenovat. Pokud něco dokážeme pojmenovat, můžeme se na to domluvit i s ostatními a komunikace je počátkem vývoje. Nebo tak to nejspíš bylo u lidí. ;)</p> <blockquote> <p>“There are only two hard things in Computer Science: cache invalidation and naming things” [Phil Karlton]</p> </blockquote> <p>Ano jedním z nejtěžších problémů v softwarovém vývoji je <strong>správně pojmenovat</strong> věci. Ostatně to není problém pouze softwarového vývoje. :) Přijít s dobrým jménem vyžaduje zkušenost a dobré vyjadřovací schopnosti.</p> <p>Každý programátor dokáže napsat kus kódu, kterému rozumí počítač, ale jen málo z nich dokáže napsat kód, kterému budou rozumět i lidé (ať někdo jiný nebo po čase on sám). A volba správných názvů přímo vede k dobrému porozumění kódu!</p> <h3 id=\"toc-zakladni-pravidla-pro-psani-srozumitleneho-kodu\">Základní pravidla pro psaní srozumitleného kódu</h3> <ol> <li>Nepsat kód v jiném národním jazyce než je angličtina (většina programovacích jazyků má klíčová slova anglická).</li> <li>Používat popisné názvy.</li> <li>Nepoužívat kryptické kódování alá maďarská notace.</li> </ol> <h3 id=\"toc-pravidla-pro-pojmenovani-promennych\">Pravidla pro pojmenování proměnných</h3> <p>Proměnná je předmět a tudíž by to měl její název reflektovat. Nejčastěji by názvy proměnných měla být <strong>podstatná jména</strong> (případně s přívlastky.) Výjimkou jsou boolovské proměnné a delegáty. Proměnné typu <code>bool</code> by se měly dát číst jako predikáty:</p> <pre class=\"csharp\"><code>bool isEnabled = false; bool hasChildren = true;</code></pre> <p>Pro delegáty platí většinou pravidla stejná jako pro tvorbu názvů metod (viz. dále.)</p> <p>Délka názvu proměnné by měla reflektovat scope v jakém se nachází. Pokud mám proměnou v lambda výrazu, klidně může být jednopísmenková. Např. <code>x =&gt; x * x</code>. Podobně je na tom proměnná pro index ve smyčce nebo prvek <code>foreach</code> cyklu. (Pokud tělo cyklu není delší než 4 řádky.)</p> <p>V případě proměnných z působností v metodách bychom už měli používat celá slova či popisná sousloví. Pokud máme proměnné s <strong>větším polem působnosti</strong>, jako jsou parametry metod nebo členské proměnné, měly bychom je pojmenovat <strong>delším popisnějším názvem</strong>.</p> <pre class=\"csharp\"><code>readonly IArticlesRepository articlesRepository;</code></pre> <h3 id=\"toc-pravidla-pro-pojmenovani-metod\">Pravidla pro pojmenování metod</h3> <p>U metod je to přesně naopak než u proměnných. Metody vyjadřují nějakou akci a proto by měly <strong>začínat slovesem</strong>. Veřejné metody by měly mít název <strong>krátký</strong> a <strong>jasný</strong>. Jedno písmenkové metody patří možná tak akorát do globálního scope (viz. jQuery ;) ale všichni víme, že globální scope je špatný, že ano?) Proč krátké? Protože je pravděpodobné, že je budeme používat často a nejspíš nejen my, ale i někdo jiný. Název však nesmí obsahovat zbytečné implementační detaily (ty by měly být v dokumentačním komentáři). Pěkným příkladem je třeba <code>File.Open</code>.</p> <p>Naproti tomu <strong>privátní metody</strong> by měly mít <strong>popisné názvy dlouhé i několik slov</strong> nebo to může být krátká věta. Nahrazují nám totiž rychle zastarávající komentáře. Nebojte se často používat refactoring <code>Extract Method</code> na menší logické kusy kódu a pěkně je pojmenujte. Kód se vám bude číst mnohem líp!</p> <h3 id=\"toc-pravidla-pro-pojmenovani-trid\">Pravidla pro pojmenování tříd</h3> <p>Pro třídy platí podobná pravidla jako pro metody, akorát že třídy jsou opět podstatná jména. Privátní třídy pojmenováváme popisně, veřejné stručně a výstižně. U abstraktních tříd používáme abstraktní jména. Potomci pak toto jméno rozšiřují o konkrétní přívlastky.</p> <h3 id=\"toc-zaver\">Závěr</h3> <p>Volba správného jména je velice důležitá, protože, když se na váš kód podíváte pozorně, zjistíte, že jde v podstatě o variace neustále se opakujících konstrukcí a význam jim dodávají právě jména.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-05-05T16:12:23.097-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Volme správné názvy!",
  :published #inst "2011-04-08T14:59:43.163-00:00",
  :url "volme-spravne-nazvy",
  :id 401,
  :description
  "Pár tipů, jak psát přehlednější kód, kterému rozumí i někdo jiný, než autor.",
  :category "ASP.NET 2.0",
  :tags ["cleancode"]},
 :400-k-cemu-je-dobre-refaktorovat-cykly-do-linq-dotazu.aspx
 {:html
  "<p>V posledním zápichu jsem ukázal, jak <a rel=\"bookmark\" title=\"Pryč se stromečky! Nyní interaktivně.\" href=\"/weblog/399-pryc-se-stromecky-nyni-interaktivne.aspx\">refaktorovat cyklus na LINQ</a>. Boris v komentářích poukázal na to, že výsledný kód nemusí být zrovna optimální, co se týče konzumace zdrojů. Já myslím, že je to malá cena, která je vyvážena obrovskou flexibilitou.</p> <p>Nejprve se vraťme k ukázkovému kódu. Ještě trochu jsem ho přepsal, aby byl výsledek srozumitelnější:</p> <pre class=\"csharp\"><code>static void ParseRouteData(Regex regex, Match match, RouteData data) { var groups = match.Groups.Cast&lt;Group&gt;(); var groupNames = regex.GetGroupNames(); var matchingPairs = from item in groups. Zip(groupNames, (group, name) =&gt; new { Pair = CreatePair(name, group.Value), IsMatch = group.Success, }) where item.IsMatch &amp;&amp; IsValidKeyAndValue(item.Pair) select item.Pair; matchingPairs.Do(SetRouteData(data)); } static KeyValuePair&lt;string, string&gt; CreatePair(string key, string value) { return new KeyValuePair&lt;string, string&gt;(key, value); } static bool IsValidKeyAndValue(KeyValuePair&lt;string, string&gt; pair) { return IsNamedKey(pair) &amp;&amp; IsNotEmptyValue(pair); } static bool IsNamedKey(KeyValuePair&lt;string, string&gt; pair) { return !(string.IsNullOrEmpty(pair.Key) || char.IsNumber(pair.Key, 0)); } static bool IsNotEmptyValue(KeyValuePair&lt;string, string&gt; pair) { return !string.IsNullOrEmpty(pair.Value); } static Action&lt;KeyValuePair&lt;string, string&gt;&gt; SetRouteData(RouteData data) { return pair =&gt; data.Values[pair.Key] = pair.Value; }</code></pre> <ol> <li>Upravil jsem název funkce. Nyní už neiterujeme, ale po odhalení, co funkce vlastně dělá, můžeme říct, že parsuje routovací data. Odstínili jsme se od implementačního detailu. Jsme více deklarativní.</li> <li>Změnil jsem lambda based zápis na query like zápis. Ten se stejně na lambda based zápis převede kompilátorem, ale odstraní se zbytečný šum.</li> <li>Přibyly dvě další funkce. <code>CreatePair</code> jsem zavedl pro zkrácení řádku, aby se nemuselo tady na blogu scrollovat doprava, ale opět nás odstiňuje od zbytečné informace (implementační detail).</li> <li>Oddělil jsem dotaz a jeho samotné vykonání.</li> </ol> <h3 id=\"toc-proc-tedy-linq\">Proč tedy LINQ?</h3> <p><acronym title=\"Language INtegrated Query\">LINQ</acronym> nám umožňuje zapisovat programy deklarativně. To znamená, že píšeme, <strong>čeho</strong> chceme dosáhnout, ne <strong>jak</strong> toho chceme dosáhnout. To je obrovská výhoda! Teď zapomeňme na to, že filtrujeme jednotky vyparsovaných hodnot. Mějme jich tisíce nebo rovnou milióny! Pokud potřebujeme výsledek rychle, jsme v imperativním případě namydlený. Sice je výkonostně optimálnější než ten deklarativní, ale pouze v případě, že máme k dispozici jediný stroj s jediným jádrem CPU.</p> <p>Pokud máme jader víc nebo celý cluster, můžeme vykonání LINQ dotazu distribuovat na více jader (pomocí <acronym title=\"Task Parallel Library\">TPL</acronym>) nebo do celého clusteru (pomocí <a href=\"http://research.microsoft.com/en-us/projects/dryadlinq/\">Dryad</a>). Více jader je u dnešních počítačů už standard a tak mikrooptimalizace jsou většinou ke škodě.</p> <p>Samozřejmě existují výjimky, jako jsou např. mobilní zařízení, kde není výkonu nazbyt. Otázkou je, zda raději nepřenechat výpočetně složité operace na serverech? ;)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-06-12T12:05:43.437-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "K čemu je dobré refaktorovat cykly do LINQ dotazů?",
  :published #inst "2010-12-26T07:30:48.117-00:00",
  :url "k-cemu-je-dobre-refaktorovat-cykly-do-linq-dotazu",
  :id 400,
  :description
  "Všetšinou se totiž vyplatí abstrahovat z imperativního zápisu na deklarativní.",
  :category "ASP.NET 2.0",
  :tags ["linq"]},
 :414-strava-pro-vase-oci-usi-a-mozek.aspx
 {:html
  "<p>Už je tomu nějakej ten pátek, co jsem <a href=\"http://blog.think-forth.com/\">Marianovi</a> slíbil, že napíšu článek s videama, o kterých si myslím, že jsou velmi dobrá na procvičování funkcionálního programování a abstraktního myšlení vůbec. Tak tady jsou:</p> <h3 id=\"toc-minlinq\">MinLINQ</h3> <p>První z nich ukazuje implementaci LINQ operátorů pomocí funkcionální kompozice tří základních operátorů Ana, Bind a Cata:</p> <iframe style=\"height:288px;width:512px;display:block\" src=\"http://channel9.msdn.com/Shows/Going+Deep/Bart-De-Smet-MinLINQ-The-Essence-of-LINQ/player?w=512&amp;h=288\" frameborder=\"0\" scrolling=\"no\"></iframe> <h3 id=\"toc-rx-pod-kapotou\">Rx pod kapotou</h3> <p>Další se zabývá velice zajímavými koncepty asynchroního a konkurenčního přístupu v reaktivních extenzích:</p> <iframe style=\"height:288px;width:512px;display:block\" src=\"http://channel9.msdn.com/Shows/Going+Deep/E2E-Erik-Meijer-and-Wes-Dyer-Reactive-Framework-Rx-Under-the-Hood-1-of-2/player?w=512&amp;h=288\" frameborder=\"0\" scrolling=\"no\"></iframe> <iframe style=\"height:288px;width:512px;display:block\" src=\"http://channel9.msdn.com/Shows/Going+Deep/E2E-Erik-Meijer-and-Wes-Dyer-Reactive-Framework-Rx-Under-the-Hood-2-of-2/player?w=512&amp;h=288\" frameborder=\"0\" scrolling=\"no\"></iframe> <h3 id=\"toc-design-programovacich-jazyku\">Design programovacích jazyků</h3> <p>Poněkud starší video o tom, jak se vaří programovací jazyky, s lidmi, kteří je opravdu navrhují. Erik Meijer je jedním z mistrů Haskellu a mimo jiné i mozkem za LINQ a Rx ve světě dotnetu. Gilad Bracha je toho času součástí týmu tvořícího <a href=\"http://www.dartlang.org/\">Dart</a>. A Mads je v teamu tvořící C#. Takže samí zajímaví lidé se zajímavými pohledy na jazyky.</p> <iframe style=\"height:288px;width:512px;display:block\" src=\"http://channel9.msdn.com/Shows/Going+Deep/Erik-Meijer-Gilad-Bracha-Mads-Torgersen-Perspectives-on-Programming-Language-Design-and-Evolution/player?w=512&amp;h=288\" frameborder=\"0\" scrolling=\"no\"></iframe> <h3 id=\"toc-fukcionalni-programovani\">Fukcionální programování</h3> <p>Další video s Erikem „you know“ Meijerem. :) Také staršího data, ale to na kvalitě neubírá, představuje koncepty funkcionálního programování v dotnetu.</p> <iframe style=\"height:288px;width:512px;display:block\" src=\"http://channel9.msdn.com/Shows/Going+Deep/Erik-Meijer-Functional-Programming/player?w=512&amp;h=288\" frameborder=\"0\" scrolling=\"no\"></iframe> <p>A komu to přijde málo a má chuť (a čas) se do funkcionálního programování opravdu obout, tak doporučuju celou <a href=\"http://channel9.msdn.com/search?term=Functional+Programming+Fundamentals&amp;type=Shows\">13 dílnou serii Erikových lekcí</a>. Často jsou ukázky v Haskellu, ale tady jde o koncepty a nakonec není od věci podívat se i na jiný programovací jazyk, že.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-12-25T10:35:57.957-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Strava pro vaše oči, uši a mozek",
  :published #inst "2011-12-25T09:26:59.807-00:00",
  :url "strava-pro-vase-oci-usi-a-mozek",
  :id 414,
  :description
  "Pár tipů na velmi zajímavá videa s problematikou funkcionálního programování.",
  :category "Moje práce",
  :tags ["linq" "video"]},
 :406-refaktoring.aspx
 {:html
  "<p>Poslední dobou se mi velmi často stává, že narážím na hlášky typu “od devíti refaktoruju a furt to nemá konce,” “refaktoring mi zabere asi tři dny, udělej mi na to task do backlogu” nebo „refaktoroval jsem to a nějak to přestalo fungovat.“ Tohle všechno jsou lži, ať už plynoucí z neznalosti, co to je refaktoring nebo trendy nadužívání tohoto slova v nepatřičných situacích.</p> <h3 id=\"toc-co-je-to-refaktoring\">Co je to refaktoring?</h3> <p><a href=\"http://en.wikipedia.org/wiki/Code_refactoring\">Refaktoring</a> je pojem, který je definován poměrně přesně. Je to krátká <strong>atomická operace</strong> nad kódem, která <strong>nemění jeho funkci</strong>, pouze <strong>strukturu</strong>. Z definice jasně vyplývá, že věty z úvodu jsou lži.</p> <p>Refaktoring patří k základní hygieně čistého kódu. Měli byste ho používat neustále. Není to věc, kterou byste měli zahrnovat do plánů jako něco extra, podobně jako testy, jsou jejich nedílnou součástí. A sluší se je zahrnout do časových odhadů jednotlivých úkolů. Ne však jako samostatné úkoly!</p> <h3 id=\"toc-rikam-refaktoring-myslim-redesign\">Říkám refaktoring, myslím redesign</h3> <p>Refaktoring se stal trendy pojmem. Manažeři mu nerozumí a programátoři se sním furt ohánějí. „Proč ti to trvalo tak dlouho?“ „Ještě jsem musel udělat refaktoring tohodle a tamtoho.“ Jenže jak jsme si řekli v definici, refaktoring je krátká operace! Velmi krátká, pokud máte dobré nástroje, netrvá více než pár stisků kláves. Řádově trvá jednotky sekund.</p> <p>Refaktoring má navíc tu vlastnost, že i když děláte velkou sérii – provádíte redesign – můžete kdykoli přestat a aplikace stále funguje. Ano, je to tak. Opět to vyplívá jasně z definice. Pokud ne, děláte jenom redesign.</p> <h3 id=\"toc-redesign\">Redesign</h3> <p>„Musíme to přepsat.“ Ta slova nemají manažeři rádi. Znamená to spoustu promarněných (z jejich pohledu – my přece víme, že se to musí udělat a že se to vrátí) hodin/dní (někdy i měsíců a let) práce. A tak se místo redesignování začalo „refaktrovat.“ Přestaňme si lhát. I když třeba během redesignu použijeme nějaký ten refaktoring, pořád je to redesign. Redesignovat můžeme přinejmenším dvěma způsoby:</p> <ol> <li>Hurá redesign, kdy se původní kód zahodí a napíše se to znova a občas se něco z toho původního copy&amp;pastene. Tohle se často dnes nazývá refactoring. A většinou z toho vypadne podobná sračka, jako byla před tím, jen bude mít jiný tvar.</li> <li>Můžeme postupně refaktorovat a časem se dostat k lepšímu designu. Ale nezapomínejte, vždycky tenhle proces můžete přerušit a aplikace funguje. Stačí, že změny jsou good enough. Váš kód nikdy nebude dokonalý.</li> </ol> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-07-23T09:33:29.120-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Refaktoring",
  :published #inst "2011-07-23T09:31:11.890-00:00",
  :url "refaktoring",
  :id 406,
  :description
  "Poslední dobou se mi velmi často stává, že narážím na hlášky typu “od devíti refaktoruju a furt to nemá konce,” “refaktoring mi zabere asi tři dny, udělej mi na to task do backlogu” nebo „refaktoroval jsem to a nějak to přestalo fungovat.“ Tohle všechno j",
  :category "Moje práce",
  :tags ["refactoring" "redesign" "cleancode"]},
 :379-5-kratkych-rad-pro-startupy.aspx
 {:html
  "<ol> <li>Pokud máte nápad, je vám to prd platné, dokud ho neuvedete v život. Nerealizovaný či nerealizovatelný nápad nemá žádnou hodnotu. Realizace sebeblbějšího nápadu je mnohem hodnotnější.</li> <li>Pokud máte sebemenší realizaci nebojte se s ní jít ven. Nečekejte až budete mít dostatek featur, které jsou přidanou hodnotou oproti konkurenci. Je totiž velice pravděpodobné, že o ně nikdo nestojí.</li> <li>Pokud něco máte, snažte se to vyladit. Nesnažte se přidávat další vlastnosti, které budou stejně nekvalitní jako ty současné.</li> <li>Nedávejte prioritu na vyřeší chyb, které se stávají jednou za měsíc nebo dva. Řešení takových chyb <em>právě teď</em> je <strong>nepřiměřeně drahé</strong>.</li> <li>Pokud máte možnosti levně/zdarma promovat váš web, nečekejte až bude vhodnější. Udělejte to hned. Udržovat <em>povědomí</em> o službě musíte neustále. Obzvlášť pokud začínáte. Využijte každé možnosti se zviditelnit. Nečekejte na příhodnější dobu, ta už nikdy nemusí přijít.</li> </ol> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-02-23T15:05:45.370-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "5 krátkých rad pro startupy",
  :published #inst "2010-02-20T15:28:33.723-00:00",
  :url "5-kratkych-rad-pro-startupy",
  :id 379,
  :description "5 krátkých rad pro startupy",
  :category "Webdesign",
  :tags []},
 :84-pristupnejsi-formulare-v-asp-net-2-0.aspx
 {:html
  "<p>„Druhá“ verze ASP.NET přináší krom jiného i podporu XHTML výstupu a rovněž podporu přístupnosti. Validátor na příslušné standardy je součástí VisualStudia 2005 a tak by pro vývojáře mělo být snazší najít prohřešky proti těmto doporučením.</p> <p>Když jsem ve verzi 1.x chtěl udělat přístupný formulář, který má popisky k formulářovým prvkům uzavřené v tagu <code>label</code>, nešlo k tomu využít serverového prvku <code>asp:Label</code>, který se logicky nabízel. Tento prvek se generuje jako <code>span</code>, tudíž nám je v tomto případě k ničemu. Musel jsem to obcházet a našel jsem si dva způsoby, vhodnějším se mi pak ukázal ten druhý.</p> <p>Tím prvním je uzavření formulářového prvku přímo do tagu <code>label</code>. specifikace toto použití připouští, ale ne vždy je možné ho použít.</p> <pre class=\"xml\"><code>&lt;label&gt;Popiska &lt;asp:TextBox ID=\"TextBox1\" runat=\"server\" /&gt;&lt;/label&gt;</code></pre> <p>V druhém případě se využije atribut <code>for</code> elementu <code>label</code>, který je referencí na <code>id</code> formulářového prvku. Protože se však ID prvků v uživatelských kontrolech, a nejen v nich, mění, nemůžeme napsat obsah atributu <code>for</code> natvrdo, ale musíme si pomoci programově. Každý WebControl má vlastnost <code>ClientID</code>, která vrací hodnotu atributu <code>id</code> po vyrenderování.</p> <pre class=\"xml\"><code>&lt;label for=\"&lt;%= TextBox1.ClientID %&gt;\"&gt;Popiska&lt;/label&gt; &lt;asp:TextBox ID=\"TextBox1\" runat=\"server\" /&gt;</code></pre> <p>Tak to byl můj starý způsob vytváření formulářových popisků. ASP.NET 2.0 přichází s novinkou. Nyní lze využít <code>asp:Label</code> k vytváření formulářových popisků a to pomocí vlastnosti <code>AssociatedControlID</code>! Pokud je tato vlastnost vyplněna patřičným ID, dojde k vyrenderování elementu <code>label</code> namísto <code>span</code>.</p> <pre class=\"xml\"><code>&lt;asp:Label AssociatedControlID=\"TextBox1\" runat=\"server\"&gt;Popiska&lt;/asp:Label&gt; &lt;asp:TextBox ID=\"TextBox1\" runat=\"server\" /&gt;</code></pre> <p>Sami si vyberte způsob, který vám nejlépe vyhovuje…</p> <!-- by Texy2! -->",
  :keywords "asp.net label",
  :edited #inst "2008-05-13T21:11:37.940-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Přístupnější formuláře v ASP.NET 2.0",
  :published #inst "2005-11-29T14:31:44.177-00:00",
  :url "pristupnejsi-formulare-v-asp-net-2-0",
  :id 84,
  :description "Jak generovat přístupnější formuláře v ASP.NET 2.0",
  :category "ASP.NET 2.0",
  :tags []},
 :97-bilancovani.aspx
 {:html
  "<p>Za poslední rok jsem zaznamenal několik úspěchů i&#160;neúspěchů, jako každý člověk. Podával jsem svoje první daňové přiznání, udělal jsem několik webů, konečně jsem předělal ten svůj a trochu mi stoupla návštěvnost.</p> <p>Na druhou stranu moje studijní výsledky nejsou zrovna lichotivé, snad je to i&#160;proto, že už mi škola nemá co nabídnout nebo to nenabízí takovou formou, která by mě zaujala. Určitě je chyba i&#160;na mojí straně, ale já „už su také“, radši dělám praktické věci nebo se učím takovou teorii, která mi něco nového do té praktické stránky přinese. Proto se učím nové vlastnosti dotnetu, snažím se porozumět návrhovým vzorům, poznávat nové technologie a implementovat je prakticky. Tak to mám rád. Nebudu vás ale unavovat popisem toho, co všechno mě na škole vadí, sami si přečtěte zprávu komise K4, tam je to zhruba nastíněno, ale z&#160;mé strany je toho víc.</p> <p>Než tenhle spot ukončím, chtěl bych napsat ještě pár otázek k&#160;zamyšlení. Nebudu na ně odpovídat, to musí každý sám…</p> <p>Položili jste si otázku, proč je vrcholem naší civilizace armáda? Proč je farmaceutický průmysl druhým nejbohatším hned po tom vojenském? Proč ve zprávách nenajdete nic pozitivního? Víte o&#160;tom, že existují léky na nevyléčitelné nemoci? Proč tyto léky nejsou volně k&#160;dostání a v&#160;širokém povědomí lidí? Proč lidé věří víc prášku nebo kapsli se stejnou účinnou látkou jako má nějaká bylinka, než právě té. Znáte energii nulového bodu? Víte o&#160;tom, že již před 70&#160;lety jezdilo vozidlo poháněné touto energií? Proč tuto energii dnes nevyužíváme a raději devastujeme naši planetu? Proč jsem tohle napsal?</p> <p>Závěrem bych vám chtěl popřát, abyste se v&#160;příštím roce dokázali správně rozhodovat a zamýšlet se nad důležitými otázkami.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-20T15:28:43.633-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Bilancování",
  :published #inst "2005-12-20T15:28:43.543-00:00",
  :url "bilancovani",
  :id 97,
  :description
  "Když se blíží ten konec roku – období bilancování a pohody – přihodím i já jeden takový bilanční a úvahový článek. ",
  :category "Jen tak",
  :tags []},
 :214-moonlight-za-21dni.aspx
 {:html
  "<p>Článek o tom, jak se za 21dní napsal plug-in Moonlight (Mono implementace Silverlightu), od jednoho z vývojářů se jmenuje <a href=\"http://tirania.org/blog/archive/2007/Jun-21.html\">Implementing Silverlight in 21 Days</a>. Enjoy…</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:33:31.160-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Moonlight za 21dní",
  :published #inst "2007-06-22T13:39:59.553-00:00",
  :url "moonlight-za-21dni",
  :id 214,
  :description "Tip na zajímavé čtení.",
  :category "ASP.NET 2.0",
  :tags ["mono" "moonlight" "silverlight" "dlr"]},
 :368-seznamte-se-s-tropem.aspx
 {:html
  "<p>Pomalu do světa pouštíme naši novou službu – <a href=\"http://www.trop.cz/\">Trop</a>. O co vlastně jde? Je to sociální platforma pro snadnou výměnu zkušeností z různých míst. Začínáme s tím, co je nám nejbližší. Začínáme v Praze a to s hospodami, restauracemi a kluby. :)</p> <p>Zatím jsme pořád v betě, protože každou chvíli něco rozbiju, nebo pokazim, ale snažíme se chyby vychytávat a rychle opravovat. Technologicky to je celé postavené na kombu <a href=\"http://asp.net/mvc/\">ASP.NET MVC</a>, <a href=\"http://nhforge.org/\">NHibernate</a>, <a href=\"http://www.castleproject.org/\">Castle Windsor</a>, MS SQL 2008 a IIS7. O některých věcech, které mě potkaly už jsem psal (<a href=\"/weblog/tag/mvc.aspx\">MVC</a>, <a href=\"/weblog/tag/binsor.aspx\">Binsor</a>), jiným se chci věnovat v budoucnu.</p> <h3 id=\"toc-kolik-uctu-mas-tolikrat-jsi-otrokem\">Kolik účtů máš, tolikrát jsi otrokem</h3> <p>Vím, že někteří z vás tam již účet mají, a tak to pro ně není žádným překvapením. Ti, co ještě účet na Tropu nemají, mají hned několik možností, jak si ho vytvořit. Nechcem po vás žádné složité vyplňování registrace. Asi nejjednodušší je využít možnosti přihlášení pomocí Twitteru (<a href=\"http://oauth.net/\">OAuth</a>), kdy se vám automaticky vytvoří profil dle vašich údajů na Twitteru, pěkně i s vaší profilovou fotkou. Pak už můžete normálně Trop používat. Podobně funguje i vytváření účtu pomocí <a href=\"http://openid.net/\">OpenId</a>.</p> <p>V blízké době se objeví i možnost přihlašování pomocí <a href=\"http://developers.facebook.com/connect.php\">Facebook Connect</a>. S touto novinkou přibude i jednodušší správa napojených účtů a možnost publikace vašich recenzí na Twitter a Facebook. (Dnes můžete sdílet místa a akce).</p> <h3 id=\"toc-mista-blizka-i-vzdalena\">Místa blízká i vzdálená</h3> <p>Teď, když už u nás máte účet, tak můžete napsat nějakou recenzi na vaše oblíbené či neoblíbené místo. Využijte našeho hledání! Pokud už vaše místo někdo zadal, mělo by být ve výsledcích hledání. Pak stačí kliknout na tlačítko <code>Napiš recenzi</code> a začít psát. Nezapomeňte zadat vaše hodnocení! :) Pokud chcete, aby vaše recenze byly více sexy, zkuste psát s <a href=\"http://texy.info/\">Texy!</a> Pokud místo nalezeno nebylo, tak ho prostě přidejte. :)</p> <h3 id=\"toc-akce\">Akce</h3> <p>Jedna z věcí, která mi na internetu chyběla, bylo řešení následujícího scénáře: Chceme se sejít s kámošema v nějaký hospodě. První věc, je vybrat správnou hospodu. Většinou je to nějaká, kterou známe, někteří však třeba ještě ne. Tak místo máme, pokusíme se najít jeho stránky, abychom mohli udělat rezervaci a ti, co to tam ještě neznají, aby se podívali. Pak je tu další krok, poslat místo neznalým na mapě, aby tam trefili a ještě raději všechny obeslat e-mailem s ical v příloze, aby nezapomněli.</p> <p>Takový mail obsahuje spoustu odkazů. :) Kdo je bude proklikávat? No však víme, takže budete řešit ještě deset telefonů, kvuli datu a pak navigaci na místo. Teď když mám <a href=\"http://www.trop.cz/\">Trop</a>, tak většinu věcí najdu na jednom místě. Některé věci ještě sice nejsou dotažené do podoby, jakou bych si představoval, ale věřím, že brzy přibudou. A pak bude organizace větší sešlosti hračkou. :)</p> <h3 id=\"toc-zkousejte\">Zkoušejte</h3> <p>Tak zkoušejte, zkoušejte. Dejtě vědět, jak se líbí, nebo co případně vylepšit. Nejlepší cestou jak přijít s nápadem je <a href=\"http://trop.uservoice.com/\">naše user voice forum</a>, kde můžete zadávat vaše nápady a hlasovat pro jiné, které se vám líbí. Samozřejmě hlašte i chybky, ale snad už jich moc neni.</p> <p>Pokud chcete sledovat, co se na Tropu děje, můžete na <a href=\"http://friendfeed.com/troppraha\">FriendFeedu</a>, <a href=\"http://twitter.com/tropcz\">Twitteru</a> nebo na <a href=\"http://www.facebook.com/pages/Trop/103373591895\">Facebooku</a>. A nebo taky tady.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-11-13T14:35:13.400-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Seznamte se s Tropem",
  :published #inst "2009-11-13T14:29:16.590-00:00",
  :url "seznamte-se-s-tropem",
  :id 368,
  :description
  "Pomalu do světa pouštíme naši novou službu – Trop. O co vlastně jde? Je to sociální platforma pro snadnou výměnu zkušeností z různých míst. Začínáme s tím, co je nám nejbližší. Začínáme v Praze a to s hospodami, restauracemi a kluby. :)",
  :category "Webdesign",
  :tags ["trop"]},
 :222-monorail-instalace.aspx
 {:html
  "<p>Na jednu zásadní věc jsem v <a href=\"/weblog/220-jak-funguje-monorail.aspx\">prvním díle</a> zapomněl – tedy spíš jsem s ní počítal, ale nakonec jsem jí nedal prostor – a tou je instalace.</p> <p>Existují, přinejmenším, tři možné způsoby získání MonoRailu, potažmo celého projektu Castle. Buďto si stáhnete <a href=\"http://switch.dl.sourceforge.net/sourceforge/castleproject/CastleProject-1.0-RC3.msi\">instalátor</a> (aktuálně verze <del>RC2</del> <ins>RC3</ins>, která vyšla <del>někdy koncem minulého roku</del> <ins>koncem září</ins>), nebo využijete služeb <a href=\"http://builds.castleproject.org/cruise/index.castle\">build serveru</a> a stáhnete si <a href=\"http://builds.castleproject.org/cruise/DownloadBuild.castle?number=525\">poslední stabilní build</a> vývojové verze. Třetí možností je získat aktuální zdrojové kódy ze <a href=\"http://svn.castleproject.org:8080/svn/castle/trunk/\">Subversion</a> a celý projekt sestavit s NAntem.</p> <p>Instalátor je klasický balíček MSI, který za vás udělá špinavou práci:</p> <ul> <li>Nahraje všechny potřebné soubory na disk,</li> <li>Zaregistruje potřebné knihovny do <acronym title=\"Global Assembly Cache\">GAC</acronym>,</li> <li>Zaregistruje na lokálním IIS příponu <code>.rails</code> pro ISAPI filtr ASP.NET,</li> <li>Přidá dva nové projekty (MonoRail a ActiveRecord) a průvodce do Visual Studia (2003, 2005 SP1).</li> </ul> <p><del>Nevýhodou tohoto řešení, je neaktuálnost celého kompletu</del>, na druhou stranu je výhodou, že nám zamete cestičku a můžeme rovnou vyvíjet.</p> <p>Z build serveru si můžete stáhnout aktuální stabilní verzi knihoven v ZIP balíčku. Je to mužnost oba postupy zkombinovat, ale možná se vyplatí používat prozatím RC2 verzi a počkat si na <a href=\"/weblog/229-castle-rc3-a-microsoft-mvc.aspx\">verzi RC3</a>, která by již brzy měla spatřit světlo světa.</p> <h4 id=\"toc-update\">Update</h4> <p>14 dní po vydání toho článku spatřila světlo světa RC3 verze Castle, takže některé výše zmíněné věty ztratili na aktuálnosti. :)</p> <h3 id=\"toc-zalozeni-projektu\">Založení projektu</h3> <p>Předpokládám, že jsme si Castle nainstalovali pomoci MSI balíčku. Máme Visual Studio 2005 ve verzi Standard a vyšší s nainstalovaným WebApplication projektem nebo SP1. Dáme vytvořit nový projekt a zobrazí se nám obrazovka podobná té následující:</p> <div><img src=\"/data/obrazky/monorail_project_new.png\" alt=\"Nový projekt\" /></div> <p>Červeně označené jsou nově přidané projekty</p> <ol> <li>Knihovna s podporou persistence pomocí ActiveRecord</li> <li>Webová aplikace MonoRail</li> </ol> <p>Pro začátek si vystačíme pouze s MonoRail projektem, protože i ten má podporu pro ActiveRecord a tak můžeme model později přesunout do samostatné knihovny. Takže dáme vytvořit nový MonoRail projekt. Spustí se nám jednoduchý průvodce, který nám přednastaví projekt podle našich potřeb.</p> <p>V prvním kroku si vybereme, který View Engine chceme používat (samozřejmě jde změnit později v konfiguraci), jestli chceme zapnout integraci s Windsor kontejnerem a jestli zapnout podporu pro routing.</p> <p>Ve druhém kroku se nás průvodce zeptá, jestli chceme vytvořit také testovací projekt (NUnit s podporou pro testování MonoRail). Samozřejmě chceme :) Průvodce nám vytvoří základní strukturu projektu podobnou následujícímu obrázku.</p> <div><img src=\"/data/obrazky/monorail_project_structure.png\" alt=\"Struktura projektu\" /></div> <p>V takovéto kostře si můžete vyzkoušet ukázky z předešlých dílů, snad by měly fungovat…</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:23:50.890-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "MonoRail – Instalace",
  :published #inst "2007-09-03T13:27:07.427-00:00",
  :url "monorail-instalace",
  :id 222,
  :description
  "Na jednu zásadní věc jsem v prvním díle zapomněl – tedy spíš jsem s ní počítal, ale nakonec jsem jí nedal prostor – a tou je instalace.",
  :category "ASP.NET 2.0",
  :tags ["castle" "monorail" "mvc"]},
 :248-je-to-zvlastni.aspx
 {:html
  "<p>Měl jsem skoro napsanej článek o tom jak nesouhlasím s vyhlášením chráněného ložiska Osečná – Kotel. Bylo v tom spousta moudra, vtipu a podještědského nářečí. Jenže. Jenže jsem ho psal v okně prohlížeče a zmáčkl klávesu <code>backspace</code> dřív než jsem doklikl do textarey…</p> <p>Takže naučný článek je v hajzlu a jenom mě to utvrdilo v tom, že novej Gryphoon musí mít automatické ukládání během psaní.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-01-05T09:21:24.920-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Je to zvláštní",
  :published #inst "2008-01-05T09:21:24.857-00:00",
  :url "je-to-zvlastni",
  :id 248,
  :description
  "Měl jsem skoro napsanej článek o tom jak nesouhlasím s vyhlášením chráněného ložiska Osečná - Kotel. Bylo v tom spousta moudra, vtipu a podještědského nářečí. Jenže. ",
  :category "Jen tak",
  :tags []},
 :41-desktopsidebar.aspx
 {:html
  "<p>Od té doby, co jsem připojen na internet více méně permanentně, jsem začal používat několik užitečných aplikací s&#160;on-line životem spojených. Jenže těch aplikací začínalo být mnoho a ve změti okének jsem se začal pomalu ztrácet. Po tom, co jsem viděl screenshoty z&#160;budoucích Windows Longhorn, mi padl do oka sidebar a hledal jsem něco podobného, co by fungovalo v&#160;mých XP.</p> <p>Po dlouhém hledání a zkoušení různých imitací, jsem narazil na <a href=\"http://www.desktopsidebar.com/\">Desktop Sidebar</a>. Je to freeware se silnou uživatelskou podporou. V&#160;základní instalaci získáte několik panelů, skinů, editor skinů a SDK. Další skiny a panely se dají stáhnou na <a href=\"http://www.desktopsidebar.com/fileforum.php\">Extension Exchange Page</a>.</p> <h3>Panely, které mě zaujaly</h3> <p>V&#160;první řadě, každého zaujmou analogové hodiny. Panel <strong>hodiny</strong> má dva módy – analog a digital. V&#160;digital modu můžete zobrazovat buďto pouze hodiny, nebo si nechat zobrazit datum. Podporuje rovněž standardní zástupné znaky, pro vlastní formát zobrazovaného času a data.</p> <p>Dále tam mám panel <strong>počasí</strong>, který zobrazuje aktuální a budoucí počasí, dokonce podporuje i&#160;česká města. Klasika je panel <strong>snadného spuštění</strong>, který je ekvivalentní s&#160;tím co je ve Windowsech. Pak používám ve stacku tyto panely, mezi kterými si přepínám pro lepší přehlednost.</p> <ol> <li><strong>Novinky</strong> – Geniální RSS čtečka, novinky máte hned po ruce, bez překlikávání.</li> <li><strong>Kalendář</strong> – Napojení na Outlook Kalendář</li> <li><strong>Úkoly</strong> – Napojení na Outlook Úkoly</li> <li><strong>Poznámky</strong> – Napojení na Outlook Poznámky</li> <li><strong>Miranda</strong> – Mám po ruce všechny své kontakty, které jsou on-line (existuje i&#160;panel ICQ a MS Messenger)</li> </ol> <p>Já ještě používám panel <strong>zatížení systému,</strong> kde je pěkně vidět, jak můj stroj trápí.</p> <p>Pro Desktop Sidebar existuje spousta dalších panelů, já jsem tu popsal pouze ty, které se mi časem osvědčily. Namátkou z&#160;těch které jsem kdy zkoušel: MediaPlayer, WinAMP, Azureus, IP Address, Color Picker, Shutdown.</p> <p>Aplikace je lokalizovaná i&#160;do češtiny a funguje na Windows 98&#160;a novějších. Pokud máte dostatek paměti (RAM) a trochu času na vyladění podle vlastních potřeb, odměna ve smyslu urychlení vaší práce vás nemine. Je to opravdu užitečná aplikace.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:48:51.830-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Desktopsidebar",
  :published #inst "2005-01-27T00:00:00.000-00:00",
  :url "desktopsidebar",
  :id 41,
  :description "",
  :category "Tuning",
  :tags []},
 :353-nedelni-wtf-zaklady-programovani-v-jazyce-boo.aspx
 {:html
  "<p>Při pravidelném proklikávání se službou <a href=\"http://www.devlogy.cz/\">Devlogy.cz</a> jsem zaznamenal výskyt dalšího dílu seriálu <em>Základy programování v jazyce Boo</em> na serveru programujte.com. Vzpomněl jsem si na <a href=\"http://programujte.com/index.php?akce=clanek&amp;cl=2008122304-zaklady-programovani-v-jazyce-boo-1-dil\">první díl seriálu</a>, který jsem četl před časem, a opět se mi naježila srst. Šel jsem se tedy podívat, jak s tím autor vládne dál.</p> <p>No děs a bída. Jestli se takhle někde programuje a ještě k tomu v <a href=\"http://boo.codehouse.org/\">Boo</a>, tak to je mi moc líto. Boo vzniklo jako agilní jazyk inspirovaný jednoduchostí <a href=\"http://www.python.org/\">Pythonu</a> a silou <a href=\"http://www.microsoft.com/net\">dotnetu</a>. Sice je silně typový, ale nenutí nás typy explicitně vyjadřovat. V podstatě nás nenutí k žádným zbytečnostem. Jeho filosofii lze ukázat na následujících ukázkách výpisu <strong>Hello World</strong> na konzolu:</p> <pre class=\"csharp\"><code>class Program { public static void Main() { System.Console.Write(\"Hello Wold\"); } }</code></pre> <p>Začal jsem nejjednodušším programem v C#, který vypíše na konzolu <code>Hello World</code>. Teď to samé v Boo:</p> <pre class=\"boo\"><code>print 'Hello World'</code></pre> <p>Ano, to je vše.</p> <p>Když se vrátím k článkům na programujte.com, je vidět, že autor netuší, která bije, když píše:</p> <blockquote> <p>„Každý kód v Boo musí začínat jmenými prostory.“</p> </blockquote> <p>A skutečně ukázku s Hello World okořenil krásně zbytečným importem jmenného prostoru <code>System</code>. Není nad to mást začátečníky spoustou zbytečností, protože pak mají pocit, že se toho naučili hodně. :) Bohužel praxe ukazuje, že méně je mnohdy více a tak se posuneme o kousek dál. Tedy spíš zpátky na začátek, kde autor popisuje instalaci <acronym title=\"Integrated Development Enviroment\">IDE</acronym>. Už tohle je pěkná blbost, protože k vyzkoušení Boo žádné IDE nepotřebujete. Boo je totiž vybaveno interaktivní konzolou <code>booish</code>, která je podobná těm, které můžete znát z dynamických jazyků Python, Ruby nebo třeba z mona – pro C#. Prostě konzola, kde píšete kód a rovnou se vám pod rukama vykonává. Pro začátečnické pokusy ideální.</p> <p>Další skvělé expresivní zážitky najdeme v <a href=\"http://programujte.com/index.php?akce=clanek&amp;cl=2008122500-zaklady-programovani-v-jazyce-boo-2-dil\">druhém</a> a <a href=\"http://programujte.com/index.php?akce=clanek&amp;cl=2008123002-zaklady-programovani-v-jazyce-boo-3-dil\">třetím</a> díle v odstavcích věnovaných proměnným. Autor se zapomněl zmínit, že máme k dispozici celý typový systém dotnetu.</p> <blockquote> <p>„Typů proměnných je více a my si probereme jen ty základní.“</p> </blockquote> <p>A už začíná deklarovat jednu proměnnou za druhou.</p> <pre class=\"boo\"><code>celeCislo as int //definice, aktuální hodnota 0 celeCislo = 200 //inicializace proměnné celeCislo as int = 5</code></pre> <p>Fakt krásné. Všimněte si prvního komentáře. To je stavební kámen další ukázky:</p> <pre class=\"boo\"><code>//příklad cyklu while import System i as int while(i &lt; 5): print i i++</code></pre> <p>Za takový kód bych si dobrovolně zakázal oběd, abych dostal trochu krve do mozku. Ukázka je bezesporu funkční, ale obsahuje zbytečný import, spoléhá se na implicitní inicializaci hodnotové proměnné, navíc zanáší šum v podobě zbytečných závorek. Takže jak se tedy Boo píše? Ukázka s proměnnými:</p> <pre class=\"boo\"><code>integer = 5 realNumber = 5.0 text = 'some text'</code></pre> <p>Jednoduše přiřadíme hodnotu a kompilátor už ví jakého je typu – a není to <code>object</code> ani <code>variant</code>. ;)</p> <pre class=\"boo\"><code>i = 0 while i &lt; 5: print i++</code></pre> <p>A tady je celá myšlenka ukázky cyklu <code>while</code>. Proč je lepší?</p> <ol> <li>Používat komentáře je krásná věc, ale většinou je lepší psát tak, aby se komentáře používat vůbec nemusely. Většinou stačí slušně pojmenovat proměnné (nejlépe <strong>celým jménem</strong>). Tam, kde chcete napsat komentář, raději zvažte, zda není lepší vytvořit novou metodu s dostatečně <strong>popisným názvem</strong>.</li> <li>Zbytečným importem nic nezkazíme, ale zvýšíme šum. Někdo by dokonce mohl přemýšlet nad tím, proč tam ten <code>import</code> vlastně je.</li> <li>Používat neinicializované proměnné je už na výprask. Než uvádět explicitně typ, to tam radši napište tu implicitní hodnotu, ten kód je pak mnohem srozumitelnější.</li> <li>No a závorka. Pokud na ní jste z Cčkových jazyků zvyklí, prosím, ale je to další zbytečné zašumění kódu.</li> <li>Hodit postfixovou inkrementaci na jeden řádek s printem už je jen taková třešnička na dortu.</li> </ol> <p>Výborná je taky ukázka s <code>for</code> cyklem nebo proměnné typu <code>char</code>…</p> <p>Psát texty pro začátečníky je těžké, proto se o ně ani nepokouším, ale neměl by je psát začátečník. Protože chyby, které se v „mládí“ naučíte a zažijete si je, budete pak opakovat a opakovat, než se z nich poučíte. A to stojí čas a ten jsou peníze…</p> <p>Poučení z dnešního <acronym title=\"What the fuck\">WTF</acronym>: „Čím méně kódu napíšete dnes, o to se vám bude lépe spravovat zítra.“ :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-03-08T20:58:27.727-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nedělní WTF: Základy programování v jazyce Boo",
  :published #inst "2009-03-08T17:16:44.163-00:00",
  :url "nedelni-wtf-zaklady-programovani-v-jazyce-boo",
  :id 353,
  :description
  "Ano, i já občas narazím na slabého nebožáka a rád si do něj kopnu. Je to takové uvolňující. :) Pojďte si taky kopnout. A můžete i do mě!",
  :category "Jen tak",
  :tags ["boo" "wtf"]},
 :88-ready-to-launch-na-felu.aspx
 {:html
  "<p>Dnes se konala přednáška u&#160;příležitosti představení nové generace vývojových nástrojů z&#160;dílny firmy <a href=\"http://www.microsoft.com/\">Microsoft</a>. Přednášku zahajoval Dr. Dalibor Kačmář, bohužel ho zklamala technika. Nejprve vůz, ve kterém měl připravené materiál pro studenty – letáčky, DVD s&#160;Express edicemi jednotlivých nástrojů, propisky a dotazníky. Tyto věci přivezli jeho kolegové v&#160;druhé části přednášky, takže i&#160;sběrači letáčků si přišli na své. Ze začátku měl pan Kačmář problémy s&#160;projektorem, když se mu je podařilo vyřešit a začal přednášet, z&#160;ničeho nic se restartoval jeho počítač. To se mu během přednášky stalo několikrát. Z&#160;event logů pak zjistil, že mu pravděpodobně <a href=\"/clanek.aspx/72/spadly-disk\">odchází hard disk do křemíkového nebe</a>.</p> <p>Přednášku započal nejprve jako manažer a vykládal o&#160;výhodách MSDN Academic Aliance, o&#160;novinkách a verzích nového Visual Studia apod. V&#160;druhé části jeho bloku, došlo na ukázku vývoje Master Page a několika Content Page. Ukázku master-detail databázové aplikace, Membership, Role a Profiles a dalších dílčích zajímavostí <a href=\"http://asp.net\">nové verze ASP.NET</a>. Kvůli výpadkům techniky, však nebylo odprezentováno, vše, co měl pan Kačmář připraveno. Náhradou nám bylo prodlouženější okénko na dotazy.</p> <p>Po přestávce s&#160;občerstvením a nabrání potřebných letáčků, přebral přednášku pan <a href=\"http://blog.vyvojar.cz/michalowo\">Michal Neuwirth</a>. Ten prezentoval tématiku Windows Forms, rapidního vývoje uživatelského rozhraní a napojování na datové zdroje. V&#160;druhé půli svého bloku předvedl technologii ClickOnce v&#160;praxi – mimochodem je tato technologie velice pěkná, škoda jen, že ji nelze využívat u&#160;webových aplikací.</p> <p>Třetím přednášejícím byl pan <a href=\"http://blog.vyvojar.cz/mjurek/\">Michael Juřek</a>, který měl velice zajímavou praktickou prezentaci (bez slidů) Team Systému a vlastností pro ladění aplikací. Zde jsem se konečně dozvěděl, jak funguje a k&#160;čemu je dobrý Unit testing :) To nám zatím ve škole nikdo neprozradil a obávám se, že se toho asi ani nedočkám.</p> <p>Osobně se mi přednáška hodně líbila a dozvěděl jsem se i&#160;něco nového. Bohužel výpadky techniky nešlo ovlivnit, ale to se dá omluvit. Omluvit se ale nedá chování publika. Přibližně polovina posluchačů byli žáci Střední průmyslové školy Ječná. Jejich chování bylo místy nemístné až nevhodné. Očividně tam nebyli ze zájmu, ale protože museli. No nic, byli to ještě děti, které nevědí jak se na podobných akcích chovat.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-22T01:36:45.827-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Ready to launch na FELu",
  :published #inst "2005-12-04T10:32:19.673-00:00",
  :url "ready-to-launch-na-felu",
  :id 88,
  :description "Můj pohled na přednášku.",
  :category "Škola",
  :tags []},
 :204-taky-jsem-naked.aspx
 {:html
  "<p>Tak, jako hadi jednou za čas svlékají svou kůži (jak často to dělaj hadi fakt netuším, páč botanika není mojé silná disciplína), tak i&#160;někteří blogeři, svlečou svůj CSS skin (skin je anglicky kůže) a odhalí svůj defaultně formátovaný webík. Hezké&#8230;</p> <p>No a protože jsem zapomětlivý, venku je hezky, peče se mi procesor atp. Nedivte se zítra, že bude rarouš stále nahý. Nedivte se ani o&#160;víkendu, ni potom :) nechám to tak, dokud nebude Gryphoon 2, jinak bych ho nikdy nedopsal&#8230;</p> <p>A&#160;když jsem už u&#160;toho psaní, musím si trochu zanadávat. Včera jsem si pořídil, další gigo do noťase, aby měly Visty co žrát, a byl veselej z&#160;toho jak to všechno hezky šlape. A&#160;rychle. Pak se ale něco večer stalo a od tý doby mi furt procesor šolichá na 80&#160;– 100%, což se mi moc normální nezdá. Občas, třeba jako teď, se to umoudří a drží tak na 30%, ale i&#160;to je strašně moc, to si nebere ani Live, když jedu dva tracky najednou a se spoustou efektů&#8230; Nepomohlo ani restorovani do včerejší ranní konfigurace :( Asi budu muset znova instalovat. GRRR</p> <p>Vlastně jsem se na to chystal s&#160;koupí Vist – jedu zatím triál, ale asi si je budu muset koupit dřív než jsem čekal&#8230;</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2007-04-05T14:00:52.443-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Taky jsem naked",
  :published #inst "2007-04-05T13:25:41.300-00:00",
  :url "taky-jsem-naked",
  :id 204,
  :description "Tak, jako hadi jednou za čas svlékají svou kůži...",
  :category "Jen tak",
  :tags []},
 :382-twitter-discontinued.aspx
 {:html
  "<p>Jednoho osvíceného popůlnočního období posilněn podporou kamaráda Johnyho jsem se rozhodl, že sociální sítě už ee. A šel na Twitter a dal zrušit účet, šel na Facebook a dal zrušit účet. A šel na FriendFeed a podobnou volbu nenašel. Ostatně ji nemáme ani na <a href=\"http://www.trop.cz/\">Tropu</a>. :) (Pokud někdo účet na Tropu zrušit chce, nechť se ozve nejbližšímu adminovi, ten to jistě zvládne.)</p> <p>Twitter je dost nekompromisní, oznámí vám, že tato akce je nevratná a všechny vaše tweety budu smazány. Jak řekl, tak se stalo. :)</p> <p>Facebook na to jde jinak. Všem těmhle miloučkým lidičkám se po tobě bude stýskat! Ale pokud si to rozmyslíš, všichni na tebe budou čekat, profil budeš mít stejnej, jako si ho tu zanechal. Stačí se jen znovu přihlásit a vše je jak bylo. Tedy skoro vše. Ty kurvy resetujou nastavení notifikačních e-mailů. Takže potom, co se mi přilogoval Trillian na Facebook Chat, který jsem zapomněl odebrat, byl můj profil zpět a FB mě začal spamovat notifikačním hnusem…</p> <p>Co z toho plyne? Pokud toužíte po mém Twitter spamu, stále je produkován na <a href=\"http://friendfeed.com/rarous\">FriendFeedu</a>. Občas tam vaše tweety komentuju nebo to se mi líbíuju. A člověk má najednou o trochu víc času na lepčí věci. Fakt!</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-03-06T08:27:44.520-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Twitter discontinued",
  :published #inst "2010-03-06T08:25:53.357-00:00",
  :url "twitter-discontinued",
  :id 382,
  :description
  "Možná jste to už zaznamenali, je to týden, co jsem zrušil Twitter.",
  :category "Jen tak",
  :tags ["facebook" "twitter" "friendfeed"]},
 :28-fireworks-help.aspx
 {:html
  "<p>Jsem rád, že můžu blognout nový web, na který jsem narazil. Blognu ho ale jedině pro to že opravdu stojí za to. Jedná se o <a href=\"http://fireworks.jakpsatweb.cz/\">fireworks.help</a>, velice užitečné stránky, pro lidi, kteří – stejně jako já – dělají grafiku ve Fireworksech. Najdete zde popis tří základních formátů pro web (GIF, JPEG, PNG), popis práce s&#160;nimi, doporučení jak dělat grafiku pro web a samozřejmě také popis práce s&#160;Firewoksem. Jen si to hezky přečtěte, určitě to stojí za to…</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "fireworks.help",
  :published #inst "2004-08-22T11:00:00.000-00:00",
  :url "fireworks-help",
  :id 28,
  :description "",
  :category "Webdesign",
  :tags []},
 :8-last-week.aspx
 {:html
  "<p>Za poslední týden jsem předělal úvodní stránku <a href=\"http://druzcov.wz.cz/\">druzcovských stránek</a>, vypozoroval jsem zmenšení na 25% z původní velikosti tabulkového layoutu. Tak teď už snad mám všechno ve stylech.</p> <p>Co mě ale pořád straší je <a href=\"http://www.osecna.info/\">Osečná</a>. Tam mě ještě pořád čeká dost práce. Ale snad to bude stát za to. Můžu tam dobře zužitkovat zkušenosti, které jsem získal při vývoji tohoto webu, který už mám z 95% hotový.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:31:37.130-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Last week",
  :published #inst "2004-02-28T20:00:00.000-00:00",
  :url "last-week",
  :id 8,
  :description "O mojí poslední práci.",
  :category "Moje práce",
  :tags []},
 :345-persistence-modelu-pomoci-activerecord.aspx
 {:html
  "<p>V architektuře naší MVC aplikace jsme se dostali již poměrně daleko. Vybrali jsme si <a rel=\"bookmark\" title=\"Jaký pohled si vybrat?\" href=\"/weblog/343-jaky-pohled-si-vybrat.aspx\">šablonovací systém</a>, máme vyřešenou <a rel=\"bookmark\" title=\"Inversion of Control v ASP.NET MVC\" href=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">integraci s IoC kontejnerem</a>, <a rel=\"bookmark\" title=\"DSL pro konfiguraci URL Routingu v ASP.NET MVC\" href=\"/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx\">vymazlené routování</a>, připravené <a rel=\"bookmark\" title=\"Model binders v ASP.NET MVC\" href=\"/weblog/336-model-binders-v-asp-net-mvc.aspx\">model bindery</a> a teď je na čase nějakým způsobem model persistovat. Existuje mnoho způsobů, jak toho dosáhnout.</p> <ol> <li>Persistenci si můžete řešit sami na úrovni ADO.NET. Jenže proč řešit něco, co už někdo stokrát vyřešil?</li> <li>Použít nějaký <acronym title=\"Object Relational Mapper\">ORM</acronym> nástroj.</li> </ol> <p>ORM nástrojů na výběr máme dnes tolik, že je stěží na prstech spočítáme, jaký si tedy vybrat? Pro mnohé bude první volbou LINQ to SQL. Pro jednoduché mapování (1:1) a tam, kde je možné být závislý pouze na MS SQL, je toto řešení dostačující. Osobně preferuju malinko složitější cestu, ale ve výsledku myslím, že mnohem mocnější. :)</p> <h3 id=\"toc-castle-activerecord-a-repository-pattern\">Castle ActiveRecord a Repository pattern</h3> <p>Já ve svých posledních proktech používám <a href=\"http://www.castleproject.org/activerecord/index.html\">Castle ActiveRecord</a>, což je implemenatce návrhového vzoru ActiveRecord nad ORM frameworkem <a href=\"http://www.nhibernate.org/\">NHibernate</a>. V mnoha ohledech práci s NHibernatem značně zjednodušuje, ať už je to mapování, automatickou správu session a podobně. Způsoby užití jsme už popsal ve spotu <a rel=\"bookmark\" title=\"ActiveRecord vs. Repository pattern\" href=\"/weblog/271-active-record-vs-repository-pattern.aspx\">ActiveRecord vs. Repository pattern</a>. Další výhodou je, že vše, co funguje v NHibernate (LINQ, Spatial, vlastní mapovací typy), můžete použí i s Castle ActiveRecord.</p> <p>Datové třídy však nedědím z bázové třídy <code>ActiveRecordBase</code>, ale používám Repository, která se stará o <acronym title=\"Create, Read, Update, Delete\">CRUD</acronym> operace s entitou. Pokud chcete mít mapování a závislost na ActiveRecord snadno odstranitelnou, můžete mapovací atributy vyčlenit třeba do samostatného <strong>partial</strong> souboru. Ale nejspíš nikdy v životním cyklu vaší aplikace nebudete ORM framework měnit, takže se trápit metadaty o databázovém schema je celkem zbytečné…</p> <p>Základem pro repository je generické rozhraní <code>IRepository&lt;&gt;</code>, pro snadnou automatickou registraci repositoří v kontejneru ještě nadefinujeme ještě i negenerické rozhraní:</p> <pre class=\"csharp\"><code>using Castle.ActiveRecord; public interface IRepository {} public interface IRepository&lt;Tentity&gt; : IRepository where TEntity : class { TEntity FindById(int id); void Save(TEntity entity); void Delete(TEntity entity); } public abstract class ActiveRecordRepositoryBase&lt;TEntity&gt; : IRepository&lt;TEntity&gt; where TEntity : class { public virtual TEntity FindById(int id) { return ActiveRecordMediator&lt;TEntity&gt;.FindByPrimaryKey(id); } public virtual void Save(TEntity entity) { ActiveRecordMediator&lt;TEntity&gt;.SaveAndFlush(entity); } public virtual void Delete(TEntity entity) { ActiveRecordMediator&lt;TEntity&gt;.DeleteAndFlush(entity); } }</code></pre> <p>Pojďme si podporu pro ActiveRecord integrovat do naší MVC aplikace.</p> <h3 id=\"toc-integrace-pres-binsor\">Integrace přes Binsor</h3> <p>Výhodou projektů z Castle, je, že se mezi sebou dokážou integrovat a využívat navzájem výhod své synergie. Nejprve si do projektu přidáme referenci na knihovnu <code>Castle.ActiveRecord</code> a ještě <code>Castle.Facilities.ActiveRecordIntegration</code>. Následně zaregistrujeme v souboru <code>Windsor.boo</code> facility pro integraci ActiveRecordu do IoC kontejneru:</p> <pre class=\"boo\"><code>import System.Reflection // podpora ActiveRecord v kontejneru facility ActiveRecordFacility: configuration: @isWeb = true, isDebug = false assemblies = [ Assembly.Load(\"MyApplication.Entities\") ] config(keyvalues, item: add): show_sql = true command_timeout = 500 dialect = 'NHibernate.Dialect.MsSql2005Dialect' connection.provider = 'NHibernate.Connection.DriverConnectionProvider' connection.driver_class = 'NHibernate.Driver.SqlClientDriver' connection.connection_string_name = 'CONN_DEMO'</code></pre> <p>Teď ještě potřebujeme ve <code>web.config</code>u přidat <code>ConnectionString</code> pod klíčem <code>CONN_DEMO</code> a volitelně přidat životnost session na jeden request. To uděláte tak, že do sekce <code>system.web\\httpModules</code> přidáte následující modul:</p> <pre class=\"xml\"><code>&lt;add name=\"PerRequestSessionScope\" type=\"Castle.ActiveRecord.Framework.SessionScopeWebModule, Castle.ActiveRecord\"/&gt;</code></pre> <p>To má za výhodu to, že všechny vaše dotazy za jeden request se chovají jako jedna transakce. Takže integrace frameworku, je hotová. Teď ještě přidáme automatickou registraci samotných repositoří.</p> <pre class=\"boo\"><code>for repository in AllTypesBased of IRepository(\"MyApplication.Entities\"): component repository.Name.ToLower(), repository.GetInterfaces()[0], repository: lifestyle PerWebRequest</code></pre> <p>Tímto se zaregistrují všechny repository, které dědí z <code>ActiveRecordRepositoryBase</code> a jsou pak ve vašich komponentách dostupné jako <code>IRepository&lt;User&gt;</code> (příklad pro entitu <code>User</code>). Pokud budete mít v repository více metod, je dobré vytvořit pro ně kontrakt, který obsahuje kontrakt generické repository. Například takto:</p> <pre class=\"boo\"><code>public interface IUsersRepository : IRepository&lt;User&gt; { User FindUserByEmail(string email); }</code></pre> <p>Registrace takovýchto komponent už je o něco složitější, ale dá se to také zvládnout. Nejprve si zavedeme konvenci, že repository, které takovéto kontrakty implementují, se budou jmenovat až na <strong>I</strong> na začátku stejně. :) Takže pro kontrakt <code>IUsersRepository</code> budeme mít konkrétní implementaci <code>UsersRepository</code> atd. Pro jejich registraci využijeme metodu <code>System.Type.FindInterfaces</code>, která bere jako první argument delegát na vyhledávací funkci a druhý argument jsou hledací kritéria. Takže si vytvoříme funkci, která splňuje kontrakt delegáta, a následně ji hned využijeme pro registraci:</p> <pre class=\"boo\"><code>def contains_name(t as Type, o as Object): return t.Name.Contains(o.ToString()) for repository in AllTypesBased of IRepository(\"MyApplication.Entities\"): repository_interface = repository.FindInterfaces(contains_name, repository.Name) component repository.Name.ToLower(), repository_interface, repository: lifestyle PerWebRequest</code></pre> <p>Cool ne? Pár řádků konfigurace a nejspíš máme vystaráno, tedy když dodržíme stanovenou konvenci, tak už se o registraci komponent datové vrstvy nemusíme starat. Stejně tak už máme zaregistrované model bindery a controllery. Trošku nám to konfigurace povyrostla, ale díky možnostem, které nám přináší Binsor, je to jen zlomek toho, co by bylo potřeba napsat v XML.</p> <p>Projektík se nám pomalu rozrůstá, sice stále nic nedělá, ale je to dobrý základ pro pořádný web. Pokusím se ho hodit někam do SVN, aby bylo lehčí se v projektu orientovat a byly vidět jednotlivé změny.</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a rel=\"bookmark\" title=\"ActiveRecord vs. Repository pattern\" href=\"/weblog/271-active-record-vs-repository-pattern.aspx\">ActiveRecord vs. Repository pattern</a></li> <li><a rel=\"bookmark\" title=\"Inversion of Control v ASP.NET MVC\" href=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">Inversion of Control v ASP.NET MVC</a></li> <li><a rel=\"bookmark\" title=\"Model binders v ASP.NET MVC\" href=\"/weblog/336-model-binders-v-asp-net-mvc.aspx\">Model binders v ASP.NET MVC</a></li> <li><a rel=\"bookmark\" title=\"DSL pro konfiguraci URL Routingu v ASP.NET MVC\" href=\"/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx\">DSL pro konfiguraci URL Routingu v ASP.NET MVC</a></li> <li><a rel=\"bookmark\" title=\"Jaký pohled si vybrat?\" href=\"/weblog/343-jaky-pohled-si-vybrat.aspx\">Jaký pohled si vybrat?</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-24T08:38:47.573-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Persistence modelu pomocí ActiveRecord",
  :published #inst "2009-01-21T15:16:56.257-00:00",
  :url "persistence-modelu-pomoci-activerecord",
  :id 345,
  :description
  "Dneska se podíváme na zoubek modelu. Jak integrovat Castle ActiveRecord do naší připravené infrastruktury a automaticky registrovat repository? Samozřejmě nám pomůže Binsor...",
  :category "ASP.NET 2.0",
  :tags
  ["activerecord" "aspnet" "mvc" "binsor" "nhibernate" "repository"]},
 :229-castle-rc3-a-microsoft-mvc.aspx
 {:html
  "<p>Vůbec jsem si toho nevšiml, ale RC3 verze Castle je již několik týdnů venku. Stáhnout si jí můžete <a href=\"http://switch.dl.sourceforge.net/sourceforge/castleproject/CastleProject-1.0-RC3.msi\">ze SourceForge</a>.</p> <p>Další zajímavou zprávou je. že Microsoft pracuje na vlastním ASP.NET MVC frameworku, který bude umožňovat plnou testovatelnost, IoC kontejnery, ASPX jako view bez ViewState a Page lifecyklu a spoustu zajímavých vychytávek využívajících generika a nové možnosti C#3. První CTP by se měla objevit do konce roku a releas někdy na jaře roku příštího. Release by měl být podobný jako AJAX Extensions, časem se pak zařadí přímo do .net frameworku.</p> <p>Zajímavý je pohled vývojářů MonoRailu. Vítají zdravou konkurenci a podle všeho se budou snažit využít všech výhod ASP.NET MVC a MonoRail budovat dále nad ním.</p> <h3 id=\"toc-souvisejici\">Související</h3> <ul> <li>Scott Guthrie: <a href=\"http://weblogs.asp.net/scottgu/archive/2007/10/14/asp-net-mvc-framework.aspx\">ASP.NET MVC Framework</a></li> <li><a href=\"/weblog/222-monorail-instalace.aspx\">Monarail – Instalace</a></li> <li>Scott Hanselman: <a href=\"http://feeds.feedburner.com/~r/ScottHanselman/~3/167273939/ScottGuMVCPresentationAndScottHaScreencastFromALTNETConference.aspx\">ScottGu MVC Presentation and ScottHa Screencast from ALT.NET Conference</a></li> <li>Jeffrey Palermo: <a href=\"http://codebetter.com/blogs/jeffrey.palermo/archive/2007/10/05/altnetconf-scott-guthrie-announces-asp-net-mvc-framework-at-alt-net-conf.aspx\">Scott Guthrie announces ASP.NET MVC framework at Alt.Net Conf</a></li> <li>Phil Haack: <a href=\"http://haacked.com/archive/2007/09/17/why-is-microsoft-removing-my-mvp-status.aspx\">Why Is Microsoft Removing My MVP Status?</a></li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:19:41.370-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Castle RC3 a Microsoft MVC",
  :published #inst "2007-10-09T07:48:31.907-00:00",
  :url "castle-rc3-a-microsoft-mvc",
  :id 229,
  :description
  "Vůbec jsem si toho nevšiml, ale RC3 verze Castle je již několik týdnů venku. Microsoft chystá vlastní MVC framework.",
  :category "Webdesign",
  :tags
  ["castle"
   "activerecord"
   "monorail"
   "mvc"
   "ajax"
   "ioc"
   "windsor"
   "aspnet"]},
 :261-webcamp-za-nami.aspx
 {:html
  "<p>Poslední dva dny jsem strávil na konferenci pro webové tvůrce pořádané <a href=\"http://interval.cz/\">Vilémem Málkem</a> a <a href=\"http://php.vrana.cz/\">Jakubem Vránou</a>. Jaké to tam bylo a o co jste pravděpodobně přišli?</p> <p>O <a href=\"http://www.webcamp.cz/\">WebCampu</a> jsem věděl už před pár týdny. Nezaujal mě ani tak program, jako někteří přednášející. Už nějakou dobu jsme měl potřebu se setkat s <a href=\"http://www.davidgrudl.com/\">Davidem Grudlem</a> (všimněte si, není Grundl a ani DGX) a <a href=\"http://www.borber.com/\">Borkem Bernardem</a>. Vzhledem k tomu, že oba na této konferenci měli přednášet a navíc v Dejvicích, byla to jedinečná příležitost. :)</p> <p>Psal jsem Borkovi, ať se mi večer ozve, že bych s nimi zašel „na jedno.“ Pak mi v úterý přišel mejl od <a href=\"http://www.mraveniste.org/\">Honzy Biena</a>, že je pozvaný u může si vzít hosta, ať tedy jdu s ním. No měl jsem zrovna dovolenou a pohyboval jsem se v Praze – tak jsem souhlasil.</p> <h3 id=\"toc-den-prvni-webovy-vyvoj\">Den první – webový vývoj</h3> <p>První den byl věnován webovému vývoj a to především v PHP. Na konec jsem na konferenci našel několik i pro mne zajímavých témat. Na začátku bylo téma o podpoře PHP v produktech Microsoftu (o tom jak rozběhat <a href=\"/weblog/231-jak-na-php-ve-viste.aspx\">PHP 5 v IIS na Vistě</a> jsem už psal). Přednáška o budoucnosti PHP byla spíše zábavnou (alespoň z mého C# pohledu). Jakub ať se nezlobí, ale jeho <a href=\"http://adminer.cz/\">generátor administračních rozhranní</a> se mi vůbec nelíbil. ;)</p> <p>Borek pak prezentoval celkem ze široka, jaké možnosti pro webové vývojáře dnes existují. Jako serverou alternativu prezentoval ASP.NET (v <a href=\"http://forums.asp.net/1145.aspx\">Dynamic Data</a> měl admina stejně rychle hotového jako Jakub, navíc vč. doménových objektů). U RIA se Borek zmínil o <a href=\"http://www.microsoft.com/silverlight/\">Silverlightu</a> 2 a <a href=\"http://www.adobe.com/flex/\">Flexu</a>. Dále o možnosti psát na serveru klientským způsobem a trendu sbližování technologií pro tvorbu tenkých klientů (browser, plugin, Java/.net, native). Pak jsme šli na pivo do Budvarky.</p> <p>Vrátili jsme se až na závěrečnou část přednášky <a href=\"http://www.tomasp.net/\">Tomáše Petříčka</a>, která byla o <a href=\"http://www.php-compiler.net/\">Phalangeru</a> v Silverlightu. Myslím, že ta dost přítomných vývojářů zaujala, alespoň podle pozdějších reakcí v hospodě. Na konec byl zlatý hřeb večera – přednáška <del>DGX</del><ins>Davida</ins> o <a href=\"http://texy.info/\" title=\"The best text → HTML converter and formatter\">Texy!</a> (z pohledu programátora).</p> <p>Nakonec jsme se přesunuli o patro níž, kde je i hospoda. Tam jsme nakonec s Davidem a Štěpánem stvrdli až do tří nebo tak nějak. :D</p> <h3 id=\"toc-den-druhy-budoucnost-a-pristupnost-webu\">Den druhý – budoucnost a přístupnost webu</h3> <p>Ráno jsme přišli dost zničení (po třech a půl hodinách spánku) a zachytili jsme začátek přednášky <a href=\"http://pristupnost.nawebu.cz/\">Davida Špinara</a> o <a href=\"http://www.pravidla-pristupnosti.cz/\">pravidlech přístupnosti</a> pro weby státní správy. Následovala další přednáška o snaze o <a href=\"http://seznam.sblog.cz/2008/03/28/33\">bezbariérový Seznam</a> a další o tom jakým způsobem používají web handicapovaní uživatelé a praktickou ukázkou hlasové čtečky.</p> <p>V odpoledním bloku vystoupil <a href=\"http://www.webylon.info/\">Chamurappi</a> a představil svůj <a href=\"http://validator.w3.cz/\">český validátor</a>. <a href=\"http://www.marigold.cz/\">Patrick Zandl</a> měl velice zajímavou přednášku o <a href=\"http://www.stream.cz/\">Stream.cz</a> a na závěr vystoupil <a href=\"http://html456.blogspot.com/\">Martin Hassman</a> s tématem HTML5.</p> <p>Všechno to byla zajímavá témata, ale díky únavě z předchozího dne, to mohlo vypadat, že mě to nezajímá, opakem byla pravda. Návštěvnost konference asi neodpovídala představám pořadatelů, ale možná to bylo i tím, že se o ní málo mluvilo – já jsem jí zaregistroval, díky službě <a href=\"http://www.weblogy.cz/\">W3B</a> – nebo dosti vysoké ceně. Snad bude mít příští akce větší komerční úspěch.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:43:09.970-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "WebCamp za námi",
  :published #inst "2008-03-29T11:56:31.210-00:00",
  :url "webcamp-za-nami",
  :id 261,
  :description
  "Poslední dva dny jsem strávil na konferenci pro webové tvůrce pořádané Vilémem Málkem a Jakubem Vránou. Jaké to tam bylo a o co jste pravděpodobně přišli? Dozvíte se dále.",
  :category "Webdesign",
  :tags
  ["webcamp"
   "dynamicdata"
   "php"
   "aspnet"
   "silverlight"
   "flex"
   "texy"
   "html5"]},
 :435-staticke-tridy.aspx
 {:html
  "<p>Často se setkávám s celkem nepěkným nešvarem, kterým je hrůzostrašné pojmenování <strong>statická třída.</strong> Tenhle problém se dotýká především C# vývojářů a trochu zasahuje i do Javy. Když se podíváte na na ASP.NET, tak tam to je jedna statická třída vedle druhý. Celý framework jsou nudle statických APIs a Singletonů. Co je na tom tak špatnýho?</p> <h3 id=\"toc-co-je-to-staticka-trida\">Co je to statická třída?</h3> <p>Tak v první řadě je to blbost. Statická třída je špatné pojmenování pro koncept obecně známý jako <strong>modul.</strong> A nemusíme chodit zrovna daleko. Naši nechtění <a href=\"http://msdn.microsoft.com/en-us/library/aaxss7da.aspx\">bratia z VB.NET tento koncept mají</a> pojmenovaný správně. ;) Modul by ideálně měl být souborem čistých funkcí. V ideálním (funkcionálním) světě bez vedlejších efektů ale nežijeme a tak dochází k ovlivňování vnějšího světa a v modulu máme i nějaké ty procedury. S tím se ještě dá žít.</p> <h3 id=\"toc-singleton\">Singleton</h3> <p>Problém nastává, když začneme do našich modulů cpát stav, tak jak jsme zvyklí u objektů. Tento koncept máme také již dávno zmapovaný a pojmenovaný. Ano, jde o debilní (nechtěl jsme psát naivní) implementaci Singletonu. Například Scala má pro singleton podporu přímo na úrovni jazyka. Jenže na rozdíl od statické třídy může implementovat rozhraní. Tudíž je to celkem dobrý koncept slučitelný s OO principy. Ne však statická třída.</p> <p>Statická třída se nechová polymorfně (aka dynamic dispatch). Statická třída nemůže implementovat rozhraní. Statická třída dost často brání konkurenci a je těžké u nich dosáhnout mezivláknové bezpečnosti. Takže statickou třídu jako náhradu singletonu nebrat! :)</p> <h3 id=\"toc-mixin\">Mixin</h3> <p>Další možné uplatnění statické třídy je definice extenzních metod. Pokud jsou extenze opravdu pouze rozšířením rozhraní pomocí čistých funkcí, vše je ok. Ale netahejte tam žádný stav, jinak se vracíme zpátky k předchozímu bodu, a hledání takových chyb je snad ještě vypečenější.</p> <h3 id=\"toc-fluent-api\">Fluent API</h3> <p>Statické třídy můžeme využívat jako syntaktické vstupní body pro plynulá rozhraní. Jde jen o syntaktický cukr v DSL. Pokud jsou pocukrovaná API dostupná i běžnými OO přístupy, pak je vše ok. Ale bacha ať nedopadnete jako ASP.NET, kde alternativy neexistují a pak jste pěkně v…</p> <h3 id=\"toc-modul\">Modul</h3> <p>Posledním užitím, které mě teď napadá (protože mám slabou představivost na zrůdnosti), je již na začátku zmiňovaný modul. Z pohledu funkcionálního přístupu je modul soubor funkcí, které operují nad stejnými datovými strukturami. V lepších jazycích se dají moduly otvírat a pak můžeme jejich funkce používat jako kostrukty jazyka. Ale to bychom po C# chtěli už moc. Vlatně proč? Vžyť to umí i Java. ;)</p> <h3 id=\"toc-zaver\">Závěr</h3> <p><code>static class</code> je jen implementační detail několika různých konstruktů a proto by se v našem vyjadřování tento pojem neměl často vyskytovat. Raději zmiňujte koncept, který máte konkrétně na mysli. Budou vám rozumět jak programátoři z jiných jazyků, tak bude i snadněji pochopitelné o co konkrétně vám jde. A nezapomeňte statická třída není typ a už vůbec ne objekt. ;)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-12-01T08:49:17.570-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Statické třídy",
  :published #inst "2012-12-01T08:39:42.370-00:00",
  :url "staticke-tridy",
  :id 435,
  :description "Dnes se půjdeme poprat se statickýma třídama. ",
  :category "Moje práce",
  :tags []},
 :389-open-graph-a-jeho-nasazeni.aspx
 {:html
  "<p>Pokud vás zajímají detaily o nasazení tlačítka <strong>Like</strong> na vašich i našich stránkách, doporučuji přečíst si článek <a href=\"http://zdrojak.root.cz/clanky/open-graph-a-jeho-nasazeni/\">Open Graph a jeho nasazení</a>, který mi dnes vyšel na Zdrojáku. Krom základního popisu protokolu, tam nejdete i ukázky z reálného provozu a dal jsem si tu práci a prošel jsem pár implementací na českém webu a doporučil některá vylepšení. Třeba tam jsou i vaše stránky.</p> <p>Závěrem chci poděkovat <a href=\"http://www.borber.com/\">Borkovi</a> za betatestování mého rozverného textu a zároveň za vyzkoušení, pro mne nové, cesty jak spolupracovat na dokumentu ve Wordu a v Live Mesh (a v Recycle Bin). :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-05-18T08:53:40.957-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Open Graph a jeho nasazení",
  :published #inst "2010-05-18T08:52:33.393-00:00",
  :url "open-graph-a-jeho-nasazeni",
  :id 389,
  :description
  "Dnes mi na Zdrojáku vyšel článek o novém protokolu sémantického webu. Tohle je malá upoutávka na něj ;)",
  :category "Webdesign",
  :tags ["opengraph"]},
 :144-web-application-project.aspx
 {:html
  "<p>Kupí se mi témata, o&#160;kterých chci psát, ale nějak na ně nezbývá času. Začnu tedy zprávou, o&#160;které dnes píšou snad všichni. Vývojový team ASP.NET, IIS a VWD uvolnil finální verzi <a href=\"http://msdn.microsoft.com/asp.net/reference/infrastructure/wap/default.aspx\">Web Application Project</a> (WAP), což neni nic jiného než starý model webového projektu z&#160;VS2003 s&#160;podporou ASP.NET 2.0&#160;a MSBuildu. Osobně se mi s&#160;tímto typem projektu pracuje lépe než Web Site projektem, který je ve VS2005 defaultní.</p> <p>Nový typ projektu se po nainstalování přidá do nabídky výběru projektu a je tu i&#160;kontextová možnost převést stávající weby na tento model. Nejvíce se však bude WAP hodit při migraci webů z&#160;VS2003, pro niž existuje <a href=\"http://webproject.scottgu.com/CSharp/Migration/Migration.aspx\">pěkný tutoriál</a>.</p> <p>Pokud se rozhodnete pro instalaci WAPu, musíte si nejprve nainstalovat <a href=\"http://go.microsoft.com/fwlink/?LinkId=63636\">záplatu pro VS2005</a>, která umožní fungování WAP. Poslední důležitou informací je, že WAP bude součástí VS2005 SP1 a bude dále podporovaný i&#160;v následujících verzích. Ve verzi SP1 dozná ještě několika vylepšení plynoucích právě z&#160;chystaných změn VS SP1.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-05-09T20:20:27.080-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Web Application Project",
  :published #inst "2006-05-09T20:20:27.053-00:00",
  :url "web-application-project",
  :id 144,
  :description "Staronový model webového projektu pro VS2005.",
  :category "ASP.NET 2.0",
  :tags []},
 :339-agregace-a-sdileni.aspx
 {:html
  "<p>Vrámci zdokonalování tohoto blogu jsem do nového roku přidal několik usnadnění jak sdílet a agregovat moje články.</p> <h3 id=\"toc-agregace\">Agregace</h3> <p>Box s možností <a href=\"#agregace\">přidat si tyhle stránky</a> do své oblíbené čtečky najdete na konci stránky. Nejprve jsem přidal (vrátil) pár odkazů na přidání RSSka do <a href=\"http://www.google.com/\">Googlu</a>, <a href=\"http://www.live.com/\">Windows Live</a> a na <a href=\"http://www.seznam.cz/\">Seznam.cz</a>, což jsou nejpoužívanější portály mých návštěvníků. Pak jsem přidal možnost zaregistravat si <a href=\"http://friendfeed.com/rarous\">můj FriendFeed</a>, kde můžete sledovat nejen moje blogové příspěvky, ale i štěbetání a další aktivity v rámci sociální sítě. A když už jsem byl v tom, tak jsem ještě prolezl logy a podíval se z jakých agregátorů sem ještě lidi chodí a vyšlo mi z toho, že ještě musím přidat <a href=\"http://www.bloglines.com/\">Bloglines</a>, <a href=\"http://www.netvibes.com/\">Netvibes</a> a <a href=\"http://www.newsgator.com/\">Newsgator</a>, abych svým čtenářům registraci do jejich čtečky usnadnil. Tak jsou tam…</p> <h3 id=\"toc-sdileni\">Sdílení</h3> <p>U každého článku jsem měl v zápatí odkaz na sdílení v <a href=\"http://www.delicious.com/\">Delicious</a> a v českém <a href=\"http://www.linkuj.cz/\">Linkuj!</a> a když už jsem byl u toho FriendFeedu tak jsem přidal možnost na něm sdílet i samotné články. Jenže hodně lidí používá hlavně <a href=\"http://www.facebook.com/\">Facebook</a>, tak proč nejít „stádu“ naproti? :) Pak je tu ještě <a href=\"http://www.digg.com/\">Digg</a> a českej <a href=\"http://www.jagg.cz/\">Jagg</a>. Tak doufám, že teď budete mít, drazí čtenáři, snažší sdílet mé bombastické články se svými přáteli.</p> <p>Jaké služby používáte k agregaci a sdílení vy?</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-02T15:46:07.810-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Agregace a sdílení",
  :published #inst "2009-01-02T15:08:20.427-00:00",
  :url "agregace-a-sdileni",
  :id 339,
  :description
  "Vrámci zdokonalování tohoto blogu jsem do nového roku přidal několik usnadnění jak sdílet a agregovat moje články.",
  :category "Moje práce",
  :tags ["social" "rss"]},
 :267-vkladani-data-do-stranky.aspx
 {:html
  "<p><a href=\"http://microformats.org/\">Mikroformáty</a> jsou určeny pro snadnější získávání dat ze stránek, jak pro lidi, tak pro stroje. Jedním z problémů je, jak vkládat data a časy, aby byly pochopitelné pro lidi i snadno vyparsovatelné strojem.</p> <p>Způsobů zápisu data a času existuje nespočet. Snad každý stát/jazyk definuje jiná pravidla pro jejich zápis. Ruku na srdce, kdo z nás přesně ví, jak správně zapisovat datum a čas v naší mateřštině? Případ od případu se může lišit a i správných způsobů je hned několik. Pro přenos časové informace existují standardní formáty, ale ty jsou pro lidi mnohem méně srozumitelné. Jak skloubit snadnou čitelnost pro lidi i stroje?</p> <h3 id=\"toc-mikroformaty-na-scenu\">Mikroformáty na scénu</h3> <p>Kupodivu mnoho mikroformátů obsahuje i definici pro některý časový údaj. Naštěstí, každý to neřeší jinou cestou, ale používá se <a href=\"http://microformats.org/wiki/datetime-design-pattern\">návrhový vzor pro zápis data a času</a>. V tomto vzoru se používá tag <code>abbr</code>, který uzavírá „lidskou interpretaci“ data a času, a v atributu <code>title</code> jeho strojovou podobu dle <a href=\"http://www.w3.org/TR/NOTE-datetime\">ISO 8601</a>. Navíc se ještě využívá <a href=\"http://microformats.org/wiki/class-design-pattern\">návrhového vzoru třída</a> pro definování, co datum právě vyjadřuje.</p> <p>Datum publikace článku můžeme zapsat následujícím způsobem:</p> <pre class=\"xml\"><code>Publikováno &lt;abbr class=\"published\" title=\"2008-04-20T10:00:00Z\"&gt; 20. dubna 2008 ve 12.00 &lt;/abbr&gt;.</code></pre> <p>V ukázce si můžete všimnout, že čas se v atributu <code>title</code> neshoduje s „lidskou“ podobou. Je to dáno tím, že jde o vyjádření tzv. univerzálního času UTC. Ekvivalentně lze zapsat jako středoevropský letní čas <code>2008-04-20T12:00:00+02:00</code>.</p> <h3 id=\"toc-vypis-v-dotnetu\">Výpis v dotnetu</h3> <p>V ASP.NET se dají pro správný výpis použít dvě metody třídy <code>System.DateTime</code>. Tou první je metoda <code>ToUniversalTime()</code>, která čas převede na UTC, a tou druhou je <code>ToString(\"s\")</code>, která vytvoří textovou podobu tzv. seřaditelného času. Nezapomeňte však přidat písmeno Z, vyjadřující UTC.</p> <pre class=\"xml\"><code>&lt;abbr class=\"published\" title=\"&lt;%= item.DatePublished.ToUniversalTime().ToString(\"s\") %&gt;Z\"&gt; &lt;%= item.DatePublished.ToString(\"f\")%&gt; &lt;/abbr&gt;</code></pre> <p>Bohužel, žádný ze standardních formátů přesně neodpovídá tomu, který potřebujeme. Ale je tu možnost použít vlastní formát pro univerzální vyjádření času <code>yyyy'-'MM'-'dd'T'HH':'mm':'ss'Z'</code> nebo <code>yyyy'-'MM'-'dd'T'HH':'mm':'sszz</code> pro <code>System.DateTimeOffset</code>.</p> <p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/microformats\">microformats</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/asp.net\">asp.net</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:36:24.820-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vkládání data do stránky",
  :published #inst "2008-04-20T12:00:15.293-00:00",
  :url "vkladani-data-do-stranky",
  :id 267,
  :description
  "Mikroformáty jsou určeny pro snadnější získávání dat ze stránek, jak pro lidi, tak pro stroje. Jedním z problémů je jak, vkládat data a časy, aby byly pochopitelné pro lidi i snadno vyparsovatelné strojem. Poradit jak na to, si klade za cíl tento spot.",
  :category "Webdesign",
  :tags ["xhtml" "html" "microformats" "ISO8601" "aspnet"]},
 :14-velikonoce.aspx
 {:html
  "<p>Už je tomu tak, Velikonoce máme, někteří více, někteří méně, úspěšně za sebou. U&#160;nás se určitě povedly a díky plánovanému hospodaření s&#160;alkoholem nebylo moc lidí, kteří by boj neustáli. Jeden se ale našel &#8211; Aleš Hrdina, ten co toho vydrží nejvíc &#8211; a neustál.</p> <p>Plán byl jasný, já jsem pít nemohl, protože jsem jel odpoledne busem na kolej a Martin pro změnu řídil, opili jsme se tedy už v&#160;neděli :) Uspořádal jsem v&#160;klubovně hasičárny malou sešlost, která se nakonec rozrostla ve větší party. Lůďa koupil ňáký vína, já donesl slivku, Pepa něco, Martin něco a už to bylo. Brrr.</p> <p>Hráli jsme prší a kdo prohrál, musel chlastat :) No já u&#160;toho ještě topil, tak jsem ji měl hned. Lůďa vzal ještě ňákej hipec a mostecký systémy a jelo se až do rána. Myslím, že tolik lidí s&#160;kocovinou nikdy na koledu ještě nešlo. A&#160;co vy, <strong>jaký byly Velikonoce?</strong></p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "VeLiKoNoCe",
  :published #inst "2004-04-20T18:40:00.000-00:00",
  :url "velikonoce",
  :id 14,
  :description "Malé Velikonoční povídání.",
  :category "Kamarádi",
  :tags []},
 :349-serverove-ovladaci-prvky-v-asp-net-mvc.aspx
 {:html
  "<p>Docela často se vyskytující fámou je, že v ASP.NET MVC nelze používat serverové ovládací prvky (Server Controls). Pravda to je jen z části, nelze používat jen ty prvky, které pro svoji funkčnost vyžadují <code>ViewState</code>. Pojďme se podívat na ty, které fungují i v ASP.NET MVC a můžou nám poskytnout nějakou zajímavou funkcionalitu a zpřehlednit tak naše View.</p> <h3 id=\"toc-masterpage-a-placeholdery\">MasterPage a Placeholdery</h3> <p>Snad první komponenty, které použijete, jsou <code>asp:ContentPlaceHolder</code> a <code>asp:Content</code>. Narazíte na ně při definování globální šablony (Master Page) a jednotlivých pohledů (View). Většinou je použijete automaticky a ani si neuvědomíte, že jde o serverové komponenty. A to je dobře. Rozhodně je lepší používat master page než server side include nebo do všech stránek vkládat view user controly se sdílenými částmi šablony.</p> <h3 id=\"toc-loginview-a-spol\">LoginView a spol.</h3> <p>Další rozhodně doporučitelnou komponentou je <code>asp:LoginView</code>. Ta slouší k rozdílnému zobrazování obsahu pro nepřihlášené/přih­lášené uživatele a také pro jednotlivé uživatelské role. Předpokladem je, že využíváte ASP.NET Membership nebo nějakou vlastní implementaci, která nastavuje do kontextu správné <code>IPrincipal</code>. Pak můžete v kódu použít třeba toto:</p> <pre class=\"xml\"><code>&lt;asp:LoginView ID=\"LoginView1\" runat=\"server\"&gt; &lt;AnonymousTemplate&gt; Nepřihlášený | &lt;%= Html.ActionLink(\"Přihlásit se\", \"Login\", \"Account\") %&gt; &lt;/AnonymousTemplate&gt; &lt;LoggedInTemplate&gt; &lt;asp:LoginName runat=\"server\" /&gt;| &lt;%= Html.ActionLink(\"Odhlásit se\", \"Logout\", \"Account\") %&gt; &lt;/LoggedInTemplate&gt; &lt;/asp:LoginView&gt;</code></pre> <p>Tím docílíte zobrazení odkazu pro přihlášení nepřihlášenému uživateli a odkazu pro odhlášení uživateli přihlášenému. Jak vidíte, je možné používat i <code>asp:LoginName</code> pro výpis jména aktuálně přihlášeného uživatele.</p> <h3 id=\"toc-localize-pro-lokalizaci\">Localize pro lokalizaci</h3> <p>Pokud děláte na webové aplikaci, která má být lokalizovaná do více jazyků, jistě se vám bude hodit <code>asp:Localize</code>, které slouží k snadnému definování míst, která mají být nahrazována texty z resource souboru. Nebudu teď řešit jak rozhodnout jaký jazyk zvolit, můžete ho mít natvrdo nastavený ve <code>web.config</code> souboru pro jednotlivé deployované domény, nebo získat nějaký parametr z routy, nebo nechat zjišťovat jazyk podle uživatelova nastavení prohlížeče. Pokud budete mít zájem o problematiku lokalizace, můžu jí věnovat některý další spot. :)</p> <pre class=\"xml\"><code>&lt;asp:Localize runat=\"server\" meta:resourcekey=\"SomeResource1\" /&gt;</code></pre> <p>Lokalizaci pak provedeme v patřičném resx souboru následovně:</p> <pre class=\"xml\"><code>&lt;data name=\"SomeResource1.Text\" xml:space=\"preserve\"&gt; &lt;value&gt;Some text&lt;/value&gt; &lt;/data&gt;</code></pre> <h3 id=\"toc-sitemappath-pro-drobeckovou-navigaci\">SiteMapPath pro drobečkovou navigaci</h3> <p>Další serverovou komponentou, kterou můžete ve svých šablonách pohledů využít je <code>asp:SiteMapPath</code>, které slouží ke generování drobečkové navigace podle struktury definované v souboru <code>Web.sitemap</code>.</p> <pre class=\"xml\"><code>&lt;asp:SiteMapPath runat=\"server\"&gt; &lt;PathSeparatorTemplate&gt; &amp;amp;gt; &lt;/PathSeparatorTemplate&gt; &lt;/asp:SiteMapPath&gt;</code></pre> <h3 id=\"toc-xml-pro-transformaci\">Xml pro transformaci</h3> <p>Jedním z posledních ze standardně dodávaných serverových komponent, které ještě v MVC fungují je <code>asp:Xml</code>, které slouží ke vkládání XML dat a jejich transformaci pomocí XSLT.</p> <pre class=\"xml\"><code>&lt;asp:Xml runat=\"server\" DocumentSource=\"/content/contact.xml\" TransformSource=\"/content/contact.xslt\"/&gt;</code></pre> <h3 id=\"toc-viewtype-pro-silny-typ-modelu-v-pohledu\">ViewType pro silný typ modelu v pohledu</h3> <p>RC verze MVC frameworku přinesla vlastní serverovou komponentu, která určuje silný typ pro vlastnost <code>Model</code> vašeho pohledu. Je to alternativa k dědění z generické <code>ViewPage</code>.</p> <pre class=\"xml\"><code>&lt;mvc:ViewType runat=\"server\" TypeName=\"ViewPage&amp;amp;lt;MyProject.Model.Customer&amp;amp;gt;\" /&gt;</code></pre> <h3 id=\"toc-a-dal\">A dál?</h3> <p>Dál můžete používat komponenty třetích stran, nebo vlastní, které nevyžadují <code>ViewState</code>. Pokud máte jako předka vašich stránek <code>System.Web.Mvc.ViewPage</code> nemáte v šablonách dostupný data binging. I na to je třeba dávat pozor. Do budoucna by mělo dojít k tomu, že helpery, které jsou součástí MVC frameworku, se dočkají i zapouzdření do komponent. Ale k tomu dojde až po vydání verze 1.0. Již dnes však můžete najít jejich předběžnou implementaci v tzv. <a href=\"http://www.codeplex.com/aspnet/Release/ProjectReleases.aspx?ReleaseId=22359\">ASP.NET MVC Futures</a>, které si můžete stáhnout na CodePlexu. Najdete mezi nimi tyto komponenty:</p> <ul> <li>ActionLink,</li> <li>DropDownList,</li> <li>TextBox,</li> <li>Password,</li> <li>Label,</li> <li>Hidden a</li> <li>Repeater</li> </ul> <p>Jejich předkem je <code>MvcControl</code>, který zpřístupňuje <code>ViewContext</code> a <code>ViewData</code>. Repeater si třeba zajišťuje DataBinding sám, takže není třeba ho explicitně volat ze stránky. Nevýhoudou však je, že je třeba Evalovat data, protože Repeater není silně typový. Mám takový pocit, že můj <a rel=\"bookmark\" title=\"Generický kontejner a repeater\" href=\"/weblog/278-genericky-kontejner-a-repeater.aspx\">generický repeater</a> by měl v MVC fungovat bez problémů. Ještě jsem to nezkoušel, ale nevidím důvod, proč by neměl. Asi provedu revizi a připravím vylepšenou variantu pro MVC.</p> <p>A to je pro dnešek vše.</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a href=\"http://weblogs.asp.net/leftslipper/archive/2009/03/03/asp-net-mvc-release-candidate-2-i-declare-myself-to-be-declarative.aspx\">Eilon Lipton: I declare myself to be declarative!</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-03-04T09:48:11.720-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Serverové ovládací prvky v ASP.NET MVC",
  :published #inst "2009-02-21T12:32:36.547-00:00",
  :url "serverove-ovladaci-prvky-v-asp-net-mvc",
  :id 349,
  :description
  "Docela často se vyskytující fámou je, že v ASP.NET MVC nelze používat serverové ovládací prvky (Server Controls). Pojďme se podívat na ty, které fungují i v ASP.NET MVC a můžou nám poskytnout nějakou zajímavou funkcionalitu a zpřehlednit tak naše View.",
  :category "Webdesign",
  :tags ["aspnet" "mvc" "controls"]},
 :337-uzivejte-vanoce.aspx
 {:html
  "<p>Užívejte Vánoce dle svých představ, třeba v kruhu svých blízkých, na kterých vám záleží, nebo o samotě. :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-12-24T13:52:14.150-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Užívejte Vánoce",
  :published #inst "2008-12-24T13:52:14.137-00:00",
  :url "uzivejte-vanoce",
  :id 337,
  :description
  "Užívejte Vánoce dle svých představ, třeba v kruhu svých blízkých, na kterých vám záleží, nebo o samotě. :)",
  :category "Jen tak",
  :tags []},
 :395-asynchroni-nacitani-featur-v-jquery.aspx
 {:html
  "<p>K optimalizaci rychlosti načítání stránek se můžeme postavit různě. Někdo to neřeší, někdo snižuje počet požadavků jednou velkou haldou scriptů a někdo načítá featury asynchronně.</p> <p>Je to celkem snadné. Místo jednoho velikého scriptu s jQuery, všemi pluginy a vlastními scripty, připojíme do šablony webu scripty dva. Jeden bude linkovat jQuery z CDN druhý bude bootstrapper, který bude asynchronně donačítat scripty pro featury na dané stránce:</p> <pre class=\"xml\"><code>&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js\"&gt; &lt;/script&gt; &lt;script type=\"text/javascript\" src=\"/scripts/bootstrapper.js\"&gt;&lt;/script&gt;</code></pre> <p>Jak vypadá takový bootstrapper? Následovně:</p> <pre class=\"php\"><code>jQuery(function($) { initCalendar($); }); function initCalendar($) { var cal = $('.calendar'); if (cal.length == 0) return; $.getScript('/scripts/jquery.calendar.js', function() { cal.calendar(); }); }</code></pre> <h3 id=\"toc-jak-to-funguje\">Jak to funguje?</h3> <p>Když máme připravený DOM, jQuery spustí naši inicializační funkci pro kalendáře. Pokud na stránce žádné kalendáře nemáme, tak skončíme. Nemá cenu načítat script s kalendářem. Pokud na stránce, nějaké kalendáře jsou, tak načteme potřebný script a zaregistrujeme funkci, která se spustí po zavedení scriptu. V tomto případě obohatí stránku o pěkné kalendáře. :)</p> <p>Zbavili jsme se tak blokujících čekání na načtení scriptů, načítáme pouze dva scripty, z toho první je jistě už v lokální cache prohlížeče. Na zbylé scripty nemusí prohlížeč čekat a stránka se vykreslí celkem rychle bez záseků. Jednotlivá vylepšení stránky se donačtou záhy. Uživatel nic nepozná, jen bude mít plynulejší prožitek.</p> <p>A to je vše, milé děti.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-09-15T16:34:00.503-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Asynchroní načítání featur v jQuery",
  :published #inst "2010-09-12T11:21:59.380-00:00",
  :url "asynchroni-nacitani-featur-v-jquery",
  :id 395,
  :description
  "K optimalizaci rychlosti načítání stránek se můžeme postavit různě. Někdo to neřeší, někdo snižuje počet požadavků jednou velkou haldou scriptů a někdo načítá featury asynchronně.",
  :category "Webdesign",
  :tags ["jquery" "javascript"]},
 :101-par-postrehu.aspx
 {:html
  "<p>Za prvé jsem přidal další album do galerie, jsou to fotky z&#160;úterní vycházky po Druzcově, pár fotek se mi snad povedlo. Pokud by někdo chtěl originál ve full kvalitě, napište ni na majl. :)</p> <p>Za druhé, <a href=\"http://www.djorbith.com\">DJ Orbith</a> zprovoznil nové stránky. Mě se výsledek po grafické stránce líbí &#8211; ta gotika se k&#160;jeho stylu velice hodí ;) Jsou tam taky ke stažení dva nové mixy, tak enjoy&#8230;</p> <p>Za třetí navštívil Emil <a href=\"http://www.discoheges.cz\">Hegeš</a>. Co dodat, nejen že jsem musel zaplatit o&#160;50% větší vstupné, za což mi Bažant slíbil panáka (kterýho jsem nedostal), ale Emil &#8222;hýřil&#8220; vtipem. Takhle brzo jsem od tamtud snad nikdy nešel :D No abych jen nekritizoval, dopil jsem jim tam Red Label a musel jsem přejít na Beama :) Pak tam taky hrál jinej DJ, na jméno si nevzpomenu, ale dřív hrál Gigiho a teď hraje housík &#8211; skoro pořád teda to, co já poslouchám, ale jeho podání mi moc nesedlo&#8230;</p> <p>No a za poslední. Netscape vydal novou verzi Browseru postavenou na Firefoxu 1.5. Je o&#160;mnoho lepší než verze předchozí, nebo aspoň jsem za ty dva dny používání neměl problém&#8230; Zvýšil se důraz na bezpečnost a dnes neznám bezpečnější browser s&#160;jádrem Gecko i&#160;Trident :)</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-01-30T14:47:55.100-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pár postřehů",
  :published #inst "2006-01-29T10:47:02.377-00:00",
  :url "par-postrehu",
  :id 101,
  :description
  "Tak aby to tu zase trochu ožilo, přidávám pár postřehů.",
  :category "Jen tak",
  :tags []},
 :268-vyhledavani-komponent-v-asp-net-strance.aspx
 {:html
  "<p>Asi málo koho překvapí, že v ASP.NET jsou komponenty, ze kterých se skládá výsledná stránka. Někdy však narazíme na potřebu provázat tyto prvky mezi sebou. Jednou z možností je vyhledávání přes ID prvku.</p> <p>Vývojáři na toto pamatovali a každý potomek třídy <code>System.Web.UI.Control</code> má metodu <code>FindControl(string)</code>, která rekurzivně projde strom potomků a snaží se najít toho se zadaným ID. To je všechno moc hezký, jenže je tu jeden háček, který to tak trochu celý nabourává.</p> <p>Rekurzivně se prohledává pouze v rozsahu jmenného kontejneru. Pokud je mezi potomky komponenta implementující rozhranní <code>System.Web.UI.INamingContainer</code>, jeho potomci se neprohledávají. Pak přijdeme na problém, kdy chceme na celé stránce najít komponentu s daným ID. Pokud stránka obsahuje WebForm, nebo je to ContentPage, nebo má šablonované prvky, ve kterých je hledaná komponenta zanořená, tak zavolání <code>Page.FindControl(\"HledaneID\")</code> vrátí <code>null</code>.</p> <h3 id=\"toc-reseni-problemu\">Řešení problému</h3> <p>Kdysi jsem si napsal pomocníka. Který ošetřoval různé podmínky (MasterPage, WebForm a ContentPlaceHol­dery). Byl dost konkrétní, ale na většinu případů užití bohatě stačil. Ta funkce nebyla moc hezká. Nedávno jsem narazil právě na popis toho, proč mi to kdysi nefungovalo a musel jsem psát ty výjimky, který jsem snad osvětlil v předchozím odstavci. Nová upravená verze vypadá následovně:</p> <pre class=\"csharp\"><code>using System; using System.Collections.Generic; using System.Text; using System.Web.UI; using System.Web.UI.HtmlControls; public class PageHelper { /// &lt;summary&gt; /// Najde ovládací prvek požadovaneho typu na strance /// včetně ošetření na MasterPage. /// &lt;/summary&gt; /// &lt;typeparam name=\"T\"&gt;Typ ovládacího prvku.&lt;/typeparam&gt; /// &lt;param name=\"parent\"&gt;Ve které stránce se má hledat.&lt;/param&gt; /// &lt;param name=\"controlID\"&gt;ID Controlu ve stránce.&lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; public static T FindControl&lt;T&gt;(Page parent, string controlID) where T : Control { return FindControl(parent.Master as Control ?? parent as Control, controlID) as T; } private static Control FindControl(Control parent, string controlID) { if (parent == null) { throw new ArgumentNullException(\"parent\"); } if (String.IsNullOrEmpty(controlID)) { return null; } Control result = parent.FindControl(controlID); if (result == null &amp;&amp; parent.Controls.Count &gt; 1) { foreach (Control child in parent.Controls) { if (child is INamingContainer || child is HtmlContainerControl) { result = FindControl(child, controlID); } if (result != null) { break; } } } return result; } }</code></pre> <p>Snad se bude hodit.</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a href=\"/weblog/213-layout-template.aspx\">Layout Template</a></li> </ul> </div> <p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/aspnet\">ASP.NET</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/findcontrol\">FindControl</a>, [tag-findcontrol]</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:34:48.193-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vyhledávání komponent v ASP.NET stránce",
  :published #inst "2008-05-02T13:13:41.633-00:00",
  :url "vyhledavani-komponent-v-asp-net-strance",
  :id 268,
  :description
  "Asi málo koho překvapí, že v ASP.NET jsou komponenty, ze kterých se skládá výsledná stránka. Někdy však narazíme na potřebu provázat tyto prvky mezi sebou. Jednou z možností je vyhledávání přes ID prvku. Ale je tu menší háček.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "findcontrol"]},
 :355-vlastni-serverove-ovladaci-prvky-v-asp-net-mvc.aspx
 {:html
  "<p>Motto: <code>foreach</code> je fajn na prototypování, ale většinou mu za chvíli dojde dech a svádí k zanášení příliš logiky do kódu šablony. A to je špatně.</p> <p>Už jsem se zmiňoval o tom, že <a rel=\"bookmark\" title=\"Serverové ovládací prvky v ASP.NET MVC\" href=\"/weblog/349-serverove-ovladaci-prvky-v-asp-net-mvc.aspx\">v ASP.NET MVC lze užívat serverové ovládací prvky</a>, takže je využijeme k zapouzdření složitější zobrazovací logiky.</p> <h3 id=\"toc-motivace\">Motivace</h3> <p>Jednou z hlavních nevýhod, kterou jsem viděl na MVC, byl přístup ke skládání šablon. Jednotlivé kusy šablony jsou rozházeny v MasterPage, ViewPage (aspx) a ViewUserControlech (ascx). V Atlasu jsme razili teorii, že šablona by měla být pokud možno co nejcelistvější, aby se nemuselo nikde nic hledat a kodér rychle udělal potřebné změny. Proto existovala sada serverových ovládacích prvků, které byly plně šablonovatelné.</p> <p>Když naběhlo <acronym title=\"Středové držení\">CH</acronym> s <a href=\"http://ellaproject.stdout.cz/\">Ellou</a>, nechápali jsme, jak to může někdo používat. Každičká část šablony byla (v té době, jak je to dnes – nevím) byla rozeseta v hierarchii složek (podle dědičnosti). A to je v podstatě hlavní rozdíl mezi ASP.NET a architekturou MVC. Tedy pokud jste omezeni view enginem, který používáte.</p> <p>Již nějaký pátek pracuji na web 2.0 aplikaci, která je postavená mj. na ASP.NET MVC. Měl jsem tedy možnost vyzkoušet hodně možných postupů: od logiky v šabloně, přes HTML helpery, <code>RenderPartial</code> a <code>RenderAction</code> až po vlastní serverové ovládací prvky. A ty nakonec vítězí na plné čáře! Pojďme se podívat, jak si napsat elegantní serverové ovládací prvky pro ASP.NET MVC.</p> <h3 id=\"toc-evoluce-logiky-v-sablone\">Evoluce logiky v šabloně</h3> <p>Začínal jsem s nadšením s jednoduchou logikou v kódu, tak jak to vidíte v ukázkách či na prezentacích o ASP.NET MVC. Složitější věci jsem se snažil přesunout do HtmlHelperu pomocí vlastních extenzí. Když jsem pak narazil na helpery, které zanáší do view „lambda hell“, trochu mě zamrazilo. Vyberu jen dva příklady: Philův <a href=\"http://haacked.com/archive/2008/05/03/code-based-repeater-for-asp.net-mvc.aspx\">Code based Repeater for ASP.NET MVC</a> a Jardův <a href=\"http://simplemvccontrols.codeplex.com/\">Simple MVC controls</a>. Nebojte, podobných programátorských krás najdete povícero. Bohužel, je to nepoužitelné pro kodéra. Navíc jsem zastáncem myšlenky minima kódu v šabloně.</p> <p>Další věcí, která mě tak trochu děsí, je jakým způsobem se předvádí generování HTML formuláře.</p> <pre class=\"xml\"><code>&lt;% using(Html.BeginForm(\"Send\", \"Comments\")) { %&gt; &lt;!-- prvky formuláře --&gt; &lt;% } %&gt;</code></pre> <p>Je to krásná ukázka <a rel=\"bookmark\" title=\"Using pattern\" href=\"/weblog/265-using-pattern.aspx\">užití vzoru <code>IDisposable</code></a>, ale do šablony nepatří. Helpery uživát jen jako dobré koření – po špetkách.</p> <pre class=\"xml\"><code>&lt;form action='&lt;%= Url.Action(\"Send\", \"Comments\")) %&gt;' method=\"post\"&gt; &lt;!-- prvky formuláře --&gt; &lt;/form&gt;</code></pre> <p>Myslím, že takovýto zápis je mnohem srozumitelnější a přitom dělá to samé. Jako bonus můžete ve vašem HTML editoru využívat scope collapsing. Vhodnější by ještě bylo použít helper <code>Url.RouteUrl</code>, který hledá routy podle klíče a tudíž je o dost výkonnější (pokud máte definováno více rout).</p> <p>Opusťme teď formulář a pokročme k vypisování dat.</p> <p>Prvním způsobem, jak vypisovat data, je <code>foreach</code>. Je silně typový, což považuju za obrovskou výhodu, a nepřináší overhead v podobě instanciování tříd a parsování šablon serverových ovládacích prvků.</p> <pre class=\"xml\"><code>&lt;ul&gt; &lt;% foreach (var user in Model.Users) { %&gt; &lt;li&gt;&lt;%= user.Name %&gt;&lt;/li&gt; &lt;% } %&gt; &lt;/ul&gt;</code></pre> <p>Tím však jeho možnosti končí. Pokud potřebujeme např. odlišit každou druhou položku, nebo vypsat něco jiného, pokud nejsou žádná data, musíme kód znepřehledňovat, nebo zvolit jiné řešení. Philův repeater už jsem zmiňoval. Další možností je využít <code>asp:Repeater</code> nebo <code>mvc:Repeater</code>. Ani jeden mi nevyhovuje. První se musí nějak nalít daty a pak s nimi svázat (nutnost codebehind nebo script runat=server), druhý zase pracuje s ViewData slovníkem a evalováním. Takže nezbývá než si napsat vlastní.</p> <h3 id=\"toc-silne-typovy-repeater-v-asp-net-mvc\">Silně typový repeater v ASP.NET MVC</h3> <p>Základem je jednoduchá myšlenka. Použít <code>MvcControl</code> z futures a view model opatřit kontrakty.</p> <pre class=\"csharp\"><code>public interface IHaveUsers { IEnumerable&lt;User&gt; Users { get; } } public class UsersListViewData : IHaveUsers { public IEnumerable&lt;User&gt; Users { get; set; } // další vlastnosti view modelu }</code></pre> <p>Zavedli jsme si view model třídu, která se nejspíš bude posílat na pohled <strong>Index</strong> řadičem <strong>UsersController</strong>. Možná. Každopádně jsme si zavedli jednoduchou abstrakci a možnost znovupoužití v podobě rozhranní <code>IHaveUsers</code>. Snad můžeme dál.</p> <pre class=\"csharp\"><code>using Microsoft.Web.Mvc; using Rarous.Web.UI; [ParseChildren(true)] public partial class UsersRepeater : MvcControl, ILayoutTemplateable { [DefaultValue(typeof(ITemplate), \"\")] [PersistenceMode(PersistenceMode.InnerProperty)] [TemplateContainer(typeof(IGenericContainer&lt;User&gt;))] [TemplateInstance(TemplateInstance.Multiple)] public ITemplate ItemTemplate { get; set; } [DefaultValue(typeof(ITemplate), \"\")] [PersistenceMode(PersistenceMode.InnerProperty)] [TemplateContainer(typeof(IGenericContainer&lt;User&gt;))] [TemplateInstance(TemplateInstance.Multiple)] public ITemplate AlternatingItemTemplate { get; set; } [DefaultValue(typeof(ITemplate), \"\")] [PersistenceMode(PersistenceMode.InnerProperty)] [TemplateContainer(typeof(INamingContainer))] [TemplateInstance(TemplateInstance.Multiple)] public ITemplate SeparatorTemplate { get; set; } public string LayoutContainerId { get; set; } [DefaultValue(typeof(ITemplate), \"\")] [PersistenceMode(PersistenceMode.InnerProperty)] [TemplateContainer(typeof(INamingContainer))] [TemplateInstance(TemplateInstance.Single)] public ITemplate LayoutTemplate { get; set; } }</code></pre> <p>Podědili jsme si MvcControl, který mimo jiné zpřístupňuje <code>ViewData</code>, a implementovali nějaké šablony.</p> <pre class=\"csharp\"><code>public partial class UsersRepeater { private class UsersViewDataFetcher { public IEnumerable&lt;User&gt; GetUsers(object model) { var result = model as IHaveUsers; if (result != null) { return result.Users; } return null; } } }</code></pre> <p>Jednoduchý helper pro získávání dat z modelu. Zkouší využít kontraktu <code>IHaveUsers</code>, který jsme si zavedli výše, k získání dat z modelu. Zde je místo pro budoucí rozšíření o další možné zdroje. Pokud nic nenajdeme, vrátíme <code>null</code>.</p> <pre class=\"csharp\"><code>public partial class UsersRepeater { protected override void OnPreRender(EventArgs e) { base.OnPreRender(e); var fetcher = new UsersViewDataFetcher(ViewData.Model); var users = fetcher.GetUsers(); if (users == null) { return; // nebo verenderovat NoDataTemplete } Controls.Clear(); Control layoutContainer = TemplatingHelper.CreateLayoutContainer(this, this) ?? this; var iterator = new ItemsIterator&lt;User&gt;(users); foreach (var user in iterator.Iterate()) { if (iterator.IsFirst == false) { TemplatingHelper.Instantiate(new EmptyContainer(), SeparatorTemplate, layoutContainer); } ITemplate template = iterator.IsAlternate ? AlternatingItemTemplate ?? ItemTemplate : ItemTemplate; TemplatingHelper.Instantiate(new GenericContainer&lt;User&gt;(user), template, layoutContainer); } layoutContainer.DataBind(); } }</code></pre> <p>Nakonec přepíšeme metodu <code>OnPreRender</code>, ve které získaná data proměníme pomocí šablon na výstupní kód. Používám zde spoustu věcí, které jsem <a rel=\"bookmark\" title=\"Generický kontejner a repeater\" href=\"/weblog/278-genericky-kontejner-a-repeater.aspx\">použil již dříve</a>. Jedinou novinkou je třída <code>ItemsIterator</code>, která zaobaluje logiku, pro zjišťování, zda jde o první prvek, alternativní prvek a počítá aktuální index prvku.</p> <pre class=\"csharp\"><code>public class ItemsIterator&lt;T&gt; { private readonly IEnumerable&lt;T&gt; _items; public ItemsIterator(IEnumerable&lt;T&gt; items) : this(items, 0) { } public ItemsIterator(IEnumerable&lt;T&gt; items, int firstIndex) { _items = items; IsFirst = true; IsAlternate = false; CurrentIndex = firstIndex; } public bool IsFirst { get; private set; } public bool IsAlternate { get; private set; } public int CurrentIndex { get; private set; } public IEnumerable&lt;T&gt; Iterate() { foreach (var item in _items) { yield return item; IsFirst = false; IsAlternate = !IsAlternate; CurrentIndex++; } } }</code></pre> <p>Jednoduchá věcička, která je určená k eliminaci otrocky opakovaného kódu.</p> <p>Užití takového repeateru je pak jednoduché:</p> <pre class=\"xml\"><code>&lt;rarous:UsersRepeater runat=\"server\" LayoutContainerId=\"UsersPlaceHolder\"&gt; &lt;LayoutTemplate&gt; &lt;ul&gt; &lt;asp:PlaceHolder ID=\"UsersPlaceHolder\" runat=\"server\"/&gt; &lt;/ul&gt; &lt;/LayoutTemplate&gt; &lt;ItemTemplate&gt; &lt;li&gt;&lt;%# Container.DataItem.Name %&gt;&lt;/li&gt; &lt;/ItemTmplate&gt; &lt;/rarous:UsersRepeater&gt;</code></pre> <h3 id=\"toc-zaver\">Závěr</h3> <p>Snažil jsem se sdělit svůj názor, že v šablonách by mělo být jen tolik programového kódu, kolik je nezbytně nutné. Zároveň se držet zásady jediné zodpovědnosti tříd a znuvupoužitelnosti s využitím generického pomocníka pro iteraci a kontraktů ve view modelu. Zároveň maximálně využít kód, který jsem už psal v předchozích spotech. Je možné, že jsem nepoužil dostatečně kvalitní názvy tříd nebo metod, připomínky klidně piště i k nim.</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a rel=\"bookmark\" title=\"Serverové ovládací prvky v ASP.NET MVC\" href=\"/weblog/349-serverove-ovladaci-prvky-v-asp-net-mvc.aspx\">Serverové ovládací prvky v ASP.NET MVC</a></li> <li><a rel=\"bookmark\" title=\"Generický kontejner a repeater\" href=\"/weblog/278-genericky-kontejner-a-repeater.aspx\">Generický kontejner a repeater</a></li> <li><a rel=\"bookmark\" title=\"Using pattern\" href=\"/weblog/265-using-pattern.aspx\">Using pattern</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-03-29T19:20:52.337-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vlastní serverové ovládací prvky v ASP.NET MVC",
  :published #inst "2009-03-29T10:32:54.430-00:00",
  :url "vlastni-serverove-ovladaci-prvky-v-asp-net-mvc",
  :id 355,
  :description
  "Povídání o tom, jak zlepšit čitelnost vašich šablon za pomocí serverových ovládacích prvků.",
  :category "Webdesign",
  :tags ["repeater" "genericcontainer" "mvc" "aspnet"]},
 :290-testovani-httpcontextu.aspx
 {:html
  "<p>Píšu nějaké podpůrné třídy pro naše nové projekty a zrovna jsem u utilitek pro webové aplikace. Teď jsem se dostal k jedné třídě, která volá <code>HttpContext.Current</code> ve statických metodách. Chci na to napsat testy, jenže jak mám podstrčit HttpContext?</p> <p>Řešení je nakonec jednodušší než jsem čekal…</p> <pre class=\"csharp\"><code>public static void CreateContext() { CallContext.HostContext = new HttpContext( new HttpRequest(\"default.aspx\", \"http://rarous.net/\", \"test1=test\"), new HttpResponse(new StringWriter()) ); }</code></pre> <p>Stačí zavolat tuto metodu, kterou se do threadu nastaví podvržený kontext a můžete směle testovat. :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:12:03.240-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Testování HttpContextu",
  :published #inst "2008-07-25T13:56:07.123-00:00",
  :url "testovani-httpcontextu",
  :id 290,
  :description
  "Jak otestovat věci, které volají HttpContext.Current aniž bychom spouštělí nějaký HttpRuntime?",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "unittesting"]},
 :288-konec-dobry-vsechno-dobre.aspx
 {:html
  "<p>Je tomu téměř 28 měsíců, co jsem nastoupil do Atlasu. Tuto událost jsem oznámil tady na blogu spotem <a href=\"/weblog/115-rarous-v-atlasu.aspx\" title=\"Rarouš v Atlasu\">Rarouš v Atlasu</a>. Atlas byl mé první zaměstnání, nastupoval jsem do něj přímo za školy. Tímto chci Pájovi a Renému poděkovat za důvěru a šanci, kterou mi dali.</p> <p>Za ty více než dva roky jsem poznal spoustu skvělých lidí, kteří byli více než kolegy z práce. Atlas byl něco jako rodina. Ne vždy to bylo růžové, ale takový je život. V průběhu svého působení jsem vystřídal několik produktů. Začínal jsem odblešováním <a href=\"http://pokec.atlas.cz/\">Pokecu</a>. V tomto období se mě Honza rozhodl přidat mezi zdroje <a href=\"http://www.w3blogy.cz/\">W3Blogy.cz</a>, podotýkám, že proti mé vůli :D. Dalším úkolem bylo napsat importovací rozhraní pro Atlasí redakci. Následovala neslavná úprava <a href=\"http://profil.atlas.cz/\">Registrace</a>, dovolená na Krétě, první <a href=\"/weblog/193-team-building.aspx\">Teambuilding</a> a hektická příprava Atlas Checku.</p> <h3 id=\"toc-atlas-opus\">Atlas.Opus</h3> <p>V té době (listopad 2006) se už vymýšlel koncept Opusu, já jsem vždycky přisedával poblíž a poslouchal, o co jde. Nakonec jsem se dostal do týmu interních systémů a katalogu, ve kterém jsem byl dosud. Opus mělo být řešení, které nahradí několik interních systémů, které už byly těžko udržovatelné a málo kdo do nich viděl. V podstatě to <del>byla</del> <ins>je</ins> stromová atributová databáze s definovatelnými typy vč. dědičnosti a tzv. rozhraní. Velice zajímavý projekt, na kterém jsem získal spoustu zkušeností.</p> <p>Mým hlavním úkolem bylo vytvořit nad Opusem katalogy. Prvním projektem byla <a href=\"http://firmy.atlas.cz/registrace/\">registrace do Atlasu Firem</a>, tak trošku marketingově uspěchaná věc, která díky špatným rozhodnutím ztratila svůj efekt. Ta se spouštěla, tuším, někdy v březnu 2007. V červenci se pak pustili „malé katalogy“ <a href=\"http://obchody.atlas.cz/\">Obchody</a> a <a href=\"http://sex.atlas.cz/\">Sex</a>. V září se spouštěla první verze <a href=\"http://katalog.atlas.cz/\">velkého katalogu</a>, která ještě z části tahala data ze staré databáze (placené zápisy) a z části z nové (bezplatné). Dalším krokem v migraci, bylo napsat administrační rozhraní pro obchodníky, aby mohli v Opusu prodávat a zbavili jsme se tak Firmátoru.</p> <p>Ke konci roku jsme měli připravené rozhraní pro testování a v březnu jsme migrovali poslední placené zápisy do nového systému. V plánu byl další rozvoj, částečné přebírání některé funkcionality SalesModulu, který měl být nahrazen CRM řešením, a další zajímavé služby. Ale pak přišlo spojeno.cz…</p> <h3 id=\"toc-odpojeni-cz\">Odpojeni.cz</h3> <p>Nastala doba chaosu, různých jednání a tak. Postupem času se ukazovalo, že v takovéto firmě už dál pracovat nechci. Podobného názoru jsem nebyl sám a tak vzniklo <a href=\"http://www.odpojeni.cz/\">Odpojeni.cz</a>. Spoustu odborných komentářů k této události si jistě dokážete dohledat na Lupě a Živě sami. :) Je až k nevíře, jak se nám to všechno pěkně podařilo na těch woknech naklikat. :)</p> <p>Pomalu jsem se tedy proklikal k závěru. Co napsat? Za posledních pár měsíců se ze mě stal téměř alkoholik, profesionální hráč Call of Duty, filtr Centráckého spamu (ty lidi si na mejlech fakt ujížděj), sabotér, rebelant a já nevím co ještě – jo vlastně, jo měl jsem i víc času blogovat… Určitě to všechno byly zkušenosti k nezaplacení a já už se těším na ty nové, v příštím zaměstnání, kam nastupuju v úterý společně s většinou Atlasího vývoje a slečnou Veronikou. :P Držte mi palce.</p> <p>Ich komme!</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:13:22.943-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Konec dobrý, všechno dobré!",
  :published #inst "2008-06-27T11:13:06.557-00:00",
  :url "konec-dobry-vsechno-dobre",
  :id 288,
  :description
  "Je tomu téměř 28 měsíců, co jsem nastoupil do Atlasu. Atlas byl mé první zaměstnání, nastupoval jsem do něj přímo za školy. Tímto chci Pájovi a Renému poděkovat za důvěru a šanci, kterou mi dali.",
  :category "Jen tak",
  :tags ["atlas" "opus" "odpojeni" "twareg"]},
 :207-novinky-v-texy-net.aspx
 {:html
  "<p>Není tajemstvím, že pracuju na Texy.net, což je komponenta, která umožňuje používat <a href=\"http://www.texy.info/\">Texy!</a> i na platformě .net. Tento článek by měl poodhalit jak bude vypadat příští verze, na které momentálně pracuji.</p> <ol> <li>Změna namespace z <code>Rarous.Texy</code> na <code>Rarous.TexyNet</code>. Důvodů mám hned několik. Zapré to lépe reflektuje název produktu, zadruhé bude smysluplnější kód při volání hlavní třídy <code>Rarous.TexyNet.Texy</code> než ten dosavadní v RC1 <code>Rarous.Texy.Texy</code>.</li> <li><img src=\"/data/obrazky/logo-texy-small.gif\" class=\"right\" alt=\"logo\" /> Logo :) Logo Texy.net vychází z nového ještě více sexy loga Texy2.</li> <li>Vlastní stránky poběží na adrese <a href=\"http://www.gryphoon.net/texy/\">www.gryphoon.net/texy/</a>, protože Texy.net je nedílnou součástí Gryphoonu. Pravděpodobně poběží i wiki.</li> <li>Deklarativní konfigurace zůstane zachována a pravděpodobně bude ještě rozšířena o nové možnosti.</li> <li>Texy.net už nebude jen XML-RPC wrapper, ale pomocí provider modelu bude jednotným API pro několik možných poskytovatelů Texy! v dotnetu. Na tuto myšlenku mě navedl <a href=\"http://tomasp.net/\">Tomáš Petříček</a> se svým pokusem zkompilovat <a href=\"http://tomasp.net/blog/aspnettexy.aspx\">Texy! ve Phalangeru</a>. Díky Texy.net a PhalangerProvideru bude použití Texy! více dotnetovské a sexy :) Další provider bude pro <a href=\"/weblog/64-texy-web-service-ws.aspx\">Texy-WS přes SOAP</a> apod. Každý si bude moci vybrat, co mu více vyhovuje.</li> <li>Rád bych dotáhl dokumentaci do kvalitnější formy, jen ještě nevím zda ji celou ponechat v MSDN like stylu nebo na wiki.</li> <li>Dá-li <a href=\"http://www.dgx.cz/\">DGX</a>, bude nová verze používat Texy2, přinejmenším v XML-RPC.</li> </ol> <h3 id=\"toc-souvisejici\">Související</h3> <ul> <li><a href=\"/weblog/196-texy-net-release-candidate.aspx\">Texy.net RC1</a></li> <li><a href=\"/weblog/64-texy-web-service-ws.aspx\">Texy-WS</a></li> <li><a href=\"http://www.texy.info/\">Texy!</a></li> <li><a href=\"http://www.dgx.cz/trine/item/paradni-texy-nastroje\">Parádní Texy nástroje</a></li> <li><a href=\"http://tomasp.net/blog/aspnettexy.aspx\">Compiling Texy! with Phalanger</a></li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:39:42.693-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Novinky v Texy.net",
  :published #inst "2007-05-05T09:06:29.393-00:00",
  :url "novinky-v-texy-net",
  :id 207,
  :description
  "Není tajemstvím, že pracuju na Texy.net, což je komponenta, která umožňuje používat Texy! i na platformě .net. Tento článek by měl poodhalit jak bude vypadat příští verze, na které momentálně pracuji.",
  :category "ASP.NET 2.0",
  :tags ["texynet" "texy" "phalanger"]},
 :74-microsoft-expression.aspx
 {:html
  "<p>Microsoft připravuje novou <a href=\"http://www.microsoft.com/products/expression/en/default.aspx\">sadu grafických nástrojů</a>. Nástroje budou postaveny na <em>Windows Presentation Foundation</em> a budou vstupovat na bitevní pole, kde je již nyní „tvrdá konkurence.“ Vlastně zas tak horké to není, protože <a href=\"http://www.adobe.com/\">Adobe</a> koupilo Macromedii, čímž se konkurenční boj značně scvrknul :)</p> <p>Prvním z rodiny je produkt s kódovým označením <strong>Acrylic Graphic Designer</strong>. Tento produkt se chce poměřovat s Photoshopem a jemu podobnými nástroji. S tímto programem mám i osobní zkušenosti, protože mám nainstalovanou jednu z betaverzí (build 684). Samozřejmě podporuje práci ve vrstvách a vrstvy rozlišuje na bitmapové a vektorové. Prostředí programu je klasické s plovoucími nástrojovými lištami a nabídkami vlastností. Pro mě, uživatele Fireworksů, toto chování moc nevyhovuje, ale člověk si na něj po chvilce práce zvykne a za čas mu i přijde intuitivní :) Tento nástroj je tedy určen pro předtiskovou přípravu a pro přípravu grafiky pro web – tady osobně nedám dopustit na <a href=\"http://www.macromedia.com/software/fireworks/\">Fireworks</a>.</p> <p>Druhým členem nové rodiny je produkt s kódovým označením <strong>Sparkle Interactive Designer</strong>. Tento produkt se pro změnu staví do závodu na startovní čáře vedle Flashe. Uživatelské prostředí vychází z Acryliku s nutnými rozšířeními pro tvorbu animované grafiky. Samozřejmě bude Sparkl umět importovat věci z Acryliku.</p> <p>Třetím produktem je, podle mě, pecka, která nemá obdoby a pokud se Microsoft opravdu povede, co slibuje, bude tu nástroj, po kterém musí zatoužit snad každý webdesignér. Jedná se o produkt s označením <strong>Quartz Web Designer</strong>. Tento nástroj slibuje intuitivní práci s <acronym title=\"Cascading StyleSheet\">CSS</acronym> ve <acronym title=\"What I See Is What I Get\">WISIWIG</acronym> režimu, včetně pozicování, nastavování marginů a paddingů. Výstupem by měl být kód splňující normy <a href=\"http://www.w3.org\" title=\"World Wide Web Consortium\">W3C</a>. S CSS to ale nekončí! Wed Designer by měl plně podporovat <acronym title=\"Extensible Markup Language\">XML</acronym> a pravděpodobně, by v něm měly jít jednoduše generovat <acronym title=\"XML Schema\">XSD</acronym> schémata a <acronym title=\"Extensible Stylesheet Language\">XSL</acronym> transformace, ale tady si nejsem moc jistý, jestli jsem špatně nepochopil ukázkový materiál. Třešničkou na dortu je codeless DataBinding a podpora <a href=\"http://asp.net/\">ASP.NET</a> 2.</p> <p>Nová produktová řada na mě působí celkem uceleně a pokrývá potřeby současných webdesignérů. Osobně se těším na produkt s označením <em>Quartz</em>…</p> <!-- by Texy2! -->",
  :keywords "Microsoft Acrylic Sparkle Quartz CSS XML ASP.NET",
  :edited #inst "2008-04-19T19:43:10.120-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Microsoft Expression",
  :published #inst "2005-10-12T13:31:12.000-00:00",
  :url "microsoft-expression",
  :id 74,
  :description "Microsoft připravuje novou sadu grafických nástrojů.",
  :category "Webdesign",
  :tags []},
 :133-zaciname-s-atlasem-2a.aspx
 {:html
  "<p>Možná si říkáte, proč jsem zvolil tak divný nadpis. Odpověď je nasnadě, tento článek není slibovaným třetím dílem s praktickou ukázkou použití Atlasu, ale spíše praktickým doplněním předchozích dvou dílů o linky na zajímavé věci ohledně Atlasu. Omlouvám se tedy, že nyní neuvedu slibovaný kód, o který samozřejmě nepřijdete – ale vyžaduje delší přípravu – a snad vám budou následující řádky dostatečnou útěchou…</p> <p>Začnu horkou novinkou. Právě byla uvolněna <a href=\"http://atlas.asp.net/default.aspx?tabid=47&amp;subtabid=477\">sada Atlasích komponent</a>, které by měly usnadnit práci ASP.NET vývojářům v obvyklých AJAXových scénářích. Můžete si je i přímo <a href=\"http://atlas.asp.net/atlastoolkit/\">vyzkoušet</a> online. Sada obsahuje následující komponenty:</p> <dl> <dt>CascadingDropDown</dt> <dd>Kaskádní DropDown listy, klasický scénář použití AJAXu.</dd> <dt>CollaspiblePanel</dt> <dd>Sbalovací panely, opět častá věc u různých boxíků.</dd> <dt>ConfirmButton</dt> <dd>Extender, který při aplikaci na některý z Buttonů vyžaduje potvrzení provedení akce.</dd> <dt>DragPanel</dt> <dd>Extender, který udělá ze zvoleného boxu, box volně přemisťovatelný po stránce. Zatím netuším jaký je rozdíl mezi DragDropExtenderem ze základního balíčku, ale pravděpodobně bude navíc podporovat součinnost jinými komponentami z AtlasToolkitu.</dd> <dt>HoverMenu</dt> <dd>Popup okýnko s mnohem větší flexibilitou než HoverBehavior na klientské straně, viz <a href=\"http://atlas.asp.net/atlastoolkit/HoverMenu/HoverMenu.aspx\">ukázka</a></dd> <dt>PopupControl</dt> <dd>Další popup, tentokrát určený k trochu jiným scénářům, viz <a href=\"http://atlas.asp.net/atlastoolkit/PopupControl/PopupControl.aspx\">ukázka</a></dd> <dt>ReorderList</dt> <dd>Prvek svázaný s daty, který umožňuje reorganizaci pomocí přetahování.</dd> <dt>TextBoxWatermark</dt> <dd>Něco podobného, jako mám v hledacím políčku. Do TextBoxu se vyplní předepsaný text např. „Hledaný text“ a po kliknutí do políčka zmizí.</dd> <dt>ToggleButton</dt> <dd>Extender, který změní klasický CheckBox na obrázkový.</dd> </dl> <p>V toolkitu najdete jak ukázky předpřipraveného kódu k okamžitému použití tak i klasickou SDK dokumentaci. To by bylo k žhavé novince zvané <a href=\"http://atlas.asp.net/default.aspx?tabid=47&amp;subtabid=477\">AtlasToolkit</a> a nyní bych se chtěl zaměřit na nástroje, které nám ulehčí práci při vývoji AJAXových aplikací, Atlas nevyjímaje.</p> <h3 id=\"nastroje\">Nástroje</h3> <p>V první řadě je to kvalitní vývojové prostředí, já doporučuji volně stažitelný <a href=\"http://msdn.microsoft.com/vstudio/express/vwd/default.aspx\">Visual WebDeveloper</a>, který je určen pro vývoj ASP.NET 2.0 aplikací, ale je vhodný i pro vývoj v Atlasu, sice ještě značně pokulhává Intellisense při vývoji JavaScriptu – což mi přijde logické vzhledem k silné netypovosti tohoto jazyka – i při editaci XML-Scriptu – tady zase uvažuji o napsání vlastního schématu, který by měl Intellisence generovat. No vývojáři slibujou, že v nové verzi „Orcas“ bude plná podpora vývoje v Atlasu, tak uvidíme.</p> <p>Nejdůležitějším nástrojem je samotný <a href=\"http://www.microsoft.com/downloads/details.aspx?FamilyId=B01DC501-B3C1-4EC0-93F0-7DAC68D2F787&amp;displaylang=en\">Atlas</a>, který se po instalaci integruje do Visual WebDeveloperu v podobě šablony nového projektu.</p> <p>Další dobrou pomůckou jsou <a href=\"http://www.nikhilk.net/Project.JSUtils.aspx\">JS Utils</a> přidávající do JavaScriptu možnosti <em>kompilace</em>. Balíček obsahuje dva nástroje JSX2JS a JSA2JS. JSX je tzv. Extended JScript – umožňuje v kódu používat direktivy preprocesoru vhodné pro ladění kódu i s možností odlišování prohlížeče, JSA je JScript Assembly a ta umožňuje navíc includovat další JS a JSX soubory, po kompilaci dojde ke spojení souborů do jednoho a komprimaci přebytečných bílých znaků. Celé se to dá pomocí HttpModulu zaintegrovat do runtime ASP.NET a provádět JIT kompilaci. Samozřejmě kompilaci nepravou.</p> <p>Pokud používáte MSIE, bude pro vás nepostradatelný <a href=\"http://www.nikhilk.net/Project.WebDevHelper.aspx\">Web Developer Hepler</a>, který přidá do prohlížeče možnosti debugování JS kódu, logování provozu na HTTP, DOM inspektor, informace o stránce, requesty a návraty dat apod. Pokud ladíte ASP.NET na localhostu podporuje WDH traceování, prohlížení ViewState a mnoho dalšího. Hodně užitečné. Další pomůckou je <a href=\"http://www.microsoft.com/downloads/details.aspx?familyid=E59C3964-672D-4511-BB3E-2D5E1DB91038&amp;displaylang=en\">Developer Toolbar</a>, z dílny vývojářů MSIE.</p> <p>Pokud používáte Firefox, tak něco podobného umí <a href=\"https://addons.mozilla.org/firefox/1843/\">FireBug</a> a <a href=\"https://addons.mozilla.org/firefox/60/\">WebDeveloper Toolbar</a>.</p> <p>Pokud používáte Operu, máte asi smůlu, doufám, že jen zatím, Opera není v Atlasu podporovaná.</p> <p>Pokud používáte Safari, nevím, co bych vám doporučil, nikdy jsem neměl možnost tento prohlížeč vyzkoušet, ale je podporovaný v Atlasu, takže, zde by neměl být problém ;)</p> <h3 id=\"toc-webcasty\">Webcasty</h3> <p>Dnes je tato forma prezentace velice populární a v Microsoftu nezaostávají :)</p> <ul> <li>Nikhil Kothari – Představení platformy Atlas a její vize <a href=\"http://www.microsoft.com/downloads/details.aspx?familyid=5CC5CE52-45B7-4C64-992C-4F0FBC8C8221&amp;displaylang=en\">EXE</a></li> <li>Scott Guthrie – Ukázka vývoje ToDo listu <a href=\"http://download.microsoft.com/download/8/5/8/85803fdd-fe9a-4783-ab37-e0c565172ffd/asp_net_atlas.wmv\">WMV</a></li> <li>Jonathan Hawkins – Přednáška o Atlasu s diváckými dotazy <a href=\"http://download.microsoft.com/download/1/3/1/131b8030-b16e-4f75-b197-f7df71811181/ATLAS_Technology%20Preview_2-27-06.wmv\">WMV</a></li> </ul> <h3 id=\"toc-ukazky-kodu-z-mix-06\">Ukázky kódu z MIX 06</h3> <p><a href=\"http://www.mix06.com/default.aspx?css=226dd03b3\">MIX 06</a> byla konference věnovaná webovému vývoji z pohledu Microsoftu. Krom uvedeni Beta2 verze Internet Exploreru 7 zde byla vypuštěna March CTP Atlasu a Atlasu samotnému bylo věnováno hodně prostoru. Zde některé z přednášek a zdrojových kódů:</p> <ul> <li>Nikhil Kothari <a href=\"http://www.nikhilk.net/Content/Presentations/MIX06.zip\">ZIP</a></li> <li>Brad Abrams a Rick Spencer <a href=\"http://download.microsoft.com/download/b/6/0/b607f6f5-2843-4bc1-b41d-1396e33e81f2/DiceRUs.zip\">ZIP</a></li> <li>Shanku Niyogi <a href=\"http://www.shankun.com/Downloads/MIX_Talk.zip\">ZIP</a></li> <li>Jonathan Hawkins <a href=\"http://outdoorexplorer.org/atlasmap/atlasmap.zip\">ZIP</a></li> </ul> <p>Doufám, že vám tento článek pomohl najít vhodné nástroje k vývoji v Atlasu, či přinesl zajímavé informace ohledně vývoje samotného. Příště se už opravdu pustíme do praktické ukázky a jak už jsem naznačoval minule, mělo by jít o RSS čtečku.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T15:31:59.117-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Začínáme s Atlasem 2a",
  :published #inst "2006-04-13T08:08:25.983-00:00",
  :url "zaciname-s-atlasem-2a",
  :id 133,
  :description "Pokračování seriálu o Atlasu.",
  :category "ASP.NET 2.0",
  :tags []},
 :271-active-record-vs-repository-pattern.aspx
 {:html
  "<p>Dnes se podíváme na dva návrhové vzory z oblasti přístupu k datům, které používají zcela odlišnou filosofii, ale nakonec si ukážeme, že jejich kombinací, můžeme získat celkem zajímavé výsledky.</p> <h3 id=\"toc-active-record\">Active Record</h3> <p>Návrhový vzor <a href=\"http://www.martinfowler.com/eaaCatalog/activeRecord.html\">Active Record</a> staví na předpokladu, že základem aplikace je databázový model a od něj se vše odvíjí. Každý řádek tabulky je reprezentován konkrétní instancí objektu. Většinou je takový objekt odvozen od bázové třídy, která implementuje potřebné rozhranní pro persistenci objektu – typicky <acronym title=\"Create, Read, Update, Delete\">CRUD</acronym> metody.</p> <div><img src=\"/data/obrazky/activerecord.png\" alt=\"Diagram vzoru ActiveRecord\" /></div> <p>Tento vzor se hojně využívá v různých ORM frameworcích. Je součástí dnes velmi módních frameworků <a href=\"http://wiki.rubyonrails.org/rails/pages/ActiveRecord\">Ruby on Rails</a>, <a href=\"http://www.djangoproject.com/documentation/db-api/\">django</a> nebo <a href=\"http://www.castleproject.org/activerecord/index.html\">Castle</a>, které na něm stavějí svůj datový model a díky velice snadnému mapování dokážete napsat (vygenerovat) kostru databázové aplikace během několika málo minut.</p> <p>Pro velice jednoduché aplikace může být tento vzor, díky své jednoduchosti, vhodný. Jenže porušuje několik pravidel dobrého objektového návrhu (persistence ignorance, <a href=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\">single responsibility</a>, pevně daná bázová třída, atd.).</p> <h3 id=\"toc-repository\">Repository</h3> <p>Návrhový vzor Repository je základním kamenem doménou řízeného návrhu. Model aplikace nemá ponětí o tom, jakým způsobem je persistován. O to se stará právě Repository. Navíc díky tomu, že se o persistenci stará cizí objekt, stačí nám znát pouze jeho rozhranní a v případě potřeby ho snadno nahradit jiným.</p> <div><img src=\"/data/obrazky/repository.png\" alt=\"Diagram vzoru Repository\" /></div> <h3 id=\"toc-kombinace\">Kombinace</h3> <p>Teď zabrousím do konkrétnějších implementací a to do <a href=\"http://www.castleproject.org/activerecord/index.html\">ActiveRecord</a> z projektu Castle. Tako konkrétní implementace je postavená na běhovém prostření dotnet a jako svůj základ používá ORM nástroj <a href=\"http://www.hibernate.org/343.html\">NHibernate</a>.</p> <p>Nejpřímější cesta jak s ním pracovat, je podědit třídu z bázové třídy <code>ActiveRecordBase</code> a označit ji a její vlastnosti patřičnými atributy:</p> <pre class=\"csharp\"><code>[ActiveRecord] public class User : ActiveRecordBase&lt;User&gt; { [PrimaryKey] public int Id { get; set; } [Property] public string Name { get; set; } [Property] public string Email { get; set; } [Property] public string Login { get; set; } [Property] public string Password { get; set; } }</code></pre> <p>A můžeme pracovat. Autoři si však byli vědomi toho, že vzor Active Record nemusí vyhovovat všem a přidali statickou třídu <code>ActiveRecordMediator</code>, který dokáže posloužit jako základ pro Repository. Třída pak nemusí dědit z <code>ActiveRecordBase</code>:</p> <pre class=\"csharp\"><code>[ActiveRecord] public class User { [PrimaryKey] public int Id { get; set; } [Property] public string Name { get; set; } [Property] public string Email { get; set; } [Property] public string Login { get; set; } [Property] public string Password { get; set; } } public class UsersRepository : IRepository&lt;User&gt; { public User Load(int id) { return ActiveRecordMediator&lt;User&gt;.FindByPrimaryKey(id); } public void Save(User obj) { ActiveRecordMediator&lt;User&gt;.Save(obj); } public void Delete(User obj) { ActiveRecordMediator&lt;User&gt;.Delete(obj); } }</code></pre> <p>To už je o něco lepší, ale stále máme v aplikačním modelu silnou vazbu na datový model. Můžeme se posunout o level dál a zkombinovat oba vzory tak, abychom z nich vytěžili co nejvíce. Základní myšlenkou je to, že v aplikaci budeme mít jak datový model, tak doménový. Datový model se bude pomocí Active Record starat o persistenci a Repository poslouží k transformaci doménového modelu na ten datový.</p> <p>Něco podobného můžete najít v <a href=\"http://blog.wekeroad.com/mvc-storefront/mvcstore-part-10/\">seriálu</a>, který píše Rob Conery, kde používá zjednodušenou Repository, <code>IQueryable</code> jako filtry a LINQ2SQL jako datový model. Velice zajímavé, doporučuji ke shlédnutí.</p> <p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/activerecord\">ActiveRecord</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/repository\">Repository</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/orm\">ORM</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:26:52.517-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Active Record vs. Repository pattern",
  :published #inst "2008-05-21T12:38:25.493-00:00",
  :url "active-record-vs-repository-pattern",
  :id 271,
  :description
  "Dnes se podíváme na dva návrhové vzory z oblasti přístupu k datům, které používají zcela odlišnou filosofii, ale nakonec si ukážeme, že jejich kombinací, můžeme získat celkem zajímavé výsledky.",
  :category "ASP.NET 2.0",
  :tags ["activerecord" "castle" "repository" "patterns"]},
 :56-sluzba-svatky.aspx
 {:html
  "<p>Vytvořil jsem jednoduchou webovou službu, která vrací jména z&#160;kalendáře. Má dvě metody:</p> <ol> <li><a href=\"/ws/svatky.asmx?op=Dnesni\">Dnesni</a> &#8211; vrací aktuální svátek k&#160;dnešnímu dni</li> <li><a href=\"/ws/svatky.asmx?op=PodleData\">PodleData</a> &#8211; vrací svátek k&#160;datumu předávaného parametrem <strong>datum</strong></li> </ol> <p>Jak vidíte jde o&#160;velice jednoduchou službu, která se dotazuje do databáze svátků. I&#160;přes její jednoduchost jsem narazil na zajímavou věc, o&#160;které jsem dosud netušil, a to, že pokud službu zavoláte pomocí protokolu HTTP-GET nebo HTTP-POST, tak dojde k&#160;chybě, místo vrácení výsledku. Po hodině hledání jsem přišel na to, že ASP.NET 1.1&#160;a novější maj tyto protokoly pro <acronym title=\"web service\" lang=\"en\">WS</acronym> defaultně zablokované. Řešení je ale jednoduché, stačí upravit soubor web.config a vše by mělo fungovat, jak má.</p> <pre class=\"xml\"><code>&lt;configuration&gt; &lt;system.web&gt; &lt;!-- povolení protokolů GET a POST pro WS --&gt; &lt;webservices&gt; &lt;protocols&gt; &lt;add name=\"HttpGet\" /&gt; &lt;add name=\"HttpPost\" /&gt; &lt;/protocols&gt; &lt;/webservices&gt; &lt;/system.web&gt; &lt;/configuration&gt;</code></pre> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Služba Svátky",
  :published #inst "2005-04-28T10:27:00.000-00:00",
  :url "sluzba-svatky",
  :id 56,
  :description "",
  :category "Webové služby",
  :tags []},
 :270-zmeny-na-strankach.aspx
 {:html
  "<p>První viditelnou změnou je úprava RSS exportu, odedneška se budou v hlavním feedu zobrazovat celé články. Pokud chcete v mém feedu i nadále pouze perexy, použijte adresu <a href=\"http://feeds.feedburner.com/rarous/weblog\">http://feeds.feedburner.com/rarous/weblog</a>. Je to experiment, ve kterém si chci ověřit, jaký vliv to bude mít na návštěvnost – čtenost článků. Druhým důvodem je <a href=\"http://www.technorati.com/\">Technorati</a> – doufám, že tak začne indexovat tagy.</p> <p>V rámci optimalizace výkonu <a href=\"/\">homepage</a> jsem všechny agregované feedy hodil do <a href=\"http://www.feedburner.com/\">FeedBurneru</a>, který jim dokáže nastavit cachovací hlavičky a hlavně ETag, kterej např. google nikam nedává. Navíc má mnohem kratší odezvy.</p> <p>Teď mám na hlavní stránce celkem tři úrovně cachování.</p> <ol> <li><em>Veřejné</em>. Stránka má nastavené cahování u klienta a po cestě na dvě minuty – její rychlejší aktualizaci nečekám a je to spíš ochrana proti zběsilému refreshování.</li> <li><em>Output cache na serveru</em>. Využívám cachovacího mechanismu ASP.NET a vyredrovaná stránka se na serveru cachuje 5 minut. To má výhodu v tom, že se posílá odpověď 304, když se obsah nezměnil.</li> <li><em>Cachování agregovaných dat</em>. Když načtu feed, uložím si ho pod jeho ETagem do cache na 45 minut. Při dalším dotazu se pošle požadavek HEAD a stáhnou se jen hlavičky. Pokud se změnil ETag, tak ho v cache nenajdu a musím data načíst GETem.</li> </ol> <p>Myslím, že teď je to celkem účinné, ale stejně ještě přijde časem jedna změna, kdy se o načítání feedů nebude starat Controller, ale na pozadí poběží task, který bude agregovat podobně jako služba <a href=\"http://www.weblogy.cz/\">Weblogy.cz</a>.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:27:47.157-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Změny na stránkách",
  :published #inst "2008-05-19T19:28:40.980-00:00",
  :url "zmeny-na-strankach",
  :id 270,
  :description
  "Trochu jsem si pohrál s těmahle stránkama. Potunil jsem hlavní stránku a upravil výstup RSS.",
  :category "Moje práce",
  :tags ["caching" "etag" "aspnet"]},
 :218-podivny-operator.aspx
 {:html
  "<p>Četl jsem si zdrojáky IronRuby a v deklarcích metod se často objevovalo podivné <code>/*!*/</code>. Např.</p> <pre class=\"csharp\"><code>public RubyConstantAttribute(string/*!*/ name) { if (name == null) throw new ArgumentNullException(\"name\"); _name = name; }</code></pre> <p>Nejpve jsem moc nechápal, asi nějaká interní věc (coding style) pro označování něčeho. Kontrakt v ukázce možná napoví, že by parametr neměl být <code>null</code>. Ale počkat, něco takového má přeci Spec#, NonNullable types. Znáte to ne, v C# 2.0 máme Nullable Value types, vyznačují se tím, že za jejich názvem je otazník, např. <code>int?</code>. No a Spec# ještě přidává NonNullable Reference types s vykřičníkem na konci, např. <code>string!</code>. No jo, ale IronRuby je přece napsaná v C#…</p> <p>Kompilátor Spec# má tu výhodu, že dokáže zkompilovat C# kód. A dokonce pokud se Spec# kód mírně poupraví, tak jde naopak snadno zkompilovat kompilátorem C#. Nějak se nám to zamotává :). Pokud chcete Spec#ový kód zkompilovat v C#, ale nechat ho zkompilovatelný ve Spec#, musíte použít speciální komentáře <code>//^</code> pro jednu řádku, <code>/*^ ^*/</code> pro blok. A ještě je tu jedna výjimka a to právě u toho vykřičníku. <code>/*!*/</code> je zkrácenou verzí <code>/*^!^*/</code>. A jsme doma…</p> <p>Snad se dočkáme Spec#ových vychytávek v nějaké přístí verzi C#, třeba v té čtvrté. Protože předchozí ukázka by mohla vypada odost uhlazeněji:</p> <pre class=\"csharp\"><code>public RubyConstantAttribute(string! name) { _name = name; }</code></pre> <p>a výsledek je stejný.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:30:59.110-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Podivný operátor /*!*/",
  :published #inst "2007-07-28T15:58:35.890-00:00",
  :url "podivny-operator",
  :id 218,
  :description
  "Četl jsem si zdrojáky IronRuby a v deklarcích metod se často objevovalo podivné /*!*/. Co to asi je?",
  :category "ASP.NET 2.0",
  :tags ["specsharp" "csharp" "ironruby"]},
 :29-pisky-sute.aspx
 {:html
  "<p>Právě jsem pověsil aktualizaci stránek <a href=\"http://www.pisky-sute.cz/\">Písky, sutě</a> na web. Zároveň jsem provedl registraci na seznamu, snad se brzo zaindexuje a bude mít dobrý život. V semestru mi snad i zbyde trochu času, abych vytvořil nějakej design.</p> <p>Tak tfuj, tfuj, tfuj, ať si tě Googlebot brzo najde…</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:50:05.953-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Písky sutě",
  :published #inst "2004-08-26T20:00:00.000-00:00",
  :url "pisky-sute",
  :id 29,
  :description "",
  :category "Moje práce",
  :tags []},
 :246-deklarativne-nebo-sablonove.aspx
 {:html
  "<p>Kolega <strong>Tragéd</strong> mi v komentáři k <a href=\"/weblog/245-nforms-pro-asp-net.aspx\">minulému článku</a> sdělil, že moje ukázka je zoufalá. Já s ním tak trochu souhlasím, ale ne úplně.</p> <p>Spousta kolegů píšících v ASP.NET má za zlatou krávu deklarativní zápis všeho možného do ASPX stránky. I já býval takový. Když jsem viděl někde v kódu <code>&lt;% %&gt;</code>, říkal jsem si fůj. Jenže s postupem času se toho člověk celkem hodně naučí. A začne přicházet na to, že ne vždycky je deklarativní zápis to pravé ořechové.</p> <p>Vezměme si jako příklad jednoduchý <code>Repeater</code>. To je kontrol pro cyklický výpis dat. Vrazí se mu cokoli, co implementuje <code>IEnumerable</code> nebo je to <code>DataTable</code>, a on to hezky řádek po řádku vyplivne na stránku.</p> <pre class=\"xml\"><code>&lt;asp:Repeater runat=\"server\" DataSource=\"&lt;%# \"jedna dvě tři\".Split(' ') %&gt;\"&gt; &lt;ItemTemplate&gt;&lt;span&gt;&lt;%# Container.DataItem %&gt;&lt;/span&gt;&lt;/ItemTemplate&gt; &lt;/asp:Repeater&gt;</code></pre> <p>Pak člověku přijde na mysl, v čem je předchozí kus kódu lepší než ten následující?</p> <pre class=\"xml\"><code>&lt;% foreach(string item in \"jedna dvě tři\".Split(' ')) { %&gt; &lt;span&gt;&lt;%= item %&gt;&lt;/span&gt; &lt;% } %&gt;</code></pre> <p>Já vím, je zoufalej, ale proč? Dělá to samé. A troufnu si tvrdit, že je přehlednější a o něco výkonnější. Sice jsem to nijak neměřil, ale již z podstaty, že nemusím parsovat XML Reapeatru, nemusím instanciovat další třídu <code>Reapeater</code>, projít jejím životním cyklem, databindingem atd.</p> <p>Vezměte si dál třeba nějakej deklerativní datasource. Třeba ten SqlDataSource, hned porušujete dobré mravy. Stránka by vůbec neměla o nějakém SQLu nic vědět. To patří do úplně jiné vrstvy aplikace. Netvrdím, že je to úplně špatně. Každej ať si dodržuje svoji štábní kulturu.</p> <p>Dobré na těch dvou ukázkách je to, že si mohu vybrat, který způsob mi víc vyhovuje. Špatné je to, když někdo přes plot křičí, že to co já používám, je zoufalost a že bych se měl zařadit zpátky mezi pravověrné Deklarativisty. Nikdy. Vždycky radši přemýšlej, co je pro daný scénář výhodnější. Mám projekt kde jedna stránka je psaná „postaru“ a další používaj sadu deklarativní komponent. A je to tak v pořádku.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:46:15.650-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Deklarativně nebo šablonově?",
  :published #inst "2007-12-30T18:02:12.583-00:00",
  :url "deklarativne-nebo-sablonove",
  :id 246,
  :description
  "Kolega Tragéd mi v komentáři k minulému článku sdělil, že moje ukázka je zoufalá. Já s ním tak trochu souhlasím, ale ne úplně.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "templates"]},
 :166-eai.aspx
 {:html
  "<p>Extravagantní arogantní introvert.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-07-16T23:07:46.513-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "EAI",
  :published #inst "2006-07-16T23:07:46.313-00:00",
  :url "eai",
  :id 166,
  :description "",
  :category "Jen tak",
  :tags []},
 :1-vitejte.aspx
 {:html
  "<p>Tak po týdnu jsem konečně dokončil práce na rozšiřování mého redakčního systému Gryphoon pro potřeby blogu. Oproti minulé verzi přibyla možnost komentovat příspěvky, může přispívat více autorů, vytvořil jsem archiv článků a dodělal další drobnosti. Ještě mi zbývá udělat pořádný editor příspěvků a rozšířit možnosti editoru komentářů.</p> <p>Mám přislíbenu spoluúčast mých kamarádů na obsahu blogu, takže by se zde měly objevit pestřejší témata, než jen ta má. Tak přeji nám hodně štěstí a ať se staneme pro pár lidí oblíbenými.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vítejte",
  :published #inst "2004-02-14T10:00:00.000-00:00",
  :url "vitejte",
  :id 1,
  :description "Připoutejte se, začínáme.",
  :category "Gryphoon",
  :tags []},
 :100-zima-v-plnem-proudu.aspx
 {:html
  "<p>Je to tak, ještě pořád žiju :) Důvodů proč jsem dlouho nepsal je spousta. Je zima a začalo nám zkouškové období. Nechápu proč je zrovna v&#160;tomhle čase, kdy se mi nechce vůbec nic dělat, maximálně si zajezdit na skybobu nebo prohazovat sníh. Na školu nemám ani pomyšlení, ale asi budu muset. Je to se mnou dost nahnutý, přesto si z&#160;toho nic nedělám&#8230; Nechápu sám sebe :)</p> <p>Poslední tři tejdny jsem věnoval přípravám, provádění a dokončování výroční valné hromady <a href=\"http://druzcov.wz.cz/sdh/\">našeho SDH</a>. Jak už jsem <a href=\"/clanek.aspx/3/mimoradna-schuze\">kdysi psal</a>, jsem jednatelem a tak mám schůze na povel. Dotoho ještě získávání zápočtů, zatim jich némám ani půlku, no jo, co se dá dělat&#8230;</p> <p>Před týdnem jsem si pořídil novou hračku: <a href=\"http://www.evolution.co.uk/products/evo_xsession.htm\">Evolution UC-17&#160;X-Session</a>. Tak si hraju. Včéra jsem namíchal celkem pěknej housík, tak se mi ho snad podaří během týdne pověsit na web, ale nevim. Jsem teď doma a chci tu zůstat o&#160;něco dýl, když do tý Prahy nemusim :) Takže to nebudu posílat po modemu. Možná nám zavedou domu konečně WiFi, ale to bude záležet na tom, jestli tu <a href=\"http://www.jested.net/\">chytnu nějakej signál&#8230;</a></p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-01-22T14:17:41.307-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zima v plném proudu",
  :published #inst "2006-01-21T14:29:39.323-00:00",
  :url "zima-v-plnem-proudu",
  :id 100,
  :description "Pár slouv o současném dění okolo mě.",
  :category "Jen tak",
  :tags []},
 :388-open-graph-a-jeho-nasazeni.aspx
 {:html
  "<h3 id=\"toc-open-graph-a-jeho-nasazeni\">Open Graph a jeho nasazení</h3> <p>Open Graph je protokol, který umožňuje z obyčejných stránek udělat bohaté objekty v sociálním grafu. Jde tedy o další krok k bájnému sémantickému webu.</p> <h4 id=\"toc-semanticky-web\">Sémantický web</h4> <p><a href=\"http://zdrojak.root.cz/n/semanticky-web/\">Sémantický web</a> je takový strašák, o jehož implementaci se snaží chytří pánové již spoustu let. Sic, marně. Dnes tu máme RDF, <a href=\"http://zdrojak.root.cz/n/mikroformaty/\">mikroformáty</a> a <a href=\"http://zdrojak.root.cz/clanky/rdfa-semantika-pro-fajnsmekry/\" title=\"RDFa – sémantika pro fajnšmekry\">RDFa</a>. O všech jste se již na Zdrojáku mohli dočíst.</p> <p>Je <a href=\"http://opengraphprotocol.org/\">Open Graph</a> něco nového? Není. Open Graph staví na infrastruktuře vytvořené v rámci RDFa a inspuruje se gramatikou některých mikroformátů. Zatímco pomocí RDFa vyznačujeme sémanticky bohatá data v <strong>obsahu stránky</strong>, Open Graph se drží zkrátka a pouze obohacuje stránku o <strong>meta informace</strong>, které vyjadřují její <em>postavení v sociálním grafu</em>.</p> <p>Open Graph je protokol vytvořený Facebookem na jeho cestě k opanování internetového světa. Jim totiž nestačí, aby každý měl svůj profil, aby každá firma, každé místo, akce a jiná blbost měla svou FB stránku. Oni chtějí, aby do jejich světa patřily i stránky cizí. Díky Open Graph protokolu můžeme mít rádi nejen lidi a jejich fotečky a statusy, ale i stránky, které vyjadřují věci, jež mají lidi rádi ve světě reálném. Ať už jsou to restaurace, filmy, sporty, nebo i věci zcela imaginární, jako jsou blogísky.</p> <h4 id=\"toc-jak-to-vypada-v-praxi\">Jak to vypadá v praxi</h4> <p>Mám-li např. nějakou stránku o restauraci, můžu z ní udělat uzel grafu. Ona jím vlastně už dávno je, jen se neví, že je to restaurace, jaký je její název, kde leží apod. Tím, že na stránku vložím tlačítko „Tohle se mi líbí“, se dostane do sociální sítě Facebooku. Funguje to tak, že na profilu člověka, který tlačítko stiskne, se objeví odkaz na danou stránku. Odkaz směřuje na stránku, kde bylo stisknuto tlačítko, a jeho textem je <strong>titulek</strong> této <strong>stránky</strong>. Hmm, funkční, ale trošku nepěkné. Ale stránku stačí trošku obohatit o pár tagů a hned to vypadá o něco líp:</p> <h4 id=\"toc-implementace\">Implementace</h4> <p>Prvním krokem bude změna DOCTYPE dokumentu. RDFa je nástavbou nad XHTML, proto změníme DOCTYPE takto:</p> <pre class=\"html\"><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML+RDFa 1.0//EN\" \"http://www.w3.org/MarkUp/DTD/xhtml-rdfa-1.dtd\"&gt;</code></pre> <p>Dále zaregistrujeme jmenný prostor Open Graph protokolu:</p> <pre class=\"html\"><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:og=\"http://opengraphprotocol.org/schema/\"&gt;</code></pre> <p>Tím si zajistíme, že stránka projde validací a splníme formální podmínky pro užití Open Graph protokolu. Pokud se ptáte, jak toto udělat v HTML potažmo v připravovaném HTML5, neznám zatím odpověď. HTML5 bude umožňovat zalinkovat RDFa profil pomocí elementu <code>link rel=\"profile\"</code> , ale další detaily zůstávají zahaleny rouškou tajemství. Zpátky k současné implementaci.</p> <p>Stránku máme připravenou pro bezproblémové vkládání meta informací protokolu Open Graph. Teď už jen zbývá je tam vložit.</p> <h4 id=\"toc-zakladni-udaje\">Základní údaje</h4> <p>Mezi základní údaje objektu sociálního grafu patří název, typ, URL a obrázek. Název a URL stránky jsou tak nějak dány její podstatou, ale ne vždy je obsah elementu <code>title</code> použitelný a ne vždy je aktuální URL v browseru ta správná. Proto stránku obohatíme o základní meta informace:</p> <pre class=\"html\"><code>&lt;meta property=\"og:title\" content=\"The Pub – Praha 1\" /&gt; &lt;meta property=\"og:type\" content=\"bar\" /&gt; &lt;meta property=\"og:url\" content=\"http://www.trop.cz/mista/13/the-pub-praha-1-praha-1-stare-mesto\" /&gt; &lt;meta property=\"og:image\" content=\"http://www.trop.cz/images/200x200/venue/185/the-pub-praha-1/959.jpg\" /&gt;</code></pre> <p>Ze stránky se nám rázem stal bar se jménem <a href=\"http://www.trop.cz/mista/13/the-pub-praha-1-praha-1-stare-mesto\">The Pub – Praha 1</a> a obrázkem. Proč Open Graph nevyužívá mikroformátu <code>rel=\"canonical\"</code> pro detekci správné URL stránky, zůstává otázkou a data musíme pěkně duplikovat…</p> <h4 id=\"toc-rozsirene-udaje\">Rozšířené údaje</h4> <p>Základní údaje nám jasně definují uzel grafu, ale ten můžeme dále obohacovat o další údaje. Mezi obecně doporučované informace patří ještě popis stránky a název web site.</p> <pre class=\"html\"><code>&lt;meta property=\"og:site_name\" content=\"Trop\" /&gt; &lt;meta property=\"og:description\" content=\"Pilsner Unique Bar na Praze 1\" /&gt;</code></pre> <p>Nyní už víme, že stránka baru pochází z <a href=\"http://www.trop.cz/\">Tropu</a>, a máme i popis, což umožňuje Facebooku ukazovat již celkem informačně bohaté příspěvky. Ale můžeme jít ještě dál. V Tropu má každé místo své geo souřadnice a Open Graph protokol pro ně má své místo.</p> <pre class=\"html\"><code>&lt;meta property=\"og:latitude\" content=\"50.0878662\"/&gt; &lt;meta property=\"og:longitude\" content=\"14.4160943\"/&gt;</code></pre> <p>Samozřejmě, když už máme geo souřadnice, máme i adresu:</p> <pre class=\"html\"><code>&lt;meta property=\"og:street-address\" content=\"Veleslavínova 3\" /&gt; &lt;meta property=\"og:locality\" content=\"Praha 1 – Satré Město\" /&gt; &lt;meta property=\"og:postal-code\" content=\"110 00\" /&gt; &lt;meta property=\"og:country-name\" content=\"Česká republika\" /&gt;</code></pre> <p>Nechybí možnost přidávat další atributy jako je telefon, fax nebo e-mail, ale pro představu to jistě stačí. Cpát všechny tyhle informace do hlavičky mi totiž přijde zcela zbytečné, protože stejná data jsou již ve stránce obsažena a jsou označena patřičným mikroformátem (platí pro detail místa na Tropu). Je dost možné, že v dalších verzích bude Open Graph umět extrahovat data i z těla stránky, ale bojím se, že to bude opět za pomoci RDFa.</p> <h4 id=\"toc-typy-objektu\">Typy objektů</h4> <p>Teď už umíme uzel grafu pěkně popsat, jaké typy objektů umíme popsat? Měly by to být takové věci, které mají lidé rádi nebo je můžou doporučit. Seznam je poměrně dlouhý, ale pár zajímavých si tu můžeme uvést. Jsou to tedy již zmíněné bary (<code>bar</code>) a restaurace (<code>restaurant</code>), dále pak školy (<code>school</code>), města (<code>city</code>), země (<code>country</code>), ale i herci (<code>actor</code>), skupiny (<code>band</code>), knihy (<code>book</code>), filmy (<code>movie</code>), jídlo (<code>food</code>) a pití (<code>drink</code>) a v neposlední řadě i sport (<code>sport</code>). Samozřejmě stránka může být i stránkou (<code>website</code>), článkem (<code>article</code>) nebo blogískem (<code>blog</code>). Kompletní výčet najdete <a href=\"http://opengraphprotocol.org/\">ve specifikaci Open Graph protokolu</a>.</p> <h4 id=\"toc-k-cemu-to-je-dobre\">K čemu to je dobré?</h4> <p>Celé to je omáčka k sociálním plug-inům, především k tlačítku <a href=\"http://developers.facebook.com/docs/reference/plugins/like\">libí se mi</a>. Chodíte po webu a na stránkách dáváte palec nahoru věcem, co se vám líbí. Facebook díky meta informacím ví, co za <strong>objekt zájmu</strong> to bylo, a může tak rozšiřovat <strong>váš profil</strong>. Dělá to tak, že rozšiřuje kolekci vašich oblíbených stránek, které navíc přiřazuje do kategorií. Kategorie se kryjí s výše zmíněnými typy objektů. <strong>Vaši přátelé</strong> pak na vašem profilu <strong>vidí</strong>, jaké máte rádi filmy, jakou posloucháte hudbu, kam chodíte do hospody, co vám chutná a jakým způsobem rádi týráte své tělo.</p> <h4 id=\"toc-kdo-to-pouziva\">Kdo to používá?</h4> <p>Od uvedení Open Graph protokolu uběhly tři týdny a již dnes jej implementovalo přes 100 000 webů. My jsme na Tropu nejprve přidali tlačítko <em>líbí se mi</em> k jednotlivým místům. Nasazení bylo otázkou několika minut a byli jsme mezi prvními. V druhé iteraci jsme přidali <em>meta informace</em> a změnili tlačítko <em>líbí se mi</em> na <em>doporučuji</em>. Ve třetí jsme přidali další sociální plug-iny jako <a href=\"http://developers.facebook.com/docs/reference/plugins/like-box\">Like Box</a> a <a href=\"http://developers.facebook.com/docs/reference/plugins/recommendations\">Recommendations</a>. Ovšem nejsme jediní.</p> <p>Díky Open Graphu si můžete při procházení filmů na IMDB klikat na filmy, které se vám líbí, a budou se vám přidávat do profilu. Bohužel česká alternativa <a href=\"http://www.csfd.cz/\">ČSFD</a> neimplementuje atribut <code>type</code> a tak není známa informace, že jejich stránky obsahují filmy (doporučuji doplnit). Na <a href=\"http://www.idnes.cz/\">iDnesu</a> sice můžete doporučovat zprávy, ale opět je tu chyba v atributu <code>type</code>, kde je u článků hodnota <code>website</code>, která se hodí spíše na homepage, a v článcích by měl být typ <code>article</code>. Dále pak třeba služba <a href=\"http://www.ontheroad.to/\">OnTheRoad.to</a> umožňuje oblíbit si cestovní zápisky (opět chybí <code>type</code> <code>article</code>).</p> <p>Nejrychleji tuto funkci tedy implementovaly osobní blogy a obsahová media, méně již katalogy objektů zájmů, u kterých by tato funkcionalita měla být zajímavější pro obohacování sociálního grafu.</p> <p>Open Graph nepřináší jen výhody pro samotný Facebook, který tak dokáže rozšířit své znalosti o svých uživatelích, ale je to i zajímavá cesta k propagaci vašich stránek na Facebooku.</p> <p>Tak šup, implementujte!</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-05-12T14:20:33.110-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Open Graph a jeho nasazení",
  :published #inst "2010-05-12T14:08:48.147-00:00",
  :url "open-graph-a-jeho-nasazeni",
  :id 388,
  :description "",
  :category "Webdesign",
  :tags []},
 :47-terminy.aspx
 {:html
  "<p>Je tomu bohužel tak, termíny svazují náš život :) A&#160;když jsem si myslel, že během zkouškového období stihnu přepsat redakční systém Gryphoon, tak jsem se šeredně přepočítal. Od posledního příspěvku jsem nenapsal ani řádku nového kódu :( Může za to hodně práce a do toho ještě zkouška z&#160;Diskrétní matematiky a logiky, kterou dělám zítra.</p> <p>Jednou z&#160;těch prací je příprava nového designu pro <a href=\"http://ggdag.euweb.cz\">GiGi D'AGOSTiNO Czech fan pages</a>, trochu jsem se začal angažovat v&#160;českém fanklubu. Když jsme u&#160;tý muziky, v&#160;sobotu 19.&#160;2. bude v&#160;<a href=\"http://www.discodubnice.cz\">Dubnici</a> (u&#160;Stráže pod Ralskem) <a href=\"http://www.djorbith.com\">DJ Orbith</a>, takže tímto zvu všechny příznivce taneční muziky na pořádnou kalbu. Určitě budu o&#160;této akci ještě referovat a možná přihodím i&#160;nějakej obrázek.</p> <p>Další práce je ta pro <a href=\"http://www.benteler.cz\">Benteler</a>. Dodělal jsem Sklad a teď pracuju na databázi revizí strojů. Základ je úplně stejnej jako u&#160;Skladu, akorát je to dělaný pro víc závodů najednou. No mám na to ještě tejden a půl a ještě nemám funkční kus, pouze kostry stránek s&#160;náznakem funkčnosti. Pak se to celé musí odladit a otestovat, to zase bude fofr, už se na to těšim :)</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:46:22.750-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Termíny",
  :published #inst "2005-02-15T00:00:00.000-00:00",
  :url "terminy",
  :id 47,
  :description "",
  :category "Jen tak",
  :tags []},
 :120-menu-pro-ruzne-role.aspx
 {:html
  "<p>ASP.NET 2.0&#160;přichází s&#160;konceptem SiteMaps spojeným s&#160;několika serverovými prvky určenými k&#160;práci s&#160;navigací (Stopy, Menu, TreeView). V&#160;zásadě to funguje jednoduše, stačí vytvořit soubor <strong>Web.sitemap</strong> např. v&#160;rootu webu, na který je defaultně namapovaný <code>SiteMapProvider</code>, pak stačí přidat požadované uzly navigace do sitemapu, požadované navigační prvky do stránky a je to. Už to funguje.</p> <p>Ve spoustě scénářů to může stačit, ale někdy přijde čas omezit některým uživatelům přístup do některých částí webu. V&#160;článku <a href=\"http://gridviewguy.com/ArticleDetails.aspx?articleID=165\">Creating Menu Based on Role</a> se autor pokusil nastínit, jak postupovat. Mě se na tom nelíbí jedna věc. Vybírá menu programově podle role. Podle mého skromného názoru je to zbytečná práce, protože ASP.NET 2.0&#160;má v&#160;SiteMapu rozlišování rolí zabudované a proto by mělo stačit do web.sitemap souboru přidat omezení na role:</p> <pre class=\"xml\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt; &lt;siteMap xmlns=\"http://schemas.microsoft.com/AspNet/SiteMap-File-1.0\" &gt; &lt;siteMapNode url=\"~/\" title=\"root\" description=\"Site Map Root\"&gt; &lt;siteMapNode siteMapFile=\"~/Navigation/Admin.sitemap\" roles=\"Admin\" /&gt; &lt;siteMapNode siteMapFile=\"~/Navigation/User.sitemap\" roles=\"User\" /&gt; &lt;/siteMapNode&gt; &lt;/siteMap&gt;</code></pre> <p>Ale možná se pletu :)</p> <h3>Update</h3> <p>Dnes jsem narazil na zajímavou sérii článků o&#160;práci se SiteMap, kdyby jste měli zájem: <a href=\"http://aspnet.4guysfromrolla.com/articles/111605-1.aspx\">Examining ASP.NET 2.0's&#160;Site Navigation</a></p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-17T14:33:55.600-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Menu pro různé role",
  :published #inst "2006-03-15T09:16:47.423-00:00",
  :url "menu-pro-ruzne-role",
  :id 120,
  :description "Jak na to.",
  :category "ASP.NET 2.0",
  :tags []},
 :15-adsl-a-tiscali.aspx
 {:html
  "<p>Služba ADSL je u&#160;nás již pěknou chvilku. Existuje řada providerů &#8211; od Českého telecomu, přes GTS, Nextru, až třeba po Tiscali&#8230;</p> <p>Mám možnost pozorovat, jak se věci mají právě v&#160;Tiscali, takže své úvahy budu směřovat pouze k&#160;této firmě. Pro Tiscali je stále nejlepším zdrojem příjmů klasické připojení přes Dial-Up. ADSL, ač jsou na něj solidní reklamy, je stále jen méněcennou službou. A&#160;podle toho tato služba taky vypadá. Připojení je pomalé(agregační poměr je značný, takže na solidní brouzdání je nutná aspoň 1024), spojení často vypadává a nakonec můj oblíbený problém s&#160;Asus routerem, který Tiscali prodává. Tento router funguje u&#160;všech providerů naprosto bezproblémově &#8211; pouze u&#160;Tiscali se seká, zapomíná nastavení, nelze se na něj vůbec připojit, často na něm padá synchronizace a mnoho dalších problémů&#8230; To už se vůbec nezmiňuji o&#160;fair politice, která je zaměřena proti stahovačům&#8230; (Pokud budete stahovat moc(3GB/měsíc na 512), tak vám snížíme prioritu paketů.)</p> <p>Závěrem snad jen tolik, že ADSL je dobrá myšlenka, pokud se ale rozhodnete pro Tiscali, tak budete proklínat den, kdy Vás napadla :)</p> <p>Takže užívejte a nezuřte. :)</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "jaques",
  :title "ADSL a Tiscali",
  :published #inst "2004-04-22T09:16:55.000-00:00",
  :url "adsl-a-tiscali",
  :id 15,
  :description "",
  :category "Jen tak",
  :tags []},
 :431-dip-ioc-a-di-dil-prvni.aspx
 {:html
  "<p>Zmatení pojmů je úžasná věc. Něco si myslíte a tak řeknete něco, co vás napadne jako první. A většinou je to blbost. Ale lidi se to naučili tolerovat, protože stejný blbosti děláme všichni. Nakonec si nikdo nerozumí, ale všichni dělaj, jako že jo. Nechtěj vypadat jako blbci.</p> <p><strong>Disclaimer:</strong> <em>Článek si neklade za cíl se do někoho navážet, někoho ranit nebo zesměšňovat. Klade si za cíl otevřít otázky nad obecně přijímanými pravdami.</em></p> <p>Dependency Inversion Principle, Inversion of Control a Dependency Injection mají tolik vzájemně společných slov, že musí být i blbci jasné, že spolu úzce souvisí. A přitom je to blbost. Existují jistá místa, kde se můžou vzájemně dotýkat, ale vůbec to tak nemusí být.</p> <p>Začněme jednoduchým příkladem z praxe. Běžně začneme tak, že si vytvoříme rozhraní pro repository <code>IRepository&lt;TEntity&gt;</code> a prdneme ho do projektu/namespace <code>MyAwesomeApp.Data</code>. To je jasný, repository přece patří do datový vrstvy! Ne asi. Pak si uděláme konkrétní implementace jako <code>MyAwesomeApp.Data.ArticleRepository : IRepository&lt;Article&gt;</code> a podobně. Každá si v konstruktoru vytvoří <code>DataContext</code>, který se nějak nakonfiguruje. Ten pak obalíme svejma metodama a spokojeně rozšiřujeme rozhraní třídy s každým dalším dotazem…</p> <p>Pak si někde přečteme, že testovatelnost, DI a tak, a tak teda uděláme přetížení konstruktoru, který bude brát <code>DataContext</code> odněkud z venku, ale abychom nechodili moc daleko, to venku bude původní přetížení, který jen zavolá tohle nové. Poor men's DI ve své nejčistší formě.</p> <p>Pro jistotu se zeptám: Vidíte tu nějaký Inversion of Control nebo uplatnění Dependency Inversion Principle? Houby s octem! DI s nimi tedy určitě nesouvisí. Pokud vám někdo tvrdí, že IoC je obecný princip a DI je jeho konkrétní implementace, neříká pravdu. :)</p> <p>Ok, pokračujeme dál. Vytvoříme si ten doménovej model. Vlastně to jsou jedna k jedný entity z databáze, ale who cares? Je třeba si z checklistu odškrtnout další zkratku začínající na D. Taková malá úlitba OO bohům. Na to si vytvoříme novej projekt <code>MyAwesomeApp.BusinessLogic</code>, aby bylo jasný, že děláme ten business a má to nějakou logiku. Sem krom entit z databáze nasereme taky všemožný <a href=\"/weblog/331-proc-jsou-staticke-helpery-zlo.aspx\">statický helpery</a> a podobně, co zrovna budeme potřebovat znovu použít. No a protože některý helpery budou potřebovat naše entity ukládat do databáze a taky se na ně dotazovat, tak z nich uděláme teda instanční třídy a necháme si nainjektovat nějaký repository. Třeba tak: <code>PublishingManager(ArticleRepository repository)</code>.</p> <p>Držíme se dependency injection. No a proto, aby nám vůbec šla ta repository nainjectovat, přidáme referenci na naši datovou vrstvu. Tak určitě. Jak jinak byste to chtěli přece řešit?</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-10-26T14:07:51.627-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "DIP, IoC a DI - díl první",
  :published #inst "2012-10-26T12:54:19.593-00:00",
  :url "dip-ioc-a-di-dil-prvni",
  :id 431,
  :description
  "První motivační díl z úžasného osvětového cyklu zaměřeného na rozbíjení zkostnatělých mítů a jiných blbostí.",
  :category "Moje práce",
  :tags []},
 :223-google-reader-nyni-skoro-dokonaly.aspx
 {:html
  "<p>Google Reader byl konečně obdařen funkcí, která nejen mně hodně chyběla. Konečně i v <a href=\"http://reader.google.com\">Google Readeru</a> lze v agregovaných příspěvcích vyhledávat. Kromě toho lze i hledání omezit pouze na určité složky/štítky.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:22:43.967-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Google Reader nyní skoro dokonalý",
  :published #inst "2007-09-07T13:50:05.510-00:00",
  :url "google-reader-nyni-skoro-dokonaly",
  :id 223,
  :description
  "Google Reader byl konečně obdařen funkcí, která nejen mně hodně chyběla. Konečně i v Google Readeru lze v agregovaných příspěvcích vyhledávat.",
  :category "Webdesign",
  :tags ["rss" "atom" "google" "reader"]},
 :260-dynamic-silverlight.aspx
 {:html
  "<p>Jednou z věcí, na kterou se dlouho těším, je podpora dynamických jazyků v Silverlightu 2+. Umožňuje to nový stack v .net runtime <acronym title=\"Dynamic Language Runtime\">DLR</acronym>, nad kterým jsou implementovány jazyky <a href=\"http://www.codeplex.com/IronPython\">IronPython</a>, <a href=\"http://www.ironruby.net/\">IronRuby</a>, JScript.net a budoucí verze Visual Basicu označovaná jako VBx.</p> <p>Dynamic Silverlight – jak se rozšíření <a href=\"http://silverlight.net/\">Silverlightu</a> 2.0 pro dynamické jazyky nazývá – byl představen poslední den konference MIX08. Zájemcům doporučuju shlédnout <a href=\"http://sessions.visitmix.com/?selectedSearch=T28\">záznam přednášky</a> Johna Lama. No a právě včera byly zprovozněny <a href=\"http://dynamicsilverlight.net/\">nové stránky</a> tohoto zajímavého projektu, kde si můžete stáhnout SDK s potřebnými knihovnami. Tak s chutí do hraní! :)</p> <p>Tagy: <a href=\"http://technorati.com/tag/silverlight\">Silverlight</a>, <a href=\"http://technorati.com/tag/ironpython\">IronPython</a>, <a href=\"http://technorati.com/tag/ironruby\">IronRuby</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:43:58.907-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Dynamic Silverlight",
  :published #inst "2008-03-15T11:48:20.540-00:00",
  :url "dynamic-silverlight",
  :id 260,
  :description "Pár odkazů na dynamické jazyky do vašeho prohlížeče.",
  :category "Webdesign",
  :tags ["silverlight" "dlr" "ironpython" "ironruby"]},
 :262-pomozte-s-bakalarkou.aspx
 {:html
  "<p>Kamarád a bývalý kolega, mj. duchovní praotec služby weblogy.cz, Jirka Lahvička potřebuje pomoc s bakalářskou prací. <a href=\"http://dotaznik.lahvicka.cz/\">Připojte se</a> také, nezabere vám to víc jak deset minut.</p> <p>Mrkněte na následující <a href=\"http://dotaznik.lahvicka.cz/\">dotazník</a>. Díky</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-06T18:22:17.417-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pomožte s bakalářkou ",
  :published #inst "2008-04-06T18:19:49.650-00:00",
  :url "pomozte-s-bakalarkou",
  :id 262,
  :description
  "Kamarád a bývalý kolega, mj. duchovní praotec služby weblogy.cz, potřebuje pomoc s bakalářskou prací. Připojte se také, nezabere vám to víc jak deset minut. http://dotaznik.lahvicka.cz/",
  :category "Kamarádi",
  :tags []},
 :33-rychle-a-zbesile.aspx
 {:html
  "<p>Určitě nikomu neuniklo, že včéra dávali na Nově film <strong>Rychle a zběsile</strong>. Bohužel je tento film důkazem toho, jak se dokáže negativně podepsat dabing na kvalitě filmu. Originál je fakt dobrej, ale dabing ho opravdu zničil. Nejen projev dabérů, ale i&#160;některé hlášky v&#160;češtině mě doháněli k&#160;slzám a v&#160;půlce jsem to raději vypnul a šel spát. Škoda&#8230;</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:51:30.940-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Rychle a zběsile",
  :published #inst "2004-10-17T00:00:00.000-00:00",
  :url "rychle-a-zbesile",
  :id 33,
  :description "",
  :category "Jen tak",
  :tags []},
 :96-spolecny-projekt-microsoftu-a-googlu.aspx
 {:html
  "<p>Dnes se internetem šíří samé podivné zprávy. Nejprve RSS team zveřejnil informaci, že <a href=\"http://blogs.msdn.com/rssteam/archive/2005/12/14/503778.aspx\">ikonka pro feedy v novém Internet Exploreru bude stejná jako ve Firefoxu</a>, na čemž se domluvili zástupci obou stran (Microsoft a Mozilla Foundation). Takovýto postup prý není ojedinělým. Předtím se takto domluvili na podbarvení adresního řádku ve výjimečných situacích.</p> <p>Další neuvěřitelnou zprávou je, že <a href=\"http://neowin.net/index.php?act=view&amp;id=31764\">Microsoft spojí své síly s Googlem</a>, Sunem a univerzitou Berkley. Ke spojení sil dojde pouze na akademické půdě, jde totiž o vytvoření výzkumné laboratoře, kde se budou vyvíjet a testovat technologie pro <acronym title=\"Reliable, Adaptive and Distributed Systems\">RAD</acronym> systémy. V ostatních případech zůstanou tyto firmy rivaly.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-25T08:06:47.797-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Společný projekt Microsoftu a Googlu",
  :published #inst "2005-12-15T16:33:52.340-00:00",
  :url "spolecny-projekt-microsoftu-a-googlu",
  :id 96,
  :description
  "Microsoft spojí své síly s Googlem, ale zas tak horké to nebude.",
  :category "Jen tak",
  :tags ["rss" "firefox" "microsoft" "google" "ie7"]},
 :171-blok-using.aspx
 {:html
  "<p>Jazyk C# je obdařen velice zajímavým blokem uvozený slovem <em>using</em>. Víte k čemu slouží? Používáte ho? Pokud jste si na jednu z předchozích otázek odpověděli negativně, měli byste si přečíst následující řádky. :)</p> <p>Klíčové slovo <code>using</code> má v C# hned dva významy. Tím prvním je import namespaců a vytváření aliasů k třídám, ale ten je pravděpodobně provařený. Druhým významem je uvození bloku, ve kterém se používá komponenta implementující rozhranní <code>IDisposable</code>. Implementace IDisposable se používá k uvolňování zdrojů.</p> <pre class=\"csharp\"><code>SqlConnection conn = new SqlConnection(connString); conn.Open(); // práce s databází conn.Close();</code></pre> <p>To byla ukázka naivního přístupu k databázi, kdy se spoléháme, na to, že vše proběhne v pořádku a dojde k zavolání <code>conn.Close()</code>, což může být klidně pravda, ale pokud dojde k vyvolání jakékoli vyjímky před zavoláním <code>conn.Close()</code>, zůstane připojení stále otevřené, dokud nedojde k timeoutu a objekt <code>conn</code> nezpracuje GC. To může trvat hodně dlouho a zabírat tak zbytečně cenné systémové zdroje.</p> <pre class=\"csharp\"><code>using (SqlConnection conn = new SqlConnection(connString)) { conn.Open(); // práce s databází }</code></pre> <p>A takle by se to mělo psát. :) Blok using přijímá jako parametr disposovatelné komponenty a na konci bloku zavolá <code>IDisposable.Dispose()</code>. V případě SqlConnection volá metoda <em>Dispose</em> metodu <em>Close</em>. Nutno podotknout, že k zavolání metody <em>Dispose</em> dojde i při vyhození vyjímky. Jak je toho dosaženo? Blok using neni nic jiného než zkráceným (a pro mě i přehlednějším) zápisem následujícího kódu.</p> <pre class=\"csharp\"><code>SqlConnection conn = new SqlConnection(connString); try { conn.Open(); // práce s databází } finally { conn.Dispose(); }</code></pre> <p>Toť celé tajemství a kouzlo bloku using. Závěrem bych vám chtěl ještě doporučit blok using používat všude tam, kde používáte nejrůznější Readery, Writer a jiné třídy implemetující rozhranní IDisposable, protože tak můžete ušetřit cenné zdroje a zvýšit tak výkon vaší aplikace :) Hodně štěstí…</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:25:57.647-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Blok using",
  :published #inst "2006-07-28T19:33:08.953-00:00",
  :url "blok-using",
  :id 171,
  :description
  "Pár slov k zajímavému bloku, který může zvýšit výkon vaší aplikace.",
  :category "Tuning",
  :tags ["csharp" "idisposable"]},
 :39-percentualita.aspx
 {:html
  "<p>Tmavé skladiště – nikde se nic nehýbe. Ticho. Je to skladiště těkavých látek. A&#160;uprostřed velké haly stojí dva největší barely. Co obsahují? Asi nějakou kyselinu – na tom nezáleží.</p> <p>Nikde se nic nehýbe. Nikde se nic nehýbalo. Víte jak vypadá světluška? Je to taková hnusná věcička mezi housenkou a broukem, které svítí prdelka. Tak to, co se tady hýbalo vypadalo, jako kdyby se nějaké té světlušce zadeček sám utrhnul a samovolně si poletoval ve vzduchu. Právě okolo těch nádrží. Létalo a kroužilo a kroužilo a zpomalovalo.</p> <p>Teď vyselo ve vzduchu asi dva a půl metru nad zemí a začalo kolmo přistávat. Přitom za sebou nechávalo nemizející stopu. Níž a níž, až se dotklo studené betonové podlahy a zajelo do ní.</p> <p>Nyní byl mezi nádržemi slabý sloup světla – ona stopa, co za sebou světélko nechávalo. Sloup se začal cukavě rozpínat, ale vždy, jakoby mu to nevydrželo a vrátil se zpět do původní polohy. Rozpínání bylo pokaždé do dvou rozměrů, ale nepravidelně do jiných dvou.</p> <p>Jak se projeví imploze s&#160;normálním tlakem v&#160;okolí? Mě se neptejte, nejsem fyzik, ale tak nějak to následující vypadalo. Jako imploze neimploze – těžko říct. Kouř odvál průvan a prach sedl.</p> <p>Mezi kovovými sudy stálo stvoření, na které když pohlédne slabší nátura, tak má v&#160;kalhotách i&#160;to, co měli k&#160;snídani kolemstojící. Byla to humanoidní příšera s&#160;rudou šlachovitou kůží a třemi a půl rohy na hlavě (a kde je ta půlka? Zmrzačení je odpověď. Ale v&#160;tom lepším slova smyslu – totiž, když jste zmrzačení tím správným způsobem, jste třikrát děsivější, než ve vyžehleném saku).</p> <p>Vydala mocný hrdelní řev a pak, světe div se, se zmateně rozhlédla kolem sebe, vypoulila oči, po nechápavém výrazu se podívala ke svým nohám a svěsila ramena.</p> <p>„Stop!“ zakřičel jakýsi hlas. „Ty idiote! Kdy se to konečně naučíš, co?!“</p> <p>„Sory šéfe,“ zaduněla příšera.</p> <p>Řvací hlas pokračoval: „To bylo pořád samý: Já sem skvjelej, šéfe! Nenajdete nikoho lepšího, šéfe! K&#160;čemu sou ve filmu speciální efekty, když můžete mít pravýho démona. Šéfe!“ ječel ječící na ječeného.</p> <p>„Fakt rejžo, promiň – mě ten vejškovej rozměr furt nějak nejde,“ omlouval se démon.</p> <p>Metr čtyřicet postavička přistoupila k&#160;třímetrové (tedy v&#160;současné chvíli dva a půl metrové, protože onen zbývající půlmetr byl zapuštěn do podlahy) hroudě šlach a svalů: „Ale to už mi řikáš podvacátý! To, abych si na další záběr přived svojí matku, protože už mi nestačej prsty! Dyť plochu už si zvlád – už nekončíš v&#160;těch nádržích, tak proč nedokážeš přistát na podlaze?! Ani v&#160;podlaze, ani nad podlahou, ale na podlaze! Copak je t tak složitý?!“</p> <p>„Ne, neni šéfe, ale když já mam tu špatnou prostorovou orientaci a koor- koordi- koortininácii,“ tvor měl stále sklopené oči a dodal: „Ale nad podlahou bych to zvládnul, opravdu.“</p> <p>„Ne! Ty bys to možná zvládnul, ale já to nechci! Dokážeš si to představit?! Lítáš tady jako malý nevinný světýlko a v&#160;tom se tady zjevíš půl metru nad zemí! Ty! Voči sice na zadku nemáš, ale kdybys měl, tak by sis je pěkně narazil! A&#160;víš vo co?! Vo podlahu ve sklepě! Protože tam by ses s&#160;tou tvojí tlustou prdelí touhle podlahou propad!“ a čtyřikrát vztekle zaskákal. „Doneste někdo tu sbíječku a dostaňte ho z&#160;tý podlahy,“ zavolal do éteru a otočil se zpět k&#160;poděsovi: „A ať je ten další záběr poslední!“</p> <p>Režisérovi někdo nervózně klepnul na rameno: „Promiňte rejžo.“</p> <p>„Coje?“ otočil se mužík a uviděl před sebou jednoho z&#160;mnoha svých pomocníků.</p> <p>Chlápek si mírně povolil kravatu: „No, máme tady jednu zájemkyni o&#160;práci. Je to jedna z&#160;nich pa-“</p> <p>„Vyhoď jí, ať je to kdo chce,“ přerušil ho nadřízený.</p> <p>„Ale pane, ona se odvolává na zákon o&#160;tom, že každý podnik musí zaměstnávat určité procento nadpřirozených a mýtických… jaksi osob, pane.“</p> <p>„Ale dyť my máme určitý procento – mám je tady dva. Santu Clause a,“ otočil se a ukázal na démona: „A tohodle magora. A&#160;dva odpovídá těm vládním požadavkům.“</p> <p>Asistentova nervozita teď sama znervózněla: „To ano, pane, ale ona se v&#160;tom tak trochu šťourala a zjistila, že každý nadpřirozený, či mýtický… osoba buď má zaměstnání, anebo mu musíme umožnit se v&#160;určité percentualitě se jako nechat zaměstnat, pane.“</p> <p>„A?“</p> <p>„No, a zjistila, že Santa vlastně furt pracuje tam s&#160;elfama v&#160;borovym háji, či kde, a dělá dárky na vánoce a tudíž má tohle jako takovou bokovku – zkrátka, podle zákona není vše potřebné obsazené a říká něco o&#160;úřadech, jak nás práskne, když jí nepřijmeme a jak má kámoše krakena, kterej je opravdu celkem přerostlý zviřátko a tak, pane.“</p> <p>Režisér svěsil ramena: „Ach, jo. Tak kde je?“</p> <p>„Tady za tou kulisou, ale radím vám pane, abyste se tam nekou-“ <br />Režisér vykřikl a to bylo to poslední, co kdy udělal.</p> <p>Asistent smutně dodal: „-kal, protože je to Medúza a zkameníte, když se jí podíváte do očí.“</p> <p>Zpoza kulisy se ozvalo: „P-p-promiňte, to-to-to tosemiještě ne-ne-nestalo. To-to-to budeasi ta-ta-ta tr-tréma. S-s-s-s-sssssssssssss&#173;ssssssssss. Do-do-dostanu tu práci?“</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "dekan",
  :title "Percentualita",
  :published #inst "2005-01-24T11:27:12.000-00:00",
  :url "percentualita",
  :id 39,
  :description "",
  :category "Jen tak",
  :tags []},
 :416-novy-blog-ktery-stoji-za-pozornost.aspx
 {:html
  "<p>Nestává se často, že by v dnešní době vznikaly nové kvalitní české blogy se zajímavým obsahem. Ale teď se to stalo…</p> <p>Tohle opravdu stojí za pozornost! <a href=\"http://blog.think-forth.com/\">THINK FORTH!</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-03-02T19:39:04.007-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nový blog, který stojí za pozornost",
  :published #inst "2012-03-02T19:39:03.943-00:00",
  :url "novy-blog-ktery-stoji-za-pozornost",
  :id 416,
  :description
  "Nestává se často, že by v dnešní době vznikaly nové kvalitní české blogy se zajímavým obsahem. Ale teď se to stalo...",
  :category "Jen tak",
  :tags []},
 :175-proc-lide-nechteji-platit-za-software.aspx
 {:html
  "<p>To je otázka, na kterou stále hledám odpověď, kterou v tonto článku nenaleznete :D</p> <p>Po pročtení diskuze <a href=\"http://diskuse.jakpsatweb.cz/index.php?action=vthread&amp;forum=4&amp;topic=32431\">V čem kódujete?</a>, mě docela zarazila následující věta:</p> <blockquote> <p>PSPad nebo Dreamweaver 8, podle nálady.</p> </blockquote> <p>Co mě na této větě zarazilo? Že pisatel používá podle nálady software, který je zadarmo, nebo software, který stojí něco okolo patnácti tisíc kurun. Toto chování mi nepřipadá moc logické. Já kdybych si koupil Dreamweaver za patnáct tisíc, tak bych se z něj snažil vytřískat co jde (a že toho jde opravdu hodně). Nevím, třeba pisatel vydělává takové sumy, že mu nevadí nepoužívat software za celkem vysokou částku. Ale divil bych se tomu.</p> <p>Další, pro mě zarážející, informací bylo něco ve smyslu: Cokoli, co zvýrazňuje syntaxi a je to zadarmo. Proč nejsou lidé ochotní platit za nástroje, které jim nemalou měrou dopomáhájí k slušným výdělkům? Nepochopím…</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:23:08.440-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Proč lidé nechtějí platit za software?",
  :published #inst "2006-08-21T14:45:12.800-00:00",
  :url "proc-lide-nechteji-platit-za-software",
  :id 175,
  :description
  "To je otázka, na kterou stále hledám odpověď, kterou v tonto článku nenaleznete...",
  :category "Webdesign",
  :tags ["dreamweaver"]},
 :57-php2asp-net-konvertor.aspx
 {:html
  "<p>Začal jsem předělávat <a href=\"http://www.texy.info/\">Texy!</a> syntax converter do .net. Opět jsem narazil na menší problém, nerozunim php, ve kterém je Texy! napsané a navíc se mi nechtělo implementovat 140kB zdrojových kódů od znovu. Naštěstí jsem našel <a href=\"http://www.asp.net/migrationassistants/php2aspnet.aspx?tabindex=0&amp;tabid=1\">nástroj od Microsoftu</a>, který konvertuje PHP do ASP.NET, konkrétně do C# :) Takže většinu těžké práce mám za sebou, teď musim odchytat chyby (cca 260), které vznikly při převodu a pak odladit&#8230;</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "PHP2ASP.NET konvertor",
  :published #inst "2005-04-28T13:20:00.000-00:00",
  :url "php2asp-net-konvertor",
  :id 57,
  :description "",
  :category "Webdesign",
  :tags []},
 :157-dnesni-browsery-jsou-nepouzitelne.aspx
 {:html
  "<p>Dnešní prohlížeče jsou prakticky nepoužitelné k&#160;prohlížení sofistikovanějších dokumentů a nepřímo tak nutí webdesignery k&#160;prasárnám. Jak jinak se dá vysvětlit diletantsví, kdy se ostylovaný XML dokument renderuje v&#160;Quirks módu? Oč jde?</p> <p>XHTML má být rozšiřitelný značkovací jazyk využívající mechanismů XML. Rozšiřitelnost je bohužel explicitní pomocí přepsání DTD, což neni moc vhodné řešení. Proto vznikla reinterpretace XHTML v&#160;XSD. Zde se už dá implicitně rozšiřovat jazyk pomocí xml namespaců, prefixů a schémat. Dokument je tak validní vůči schématům a to i&#160;typově. Bohužel pokud chcete nastylovat takovýto dokument, renderujete v&#160;Quirks módu. Fuck'em!</p> <p>No nic, stejně s&#160;tím nic neudělám&#8230; Tak aspoň upozorním na to, že DGX vydal <a href=\"http://www.texy.info/cz/changelog\">novou verzi Texy!</a>.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-06-07T19:43:27.363-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Dnešní browsery jsou nepoužitelné",
  :published #inst "2006-06-06T21:32:47.293-00:00",
  :url "dnesni-browsery-jsou-nepouzitelne",
  :id 157,
  :description
  "Dnešní prohlížeče jsou prakticky nepoužitelné k prohlížení sofistikovanějších dokumentů a nepřímo tak nutí webdesignery k prasárnám. Jak jinak se dá vysvětlit diletantsví, kdy se ostylovaný XML dokument renderuje v Quirks módu? Oč jde?",
  :category "Webdesign",
  :tags []},
 :152-evoluce-ve-webovem-vyvoji.aspx
 {:html
  "<p>Možná jste si všimli, že se v poslední době pouští Microsoft do AJAXu. Jejich <a href=\"/clanek/129-zaciname-s-atlasem.aspx\">Atlas framework</a> je zatím v alfa stádiu, ale i tak je plně použitelný a funkční – až na pár bugů. Tímto frameworkem otevírá dveře vývojářům serverside aplikací (typicky píšících v C#, Javě, VB.NET nebo i v PHP) ke vstupu na klienta. Atlas se snaží přinést do JavaScriptu i jakousi podporu OOP, takže můžete používat namespacy, classy, interfejsy (fuj to je hnusný slovo – zdravím doc. Müllera), dědičnost a další vymoženosti, na které jsem zvyklý ze C#.</p> <p>Problém je ovšem v tom, že pořád musím psát v JavaScriptu. Nemám rád tenhle jazyk. Občas v něm něco napíšu, ale je to peklo – právě proto že v něm málo píšu, ho tak dobře neumím, a protože ho tak dobře neumím, tak v něm málo píšu. :) Atlas naštěstí přináší i deklarativní metodu psaní aplikací pomocí <a href=\"/clanek/138-prvni-prakticka-ukazka-pouziti-atlasu.aspx\">XML-Scriptu</a>, který je mi podstatně bližší. Ale stejně v něm nejde napsat vše – hlavně vlastní komponenty.</p> <p>Protože bude Atlas součástí příští verze Visual Studia „Orcas“, přemýšlejí soudruzi v Microsoftu, jakým způsobem zjednodušit vývoj aplikací v Atlasu, připravit kvalitní vývojové nástroje se všemi vymoženostmi (Intellisense, debugging apod.). Vzhledem k tomu, že je JavaScript dynamicky typovaný, je s Intellisence celkem problém – dneska se ve studiu objeví jen zřídka. To by ale nebyl Microsoft, kdyby nepřišel s něčím novým…</p> <h3 id=\"toc-na-scenu-prichazi-script\">Na scénu přichází Script#</h3> <p>Ano, je tu to, na co jsem dlouho čekal, konečně může psát klientské skripty v pořádném jazyku. O co tedy jde? O zimních prázdninách si Nikhil Kothari – duchovní otec Atlas frameworku – uvědomil, že se v JS píše fakt blbě a že by bylo lepší psát v C# i skripty. Jenže jak donutit prohlížeče, aby zpracovali C#? To je prakticky nemožné. Nikhil na to šel od lesa a napsal vlastní kompilátor, který místo MSIL generuje JS. Přidal k tomu ještě sscorelib a máme tu <strong>Script#</strong> (skriptšárp). Script# je fakticky C#, nemusíte se učit žádný nový jazyk (teda pokud umíte C# <span title=\"pozor mimoděkismus\">jako já</span>). Navíc dostanete v balení knihovnu, která obsahuje standardní DOM a vůbec vše, co můžete najít v JavaSriptu. Kompilátor generuje JS kód určený pro Atlas framework, takže výsledkem může být jak <code>js</code> soubor, tak <code>dll</code>, kde jsou skripty jako resource – stejně jako je tomu u poslední verze Atlasu. Kompilátor zvládá DEBUG – včetně preprocesoru – i minimalizovat kód (a to jak ořezání bílých znaků, tak i náhradu jmen proměnných za zkratky jako <code>$0</code>). Je toho moc, nejlépe, když si to <a href=\"http://www.nikhilk.net/Content/Samples/ScriptSharp.zip\">vyzkoušíte sami</a> nebo se podíváte na desetiminutovou <a href=\"http://www.nikhilk.net/Content/Video/ScriptSharpIntro.wmv\">video ukázku</a>. Zatím je kompilátor ve fázi funkčního prototypu a k dokonalosti potřebuje ještě hodně práce, ale jako ukázka možného směru je to bomba.</p> <h3 id=\"toc-zajimavost-zaverem\">Zajímavost závěrem</h3> <p>Docela zajímavé je, že soudruzi v Google přemýšlejí podobně a podstatě totéž přinášejí ve svém Web Toolkitu.</p> <h3 id=\"toc-zdroj\">Zdroj</h3> <p><a href=\"http://www.nikhilk.net/Entry.aspx?id=121\">Nikhil Kothari – Script# Prototype</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:36:15.023-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Evoluce ve webovém vývoji",
  :published #inst "2006-05-23T07:57:31.347-00:00",
  :url "evoluce-ve-webovem-vyvoji",
  :id 152,
  :description "Jeden z možných směrů vývoje AJAXových aplikací.",
  :category "ASP.NET 2.0",
  :tags ["csharp" "javascript" "scriptsharp" "ajax"]},
 :192-exkluzivni-zpravy-z-vyvoje-atlas-map.aspx
 {:html
  "<p>Vývoj <a href=\"http://amapy.cz/\">map</a> trval ultra krátkou dobu. Něco pod tři měsíce. Gattovi diagramy opět prokázali, že když chcete boha rozesmát – sdělte mu své plány. Dnes večer (ale raději až po půlnoci) mapy opět krapet dospějí. Lehká sumarizace, co je nového na Atlas mapách, doplněná stručným komentářem – z pohledu vývojáře.</p> <p>Nové funkce: GPS souřadnice, nasosnutí i vyhledání.</p> <p>Brouci:</p> <h3 id=\"toc-opera\">Opera</h3> <p>Opera ano (skoro) – v průběhu celého vývoje map jsem testoval i v Opeře. Tento nejpomalejší prohlížeč (platí pro AJAX aplikace, které hooodně malují) používají skoro všichni mí přátelé, takže opomenout ho, dodám munici do debat svým názorovým oponentům – a to nechci :) Tak tento prohlížeč byl těsně před releasem map sestřelen unikátním fixem pro <acronym title=\"Internet Explorer\">IE</acronym>, jež jediný ho donutí (kromě úpravy <acronym title=\"Hypertext Transfer Protocol\">HTTP</acronym> hlaviček) korektně <a href=\"http://evil.che.lu/2006/9/25/no-more-ie6-background-flicker\">kešovat pozadí</a>.</p> <p>Takže pozor, fixem fixovat jen IE, jinak XmlHttpRequest v Opeře stávkovat bude.</p> <p>Další „problém“ Opery. Její pedantské lpění na standardech bohužel způsobilo, že poslední dvě měřítka stále nefungují. DIV o šířce půl miliónu px prostě vadí :) Má ale štěstí holka, protože ten vadí i mě, a půjde-li vše ok, příští týden budou mapy šlapat pod Operou kompletně.</p> <p>PS: rychlost map v pořadí od nejrychlejšího prohlížeče: IE7, IE6, FF a Opera (nejpomalejší).</p> <p>PS2: Safari více méně funguje, ale věnovat více se mu budu týden přespříští.</p> <h3 id=\"toc-kolecko-mysi\">Kolečko myši</h3> <p>Po ostrých debatách mezi zastánci GIS a těmi co o GIS vůbec nic nevědí ;) kolečko otočeno (pro ostatní, teď se chová jako na mapách Googlu)</p> <h3 id=\"toc-png-v-inernet-exploreru\">PNG v Inernet Exploreru</h3> <p>Implementace <acronym title=\"Portable Network Graphic\">PNG</acronym> v IE7 se interně stále spoléhá na staré známé filtry IE6, jež mají tu pěknou vlastnost, že jich nelze aplikovat více přes sebe. (pro ostatní, bublina v IE7 už vypadá ok, bohužel jsme se museli rozloučit s efektem opacity)</p> <p>A to je zatím vše. O dalších opravených chybách se šířit nebudu ,–)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:49:17.357-00:00",
  :is-published true,
  :author "Daniel Steigerwald",
  :title "Exkluzivní zprávy z vývoje Atlas Map",
  :published #inst "2006-11-09T18:28:40.123-00:00",
  :url "exkluzivni-zpravy-z-vyvoje-atlas-map",
  :id 192,
  :description "Exkluzivní zprávy z vývoje Atlas Map",
  :category "Webdesign",
  :tags ["atlas" "amapy" "ajax"]},
 :331-proc-jsou-staticke-helpery-zlo.aspx
 {:html
  "<p>Minulý týden psal Arthur spotík o takovém tom <a href=\"http://www.misantrop.info/742263-programatorsky-vikend.php\">víkendovém programování</a>, ve kterém šlo hlavně o to, že přešel na Vistu, vytvořil si gadget pro přehrávání ČRo a taky editor <code>hosts</code> souboru. Napsal ho v C# a zmínil se o tom, že použil techniku, se kterou nejsem s to…</p> <p>Zkrátka podědil si generickou <code>Dictionary&lt;TKey, TValue&gt;</code> a rozšířil ji o serializaci. Dictionary není serializovatelná. Je to dáno jak její generickou povahou (constraints pro atributy neexistují), tak tím, že sídlí v knihovně, která nesmí mít závislost na jiné, která serializaci zajišťuje.</p> <pre class=\"csharp\"><code>public class SerializableDictionary&lt;TKey, TValue&gt; : Dictionary&lt;TKey, TValue&gt;, ISerializable { // ... }</code></pre> <p>To byla moje chvíle, vyčmuchal jsem zde codesmell (zbytečné dědění, které by šlo vyřešit kompozicí). <a href=\"http://www.misantrop.info/742263-programatorsky-vikend.php#cmt_4\">Neomaleně jsem vstoupil do diskuse</a> chválící gadget a sprostě Arthura pohanil. Omlouvám se za to. Mým úmyslem bylo ho postrčit o kus dál, možná rozšířit obzory. Prostě sprostá rada, která by mi v začátcích se C# pomohla nebloudit labyrintem macatých tříd se spoustou dovedností a košatou hierarchií předků a potomků.</p> <h3 id=\"toc-alternativni-reseni\">Alternativní řešení</h3> <p>V diskusi, kterou jsem tímto vyvolal, padlo i to, že jde o porušení <a href=\"http://www.borber.com/blog/zapouzdreni-vs-single-responsibility-principle\">Single Responsibility Principle</a>, které už rozebral Borek. Arthur tedy nabídl, alternativní řešení, jak se s problémem vypořádat:</p> <blockquote> <p>Samozřejmě jsem si mohl napsat i kašpárkovskou třídu, co má dvě <strong>statické metody</strong> (Serializuj a Deserializuj) a veřejný parametr „Dictionary“… šlo by to vyřešit mnoha způsoby, lišícími se co do pracnosti, elegance a efektivity, a já se rozhodl nedělat „composition blackbox“, ale podědit třídu – především proto, že bych musel zpřístupňovat spoustu veřejných metod od původní generiky, nebo deklarovat vložený objekt jako veřejný.</p> </blockquote> <pre class=\"csharp\"><code>public static class DictionarySerializer&lt;TKey, TValue&gt; { public static byte[] Serialize(Dictionary&lt;TKey, TValue&gt; dictionary) { // ... } public static Dictionary&lt;TKey, TValue&gt; Deserialize(byte[] data) { // ... } }</code></pre> <p>Přejdu teď <em>composition blackbox</em> – vrátím se snad k němu někdy jindy, ale zastavím se u statických metod. Myslím si totiž, že to je další cesta do pekel… :)</p> <h3 id=\"toc-staticky-vs-instancne\">Staticky vs. Instančně</h3> <p>Na toto téma se vedlo jedno z vláken té jinak pěkné diskuse o šikovném gadgetu. (Platíte koncesionářské poplatky?) Osobně zastávám názor, že je lepší se statickým helperům vyhýbat. Jednak ze zkušenosti a druhak z některých signálů a pouček správného OO návrhu.</p> <p>V objektových jazycích odvozených od C jsme si zvykli používat třídy. Třída je předpis, podle kterého se vyrábějí objekty. Objekty jsou přenašeči dat nebo službami. Mohou být tedy obdařeny rozhraním, přes které s ním komunikují jiné objekty. Jenže ve světě Céčkových jazyků, můžeme mít tzv. statické členy. Statický člen existuje jen jednou, po celou dobu života aplikace.</p> <p>Jenže, co je to <strong>život aplikace</strong>? Nevím jak je to přesně v PHP, ale myslím, že tam je to cca jeden požadavek. Statické proměnné tu slouží jako šikovná náhrada globálních proměnných a statické metody dovolují volat akce bez nudného vytváření instance třídy. To je jistě super. Ve světě dotnetu je to však mnohem složitější. V ASP.NET žije aplikace dokud ji někdo nevypne, tj. neresetuje aplikační pool, nezmění konfiguraci nebo neaktualizuje binárky. Takže u statického členu nikdy netušíte, jak dlouho bude žít.</p> <p>Dalším problémem je <strong>konkurence</strong>. V PHP se aplikace spouští při každém požadavku a po jeho skončení opět vyhnije a to vše se děje v rámci jednoho vlákna. V ASP.NET žije aplikace mnoho požadavků, které jsou zpracovány samostatnými vlákny. Vzhledem k tomu, že statické členy jsou v aplikaci jen jednou a to pro více vláken, musíte najednou začít řešit konkurenční přístup, k těmto členům.</p> <p>Další z problémů statických členů je ten, že <strong>třída není objekt</strong>, tudíž by se s členy třídy nemělo počítat v objektovém návrhu. :) Statické metody ani vlastnosti <strong>nelze popsat rozhraním</strong>, při jejich užití vzniká <strong>úzká vazba</strong>. Takovéto členy se také krásně vyhýbají dědičnosti. Nelze je přepsat tradičními postupy.</p> <p>Takhle bych ve zkratce shrnul hlavní nevýhody statického přístupu. Platí jen pro určité případy. Nemusíte se s nimi nutně setkat a pro váš konkrétní případ mohou být i výhodné. Pokud však navrhujete API, které má být znovupoužitelné (hlavní výhoda OOP), nikdy nevíte, v jakém prostředí poběží. A když už píšeme objektově, tak proč rovnou nepsat tak, aby naše třídy znovupoužitel­né byly?</p> <h3 id=\"toc-jak-tedy-s-temi-helpery\">Jak tedy s těmi helpery?</h3> <p>Jak říká Michal Bláha, „statický helpery jsou výbornej syntax sugar.“ Jasně, proč ne? Ve skriptech může být statický helper jasným přínosem. Je ale třeba myslet na některá pravidla.</p> <p>Základním pravidlem, pokud chci vytvořit statický helper, je vytvořit instanční implementaci. Dobrou ukázkou tohoto přístupu je například <code>System.IO.File</code>, který je statickou fasádou nad <code>System.IO.FileInfo</code>. Podobně funguje např. i metoda <code>Rarous.TexyNet.Texy.Process</code>, která slouží k rychlému převodu textu do HTML, ale je tu i silné instanční API, které tato metoda volá.</p> <h3 id=\"toc-zaver\">Závěr</h3> <p>Statické helpery jsou zlo, když jsou primárním návrhem a taky jediným. Pokud dosahujete kompozice objektů pomocí dependency injection, jsou pro vás statické helpery nedosažitelné (bez napsání instančního wraperu). Když píšete unit testy, nemůžete snadno statický helper nahradit. Pokud máte statické vlastnosti, musíte myslet na konkurenční přístup a životnost zdrojů, které takto zapouzdřujete.</p> <pre class=\"csharp\"><code>public interface IDictionarySerializer&lt;TKey, TValue, TData&gt; { TData Serialize(IDictionary&lt;TKey, TValue&gt; dictionary); IDictionary&lt;TKey, TValue&gt; Deserialize(TData data); }</code></pre> <p>Přece jen existuje více cest k cíli a je možné, že se někde šeredně pletu. Jaký je váš pohled na věc?</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a href=\"http://www.misantrop.info/742263-programatorsky-vikend.php\">Martin Malý: Programátorský víkend</a></li> <li><a href=\"http://www.borber.com/blog/zapouzdreni-vs-single-responsibility-principle\">Borek Bernard: Zapouzdření vs. Single Responsibility Principle</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-12-07T16:53:32.163-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Proč jsou statické helpery zlo?",
  :published #inst "2008-11-22T10:53:52.983-00:00",
  :url "proc-jsou-staticke-helpery-zlo",
  :id 331,
  :description
  "Minulý týden psal Arthur spotík o takovém tom víkendovém programování, ve kterém šlo hlavně o to, že přešel na Vistu, vytvořil si gadget pro přehrávání ČRo a taky editor hosts souboru. Napsal ho v C# a zmínil se o tom, že použil techniku, se kterou nejsem",
  :category "ASP.NET 2.0",
  :tags ["csharp" "oop" "static" "ioc"]},
 :332-inversion-of-control-v-asp-net-mvc.aspx
 {:html
  "<p>Dneska si ukážeme, jak využít modularity ASP.NET <acronym title=\"Model View Controller\">MVC</acronym> k tomu, abychom mohli snadno integrovat <acronym title=\"Inversion of Control\">IoC</acronym> kontejner. Ten pak bude sloužit k tvorbě controllerů a injekci jejich závislostí (dependecy injection). Jako kontejner použijeme Castle Windsor a konfigurační <acronym title=\"Domain Specific Language\">DSL</acronym> v jazyce <a href=\"http://boo.codehaus.org/\">Boo</a> – Binsor.</p> <p><a href=\"http://asp.net/mvc\">ASP.NET MVC</a> je framework, který si za cíl bere jasné rozdělení odpovědností, modularitu, snadnou rozšiřitelnost a snadnou testovatelnost aplikací nad ním postavených. Což jsou nejpalčivější neduhy „klasického ASP.NET.“</p> <h3 id=\"toc-inversion-of-control-a-dependency-injection\">Inversion of Control a Dependency Injection</h3> <p><a href=\"http://martinfowler.com/articles/injection.html\">Inversion of Control</a> (IoC) je tak trochu jiný pohled na programování. Když píšete aplikaci, nepíšete ji jako program, ale jako sadu komponent, kterým „vdechnete život“ pomocí konfiguračního skriptu. Každá komponenta má v systému svoji úlohu, a pokud nám přestane její funkcionalita vyhovovat, lze ji velice snadno nahradit zásahem na jednom místě. Aby to bylo opravdu tak snadné, musí nahrazovaná komponenta splňovat určitý kontrakt – implementovat rozhranní.</p> <p>Přes tato rozhranní mezi sebou jednotlivé komponenty komunikují, využívají deklarované služby, posílají si data. Jenže, jak mají vědět, kterou komponentu mají za daným rozhranním hledat. Ony to vědět nemusejí, tedy, vlastně by vůbec neměly.</p> <p>Tak potom kdo? IoC kontejner!</p> <p>Kontejner je mozkem aplikace. Je to ten jediný, který ví, které komponenty splňují určité kontrakty. Jak se to doví? Při startu kontejner nacpeme komponentami a on nám je později na vyžádání vrací. Dokonce jde tak daleko, že pokud si vyžádáme komponentu, vrátí nám ji včetně všech jejích závislostí a závislosti závislostí. :) Dostanete kompletní graf objektů, které jsou pro danou chvíli potřeba k vykonání dané činnosti a jsou v kontejneru zaregistrované.</p> <p>Kontejner se tedy stará o <strong>dependency injection</strong>. Ale není to jediná služba, kterou nám dokáže poskytnout. Jeho další schopností je <strong>řídit životnost</strong> komponent. Už nikdy více nemusíte psát singletony! Pokud potřebujete singleton, řeknete kontejneru a on se o to postará.</p> <h3 id=\"toc-castle-windsor\">Castle Windsor</h3> <p><a href=\"http://www.castleproject.org/container/index.html\">Windsor</a> je jedním z takových kontejnerů určený pro dotnet. Jistě najdete spoustu alternativních jako <a href=\"http://www.springframework.net/\">Spring.Net</a>, <a href=\"http://structuremap.sourceforge.net/\">StructureMap</a>, <a href=\"http://www.codeplex.com/unity\">Unity</a> nebo <a href=\"http://ninject.org/\">Ninject</a>. Každý z nich má své výhody, jiné postupy, ale i omezení. Windsor jsem si vybral z několika důvodů:</p> <ol> <li>Je součástí opensource projektu Castle,</li> <li>tudíž má celkem velkou komunitu uživatelů i vývojářů</li> <li>a navíc dokáže s dalšími projekty z Castle spolupracovat.</li> <li>Má širokou škálu způsobů konfigurace: programově, programově přes fluent interface, <acronym title=\"Extensible Markup Language\">XML</acronym> a hlavně pomocí Binsor.</li> </ol> <p>Na toto téma jsem měl menší vnitrofiremní prezentaci. Slajdy z ní si může také prohlédnout.</p> <!--[if !IE]> --> <object type=\"application/x-shockwave-flash\" data=\"http://static.slideshare.net/swf/ssplayer2.swf?doc=sexy-infrastruktura-1224961364748731-9&amp;stripped_title\" width=\"520\" height=\"434\"> <!-- <![endif]--> <!--[if IE]> <object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\" width=\"520\" height=\"434\"> <param name=\"movie\" value=\"http://static.slideshare.net/swf/ssplayer2.swf?doc=sexy-infrastruktura-1224961364748731-9&amp;stripped_title\" /> <!--><!--dgx--> <param name=\"loop\" value=\"true\" /> <param name=\"menu\" value=\"false\" /> <param name=\"allowfullscreen\" value=\"true\" /> <param name=\"flashvars\" value=\"\" /> </object> <!-- <![endif]--> <p>O Binsoru je ve slajdech také zmínka a jednou <a rel=\"bookmark\" title=\"Binsor síla konfigurace\" href=\"/weblog/293-binsor-sila-konfigurace.aspx\">už jsem o něm psal</a>.</p> <h3 id=\"toc-integrace-s-asp-net-mvc\">Integrace s ASP.NET MVC</h3> <p>A konečně se dostávám k tomu, o čem tento spot vlastně je. Jak integrovat Windsor kontejner do naší webové aplikace?</p> <p>Předpokládám, že máte ASP.NET MVC projekt již ve svém studiu. Pak je nutné mít binárky Windsoru. Pravděpodobně budou stačit ty z <a href=\"http://switch.dl.sourceforge.net/sourceforge/castleproject/CastleProject-1.0-RC3.msi\">RC3</a>. Osobně používám aktuální verzi z <a href=\"http://svn.castleproject.org:8080/svn/castle/trunk/\">trunku</a>. Přidejte si reference na knihovny <code>Castle.Core</code>, <code>Castle.DynamicProxy</code>, <code>Castle.MicroKernel</code> a <code>Castle.Windsor</code>. Pak si budeme muset vytvořit novou továrnu na výrobu controllerů. Vlastně nemusíme, již je součástí <a href=\"http://www.codeplex.com/MVCContrib\">MVC Contrib</a>, jen jsem jí trochu zjednodušil.</p> <pre class=\"csharp\"><code>using System; using System.Web.Mvc; using System.Web.Routing; using Castle.Windsor; namespace BlogSpots.Infrastructure { public class WindsorControllerFactory : IControllerFactory { private IWindsorContainer _container; public WindsorControllerFactory(IWindsorContainer container) { if (container == null) { throw new ArgumentNullException(\"container\"); } _container = container; } public virtual IController CreateController(RequestContext context, string controllerName) { controllerName = controllerName.ToLower() + \"controller\"; return (IController)_container.Resolve(controllerName); } public virtual void ReleaseController(IController controller) { var disposable = controller as IDisposable; if (disposable != null) { disposable.Dispose(); } _container.Release(controller); } } }</code></pre> <p>Tato továrna bude fungovat pro Windsor. Ještě ale chci přidat podporu pro Binsor, který je součástí <a href=\"https://rhino-tools.svn.sourceforge.net/svnroot/rhino-tools/trunk/rhino-commons/\">Rhino.Commons</a>. K těm se dostanete přes <acronym title=\"Subversion\">SVN</acronym> a spolu s nimi dostanete i aktuální verzi Windsoru. Do projektu si ještě přidáme reference na <code>Rhino.Commons</code> a <code>Rhino.Commons.Binsor</code>. Pak si ještě vytvoříme <a rel=\"bookmark\" title=\"Proč jsou statické helpery zlo?\" href=\"/weblog/331-proc-jsou-staticke-helpery-zlo.aspx\">statický helper</a> pro práci s kontejnerem.</p> <pre class=\"csharp\"><code>using System; using System.Web.Mvc; using Castle.Windsor; using Rhino.Commons; namespace BlogSpots.Infrastructure { public static class IoC { private static readonly IWindsorContainer _container; static IoC() { _container = new RhinoContainer(\"windsor.boo\"); } public static IWindsorContainer Container { get { return _container; } } } }</code></pre> <p>Tím jsme si nainicializovali kontejner s konfigurací v souboru <code>windsor.boo</code>. Tak, a teď už nám zbývá jen zaregistrovat továrnu pro naši aplikaci a napsat konfigurační skript.</p> <p>V <code>Global.asax</code> zaregistrujeme továrnu na controllery následovně:</p> <pre class=\"csharp\"><code>protected void Application_Start() { ControllerBuilder.Current.SetControllerFactory(new WindsorControllerFactory(IoC.Container)); }</code></pre> <p>Do <code>web.config</code> přidáme registraci modulu, který nám umožní nastavit životnost objektu na jeden request:</p> <pre class=\"xml\"><code>&lt;system.webServer&gt; &lt;modules&gt; &lt;add name=\"PerRequestLifestyle\" type=\"Castle.MicroKernel.Lifestyle.PerWebRequestLifestyleModule, Castle.MicroKernel\" /&gt; &lt;/modules&gt; &lt;/system.webServer&gt;</code></pre> <p><em>Tato registrace je pouze pro <acronym title=\"Internet Information Services\">IIS</acronym> 7 integrated mode, je nutné ji ještě přidat do <code>system.web\\httpModules</code>, aby vám fungovala i na DevServeru.</em></p> <h3 id=\"toc-boo-na-scenu\">Boo na scénu</h3> <p>Tímto máme za sebou vše důležité, pro napsání konfiguračního skriptu a spuštění aplikace. Pokud chcete přidat do VisualStudia podporu pro Boo, ve kterém jsou Binsor konfigurační skripty psané, doporučuju stáhnout si a doinstalovat <a href=\"http://www.codeplex.com/boolangstudio\">BooLang Studio</a>.</p> <p>Pojďme tedy k vytvoření konfiguračního souboru! V rootu aplikace si vytvořte soubor <code>Windsor.boo</code> a nastavíme mu vlastnost <code>Build Action</code> na <strong>Content</strong>, aby se nám pěkně kopíroval při publikování projektu. Do konfiguráku zadejte následující řádky:</p> <pre class=\"boo\"><code>import System.Web.Mvc from System.Web.Mvc for controller in AllTypesBased of Controller(\"&lt;nazev assembly MVC projektu&gt;\"): component controller.Name.ToLower(), controller: lifestyle PerWebRequest</code></pre> <p>Takto jsme do kontejneru zaregistrovali všechny controllery v našem MVC projektu. Postupně můžeme registrovat další komponenty a budovat naší aplikaci, ale o tom zas někdy jindy. Tedy snad…</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a rel=\"bookmark\" title=\"Binsor síla konfigurace\" href=\"/weblog/293-binsor-sila-konfigurace.aspx\">Binsor síla konfigurace</a></li> <li><a rel=\"bookmark\" title=\"Model binders v ASP.NET MVC\" href=\"/weblog/336-model-binders-v-asp-net-mvc.aspx\">Model binders v ASP.NET MVC</a></li> <li><a rel=\"bookmark\" title=\"DSL pro konfiguraci URL Routingu v ASP.NET MVC\" href=\"/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx\">DSL pro konfiguraci URL Routingu v ASP.NET MVC</a></li> <li><a href=\"http://martinfowler.com/articles/injection.html\">Martin Fowler: Inversion of Control</a></li> <li><a href=\"http://boo.codehaus.org/\">Jazyk Boo</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-04T08:55:40.277-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Inversion of Control v ASP.NET MVC",
  :published #inst "2008-11-24T10:30:02.140-00:00",
  :url "inversion-of-control-v-asp-net-mvc",
  :id 332,
  :description
  "Dneska si ukážeme, jak využít modularity ASP.NET MVC k tomu, abychom mohli snadno integrovat IoC kontejner. Ten pak bude sloužit k tvorbě controllerů a injekci jejich závislostí (dependecy injection). ",
  :category "ASP.NET 2.0",
  :tags ["mvc" "ioc" "windsor" "castle" "binsor" "boo"]},
 :295-povidani-o-asp-net-na-webexpu.aspx
 {:html
  "<p>Je to už pár měsíců, co mě oslovil <a href=\"http://dvanula.cz/\">Vašek Stoupa</a>, zda bych nechtěl přednášet na <a href=\"http://webexpo.cz/\">WebExpu</a> o <a href=\"http://asp.net/mvc/\">ASP.NET MVC</a>. <a href=\"http://webexpo.cz/prednaska/asp-net/\" title=\"Přednáška o ASP.NET na WebExpo 2008\"><img src=\"http://webexpo.cz/media/images/badge_webexpo150.gif\" class=\"right\" alt=\"WebExpo 2008\" /></a> Zprvu jsem váhal, protože nemám žádné prezentační zkušenosti a tak jsem to chtěl celé hodit na <a rel=\"friend met\" href=\"http://www.borber.com/\">Borka</a>. Jenže pak jsem si vzpomněl na skvělé přednášky z MIXu, kde nebyl pouze jeden přednášející, ale tandem.</p> <p>Slovo dalo slovo, Vašek i Borek souhlasili a my jsme zapsaní v programu konference. :) Protože ASP.NET MVC ještě není ve stabilní formě API (ta by měla být více méně stabilní v betafázi, která se blíží), domluvili jsme se na tom, že probereme více věcí.</p> <p>Doufám, že se Borek nebude zlobit, když prozradím naši předběžnou osnovu. Můžete se k ní vyjádřit v komentářích a my ji můžete případně vylepšit. :)</p> <h3 id=\"toc-osnova\">Osnova</h3> <ol> <li>WebForms – povídání o tom, kde je vhodné použít klasické WebForms a novinkách ve verzi 3.5</li> <li>AJAX – povíme si, jak je integrována podpora AJAXu v ASP.NET</li> <li>ADO.NET Data Service – bližší seznámení s REST službami postavenými nad ADO.NET a ukázka ve spojení s AJAXem</li> <li>Dynamic Data – povídání a ukázka dynamicky vytvářených administračních rozhraní ze schématu databáze.</li> <li>MVC – povídání a ukázka MVC frameworku, jak se liší od WebForms a možná i spojení s Dynamic Data, to jak zbyde čas.</li> </ol> <p>Pokud vás tato témata zajímají, <a href=\"http://webexpo.cz/registrace/#navstevnici\">přijďte se na nás podívat</a>, pokud nezajímají, přijďte se podívat na koktajícího rarouše… ;) Každopádně tam bude spousta jiných zajímavých přednášek, třeba <a rel=\"friend met\" href=\"http://davidgrudl.com/\">Davidův</a> evergreen o <a href=\"http://nettephp.com/\">Nette Frameworku</a>.</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a href=\"http://webexpo.cz/prednaska/asp-net/\" title=\"Přednáška o ASP.NET na WebExpo 2008\">WebExpo – ASP.NET 3.5 / futures</a></li> <li><a href=\"http://webexpo.cz/registrace/#navstevnici\">WebExpo – registrace na konferenci</a></li> <li><a href=\"http://www.borber.com/blog/webexpo-2008\">Borek Bernard – WebExpo 2008</a></li> <li><a href=\"http://www.sindelka.cz/cz/webexpo-2008/\">Pavel Šindelka – WebExpo 2008</a></li> <li><a href=\"http://www.misantrop.info/721398-webexpo-2008-a-web-2-0-expo-2008.php\">Webexpo 2008 a Web 2.0 Expo 2008</a></li> <li><a href=\"http://www.sweb.cz/pichlik/archive/2008_10_05_archive.html#3982970343313795758\">Prezentace Spring Framework – Enterprise Java s lidskou tváří</a></li> </ul> </div> <p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/webexpo\">WebExpo</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/aspnet\">Asp.Net</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/aspnetmvc\">ASP.NET MVC</a></p> <!-- by Texy2! -->",
  :keywords "webexpo asp.net mvc",
  :edited #inst "2008-10-10T12:34:05.443-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Povídání o ASP.NET na WebExpu",
  :published #inst "2008-09-04T19:38:39.807-00:00",
  :url "povidani-o-asp-net-na-webexpu",
  :id 295,
  :description
  "Na konferenci WebExpo budu společně s Borkem Bernardem přednášet o trendech v ASP.NET se spostou zajímavých ukázek. V tomto článku můžete obsah přednášky ovlivnit...",
  :category "Webdesign",
  :tags
  ["aspnet" "mvc" "ajax" "dataservices" "dynamicdata" "webexpo"]},
 :405-nejsem-schopny-dopsat-clanek-o-continuous-integration.aspx
 {:html
  "<p>Je třeba si to přiznat. Nedokážu vše. Např. nedokážu odpřednášet nebo napsat článek o Continuous Integration. Je to škoda, protože si myslím, že toho o tom víc celkem dost, dlouho to praktikuju a tak, ale prostě je nad moje síly dát tomu lepší formu než konzultaci či workshop.</p> <p>Každopádně jsem nad tím článkem strávil spoustu času a byla by škoda, kdyby se nikdy nedostal k očím dychtivých čtenářů. Proto jsem se rozhodl, že článek uvolním pod licencí Creative Commons, nabídnu ho ke stažení, těm co jim nevadí špatná forma. A pokud se najde dobrá duše, která se rozhodne článek dopsat/zeditovat a publikovat <a href=\"htp://zdrojak.cz\">na zdrojáku</a>, nechť tak učiní. Jen musí zachovat licenci a uvést mé jméno jako spoluautora. :) Toť pro dnešek vše.</p> <p>Jo a tady je <a href=\"http://cid-bf922899c9fe1222.office.live.com/self.aspx/Public/Kontinu%C3%A1ln%C3%AD%20integrace.docx?sa=83070848\">ten zázrak</a>.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-06-14T07:53:58.273-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nejsem schopný dopsat článek o Continuous Integration",
  :published #inst "2011-06-14T07:50:45.570-00:00",
  :url "nejsem-schopny-dopsat-clanek-o-continuous-integration",
  :id 405,
  :description
  "Je třeba si nalát čistého vína a přiznt si, že to nedokážu. Pokud se najde někdo lepší, kdo je schopný dovést článek do zdárrného konce, tady je k dispozici.",
  :category "Moje práce",
  :tags ["ci"]},
 :263-homepage-reloaded.aspx
 {:html
  "<p>Už je tomu nějakej ten týden, co jsem nasadil novou sociální <a href=\"/\">homepage</a>. Po úpravách, které jí měly vystavovat jako <code>application/xhtml+xml</code> došlo k tomu, že jsem se na ní ve Firefoxu už nedostal.</p> <p>Měl jsem za to, že je chyba v mém systému a že je muj FF nějakej nabořenej, protože u <a href=\"http://www.maciweb.cz/\">Macíka</a> to třeba nedělalo. Proto jsem to ani moc neřešil. Jenže jsem si jednoho dne řekl, že to musím rozlousknout.</p> <h3 id=\"toc-jadro-pudla\">Jádro pudla</h3> <p>Chyba nakonec nebyla pouze v mém Firefoxu, ale šlo o kombinaci Firofox + Silverlight. Do svého Google Analytics kódu jsem měl totiž přidaný kód, pro <a href=\"http://www.nikhilk.net/Silverlight-Analytics.aspx\">měření zastoupení Silverlight</a> pluginu, který jsem vzal od Nikhila Kothariho. Problém byl v tom, že plugin instancioval pomocí vytvoření <code>embed</code> značky přes <code>innerHTML</code>. To v kombinaci s <code>application/xhtml+xml</code> Firefox sestřelilo.</p> <h3 id=\"toc-reseni\">Řešení</h3> <p>Když si mě včera do Twittru přidal <a href=\"http://arcao.com/\">Arcao</a>, našel jsem na jeho stránkách informaci, o které jsem dosud nevěděl. Google Analytics maj novej script pro měření. Takže ten jsem použil pro novou verzi meho kontrolu na měření návštěvnosti. A začal si hrát s ověřováním Silverlightu. U IE jsem zůstal u metody inicializace ActiveX objektu a využití jeho API. U Firefoxu jsme na to musel trochu jinak. Nakonec jsem využil <acronym title=\"Plug-in API\">PAPI</acronym> a vlastnost <code>description</code>, která vrací verzi pluginu.</p> <p>Ale verze pluginu se neshoduje s komerčním označením Silverlightu. Musel jsem tedy ještě přidat přepočet. Zatím je to takhle:</p> <table class=\"tabulka\"> <thead> <tr> <th>Plug-in</th> <th>Silverlight</th> </tr> </thead> <tbody> <tr> <td>0.80</td> <td>WPF/e</td> </tr> <tr> <td>0.90</td> <td>Silverlight 1.0</td> </tr> <tr> <td>0.95</td> <td>Silverlight 1.1</td> </tr> <tr> <td>1.00</td> <td>Silverlight 2.0</td> </tr> </tbody> </table> <p>No a výsledný kód po nějaké kompresi vypadá takto:</p> <pre class=\"xml\"><code>&lt;%@ Control Language=\"C#\" %&gt; &lt;script runat=\"server\"&gt; private string _ua; public string UserAccount { get { return _ua; } set { _ua = value; } } &lt;/script&gt; &lt;script src=\"http://www.google-analytics.com/ga.js\" type=\"text/javascript\"&gt;&lt;/script&gt; &lt;script type=\"text/javascript\"&gt; &lt;% if (Page.Response.ContentType.ToLower() == \"text/html\") { %&gt;&lt;!--&lt;% } else { %&gt;// &lt;![CDATA[ &lt;% } %&gt; try{var t=_gat._getTracker(\"&lt;%= UserAccount %&gt;\"),v=(function (){var v='',n={},s='Silverlight',a='AgControl',b=s+' Plug-In',x=['2.0','1.1','1.0'];n.a=window.navigator.userAgent;n.p=navigator.plugins; try {if(n.a.indexOf('MSIE')&gt;=0){var c=new ActiveXObject(a+'.'+a);if(c)for(var i=0;i&lt;sv.length;i++)if(c.isVersionSupported(x[i])){v=s+'/'+x[i];break;}} else if(n.p[b]){v=n.p[b].description;var d=v.split('.');if(d.length&gt;0)v=d[0]=='1'?s+'/2.0':d[0]=='0'&amp;&amp;d[1]=='95'?s+'/1.1':d[0]=='0'&amp;&amp;d[1]=='90'?s+'/1.0':d[0]=='0'&amp;&amp;d[1]=='80'?'WPF/E':'';} }catch(e){}return v;})(),a=t._addOrganic,b=t._setVar,q='q',s='s'; a('seznam.cz',q);a('centrum.cz',q);a('jyxo.cz',s);a('atlas.cz',q);a('zoohoo.cz',q);a('tiscali.cz','query');a('1.cz',q);a('volny.cz','search'); a('zoznam',s);a('atlas.sk','phrase');a('centrum.sk',q);a('morfeo.sk',q);a('szm','ws');a('azet',s+q);a('zoohoo.sk',q); t._initData();t._trackPageview();if(v)b(v);}catch(e){} &lt;% if (Page.Response.ContentType.ToLower() == \"text/html\") { %&gt;// --&gt;&lt;% } else { %&gt;// ]]&gt;&lt;% } %&gt; &lt;/script&gt;</code></pre> <p>Snad se bude hodit.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:40:08.170-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Homepage reloaded",
  :published #inst "2008-04-09T11:34:07.417-00:00",
  :url "homepage-reloaded",
  :id 263,
  :description
  "Konečně se mi podařilo odstranit nepříjemný bug na mojí nedávno spuštěné homepage. Analytics teď trackují bezproblémů a počítají i zastoupení Silverlightu.",
  :category "Webdesign",
  :tags ["silverlight" "analytics" "aspnet"]},
 :129-zaciname-s-atlasem.aspx
 {:html
  "<p><a href=\"http://atlas.asp.net/\">Atlas</a> je kódové označení pro <del>budoucí verzi ASP.NET, ale v&#160;současnosti je to</del> client side framework, který je nadstavbou pro ASP.NET 2.0. Atlas je produktem Microsoftu a je ve fázi vývoje, v&#160;současné době je však dostatečně stabilní a dopředně kompatibilní na to, abychom se s&#160;ním mohli seznámit a vytvářet aplikace. Současná verze oplívá „go-live“ licencí, takže aplikace v&#160;něm vytvořené mohou být bez omezení nasazeny na produkční servery.</p> <p>Atlas se koncepčně dělí na dvě části – klientskou a serverovou. <em>Klientská část</em> může bez problémů fungovat bez serverové, naopak to ale neplatí. Základem Atlasu je tedy JavaScriptový framework, který si klade za cíl ulehčit vývoj tzv. AJAXových aplikací. Podobnou iniciativou je např. <a href=\"http://prototype.conio.net/\">Prototype</a>, který vznikl u&#160;tvůrců Ruby on Rails.</p> <p>Framework samotný je rozdělen do několika vrstev: <img style=\"float:right\" src=\"/data/obrazky/atlas_klient.png\" alt=\"image\" /></p> <dl> <dt>Vrstva kompatibility</dt> <dd>Má na starosti vyrovnat rozdíly v&#160;implementaci JavaScriptu v&#160;různých prohlížečích. V&#160;současnosti podporuje InternetExplorer, Mozillu/Firefox a Safari. Opera je zatím mimo hru, ale snad se to s&#160;příchodem deváté verze změní (ta už by měla podporovat objekt XmlHTTPRequest).</dd> <dt>Vrstva OOP</dt> <dd>Asi nejvíce kontroverzní vrstva, která se snaží přinést do JavaScriptu základy <acronym title=\"Objektově orientované programování\">OOP</acronym>. Přináší možnosti dědičnosti, namespacy, abstraktní třídy a rozhranní :)</dd> <dt>Vrstva komponent</dt> <dd>Tato vrstva přináší klientské komponenty pro tvorbu uživatelského rozhranní. Namátkou ListView, Timer, Button, Hyperlink aj. Tyto komponenty se používají pouze na straně skriptů a jsou virtualizací struktur popsaných pomocí XHTML. Ne všechny komponenty jsou vizuální a jejich počet není konečný, můžete si snadno vytvořit komponenty vlastní.</dd> <dt>Datová vrstva</dt> <dd>Má za úkol přistupovat k&#160;datům zprostředkovaným webovými službami a následně je zpřístupnit ve tvaru, se kterým je JavaScript schopný pracovat. V&#160;současné době dokáže Atlas bez problémů konzumovat data z&#160;ASP.NET Webservices a <acronym title=\"Windows Communication Fundation\">WCF</acronym> a pomocí bridges i&#160;se službami třetích stran. Ale tento výrok není zcela přesný, Atlas prostě zvládne přijímat data ve formátech XML a <acronym title=\"JavaScript Object Notation\">JSON</acronym>, což jsou standardní formáty pro AJAXovou komunikaci.</dd> <dt>Deklarativní vrstva</dt> <dd>Tato vrstva si klade za cíl usnadnit programování tzv. deklarativní metodou – něco jako XAML nebo XUL u&#160;tlustých klientů – a přináší XML-Script. V&#160;tomto skriptu se nejsnadněji deklarují komponenty, které jsou součástí stránky, jejich chování a svázání s&#160;daty a XHTML šablonami.</dd> </dl> <p>Tak to by měla být klientská část, která je nezávislá na platformě ASP.NET. Doufám, že jsem na nic nezapomněl. Nad tím vším je postavena <em>serverová část</em>. Jedná se o&#160;sadu komponent – tzv. Extenderů. Extendery jsou typy komponent, které jsou časté ve WinFormových aplikacích, a v&#160;podstatě rozšiřují funkčnost jiných komponent. Např. aplikací <code>AutoCompleteExtender</code>u&#160;na <code>TextBox</code> dostaneme <em>TextBox s&#160;našeptávačem</em>.</p> <p>Základní komponentou je <code>ScriptManager</code>, bez něho jsou všechny komponenty mrtvé. Ve ScriptManageru se připojují JavaScriptové knihovny a komponenty, webové služby jako zdroje dat a definuje se zde šablona pro chybové hlášky. ScriptManager z&#160;těchto informací generuje výsledný XML-Script a načítá potřebné skripty z&#160;Assembly. (Klientská část Atlasu je pro potřeby ASP.NET zakompilovaná v&#160;Assembly a volaná pomocí handleru WebResource.axd.)</p> <p>Tak a to by pro začátek mohlo stačit. Dnes jsme sfoukli takové uvedení do problematiky, v&#160;příštím díle se podíváme na zoubek už praktickým ukázkám a začneme s&#160;nejsilnější komponentou &#8211; <code>UpdatePanel</code>. Ukážeme si, jak se pomocí něho dají snadno převést současné ASP.NET aplikace na AJAXové.</p> <h3>Zajímavé odkazy</h3> <ul> <li><a href=\"http://atlas.asp.net/\">ASP.NET Atlas</a> &#8211; hlavní stránka projektu</li> <li><a href=\"http://www.nikhilk.net/Category.ASPNET.aspx\">Nikhil Kothari</a> &#8211; hlavní architekt Atlasu</li> <li><a href=\"http://weblogs.asp.net/scottgu/\">Scott Guthrie</a> &#8211; šéf vývoje ASP.NET, ISS a Visual WebDeveloper</li> <li><a href=\"http://weblogs.asp.net/atlas/\">Atlas Announcements</a> &#8211; stránka s&#160;novinkami o&#160;Atlasu</li> </ul> <p>Zajímavých odkazů mám daleko víc, ale ty až v&#160;dalším díle ;)</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-12T08:00:01.930-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Začínáme s Atlasem",
  :published #inst "2006-04-07T15:36:40.543-00:00",
  :url "zaciname-s-atlasem",
  :id 129,
  :description "První díl seriálu o Atlas Frameworku.",
  :category "ASP.NET 2.0",
  :tags []},
 :436-nepiste-zbytecny-kod-2.aspx
 {:html
  "<p>Každý napsaný kus kódu není žádný poklad, ale ve skutečnosti je to náklad. Náklad na vytvoření, náklad na udržování a případná překážka k dalšímu vývoji. Kód by měl být, co nejjednodušší, ale nesmí tím trpět srozumitelnost.</p> <h3 id=\"toc-explicitni-modifikatory-viditelnosti\">Explicitní modifikátory viditelnosti</h3> <h3 id=\"toc-explicitni-this\">Explicitní this</h3> <h3 id=\"toc-explicitni-typove-sablony\">Explicitní typové šablony</h3> <h3 id=\"toc-explicitni-typy\">Explicitní typy</h3> <h3 id=\"toc-madarske-notace\">Maďarské notace</h3> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-12-20T13:06:05.207-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Tak ještě jenou: Nepište zbytečný kód",
  :published #inst "2012-12-20T09:49:25.913-00:00",
  :url "nepiste-zbytecny-kod-2",
  :id 436,
  :description "",
  :category "Moje práce",
  :tags []},
 :112-url-mania.aspx
 {:html
  "<p>Včera jsem se konečně dokopal k&#160;tomu, abych zprovoznil URL Rewriting. Díky tomu přes noc nefungovaly webové služby včetně syndikační, ale teď už by mělo být vše v&#160;pořádku. Pokud naleznete nějakou chybu, napište mi prosím o&#160;ní.</p> <p>V&#160;současné době fungují na těchto stránkách asi tak čtyři verze URL krát dvě, protože vše jde requestovat i&#160;přes doménu rarous.aspweb.cz. To jen tak pro zajímavost. Říkám si, že takhle se kloudnýho PageRanku nedočkám, ale o&#160;ten mi stejně nejde :) Stejně to ještě neni finální podoba jakou bych si představoval, ale na tu už momentálně nezbýva čas&#8230;</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-02-23T10:52:06.503-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "URL Mania",
  :published #inst "2006-02-23T10:52:06.490-00:00",
  :url "url-mania",
  :id 112,
  :description "O URL na mých stránkách.",
  :category "Gryphoon",
  :tags []},
 :35-stastne-a-vesele.aspx
 {:html
  "<p>Přeji šťastné a veselé prožití svátků Vánočních všem lidem dobré vůle i&#160;těm ostatním.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:49:49.440-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Šťastné a veselé",
  :published #inst "2004-12-24T00:00:00.000-00:00",
  :url "stastne-a-vesele",
  :id 35,
  :description
  "Přeji šťastné a veselé prožití svátků Vánočních všem lidem dobré vůle i těm ostatním. ",
  :category "Jen tak",
  :tags []},
 :338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx
 {:html
  "<p>Binsor je skvělou <a rel=\"bookmark\" title=\"Inversion of Control v ASP.NET MVC\" href=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">konfigurační DSL pro Windsor IoC</a> kontejner. Proč nevyužít možností, které nám využití jazyka <a href=\"http://boo.codehaus.org/\">Boo</a> přináší a nerozšířit si Binsor o pár dalších pravidel pro konfiguraci <a rel=\"bookmark\" title=\"URL Routing v ASP.NET MVC\" href=\"/weblog/296-url-routing-v-asp-net-cast-prvni.aspx\">routingu v ASP.NET MVC</a>?</p> <h3 id=\"toc-routing-v-asp-net-mvc\">Routing v ASP.NET MVC</h3> <p><code>System.Web.Routing</code> je jedním ze základních kamenů ASP.NET MVC. Přijímá parametry z URL a posílá je <code>MvcRouteHandler</code>u, který vybere controller a jeho akci, která má požadavek zpracovat. Routing je na MVC nezávislý a využívá se třeba i v ASP.NET Dynamic Data.</p> <p>Pokud chceme routing nakonfigurovat, máme několik možností, jak toho dosáhnout. Tou první je využít standardní API:</p> <pre class=\"csharp\"><code>public void Application_Start() { RouteTable.Routes.Add( new Route(\"{resource}.axd/{*pathInfo}\", new StopRoutingHandler()) ); RouteTable.Routes.Add(\"default\", new Route(\"{controller}/{action}/{id}\", new MvcRouteHandler()) { Defaults = new RouteValueDictionary(new { controller = \"Home\", action = \"Index\" }) } ); }</code></pre> <p>Jak jistě vidíte, psát takto routovací pravidla je celkem na dlouho. Kód obsahuje zbytečně mnoho šumu a můžete snadno něco opomenout. Proto je součástí MVC frameworku několik extenzí, které mají konfiguraci usnadnit:</p> <pre class=\"csharp\"><code>public void Application_Start() { RouteTable.Routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\"); RouteTable.Routes.MapRoute( \"default\", \"{controller}/{action}/{id}\", new { controller = \"Home\", action = \"Index\" } ); }</code></pre> <p>Takový kód už je o poznání kratší, většina šumu už je pryč, ale stejně tu zůstává několik zbytečných znaků a na první pohled není vidět, co vlastně je ta anonymní třída. Navíc jde o konfiguraci a ta by si zasloužila být v konfiguračním souboru. Změna routy si pak nevyžádá rekompilaci aplikace, ale pouze restart… Proto jsem se rozhodl vytvořit si vlastní konfigurační <acronym title=\"Domain Specific Language\">DSL</acronym> a to za pomocí Boo.</p> <h3 id=\"toc-krok-prvni-navrh-dsl\">Krok první: návrh DSL</h3> <p>Začněme tedy s tím, jak by taková DSL měla vypadat. To, co má dělat, je už nastíněno výše. První můj návrh vypadal asi takto:</p> <pre class=\"boo\"><code>ignore: route \"{resource}.axd/{*pathInfo}\" map: route \"Default\", \"{controller}/{action}/{id}\": defaults: controller = \"Home\" action = \"Index\"</code></pre> <p>Bloky <code>ignore</code> a <code>map</code> by mohli mít vícero potomků <code>route</code>. Tuto variantu jsem však záhy zapověděl, protože vyžaduje zbytečné odsazení navíc a v delších konfiguracích už nemusí být jasné, jestli zrovna jsme v bloku <code>ignore</code> nebo <code>map</code> popřípadě jiném. Tak jsem nad tím přemýšlel a nakonec zvolil následující variantu:</p> <pre class=\"boo\"><code>ignore_route \"{resource}.axd/{*pathInfo}\" map_route \"Default\", \"{controller}/{action}/{id}\": defaults: controller = \"Home\" action = \"Index\"</code></pre> <p>Takže syntaxi bych měl, teď přijde ta veselejší část: implementace.</p> <h3 id=\"toc-krok-druhy-implementace-dsl\">Krok druhý: implementace DSL</h3> <p>Jedním z důvodů proč jsou oblíbené dynamické jazyky jako Ruby a Python je meta programování. Meta programování nám umožňuje vytvářet nové programové konstrukce v jazyku, zkrátka obohatit jeho sémantiku. Já si pro implementaci vybral Boo.</p> <p>Ačkoli je Boo statický jazyk, díky otevřenému konceptu kompilátoru, můžeme jazyk obohacovat stejně efektivně, jako v jazyce dynamickém. Výhodou je, že gramatickou správnost našich rozšíření můžeme ověřit při kompilaci. Základním kamenem při tvorbě vlastních DSL jsou <em>meta funkce</em>, které jsem však nepoužil, a <em>makra</em>.</p> <p><a href=\"http://boo.codehaus.org/Syntactic%20Macros\">Makro</a> je třída. Ano lze ho napsat v jakémkoli jazyce nad <acronym title=\"Common Laguage Infrastructure\">CLI</acronym>. Stačí nám implementovat rozhraní <code>IAstMacro</code> a třídu pojmenovat s konvenčním přídomkem <code>Macro</code>, např. <code>Map_routeMacro</code>. V implementovaných metodách si pak můžete dle libosti hrát s <acronym title=\"Abstract Syntax Tree\">AST</acronym>. Takhle je v C# napsanej třeba Binsor. Já jsem však k implementaci routovacích maker zvolil přímo jazyk Boo, který má od verze 0.8.1 podporu pro snadné psaní maker přímo v jazyce.</p> <p>Začneme jednodušším makrem pro ignorování routy:</p> <pre class=\"boo\"><code>import Boo.Lang.Extensions import Boo.Lang.Compiler import Boo.Lang.Compiler.Ast import Boo.Lang.Compiler.Ast.Visitors macro ignore_route: path, = ignore_route.Arguments block = Block() block.Add([| RouteTable.Routes.Add(Route($path, StopRoutingHandler())) |]) return block</code></pre> <p>Pro snadnější pochopení si kód trochu popíšeme. Na prvních řádkách si naimportujeme potřebné jmenné prostory. Klíčovým slovem <code>macro</code> zahájíme psaní makra a v zápětí mu přiřadíme jméno, protože, co dokážeme pojmenovat, dokážeme ovládat. Pak si načteme první parametr a uložíme si ho do proměnné <code>path</code>. Pak si vytvoříme nový blok kódu. A teď začíná magic. Všechno co je v bloku <code>[| … |]</code> je normální kód v Boo, který se převede na AST. Pomocí <code>$</code> lze do toho kódu zasahovat zvenčí, takže místo <code>$path</code> bude v kódu obsah proměnné <code>path</code>. Připravený blok kódu pak vrátíme kompilátoru.</p> <p>Díky našemu makru se kód <code>ignore_route \"test\"</code> přeloží na <code>RouteTable.Routes.Add(Route(\"test\", StopRoutingHandler()))</code> a pokud je naimportován jmenný prostor <code>System.Web.Routing</code>, kompilátor všemu rozumí a máme jednoduchou syntaxi pro definování ignorovaných rout.</p> <p>Bylo to celkem snadné, že? Satačí pochopit základní princip. Ono totiž klíčové slovo <code>macro</code> není nic jiného než makro, které bere jako první parametr název makra a následující blok je de facto implementací metody <code>Expand</code>. :)</p> <p>Postoupíme dál. Makro <code>map_route</code> už bude o něco větší oříšek, protože může obsahovat vnořené bloky <code>defaults</code>, kde jsou vypsané výchozí hodnoty parametrů routy, a <code>constraints</code>, kde jsou podmínky, které tyto parametry musejí splňovat.</p> <pre class=\"boo\"><code>macro map_route: name, path = map_route.Arguments defaults = map_route[\"defaults\"] as MacroStatement or MacroStatement() constraints = map_route[\"constraints\"] as MacroStatement or MacroStatement() block = Block() block.Add([| route = Route($path, MvcRouteHandler()) |]) block.Add([| route.Defaults = RouteValueDictionary() |]) block.Add([| route.Constraints = RouteValueDictionary() |]) for exp as ExpressionStatement in defaults.Block.Statements: binary = exp.Expression as BinaryExpression block.Add([| route.Defaults.Add($(binary.Left.ToString()), $(binary.Right)) |]) for exp as ExpressionStatement in constraints.Block.Statements: binary = exp.Expression as BinaryExpression block.Add([| route.Constraints.Add($(binary.Left.ToString()), $(binary.Right)) |]) block.Add([| RouteTable.Routes.Add($name, route) |]) return block macro defaults: allowedParents as List = [ \"map_route\" ] parent as MacroStatement = defaults.GetAncestor(NodeType.MacroStatement) assert allowedParents.Contains(parent.Name) parent[\"defaults\"] = defaults macro constraints: allowedParents as List = [ \"map_route\", \"ignore_route\" ] parent as MacroStatement = constraints.GetAncestor(NodeType.MacroStatement) assert allowedParents.Contains(parent.Name) parent[\"constraints\"] = constraints</code></pre> <p>Makro <code>map_route</code> je trošku rozšířenou obdobou <code>ignore_route</code>, podívejme se na makro <code>defaults</code>, které přináší něco jiného. Zprvu si nadefinujeme, jaká makra mohou toto makro obsahovat, a následně ověříme, že opravdu není v jiném makru. Pak vezmeme kód tohoto makra a pošleme ho ke zpracování nadřazenému makru. Žádný kód generovat nebudeme. Makro <code>constraints</code> je na tom téměr stejně, jen předpokládá, že bude i v <code>ignore_route</code>, což zatím není implementováno, ale budiž.</p> <p>Vraťme se k makru <code>map_route</code> a konkrétně k <code>for</code> cyklům. Tam totiž projíždíme předané kusy kódu. Jednotlivé řádky považujeme za výrazy. Konkrétně výraz přiřazení, což je binární výraz. Binární výraz má vždy pravou a levou stranu a operátor. Na levé straně máme klíče do <code>RouteValueDictionary</code>, což jsou řetězce. Proto levou stranu musíme převést na řetězec metodou <code>ToString()</code>. Pravá strana je hodnota přidružená ke klíči a může to být cokoli (<code>object</code>). Takže tam i cokoli pošleme.</p> <p>Vezmeme oba kusy kódu a uložíme je do souboru <code>RoutingMacros.boo</code></p> <h3 id=\"toc-krok-treti-uzivani-dsl\">Krok třetí: užívání DSL</h3> <p>Než začneme makra využívat, musíme si je nejprve naimportovat. Na začátek souboru <code>Windsor.boo</code> přidáme řádky:</p> <pre class=\"boo\"><code>import file from RoutingMacros.boo import System.Web.Routing import System.Web.Mvc</code></pre> <p>No a potom už můžeme na konci souboru přidávat routovací pravidla.</p> <h3 id=\"toc-update\">Update</h3> <p>Kompletní skripty pro routování naleznete v článku <a rel=\"bookmark\" title=\"Oprava předchozích článků\" href=\"/weblog/341-oprava-predchozich-clanku.aspx\">Oprava předchozích článků</a>, kde jsem provedl několik oprav v makru <code>ignore_route</code> a lehký refactoring.</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a rel=\"bookmark\" title=\"URL Routing v ASP.NET MVC\" href=\"/weblog/296-url-routing-v-asp-net-cast-prvni.aspx\">URL Routing v ASP.NET MVC</a></li> <li><a rel=\"bookmark\" title=\"Inversion of Control v ASP.NET MVC\" href=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">Inversion of Control v ASP.NET MVC</a></li> <li><a rel=\"bookmark\" title=\"Model Binders v ASP.NET MVC\" href=\"/weblog/336-model-binders-v-asp-net-mvc.aspx\">Model Binders v ASP.NET MVC</a></li> <li><a rel=\"bookmark\" title=\"Oprava předchozích článků\" href=\"/weblog/341-oprava-predchozich-clanku.aspx\">Oprava předchozích článků</a></li> <li><a href=\"http://boo.codehaus.org/\">Boo</a></li> <li><a href=\"http://boo.codehaus.org/Syntactic%20Macros\">Boo Macros</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-14T16:45:00.120-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "DSL pro konfiguraci URL Routingu v ASP.NET MVC",
  :published #inst "2008-12-27T15:11:56.423-00:00",
  :url "dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc",
  :id 338,
  :description
  "Binsor je skvělou konfigurační DSL pro Windsor IoC kontejner. Proč nevyužít možností, které nám využití jazyka Boo přináší a nerozšířit si Binsor o pár dalších pravidel pro konfiguraci routingu v ASP.NET MVC?",
  :category "Webdesign",
  :tags ["boo" "bindor" "aspnet" "routing" "mvc"]},
 :330-komponenty-a-nastroje-od-devexpress-zdarma.aspx
 {:html
  "<p>Firma DevExpress je známá vývojem vizuálních komponent – v poslední době zejména pro dotnet, ale dříve také např. pro VCL nebo Delphi. Další jejich aktivitou jsou nástroje pro zvýšení produktivity práce CodeRush a Refactor! Pro, což jsou plug-iny do Visual Studia. No a nedávno došlo k uvolnění bezplatné sady komponent a express verze nástrojů.</p> <h3 id=\"toc-vizualni-komponenty-pro-asp-net\">Vizuální komponenty pro ASP.NET</h3> <p><a href=\"http://www.devexpress.com/Products/Free/WebRegistration60/\">Balíček bezplatných komponent</a> obsahuje 21 kusů, jako tag cloud, menu, stránkovač, záložky, rss čtečku nebo callback panel. Určitě jsou mnohé z nich užitečné. :) Integrují se do toolboxu VS 2005 i 2008. <a href=\"http://www.devexpress.com/Products/Free/WebRegistration60/\">Stáh­nout</a> si je můžete zdarma po vyplnění registrace (jméno a e-mailová adresa).</p> <h3 id=\"toc-nastroje-pro-zvyseni-produktivity\">Nástroje pro zvýšení produktivity</h3> <p>Pokud jste viděli videa o VS 2010, možná jste si všimli, že bude podporovat spoustu pěkných code snippets, příkazy pro generování kódu přes smart tagy apod. Tohle a mnohem víc umí už léta CodeRush. A DevExpress nyní přišli Xpress verzí, která přináší zdarma vybrané funkce zdarma. Je to třeba:</p> <dl> <dt>inteligentní vkládání ze schránky</dt> <dd>když napíšete sadu fieldů a zkopírujete ji a pak vložíte do konstruktru, automaticky se vytvoří inicializace těchto fieldů,</dd> <dt>navigace po referencích</dt> <dd>kurzorem najedete do názvu proměnné a pomocí klávesy <code>TAB</code> přeskakujete po všech jejích výskytech,</dd> <dt>generování kódu</dt> <dd>to se hodí při TDD stylu práce, kdy napíšete test pro neexistující třídy a metody a necháte si je přes smart tag vygenerovat,</dd> <dt>inteligentní selekce</dt> <dd>numerickou klávesou <code>+</code> se označí nejbližší logická jednotka, a opakovaným stiskem třeba celý řádek, potom blok a tak dále, hodí se to třeba při psaní LINQ dotazů, které pak třeba chcete vložit do závorky a zavolat třeba metodu <code>Take</code> nebo <code>ToList</code>. Zmáčknete třikrát <code>+</code> a pak <code>(</code> a celý LINQ dotaz je ozávorkovaný.</dd> </dl> <p>Krom výše zmiňované funkcionality CodeRush jsou přibaleny i některé skvělé refaktoringy z Refactor! Pro. Z těch zajímavějších vyberu třeba konverzi delegáta na lambda výraz, vytvoření lokální proměnné z označeného kusu kódu, komprimace na samo implementující property, převod ternárního operátoru na <code>if</code> a zase zpátky, přesun typu do samostatného souboru a další užitečné refactoringy.</p> <h3 id=\"toc-zaver\">Závěr</h3> <p>Osobně jsem spokojeným vlastníkem plné verze <a href=\"http://devexpress.com/Products/Visual_Studio_Add-in/Coding_Assistance/\">CodeRush a Refactor!</a> Pro a používám spoustu dalších vychytávek, které v bezplatné verzi nejsou, ale i tak může být velice zajímavá, protože spousta věcí je velice návykových, a když je to zadarmo…</p> <p>No prostě doporučuju minimálně alespoň vyzkoušet.</p> <p><em>Poznamka: Vzhledem k licenční politice Microsoftu, nefunguje CodeRush Xpress v Express edicích Visual Studia. Pro jejich použití potřebujete alespoň Standard verzi.</em></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-11-17T07:24:35.773-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Komponenty a nástroje od DevExpress zdarma",
  :published #inst "2008-11-16T18:53:16.813-00:00",
  :url "komponenty-a-nastroje-od-devexpress-zdarma",
  :id 330,
  :description
  "Firma Developer Express uvolnila sadu vizuálních koponent jak pro WinForms, tak pro WebForms a aby toho nebylo málo, tak i Xpress verzi skvělého CodeRush.",
  :category "Webdesign",
  :tags ["coderush" "refactor" "vs2008"]},
 :202-osecenske-stranky-ziskaly-oceneni-v-krajskem-kole-souteze-zlaty-erb-2007.aspx
 {:html
  "<blockquote> <p>Ve čtvrtek 15. 3. 2007 se konalo na Krajském úřadě Libereckého kraje vyhlášení krajského kola soutěže Zlatý erb 2007. Byli zde přítomni všichni ocenění ze všech kategorií. Ceny v několika kategoriích udíleli: hejtman Libereckého kraje Petr Skokan, Radim Zika – náměstek hejtmana pověřeného vedením resortu rozvoje venkova, zemědělství, životního prostředí a informatiky, Bohdan Tomáš – ředitel KÚLK, Jan Savický z pořádajícího sdružení Zlatý erb a zástupci sponzorských firem.</p> <p>Vzhledem k tomu, že Osečná na podzim minulého roku získala titul město, byla hodnocena v kategorii měst. Přes nesrovnatelné porovnaní podmínek zpracovatelů byla hodnocena Osečná na třetím místě za Jabloncem nad Nisou a Českou Lípou, městy III. typu, které mají se svoji prezentací již veliké zkušenosti. V již jmenovaných bývalých okresních městech se o stránky starají školení pracovníci pověřených odborů, zatímco v Osečné vytvořili stránky obce dva nadšenci Aleš Roubíček z Druzcova a Jiří Hauzer z Osečné ve svém volném čase, kteří průběžně tyto živé stránky aktualizují. Tato skutečnost stojí v dnešní uspěchané době za zamyšlení a určitě je obrazem dobře se rozvíjející občanské společnosti.</p> </blockquote> <p>Zdroj: Liberecký den</p> <h3 id=\"toc-souvisejici\">Související</h3> <ul> <li><a href=\"http://tuni.vslib.cz/clanek/2764/\">Studenti TUL vyhráli nad profesionály</a></li> <li><a href=\"http://www.osecna.info/\">Stránky města Osečná</a></li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:41:51.337-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title
  "Osečenské stránky získaly ocenění v krajském kole soutěže Zlatý erb 2007 ",
  :published #inst "2007-03-21T13:21:28.827-00:00",
  :url
  "osecenske-stranky-ziskaly-oceneni-v-krajskem-kole-souteze-zlaty-erb-2007",
  :id 202,
  :description "no comment :)",
  :category "Jen tak",
  :tags ["zlatyerb" "osecna"]},
 :224-druha-sance-pro-brno.aspx
 {:html
  "<p>V pátek jsem se rozhodl dát Brnu druhou šanci a vyrazil na Elektru do Flédy. Musím uznat že tato akce byla zdařilejší než <a href=\"/weblog/203-cybertronic-ii-nejlepsi-parba-roku.aspx\">rozpačitý Cybertronic II</a>. Bohužel nejel s námi <a href=\"http://mikemaly.net/\">Mike</a>. Tak jsme u alespoň často telefonovali. :) Jel jsem tam hlavně na vystoupení <a href=\"http://dj.tomivega.com/\">Tommiho Vegy</a> a <a href=\"http://www.djorbith.com/\">Orbitha</a>, jenže jak jsem pak poznal, oba hráli ve stejný čas, tak jsem víc času trávil u Tommiho. :) Přece jen Orbitha mám tu čest potkávat živě častěji. Tommi Vega hrál na barové stagi, před mím se to tam snažil rozpumpovat Shala – jeho setík jsem si náramně užíval, páč hrál spoustu mejch oblíbenejch kousků, který v poslední době točím.</p> <p>Tommi začínal Phantomem od Justice a lidi začínal pomalu roztancovávat. Jak jsem si stačil všimnout, na Flédě bylo celkem dost lidí ale jen malé procento tancovalo a to se mi moc nelíbí. Nemám rád stojící čumily. Brněnky jsou celkem sympatická, akurát jsou z Brna… :( Domů jsme se vydali už před druhou hodinou, takže dál už nevim, jaký to bylo. :)</p> <div><embed type=\"application/x-shockwave-flash\" src=\"http://picasaweb.google.com/s/c/bin/slideshow.swf\" width=\"400\" height=\"267\" flashvars=\"host=picasaweb.google.com&amp;RGB=0x333333&amp;feed=http%3A%2F%2Fpicasaweb.google.com%2Fdata%2Ffeed%2Fapi%2Fuser%2Frarous%2Falbumid%2F5116008328804765169%3Fkind%3Dphoto%26alt%3Drss\" pluginspage=\"http://www.macromedia.com/go/getflashplayer\" /></div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T13:58:22.960-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Druhá šance pro Brno",
  :published #inst "2007-09-30T17:04:39.280-00:00",
  :url "druha-sance-pro-brno",
  :id 224,
  :description
  "V pátek jsem se rozhodl dát Brnu druhou šanci a navštívil jsem Elektru.",
  :category "Muzika",
  :tags []},
 :444-manifest-nejen-objektove-orientovaneho-vyvoje.aspx
 {:html
  "<p>Narazil jsem na velmi zajímavý <a href=\"http://notonlyoo.org/\">manifest Nejen objektově orientovaného vývoje</a> a myslím, že by neměl ujít pozornosti ani tady v československu.</p> <h3 id=\"toc-preklad-manifestu\">Překlad Manifestu</h3> <p>Objevujeme lepší způsoby vývoje software tím, že jej tvoříme a pomáháme při jeho tvorbě ostatním. Při této práci jsme dospěli k těmto hodnotám:</p> <ul> <li><strong>Funkce a typy</strong> před třídami</li> <li><strong>Čistota</strong> před mutacemi</li> <li><strong>Kompozice</strong> před dědičností</li> <li><strong>Funkce vyššího řádu</strong> před <em>method dispatch</em></li> <li><strong>Option</strong> před <code>null</code></li> </ul> <p>Tak jest, přestože je v bodech napravo hodnota (kromě <code>null</code>), bodů nalevo si ceníme více.</p> <h3 id=\"toc-principy\">Principy</h3> <p>Ctíme následující principy:</p> <ul> <li>Učení se vícero paradigmat nám umožňuje lepší řešení problémů.</li> <li>Používáme nejvhodnější paradigmata pro daný problém, nejen ta, která aktuálně ovládáme.</li> <li>Upřednostňujeme přemýšlení nad nejlepším řešením problému před slepým následováním <em>best practice</em>, směrnic, vzorů a frameworků.</li> <li>Upřednostňujeme reprezentaci invariant na úrovni typů před reprezentací na úrovni hodnot.</li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-03-25T20:26:05.853-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Manifest Nejen Objektově Orientovaného Vývoje",
  :published #inst "2013-03-25T14:01:23.110-00:00",
  :url "manifest-nejen-objektove-orientovaneho-vyvoje",
  :id 444,
  :description
  "Volný překlad manifestu Nejen Objektově Orientovaného Vývoje.",
  :category "Moje práce",
  :tags []},
 :85-beztabulkove-renderovani-controlu-v-asp-net-2-0.aspx
 {:html
  "<p>Již delší dobu jsem se pídil po tom, jak vyřešit takový malý problém s <code>asp:Login</code> controlem a podobným, které se dají krásně přepsat pomocí šablonování, ale vždy zůstane obalová tabulka. Tato tabulka je natvrdo napsaná v&#160;kódu tohoto velice užitečného controlu. Každá třída odvozená od <code>WebControl</code> má definovaný základní element, od kterého se odvozuje renderování výsledného kódu. Bázovým elementem všech složitějších controlů je v&#160;ASP.NET 2.0&#160;právě element <code>table</code>, čímž se porušují pravidla přístupnosti a vůbec semantický pohled na výsledný <acronym title=\"Extensible Markup Language\">XHTML</acronym>.</p> <p>Nakonec jsem <a href=\"http://blog.dreamprojections.com/archive/2005/04/08/783.aspx\">našel řešení na jednom blogu</a> a ještě ho trochu poupravil.</p> <pre class=\"csharp\"><code>using System; using System.Data; using System.Configuration; using System.Web; using System.Web.Security; using System.Web.UI; using System.Web.UI.WebControls; using System.Web.UI.WebControls.WebParts; using System.Web.UI.HtmlControls; namespace PBSoftware.Gryphoon.Controls { public class Login : System.Web.UI.WebControls.Login { protected override HtmlTextWriterTag TagKey { get { return HtmlTextWriterTag.Div; } } protected override void Render(HtmlTextWriter writer) { WebControl div = new WebControl(TagKey); if (LayoutTemplate == null) LayoutTemplate = new LoginTemplate(); LayoutTemplate.InstantiateIn(div); Controls.Clear(); Controls.Add(div); div.CopyBaseAttributes(this); div.RenderControl(writer); } } public class LoginTemplate : ITemplate { public LoginTemplate() { } public void InstantiateIn(Control container) { HtmlGenericControl fieldset = new HtmlGenericControl(\"fieldset\"); HtmlGenericControl legend = new HtmlGenericControl(\"legend\"); legend.InnerText = \"Přihlášení do aplikace\"; Label userNameLabel = new Label(); userNameLabel.ID = \"UserNameLabel\"; userNameLabel.AssociatedControlID = \"UserName\"; userNameLabel.Text = \"Uživatel:\"; TextBox userNameTextBox = new TextBox(); userNameTextBox.ID = \"UserName\"; RequiredFieldValidator userNameRequired = new RequiredFieldValidator(); userNameRequired.ID = \"UserNameRequired\"; userNameRequired.ControlToValidate = \"UserName\"; userNameRequired.ErrorMessage = \"Uživatelské jméno je povinné.\"; userNameRequired.ToolTip = \"Uživatelské jméno je povinné.\"; userNameRequired.Text = \"*\"; userNameRequired.ValidationGroup = \"Login1\"; Label passwordLabel = new Label(); passwordLabel.ID = \"PasswordLabel\"; passwordLabel.AssociatedControlID = \"Password\"; passwordLabel.Text = \"Heslo:\"; TextBox passwordTextBox = new TextBox(); passwordTextBox.ID = \"Password\"; passwordTextBox.TextMode = TextBoxMode.Password; RequiredFieldValidator passwordRequired = new RequiredFieldValidator(); passwordRequired.ID = \"PasswordRequired\"; passwordRequired.ControlToValidate = \"Password\"; passwordRequired.ErrorMessage = \"Heslo je povinné.\"; passwordRequired.ToolTip = \"Heslo je povinné.\"; userNameRequired.Text = \"*\"; passwordRequired.ValidationGroup = \"Login1\"; CheckBox rememberMe = new CheckBox(); rememberMe.ID = \"RememberMe\"; rememberMe.Text = \"Pamatuj si mě.\"; Literal failureText = new Literal(); failureText.ID = \"FailureText\"; failureText.EnableViewState = false; Button loginButton = new Button(); loginButton.ID = \"LoginButton\"; loginButton.CommandName = \"Click\"; loginButton.Text = \"Přihlásit se\"; loginButton.ValidationGroup = \"Login1\"; HtmlGenericControl br = new HtmlGenericControl(\"br\"); fieldset.Controls.Add(legend); fieldset.Controls.Add(userNameLabel); fieldset.Controls.Add(userNameTextBox); fieldset.Controls.Add(userNameRequired); fieldset.Controls.Add(br); fieldset.Controls.Add(passwordLabel); fieldset.Controls.Add(passwordTextBox); fieldset.Controls.Add(passwordRequired); fieldset.Controls.Add(br); fieldset.Controls.Add(rememberMe); fieldset.Controls.Add(failureText); fieldset.Controls.Add(loginButton); container.Controls.Add(fieldset); } } }</code></pre> <p><del>Předem upozorňuju, že tento control musí mít přidělenou nějakou šablonu, jinak nebude fungovat</del>. Ještě na tom zapracuju, protože se mi nelíbí některé chování.</p> <p><strong>Update:</strong> Připsal jsem defaultní šablonu.</p> <!-- generated by Texy! -->",
  :keywords "asp.net beztabulkový login control",
  :edited #inst "2005-12-22T01:26:02.670-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Beztabulkové renderování controlů v ASP.NET 2.0",
  :published #inst "2005-11-30T10:39:00.000-00:00",
  :url "beztabulkove-renderovani-controlu-v-asp-net-2-0",
  :id 85,
  :description "Jak odstranit obalové tabulky u controlů ASP.NET 2.0",
  :category "ASP.NET 2.0",
  :tags []},
 :432-dip-ioc-a-di-dil-druhy.aspx
 {:html
  "<p><a href=\"http://rarous.net/weblog/431-dip-ioc-a-di-dil-prvni.aspx\">V minulém díle</a> jsem si začal pohrávat s myšlenkou, že to, jak nedokážeme sdělovat to, co chceme říct, ovlivňuje schopnost chápat těch, kterým myšlenky směřujeme. Řešením je jistě dialog, ve kterém se snažíme dobrat k podstatě sdělení, ale v kódu a asi i na blogu dialog nějak pokulhává.</p> <p>Minule jsme se snažil naznačit, že i když se snažíme dodržovat domněle správné postupy a poučky, tak se stejně dostaneme do potíží. Čím to je? Vždyť nám to šlo tak hezky, proč to bylo špatně?</p> <p>Snažil jsem se také dokázat, že dependency injection nemá nic společnýho s DIP nebo IoC. Doufám, že vám v mnohých případech zatrnulo. Takže jsme ve stavu, kdy máme v aplikaci DI, ale po DIP nebo IoC ani památky. Teď se vrátím k poslednímu kroku, kde jsme zavedli závislost doménového modelu na datové vrstvě.</p> <p>Všimněte si, že vrstva, která by měla mít vyšší úroveň abstrakce si vytváří závislost na celkem konkrétní datové vrstvě. Když bychom aplikovali IoC, museli bychom změnit konstruktor našeho publikačního manažera na něco takového: <code>PublishingManager(IRepository&lt;Article&gt; repository)</code>. Tím jsme zavedli závislost na abstrakci (všimněte si, že nám nějak zmizely konkrétní dotazy z ArticleRepo­sitory), naše třída už nemá znalost, jaká implementace repository bude za běhu doručena. Ale stále jsme nezavedli DIP!</p> <p>Vždyť DIP je obecný princip. IoC je přeci vzor, podle kterého se DIP dosáhne a DI je jeho konkrétní implementací. Nebo to dost často někde čtu nebo slýchám. Jak to, že teda mám zavedenou DI, mám zavedený IoC, ale po DIP ani památky? Že by to všechno bylo jinak?</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-10-26T15:09:30.603-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "DIP, IoC a DI - díl druhý",
  :published #inst "2012-10-26T14:47:16.777-00:00",
  :url "dip-ioc-a-di-dil-druhy",
  :id 432,
  :description
  "V motivačním díle jsme se pustili do vytváření sprasené architektury, dle nejlepšího uvážení, držíce se chytrých pouček. Teď si ukážeme, co bylo špatně.",
  :category "Moje práce",
  :tags []},
 :46-zmeny-2.aspx
 {:html
  "<p>Pokračování seriálu o&#160;změnách začnu pro mě změnou nejdůležitější a tou je změna mého zevnějšku. Už jsem začal přemýšlet o&#160;tom že budu muset měnit fotku na titulní stráce, protože jsem vypadal už úplně jinak, ale nakonec jsem zvolil cestu jednodušší. Vrátil jsme se ke svému starému osvědčenému vzhledu, takžeje ta fotka zase aktuální :) Pro porovnání se můžete podívat jak jsem byl zarostlej na <a href=\"http://pluto.pslib.cz/malym/fotky/krutec/?show=2005-01-25-svatba\">mikových stránkách</a>.</p> <p>Další změnu jsem avizoval již v&#160;předchozích spotech. Pracuju na kompletním přepracování těchto stránek. Už mám připravenou databázi a napsanou větší část bussiness logiky nové verze redakčního systému Gryphoon. Ta bude umět vést několik blogů zároveň &#8211; prozradim jen, že připravuji novou sekci věnovanou muzice &#8211; lepší podporu pro publikování několika autorů zároveň včetně uživatelských rolí. Systém by měl být velice odolný proti komentářovému spamu, bude podporovat dynamickou správu stylů a bude mít zcela nový editor příspěvků. Publikování bude možné z&#160;webového rozhranní, e-mailem nebo pomocí webové služby prakticky jakkoliv. No a celé to poběží na ASP.NET 2. Tak ja se jdu učit na zkoušku z&#160;X36DSA.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Změny 2",
  :published #inst "2005-02-06T12:00:00.000-00:00",
  :url "zmeny-2",
  :id 46,
  :description "",
  :category "Gryphoon",
  :tags []},
 :169-nova-alba-v-galerii.aspx
 {:html
  "<p>Tehle měsíc je fakt náročnej, každou chvíli nějaká oslava nebo kalba :) a to ještě není konec…</p> <p>Začnu tou nejstarší (dlouho slibovanou) akcí <a href=\"/galerie/2006-05-26_Paul_van_Dyk/default.aspx\">Paul van Dyk</a>, konečně jsem se dokopal k tomu vybrat pár fotek z toho kvanta, co jsme nafotili ;) ještě mě čeká přebrat Vibrations. Pak tu máme dva Hegeše <a href=\"/galerie/2006-07-07_Heges/default.aspx\">7. 7.</a> a <a href=\"/galerie/2006-07-21_Heges/default.aspx\">21. 7.</a> a jeden <a href=\"/galerie/2006-07-20_Duplex/default.aspx\">Duplex</a>. Posledním mega albem jsou fotky ze <a href=\"/galerie/2006-07-08-2_Zuzky_narozky/default.aspx\">Zuzčiných narozenin</a>.</p> <p>Příjemný pohled, přeje Aleš.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T15:25:45.927-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nová alba v galerii",
  :published #inst "2006-07-26T10:28:56.693-00:00",
  :url "nova-alba-v-galerii",
  :id 169,
  :description "Přidal jsem pár dalších alb do galerie.",
  :category "Kamarádi",
  :tags []},
 :408-actioninterceptor-pro-asp-net-mvc.aspx
 {:html
  "<p>V pátek jsem na twitteru <a href=\"http://twitter.com/alesroubicek/status/127324625041494017\">publikoval</a> <code>ActionInterceptor</code> a záhy jsem dostal <a href=\"http://twitter.com/#!/kolman/status/127326719358156800\">reakci od Dana Kolmana</a>, „proč ne <code>ActionFilterAttribute</code>?“ Sice jsem to na twitteru <a href=\"http://twitter.com/alesroubicek/status/127327835063992320\">shrnul</a>, ale klidně si to shrnu ještě jednou a obšírněji. Dělá mi to totiž dobře.</p> <h3 id=\"toc-action-filtry\">Action Filtry</h3> <p><a href=\"http://www.asp.net/mvc/tutorials/understanding-action-filters-cs\">Action filtry</a> jsou – už od první verze ASP.NET MVC – způsobem, jak rozšiřovat akce o znovupoužitelné aspekty. Můžete tak zabalit často používané koncepty a jednoduše je aplikovat tam, kde je to třeba. Jenže action filtry mají několik zásadních omezení:</p> <ol> <li>Nepřijde mi úplně košer, aby atributy byly nositeli jednotky práce. Jejich úkolem je <em>poskytovat metadata, nikoli funkcionalitu</em>.</li> <li>Do verze 3 tu nebyla možnost injektovat závislosti, ve 3. verzi přibyl <a href=\"http://bradwilson.typepad.com/blog/2010/10/service-location-pt5-idependencyresolver.html\">service lokátor</a> (<code>IDependencyResolver</code>), který má k dokonalosti velmi daleko.</li> <li>Pokud chci přidat aspekt, musím zasahovat do rozšiřovaného kódu.</li> </ol> <p>Všechny tři body jsou pro mne velmi <strong>zásadní chyby v návrhu</strong> a použitelnosti. Jak je vyřešit?</p> <h3 id=\"toc-action-interceptor\">Action interceptor</h3> <p>Ve svých aplikacích spokojeně používám <a href=\"http://docs.castleproject.org/Windsor.MainPage.ashx\">IoC kontejner Castle.Windsor</a>, který umožňuje snadno vkládat aspekty. Děje se tak pomocí dynamicky vytvářených proxy nad dekorovanými objekty. Jak se má aspekt chovat a kde aplikovat můžeme snadno popsat v objektu, který implementuje rozhraní <code>IInterceptor</code>.</p> <p>Ze základního popisu to nemusí být zcela zřejmé, ale aspekty můžete aplikovat pouze na virtuální metody. Proto když chcete přidávat aspekt do vašich kontrolerů musíte sáhnout k tomu, že všechny akce budou <code>virtual</code> (což je IMO nesmysl) nebo prostě využijete již existující extension pointy, které MVC framework nabízí. Kupodivu jsou to známé metody, které se objevují i v Action filterech. Implementace Action interceptoru bude tedy vypadat následovně:</p> <pre class=\"csharp\"><code>using System; using System.Linq; using System.Web.Mvc; using Castle.DynamicProxy; public abstract class ActionInterceptor : IInterceptor, IActionFilter, IResultFilter { public void Intercept(IInvocation invocation) { switch (invocation.Method.Name) { case \"OnActionExecuting\": Intercept(invocation, OnActionExecuting); break; case \"OnActionExecuted\": Intercept(invocation, OnActionExecuted); break; case \"OnResultExecuting\": Intercept(invocation, OnResultExecuting); break; case \"OnResultExecuted\": Intercept(invocation, OnResultExecuted); break; } invocation.Proceed(); } void Intercept&lt;TContext&gt;(IInvocation invocation, Action&lt;TContext&gt; action) { action(invocation.Arguments.First() as TContext); } public virtual void OnActionExecuting(ActionExecutingContext filterContext) { } public virtual void OnActionExecuted(ActionExecutedContext filterContext) { } public virtual void OnResultExecuting(ResultExecutingContext filterContext) { } public virtual void OnResultExecuted(ResultExecutedContext filterContext) { } }</code></pre> <p>Užití je pak už pouhé podědění a přepsání patřičné metody podobně jako u Action filtrů.</p> <h3 id=\"toc-aplikace-aspektu\">Aplikace aspektu</h3> <p>Takovýto aspekt můžeme aplikovat několika způsoby. Nejpřímější cestou, bez nutnosti modifikovat cíl aspektu, je konfigurace kontejneru:</p> <pre class=\"csharp\"><code>Component. For&lt;LoggingInterceptor&gt;(). Lifestyle.Transient, Component. For&lt;HomeController&gt;(). Lifestyle.Transient. Interceptors&lt;LoggingInterceptor&gt;()</code></pre> <p>A jedem. :)</p> <p>Další možností je aplikovat interceptor podobně jako action filtr – pomocí atributu:</p> <pre class=\"csharp\"><code>[Authorization] public class HomeController : System.Web.Mvc.Controller { } public class AuthorizationAttribute : Castle.Core.InterceptorAttribute { public AuthorizationAttribute() : base(typeof(AuthorizationInterceptor)) { } }</code></pre> <p>Každý ze způsobů užití má své přednosti. Konfiguraci kontejneru používám tehdy, když potřebuji přidat dočasné nebo velice obecné aspekty. Naopak, pokud potřebuji explicitně vyjádřit nějaký koncept (autorizaci, invalidaci cache apod.), který má být při čtení controlleru zřejmý, použiji atributy.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-10-24T07:05:00.417-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "ActionInterceptor pro ASP.NET MVC",
  :published #inst "2011-10-23T10:19:28.777-00:00",
  :url "actioninterceptor-pro-asp-net-mvc",
  :id 408,
  :description
  "Taková malá ukázka toho, jak mít čistší kód v ASP.NET MVC pomocí AOP a Windsor kontejneru.",
  :category "ASP.NET 2.0",
  :tags ["aspnetmvc" "windsor" "aop"]},
 :135-eric-prydz-poprve-v-praze.aspx
 {:html
  "<p>V&#160;pátek jsem navštívil společně s&#160;kamarády <a href=\"http://www.vibrations.cz/\">Vibrations</a>, kde mimo jiné premiérově vystoupil jeden z&#160;mých nejoblíbenějších DJs <a href=\"http://www.ericprydz.com/\">Eric Prydz</a>. Konečně jsem si mohl na živo a s&#160;pořádným zvukem vychutnat Erikův live set. A&#160;byla to opravdu bomba! Kubovi se Erikovo vystoupení moc nelíbilo, ale já s&#160;<a href=\"http://mikemaly.net/\">mikem</a> jsme si to dokonale užívali. <img class=\"right\" src=\"/data/obrazky/vibrations.jpg\" alt=\"Vibrations Live\" /> Eric nastoupil s&#160;dokonalostí zvanou <strong>1 2 3</strong>&#160;kterou vydal společně s&#160;<a href=\"http://www.axwell.nu/\">Axwellem</a> pod jmenovkou <em>AxEr</em>, následoval remix The Drill, pravděpodobně Erikův :) pak už se to vezlo jeden dobrej elektro-houseovej kus za druhým, namátkou z&#160;těch co jsem poznal: Draft (Remix), Sucker DJ (Remix), Good Life (Remix), A&#160;Bit Patchy (Remix), Sweet Dreams (steve angello bootleg remix), Copy Rat, Re-Match, Aftermath (Paolo Mojo Remix), Tomas Andersson… Prostě geniální dvě hodiny house music. Pak jsme se šli trochu vyvětrat na chodbu a na hodinu jsme zapluli do Chilličili, kde hráli do pohody ve stylu Boba Sinclara :) Takže každej kdo tam nebyl má čeho litovat, ale nemusí, už za měsíc se do Prahy přiřítí další ze Swedish House Mafia &#8211; <a href=\"http://www.steveangello.tv/\">Steve Angello</a>!</p> <h3>Další čtení</h3> <ul> <li><a href=\"http://www.mikemaly.net/clanek/12-vodafone-vibrations-report.aspx\">Mikův report z&#160;akce</a></li> <li><a href=\"http://www.mikemaly.net/galerie/2006-04-14_vodafone_vibrations/default.aspx\">Mikovy fotky z&#160;akce</a></li> </ul> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-20T12:34:00.237-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Eric Prydz poprvé v Praze - update",
  :published #inst "2006-04-18T09:16:00.000-00:00",
  :url "eric-prydz-poprve-v-praze",
  :id 135,
  :description
  "Menší report z akce. Přidány odkazy na další report a fotky.",
  :category "Muzika",
  :tags []},
 :122-pokec-naprdel.aspx
 {:html
  "<p>Jak jsem se již <a href=\"http://www.rarous.net/clanek/119-statistika.aspx\">zmiňoval</a>, dělal jsem úpravy na pokecu. Nakonec se to nahodilo až tenhle tejden, ale to neni zase tak důležitý pro tento spot. Nová verze, měla zvýšit stabilitu DataService, který je míchou celého Pokecu, a opravit další chybky. Když se to v&#160;úterý ráno vystageovalo byl jsem rád, že bude konečně vidět moje práce :D Chyba lávky, už při testování na vývojářských serverech se vynořovaly nějaké podivnosti, ale nakonec jsme je vyeliminovali (dvě služby běžely proti jedný databázi a navzájem si rušily data), takže sranda. Když se to nasadilo, myslel jsem že se taková chyba už nestane.</p> <p>Včera se začaly na vostrým Pokecu vynořovat zrůdnosti jako mrtvé místnosti i&#160;obrovská čísla hostů. Začalo mě mrazit. Museli jsme najít chybu, ale jak, když na testovacím serveru vše jede v&#160;pohodě? Ty chyby se nám nedařilo nasymulovat. Vytáhly jsme do boje zbraně těžkého kalibru :) Profilovali jsme testovací databázi s&#160;testovací službou, ale objevovalo se tam podivně moc dat, vypnul jsem testovací službu, data přibývala (?). Ty vole, asi má někdo ještě puštěnou DataService, jak to dohledat? Udělali jsme zákeřnou věc, odpojili databázi.</p> <p>U&#160;systémáků jsme zjistili, že na provozní databázi visely ještě dvě služby, tak se ukillovaly. Problém na Pokecu, nejdou místnosti, do <a href=\"http://pokec.atlas.cz/diskuze/diskuze.aspx?cat=150\">diskuse</a> přibývají sprosté příspěvky (trochu je i&#160;chápu, ale takhle brzo odejít?). Konečně jsme našli chybu, provozní služba běžela proti testovací databázi &#8211; jejím odpojením došlo k&#160;zastavení služby a Pokec se tvářil na venek mrtvý.</p> <h3>Perlička závěrem</h3> <p>Celé ty tři dny běžela služba proti jiným datům, než stránky. Proto ti duchové &#8211; ozvěny minulosti :D</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-24T07:19:04.920-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pokec naprdel",
  :published #inst "2006-03-23T14:36:32.513-00:00",
  :url "pokec-naprdel",
  :id 122,
  :description "Pardon za hrubší ražení, ale musim to vyventilovat.",
  :category "Moje práce",
  :tags []},
 :230-microsoft-koupil-licenci-od-eolas.aspx
 {:html
  "<p>Microsoft koupil licenci od Eolas, což znamená, že již brzy z Internet Eploreru zmizí ono otravné „Click to activate“ u emebeded prvků na stránce.</p> <p>Toto chování se objevilo v březnu loňského roku, kdy přišla firma Eolas s tím, že má patentovaný způsob vkládání pluginů do stránky, který používá Internet Explorer, a že to tak nesmí být. Microsoft proto vydal update, který vyžadoval, aby každý prvek vkládaný přes tagy <code>applet</code>, <code>object</code> a <code>embed</code> byl aktivovaný uživatelem pomocí kliknutí.</p> <p>Existuje tu však možnost vkládat embed prvky přes JavaScript bez nutnosti aktivace. Dokonce existuje několik volně dostupných skriptů (např. <a href=\"http://knowhow.dgx.cz/eolas-workaround/\">od DGX</a>), které stačí vložit do stránky a ty vyjmou všechny embed prvky z html a opět je vloží pomocí scriptu, čímž je problém prakticky vyřešen. Ale udivuje mne, že to skoro nikdo nepoužívá.</p> <p>V prosinci by měla vyjít aktualizace, která toto chování opět vrátí do stavu před březnem 2006.</p> <h3 id=\"toc-souvisejici\">Související</h3> <ul> <li>David Grudl: <a href=\"http://latrine.dgx.cz/jak-obejit-aktivovani-pluginu-v-ie\">Jak obejít aktivování pluginů v IE</a></li> <li>Pete LePage: <a href=\"http://blogs.msdn.com/ie/archive/2007/11/08/ie-automatic-component-activation-changes-to-ie-activex-update.aspx\">IE Automatic Component Activation</a></li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:18:48.340-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Microsoft koupil licenci od Eolas",
  :published #inst "2007-11-09T10:09:46.260-00:00",
  :url "microsoft-koupil-licenci-od-eolas",
  :id 230,
  :description
  "Microsoft koupil licenci od Eolas, což znamená, že již brzy z Internet Eploreru zmizí ono otravné \"Click to activate\" u emebeded prvků na stránce.",
  :category "Webdesign",
  :tags ["ie" "eolas" "plugin"]},
 :94-black-depeche-by-alessio-busta.aspx
 {:html
  "<ol> <li>Depeche Mode &#8211; Useless (The Kruder and Dorfmeister Session) [Mute]</li> <li>Moby &#8211; Beatiful (Laurent Konrad Remix) [Mute]</li> <li>Deep Dish &#8211; Sacramento [Positiva]</li> <li>Fisherspooner &#8211; Never Win (Black Strobe Remix) [EMI]</li> <li>Tomcraft &#8211; Sureshot (Original Mix) [Kosmo]</li> <li>Mojado &#8211; El Torro [Magik]</li> <li>Ghost &#8211; Hey You (Original Mix) [Ghoststyle]</li> <li>Depeche Mode &#8211; Enjoy The Silence (Timo Maas Extended Remix) [Mute]</li> <li>David Guetta feat. JD Davis &#8211; In Love With Myself (David Guetta &amp; Joachim Gurraud Remix) [EMI]</li> <li>Goldfrapp &#8211; Ohh la la (Original Extended Mix) [Mute]</li> <li>Slam &#8211; This World (Hugg &amp; Pepp Remix) [Soma]</li> <li>Depeche Mode &#8211; A&#160;Pain That I'm Used To (Telex Remix) [Mute]</li> <li>Deep Dish feat. Steve Nicks &#8211; Dreams [Positiva]</li> </ol> <p>Ke stažení <a href=\"/files/alessio_busta_-_black_depeche.wma\">Black Depeche by Alessio Busta</a> (WMA 96&#160;kbps; 47,6&#160;MiB)</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-13T19:22:34.660-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Black Depeche by Alessio Busta",
  :published #inst "2005-12-13T16:44:17.557-00:00",
  :url "black-depeche-by-alessio-busta",
  :id 94,
  :description
  "Další mix od Alessia, tentokráté v černé barvě zvuku...",
  :category "Muzika",
  :tags []},
 :384-integrace-gitu-do-vs-2010.aspx
 {:html
  "<p>Bohužel i přes přítomnost skvělého <a href=\"http://code.google.com/p/tortoisegit/\">TortoiseGit</a>, který integruje funkce gitu přímo do Windowsího shellu, neexistuje pro git slušná integrace do Visual Studia ala VisualSVN. Dneska se podíváme na alternativní cestu.</p> <h3 id=\"toc-visual-studio-2010\">Visual Studio 2010</h3> <p>Visual Studio se v poslední verzi dočkalo značného přepsání. Krom toho, že bylo překlopeno do <acronym title=\"Windows Presentation Foundation\">WPF</acronym>, stalo se i snadno rozšiřitelným díky <acronym title=\"Managed Extensibility Frmework\">MEF</acronym>. Do samotného Visual Studa tak přibyl správce rozšíření podobný tomu, který znáte třeba z Firefoxu. Ano, včetně podpory pro procházení existujícími rozšířeními.</p> <h3 id=\"toc-powerconsole\">PowerConsole</h3> <p>Jedním z takovým rozšíření je i <a href=\"http://visualstudiogallery.msdn.microsoft.com/en-us/67620d8c-93dd-4e57-aa86-c9404acbd7b3\">PowerConsole</a>. Tato konzola umožňuje psát scripty nad Visual Studiem a přímo v něm. Ke scriptování se nabízí hned několik jazyků: PowerShell, IronPython a IronRuby. Možnosti jsou omezeny pouze vaší představivostí, protože máte přístup jak k API Visual Studia, tak i k celému grafu MEF komponent. A samozřejmě v případě PowerShellu i ke všemu, co PS umí.</p> <h3 id=\"toc-posh-git\">POSH git</h3> <p>A tím se pomalu dostávám k <a href=\"http://github.com/dahlbyk/posh-git\">POSH gitu</a>. Je to sada scriptů pro PowerShell, která zpřehledňuje výpisy gitu, přidává TAB expansion pro rychlejší psaní git příkazů a taky přidává některé vlastní cmdletty.</p> <p>Když si spojíte všechny tři věci dohromady, máme tu integraci gitu do prostředí Visual Studia! Je to teprve začátek. Ale myslím si, že slibný. Myslím, že by se výstup gitu dal projektovat do Solution Exploreru. Zatím jsem si s tím hrát nestihl, ale vypdá to slibně…</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-03-18T07:08:49.653-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Integrace gitu do VS 2010",
  :published #inst "2010-03-18T06:25:44.287-00:00",
  :url "integrace-gitu-do-vs-2010",
  :id 384,
  :description
  "Jak integrovat git do nového Visual Studia trochu netradiční cestou.",
  :category "Tuning",
  :tags ["git" "visualstudio" "powershell"]},
 :281-firefox-pouzitelny-i-ve-viste.aspx
 {:html
  "<p>Za tu dobu, co <a href=\"/weblog/179-moje-prvni-zkusenosti-s-vistou.aspx\">jsem na Vistě</a>, jsem většinu času používal pouze Internet Explorer. Samozřejmě mám v systému Firefox, Operu i Safari. V naší branži je to nutnost. Před několika měsíci k nim <a href=\"/weblog/252-v-zajeti-socialnich-siti.aspx\">přibyl Flock</a>, který se tak nějak stal mým hlavním prohlížečem. Firefox 2.0 jsem nepoužíval z několika důvodů.</p> <ol> <li>Ve Vistě je fakt hnusnej, nehodí se tam.</li> <li>Žere zbytečně pamět.</li> <li>Neměl pro mě žádnou přidanou hodnotu oproti kompaktnímu IE7.</li> </ol> <p>Ale blýská se na lepší časy. S příchodem Firefoxu 3.0 se mnohé mění. První beta verze sice byly ještě hnusnější než dvojka, ale už poslední bety vypadaly přívětivěji. Pak jsem objevil několik zajímavých rozšíření, který dodají Firefoxu 3.0 konečně <strong>look &amp; feel Windows Vista</strong>. Prvním je <a href=\"http://jdem.cz/adp12\">Glasser</a>, který dodá prostředí více skla subsystému Aero, a druhým <a href=\"http://jdem.cz/adp27\">Hide menubar</a>, který schová hlavní nabídkový pruh – vyvolat lze stiskem klávesy <code>Alt</code>. Konečně se nebojím Firefox zapínat! :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:20:15.680-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Firefox použitelný i ve Vistě",
  :published #inst "2008-06-08T19:34:54.223-00:00",
  :url "firefox-pouzitelny-i-ve-viste",
  :id 281,
  :description
  "Jak nastavit Firefox 3.0, aby skutečně zapadl do systému Windows Vista? ",
  :category "Webdesign",
  :tags ["firefox" "windows" "vista" "flock" "ie7" "glasser"]},
 :392-soldier-of-darkness.aspx
 {:html
  "<p>Pořádný techno sound undergroundu.</p> <div class=\"haudio\"> <ol> <li class=\"item\"><span class=\"contributor\">Extrawelt</span> — <span class=\"title\">YeahButNoButYeah</span></li> <li class=\"item\"><span class=\"contributor\">Sasha</span> &amp; <span class=\"contributor\">Ray Lamontagne</span> — <span class=\"title\">Eclipse</span></li> <li class=\"item\"><span class=\"contributor\">Cirez D</span> — <span class=\"title\">Bauerpost</span></li> <li class=\"item\"><span class=\"contributor\">King Unique</span> — <span class=\"title\">2000000 Suns – John Digweed &amp; Nick Muir Remix</span></li> <li class=\"item\"><span class=\"contributor\">Steve Parker</span> — <span class=\"title\">Switch Box</span></li> <li class=\"item\"><span class=\"contributor\">Sasha</span> — <span class=\"title\">Coma</span></li> <li class=\"item\"><span class=\"contributor\">Zero 7</span> — <span class=\"title\">Futures – Carl Craig Remix</span></li> <li class=\"item\"><span class=\"contributor\">Abe Duque</span> &amp; <span class=\"contributor\">Virginia</span> — <span class=\"title\">Following My Heart – Oliver Huntemann Remix</span></li> </ol> <p><span class=\"category\">dj set</span> <span class=\"contributor\">Alessio Busta</span> – <span class=\"title\">Soldier of Darkness</span></p> </div> <!--[if !IE]> --> <object type=\"application/x-shockwave-flash\" data=\"//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-soldier-of-darkness%2F&amp;embed_uuid=f7632f95-e9a2-498d-84bf-7f2b5f14a293&amp;stylecolor=&amp;embed_type=widget_standard\" width=\"100%\" height=\"160\"> <!-- <![endif]--> <!--[if IE]> <object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\" width=\"100%\" height=\"160\"> <param name=\"movie\" value=\"//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-soldier-of-darkness%2F&amp;embed_uuid=f7632f95-e9a2-498d-84bf-7f2b5f14a293&amp;stylecolor=&amp;embed_type=widget_standard\" /> <!--><!--dgx--> <param name=\"loop\" value=\"true\" /> <param name=\"menu\" value=\"false\" /> <param name=\"allowfullscreen\" value=\"true\" /> <param name=\"flashvars\" value=\"\" /> </object> <!-- <![endif]--> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-09-29T14:12:40.973-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Soldier of Darkness",
  :published #inst "2010-07-01T14:48:36.610-00:00",
  :url "soldier-of-darkness",
  :id 392,
  :description "Pořádný techno sound undergroundu. ",
  :category "Muzika",
  :tags []},
 :403-lepsi-udalosti-v-csharp.aspx
 {:html
  "<p>Když se <a href=\"http://channel9.msdn.com/Shows/Going+Deep/Anders-Hejlsberg-Questions-and-Answers\">nedávno ptali Anderse Hejlsberga</a> na to, co by nejradši v C# změnil nebo udělal jinak, kdyby mohl, odpověděl, že by zrušil události. Přesněji, že by je spojil s konceptem vlastností. Na první pohled jsou totiž vlastnosti a události celkem podobné, ale na druhý zjistíte, že události mají poměrně složitou syntaxi a vyžadují psát ne moc pěkný kód.</p> <p>Dřív (C# 1.0) to asi o moc líp udělat nešlo, ale dnes tomuto přání můžeme plně vyhovět. Stačí události vystavovat jako vlastnosti typu <code>IObservable&lt;T&gt;</code>. Toto rozhraní je jednou z novinek <acronym title=\"Base Class Library\">BCL</acronym> .net 4.0 a hlavně reaktivních extenzí (Rx.net).</p> <p>Pokud píšete nový kód, zvažte užití <code>IObservable&lt;T&gt;</code> namísto událostí. Např. <a href=\"http://msdn.microsoft.com/en-us/library/dd233189.aspx\">F# má události takto řešené nativně</a>.</p> <h3 id=\"toc-ze-stareho-na-novy\">Ze starého na nový</h3> <p>Vezměme si <a href=\"http://msdn.microsoft.com/en-us/library/aa645739(v=vs.71).aspx\">ukázkovou deklaraci události v C#</a>:</p> <p>Dříve jsme museli definovat vlastní typ delegáta události:</p> <pre class=\"csharp\"><code>public delegate void ChangedEventHandler(object sender, EventArgs e);</code></pre> <p>Pak vystavit událost tohoto typu:</p> <pre class=\"csharp\"><code>public event ChangedEventHandler Changed;</code></pre> <p>A nakonec někde v kódu událost odpálit:</p> <pre class=\"csharp\"><code>if (Changed != null) Changed(this, e);</code></pre> <p>Nehledě na podivné přetížení operátoru pro zavěšení ovladače události:</p> <pre class=\"csharp\"><code>List.Changed += new ChangedEventHandler(ListChanged);</code></pre> <p>Nové verze jazyka a BCL nám přinesly mnohá usnadnění od <code>EventHandler&lt;TEventArgs&gt;</code>, přes automatického odvození typu delegáta až po lambda výrazy. To však nic nezměnilo na samotné koncepci událostí…</p> <p>A teď si to tedy přepišme na sjednocený model vlastností a událostí s užitím <code>IObservable&lt;T&gt;</code>:</p> <pre class=\"csharp\"><code>readonly Subject&lt;Unit&gt; changed = new Subject&lt;Unit&gt;(); public IObservable&lt;Unit&gt; Changed { get { return changed; } }</code></pre> <p>V kódu událost vyvoláme následovně:</p> <pre class=\"csharp\"><code>changed.OnNext(new Unit());</code></pre> <p>A ke zpracování události se přihlásíme takhle:</p> <pre class=\"csharp\"><code>List.Changed.Subscribe(ListChanged);</code></pre> <p>Krom čistšího kódu (všimněte si absence defenzivního kódu a přetěžování operátorů, které na první pohled nemusí být každému jasné, co dělá) máme i spoustu dalších výhod, které přináší reaktivní programování.</p> <p>PS. Třidy <code>Subject&lt;T&gt;</code> a <code>Unit</code> nejsou součástí BCL, ale zmiňovaných Rx.net. Do projektu si je přidáte pomocí <strong>nuget</strong> příkazu <code>Install-Package Rx-Main</code>.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-05-11T14:04:44.933-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Lepší události v C#",
  :published #inst "2011-05-10T14:11:57.353-00:00",
  :url "lepsi-udalosti-v-csharp",
  :id 403,
  :description
  "Každý, do přišel do styku s jazykem C#, jistě ví, jak se s události v něm pracuje. A taky jistě může potvrdit, že to není žádná slast. Pojďme se podívat, jak definovat události v C# o něco lépe.",
  :category "ASP.NET 2.0",
  :tags ["csharp" "rx"]},
 :26-bezeselemovaci-rucovicky.aspx
 {:html
  "<p><a href=\"http://www.pixy.cz/blogg/clanky/bezeselemovaci-rucovicky.html\">Běžešelemovací řůčovičky</a> je nová hra pro úspěšné SEO obdorníky, aby si dokázali jak jsou dobří. Zbytečná ztráta času…</p> <h3>Update</h3> <p>Je zajímavé sledovat souboj na Googlu. Včera byl Pixy až na druhé stránce, dnes už sedí na prvním místě, je vidět jakou podporu má v české internetové komunitě. Takže pokud se Pixy do soutěže něpřihlásí, pravděpodobně nebude mít soutěž žádného výherce na prvním místě :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:48:57.203-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Běžešelemovací řůčovičky",
  :published #inst "2004-08-18T20:00:00.000-00:00",
  :url "bezeselemovaci-rucovicky",
  :id 26,
  :description "",
  :category "Jen tak",
  :tags []},
 :241-pozor-zmena-feedu.aspx
 {:html
  "<p>Protože chystám, rozsáhlé změny ve struktuře webu a nemůžu zaručit funkčnost všech URL na RSSka, změnte si prosím URL na <a href=\"http://feeds.feedburner.com/rarous-weblog\">http://feeds.feedburner.com/rarous-weblog</a>, tato bude fungovat vždy. Děkuji za pochopení.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2007-12-22T07:29:00.110-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pozor změna feedu",
  :published #inst "2007-12-22T07:28:59.940-00:00",
  :url "pozor-zmena-feedu",
  :id 241,
  :description
  "Protože chystám, rozsáhlé změny ve struktuře webu a nemůžu zaručit funkčnost všech URL na RSSka, změnte si prosím URL na http://feeds.feedburner.com/rarous-weblog, tato bude fungovat vždy. Děkuji za pochopení.",
  :category "Moje práce",
  :tags []},
 :284-temer-novy-rarous-weblog.aspx
 {:html
  "<p>Poslední týden jsem trávil úpravami tohoto blogu. Měl jsem už nějaký nástřel grafiky už několik dní před tím, dokonce rozběhaný na <a href=\"/weblog/\">úvodní straně blogu</a>. :) Jenže abych to mohl posunout dál i do článků, musel jsem šáhnout do šablon blogu. Jenže prezentační vrstva, byla napsaná tak nepoužitelně a každá změna vyžadovala dost práce.</p> <p>Měl jsem před sebou dvě možnosti. Nechat to být a počkat až napíšu nový systém, nebo upravit stávající. Jenže čekat sám na sebe, až něco napíšu, to bych se taky nemusel dočkat… ;) Nakonec jsem napsal zbrusu novou prezentační vrstvu nad <a href=\"http://www.gryphoon.net/\">starým systémem</a>.</p> <p>Rozhodl jsem se pokračovat v započatém stylu, který jsem zvolil pro svoji <a rel=\"me home\" href=\"/\">homepage</a>, tedy <a href=\"/weblog/236-mvc-unit-testy.aspx\">návrhový vzor MVP</a> pro prezentační část a <a href=\"/weblog/271-active-record-vs-repository-pattern.aspx\">Repository</a> pro datovou. Využil a trochu rozšířil některé entity modelu o další vlastnosti a přidal některé nové. Pro výpis článků a komentářů na stránce jsem napsal serverové prvky založené na <a href=\"/weblog/278-genericky-kontejner-a-repeater.aspx\">Generickém repeateru</a>. Pak jsem se dostal k formuláři pro přidávání komentářů. Aktuální WebForms implementace se mi moc nelíbila a tak jsem se rozhodl oprášit <a href=\"/weblog/245-nforms-pro-asp-net.aspx\">NForms</a> a povolat je do služby.</p> <p>Musel jsem odladit několik bugů, protože tohle bylo poprvé, co jsem je použil. :) Ale nakonec se z toho vyklubal celkem použitelný a elegantní kus softwaru. Proč elegantní? Líbí se mi <a href=\"/weblog/247-validace-v-nforms-pro-asp-net.aspx\">definování validačních pravidel</a> (sice zatím pouze serverových), znovupoužitelnost kódu apod.</p> <h3 id=\"toc-nforms-v-akci\">NForms v akci</h3> <p>Když jsem vymýšlel, jak vlastně budu nově komentáře zpracovávat, rozhodl jsem se pro handler, který bude obsluhovat požadavky na akce a zavolá správnou třídu, která má požadavek zpracovat – v tomto případě ukládač komentářů. (Tento model jsem zvolil protože, každá třída by měla dělat pouze jednu věc, proto komentáře nezpracovává ta samá, co prezentuje články.) Jenže teď jsem stál před problémem, že budu muset definovat ten samý formulář na dvou místech. Naštěstí u NForms to není třeba.</p> <p>Podědil jsem novou třídu <code>CommentForm</code> z formuláře NForms. V ní jsem nadefinoval, jaká políčka a s jakými pravidly se mají vytvořit. Kód vypadá nějak tak:</p> <pre class=\"csharp\"><code>using System; using System.Collections.Generic; using System.Collections.Specialized; using Rarous.NForms; using Rarous.NForms.Validation; namespace Rarous.Net.Components { public class CommentsForm : Form { public const string ArticleUrl = \"comment_article_url\"; public const string ArticleId = \"comment_article_id\"; public const string Validity = \"comment_validity\"; public const string Text = \"comment_text\"; public const string UserName = \"comment_user_name\"; public const string UserEmail = \"comment_user_email\"; public const string UserWeb = \"comment_user_web\"; public const string UserAnswer = \"comment_user_answer\"; public const string Submit = \"comment_submit\"; public CommentsForm() :this(null) { } public CommentsForm(NameValueCollection data) : this(data, null) { } public CommentsForm(NameValueCollection data, List&lt;string&gt; messages) : base(data, messages) { CreateForm(); BindData(); } private void CreateForm() { AddHidden(ArticleUrl); AddHidden(ArticleId); AddHidden(Validity); AddTextArea(Text, \"Text komentáře:\", 10, 55). Required(\"Text příspěvku je povinný.\"); AddText(UserName, \"Jméno:\"). Required(\"Jméno je povinné.\"); AddText(UserEmail, \"E-mail:\"). SetEmptyValue(\"@\"); AddText(UserWeb, \"Web:\"). SetEmptyValue(\"http://\"); AddText(UserAnswer, \"Odpověď je pivo:\"). AddRule(\"Zadejte pivo.\", s =&gt; String.Compare(\"pivo\", s, true) == 0); AddSubmit(Submit, \"Přidat komentář\"); } } }</code></pre> <p>Tento formulář pak použivám ve View i handleru. V handleru se vytváří s daty poslanými přes POST, která se pak validují a dále zpracovávají. Líbí se mi, že data se předávají jako <code>NameValueCollection</code>, díky tomu se dá bez problému načítat z <code>Request.Forms</code>, <code>Request.QueryString</code>, nebo z kolekce <code>Cookies.Values</code>. Těmi můžu data předvyplňovat, nebo je nechat validovat a tak. V budoucnu by mohlo přibýt i inteligentní vytváření objektů…</p> <h3 id=\"toc-dalsi-featury\">Další featury</h3> <ol> <li>U komentářů jsem oprášil Gravatary, které jsem tu už kdysi míval. Použil jsem <a href=\"http://dotnetkicks.googlecode.com/svn/trunk/DotNetKicks/Incremental.Kick/Web/Controls/User/Gravatar.cs\">implementaci z dotnetKicks</a>, kde se používá lokální cachování.</li> <li>Bezpečnostní otázka se vyplňuje JavaScriptem, takže už vás nebude otravovat.</li> <li>Po letech jsem přidal stránkování v článcích. Jak na hlavní stránce blogu, tak v rubrikách.</li> <li>Zvýrazňovač syntaxe teď funguje jen napůl, protože už přestal stačit mým potřebám. Čekám na uvolnění zvýrazňavoče z Codeplexu, který by měl být o dost lepší.</li> </ol> <p>Jsou to takové drobnosti, ale mám z nich radost, protože jsem je dlouho dobu odbýval.</p> <h3 id=\"toc-zaverem\">Závěrem</h3> <p>Ještě mi zbývá pár věcí dopsat, aktualizovat odkazy v článcích na nové URL, ale už jsou to spíš drobnosti (doufám). Ještě bych chtěl závěrem poděkovat <a rel=\"friend met\" href=\"http://www.latrine.cz/\">Davidovi</a> a <a href=\"http://blog.filosof.biz/\">Honzovi</a>, protože u nich jsem se dost inspiroval. Taky děkuju <a rel=\"friend co-worker met\" href=\"http://www.exik.com/\">Exíkovi</a> za hodnotné připomínky, <a rel=\"friend met\" href=\"http://www.jerrysohn.net/\">Jerrymu</a> za hosting a naší zahradě za příjemné pracovní prostředí atd.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:17:20.960-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Téměř nový rarouš.weblog",
  :published #inst "2008-06-23T10:42:53.163-00:00",
  :url "temer-novy-rarous-weblog",
  :id 284,
  :description
  "Poslední týden jsem pilně pracoval na předělání tohoto blogu do nového kabátku. Pojďtě se podívat, jak to dopadlo.",
  :category "Moje práce",
  :tags ["gryphoon" "mvp" "repository" "nforms" "gravatar"]},
 :150-prehledna-konfigurace.aspx
 {:html
  "<p>Dnes vyšel na Vyvojar.cz článek s názvem <a href=\"http://www.vyvojar.cz/Default.aspx?tabid=1&amp;newsType=ArticleView&amp;articleId=409\">Konfigurace v .NET</a>, kde autor pěkně ukazuje XML Serializaci složitějších objektů do XML. Po tud se mi to líbí a nemám námitek. Ovšem k jakému účelu je to použito – nemám slov.</p> <p>Ať žijí půlmegové a větší konfiguráky!</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:37:30.260-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Přehledná konfigurace",
  :published #inst "2006-05-18T06:10:55.520-00:00",
  :url "prehledna-konfigurace",
  :id 150,
  :description "Reakce na Konfigurace v .NET",
  :category "ASP.NET 2.0",
  :tags ["xml"]},
 :377-domenove-dotazy.aspx
 {:html
  "<p>V každé aplikaci, kde se pracuje s daty, se dostaneme do situace, kdy se nad daty potřebujeme dotazovat. Pokud přijmeme za svůj vzor Repository, můžeme se dostat do situace, podobné té v následující ukázce:</p> <pre class=\"csharp\"><code>public interface IArticlesRepository { Article FindById(long id); IEnumerable&lt;Article&gt; FindAll(PagingInfo paging); IEnumerable&lt;Article&gt; FindByCategory(Category category, PagingInfo paging); IEnumerable&lt;Article&gt; FindByAuthor(User author, PagingInfo paging); IEnumerable&lt;Article&gt; FindByTag(string tag, PagingInfo paging); }</code></pre> <p>Jak vidno s každým typem dotazu, rozšiřujeme rozhraní naší repository. Což porušuje <a href=\"http://en.wikipedia.org/wiki/Open/closed_principle\">Open/closed principle</a> – jeden z pilířů <a href=\"http://en.wikipedia.org/wiki/Solid_%28Object_Oriented_Design%29\">Solidní</a> architektury. Ten nám říká, že objekt by měl být otevřený k rozšíření, ale uzavřený k modifikaci. Přidáváním dalších metod ho očividně rozšiřujeme. Jak na to?</p> <p>Jedním z možných řešení je zavedení dotazovacích objektů, kde využijeme kompozice k docílení lepšího návrhu. A protože jde o obecný mechanismus, můžeme ho pěkně generalizovat. Dále budu předpokládat, že pracujeme vůči datovému zdroji podporujícímu LINQ dotazování, jako je NHibernate.Linq, LINQ2SQL nebo EntityFramework.</p> <pre class=\"csharp\"><code>public interface IQueryObject&lt;T&gt; { int Count(IQueryable&lt;T&gt; table); IEnumerable&lt;T&gt; Fetch(IQueryable&lt;T&gt; table); T FetchOne(IQueryable&lt;T&gt; table); }</code></pre> <p>Dotazovací objekt má tři metody. První spočítá kolik objektů splňuje podmínky dotazu. Druhá vrátí kolekci vybraných objektů a poslední vrací jedinečný záznam. K takovému rozhraní si můžeme vytvořit bázovou třídu, která nám pomůže s rychlejším vytvářením konkrétních dotazů.</p> <pre class=\"csharp\"><code>public abstract class QueryObjectBase&lt;T&gt; : IQueryObject&lt;T&gt; { protected QueryObjectBase&lt;T&gt;(PagingInfo paging) { Paging = paging; } public PagingInfo Paging { get; private set; } protected abstract IQueryable&lt;T&gt; CreateQuery(IQueryable&lt;T&gt; table); public virtual int Count(IQueryable&lt;T&gt; table) { return CreateQuery(table).Count(); } public virtual IEnumerable&lt;T&gt; Fetch(IQueryable&lt;T&gt; table) { return CreateQuery(table). Skip(Paging.Skip). Take(Paging.PageSize). ToArray(); } public virtual T FetchOne(IQueryable&lt;T&gt; table) { return CreateQuery(table).FirstOrDefault(); } }</code></pre> <p>Konkrétní dotazovací objekt pak ve většině případů implementuje jedinou metodu, která vrací LINQ dotaz. V případě potřeby si však konkrétní implementace může připravené metody změnit k obrazu svému. Máme zde zavedenou i konvenci stránkování, která předchází generování neomezených dotazů do databáze. A teď už nám zbývá jen zabalit to pěkně do nějakého DAO objektu.</p> <pre class=\"csharp\"><code>public interface IQueryExecutor&lt;T&gt; { int Count(IQueryObject&lt;T&gt; query); IEnumerable&lt;T&gt; Fetch(IQueryObject&lt;T&gt; query); T FetchOne(IQueryObject&lt;T&gt; query); }</code></pre> <p>DAO objekt jediný zná konkrétní implementaci datového uložiště, kterou předává do dotazovacího objektu jako <code>IQueryable&lt;T&gt;</code>. Výsledné použití v praxi může pak vypadat následovně:</p> <pre class=\"csharp\"><code>var articles = _articlesDao.Fetch(new CategoryArticlesQuery(category, pagingInfo));</code></pre> <p>Kde konkrétní implementace dotazovacího objektu vypadá takto:</p> <pre class=\"csharp\"><code>public class CategoryArticlesQuery : QueryObjectBase&lt;Article&gt; { public CategoryArticlesQuery(Category category, PagingInfo paging) : base(paging) { Category = category; } public Category Category { get; private set; } protected override IQueryble&lt;Article&gt; CreateQuery(IQueryable&lt;Article&gt; table) { return from article in table where article.Category == Category &amp;&amp; article.IsPublished orderby article.PublishDate descending select article; } }</code></pre> <p>Výhodou i je, že pokud potřebujeme upravit dotaz, děláme to vždy jen jednou na jednom místě.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-01-30T13:58:19.303-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Doménové dotazy",
  :published #inst "2010-01-30T13:53:12.107-00:00",
  :url "domenove-dotazy",
  :id 377,
  :description
  "Dneska se podíváme na zoubek dotazování nad doménovými objekty. Jak refaktorovat IRepository na autonomní query objekty...",
  :category "ASP.NET 2.0",
  :tags ["linq" "design" "patterns" "architecture"]},
 :346-uziti-repository-v-radicich.aspx
 {:html
  "<p>Dost už bylo infrastruktury, pojďme si ji trochu užít! :) Dneska si ukážeme jak používat naší infrastrukturu, která by nám měla spoustu věcí usnadnit. Proto jí vlastně tady tvořím.</p> <h3 id=\"toc-dependency-injection-a-bindovani-modelu\">Dependency injection a bindování modelu</h3> <p>Vytvoříme si řadič, který bude pracovat řekněme s uživateli – to je taková věc, která je nutná snad v každé aplikaci. Ruku na srdce, aplikace bez uživatelů je tak trochu k ničemu. Tak pojďme na to!</p> <pre class=\"csharp\"><code>[HandleErrors] public class UsersController : System.Web.Mvc.Controller { private IUsersRepository _usersRepository; public UsersController(IUsersRepository usersRepository) { _usersRepository = usersRepository; } [ActionName(\"Rest\")] [AcceptVerbs(HttpVerbs.Post)] public ActionResult Create(FormCollection forms) { var user = new User(); if (ModelState.IsValid == false) { throw new ValidationException(); } UpdateModel(user, forms.ToValueProvider()); _usersRepository.Save(user); return Json(user); } }</code></pre> <p>Krátké a úderné. Jde o klasický řadič, který má závislost na repository uživatelů. Tuto závislost si nechává nainjektovat přes konstruktor. O její životní cyklus se nestará, to řeší <acronym title=\"Inversion of Controll\">IoC</acronym> kontejner. Pak tu máme akci, která zpracovává POST dotazy řekněme na URL <code>/Users</code>, to teď není podstatné. Tato akce by měla vytvořit nového uživatele z dat, která přišla v POSTu (<code>FormCollection</code>).</p> <p>Pokud nejsou data v pořádku, tak vyhodíme validační výjimku. O to, jak se tato data mapují na model uživatele, se opět řadič nestará, to je věc model binderu. Pokračujeme dále k uložení uživatele, někam. Kam a jakým způsobem je řadiči opět šumák, to je starost repository. Nakonec pošleme zpátky hotového uživatele jako <acronym title=\"JavaScript Object Notation\">JSON</acronym> objekt.</p> <p>A to je pro dnešek vše… :)</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a rel=\"bookmark\" title=\"ActiveRecord vs. Repository pattern\" href=\"/weblog/271-active-record-vs-repository-pattern.aspx\">ActiveRecord vs. Repository pattern</a></li> <li><a rel=\"bookmark\" title=\"Inversion of Control v ASP.NET MVC\" href=\"/weblog/332-inversion-of-control-v-asp-net-mvc.aspx\">Inversion of Control v ASP.NET MVC</a></li> <li><a rel=\"bookmark\" title=\"Model binders v ASP.NET MVC\" href=\"/weblog/336-model-binders-v-asp-net-mvc.aspx\">Model binders v ASP.NET MVC</a></li> <li><a rel=\"bookmark\" title=\"DSL pro konfiguraci URL Routingu v ASP.NET MVC\" href=\"/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx\">DSL pro konfiguraci URL Routingu v ASP.NET MVC</a></li> <li><a rel=\"bookmark\" title=\"Jaký pohled si vybrat?\" href=\"/weblog/343-jaky-pohled-si-vybrat.aspx\">Jaký pohled si vybrat?</a></li> <li><a rel=\"bookmark\" title=\"Persistence modelu pomocí ActiveRecord\" href=\"/weblog/345-persistence-modelu-pomoci-activerecord.aspx\">Persistence modelu pomocí ActiveRecord</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-29T10:12:49.323-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Užití repository v řadičích",
  :published #inst "2009-01-25T10:18:39.737-00:00",
  :url "uziti-repository-v-radicich",
  :id 346,
  :description
  "Dost už bylo infrastruktury, pojďme si ji trochu užít! :) Dneska si ukážeme jak používat naší infrastrukturu, která by nám měla spoustu věcí usnadnit. Proto jí vlastně tady tvořím.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "mvc" "binders" "ioc" "repository" "rest"]},
 :104-houselesson-vol-2.aspx
 {:html
  "<p>01. Gadjo – So Many Times (Original Dub Mix) [Ambassade] 02. Discobuster vol. 2 – Sticky Rhythm (DJ Tonka Remix) [Disco Galaxy] 03. Axwell feat. Steve Edwards – Watch the Sunrise (Bob Sinclar Remix) [AxTone] 04. Doobie Brothers vs. Filo &amp; Perry – Long Train Running [White] 05. Shapeshifters – Incredible (Denis the Menace &amp; Jerry Ropero's Full Vocal Mix) [EMI] 06. Soul Central – I Need You Now (Extended Mix) [Defected] 07. Bob Sinclar – I Feel For You 2005 (I Feel For Disco Mix) [Defected] 08. Supafly vs. Fishbowl – Let's Get Down (Full Intention Club Mix) [Ultra] 09. Atlantic Soul feat. Tony Lindsay – Just Got Paid (Stonebridge Remix) [Rootz] 10. Supermongo – Why [CD-R] 11. Rasmus Faber – Get Over Here (Axwell Club Remix) [Farplane]</p> <p>Ke stažení <a href=\"/files/alessio_busta_-_houselesson_vol_2.wma\" onclick=\"javascript:_gat._getTracker(\">Alessio Busta presents HouseLesson vol. 2</a> (WMA 96 kbps; 45,1 MiB)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T15:20:21.090-00:00",
  :is-published true,
  :author "alessio busta",
  :title "HouseLesson vol. 2",
  :published #inst "2006-01-30T14:40:06.737-00:00",
  :url "houselesson-vol-2",
  :id 104,
  :description
  "Další set z rukou Alessia Busty. Tentokrát ve stylu Vocal House.",
  :category "Muzika",
  :tags []},
 :447-zatocime-s-null.aspx
 {:html
  "<p>Chtěl bych se v takové kratké sérii blogů dostat k jednotlivým bodům <a href=\"/weblog/444-manifest-nejen-objektove-orientovaneho-vyvoje.aspx\">NOOO manifesta a jeho principům</a>. V této sérii, bych chtěl vyjádřit, proč se k tomuto manifestu hlásím, a i ukázat pár praktických důsledků v hodnotách a principech obsažených.</p> <p>Dnes se zastavíme u toho, proč preferuji <strong>Option</strong> před <em>null</em> a proč:</p> <blockquote> <p>Upřednostňujeme reprezentaci invariant na úrovni typů před reprezentací na úrovni hodnot.</p> </blockquote> <h3 id=\"toc-problematika-null\">Problematika null</h3> <p>Snad každý, kdo se zabývá programováním narazil na problém s <code>null</code> hodnotami. Většinou se projevuje tak, že z ničeho nic dostaneme někde <code>NullReferenceException</code> (NRE) a máme po ptákách. Tento problém je celkem častý a <a href=\"http://blogs.msdn.com/b/dsyme/archive/2013/03/25/quote-of-the-week-quot-what-can-c-do-that-f-cannot-quot.aspx\">odhaduje se, že každý rok má za následek ztrátu $1B</a>. To je pro představu 1 000 000 000 USD. Ztráta je způsobena jak samotným projevem, tak i náklady vynaloženými na obranu před <code>NRE</code>.</p> <h3 id=\"toc-obrana\">Obrana</h3> <p>Jistě znáte techniky defenzivního programování, jako jsou <em>Code Contracts</em> v jejich různých mutacích, které efektivně zvyšují náklady na tvorbu a správu přebujelé code base, v který aby se čert vyznal. Další se snaží o zavedení nového syntaktického prvku, který vypadá následovně: <code>foo?bar()</code> a dělá to samé co <code>if (foo != null) foo.bar();</code>. Pořád jen to jen maskování symptomů. Ne řešení problému.</p> <h3 id=\"toc-prevence\">Prevence</h3> <p>Další možností je používat jazyky, jako je třeba F#, které <code>null</code> nemají. (Ok, F# zná <code>null</code>, ale musíte si explicitně o něj říct a označit tak potenciálně nebezpečný kód, jinak by asi moc nemohl pracovat s již existujícími .net knihovnami.) Většinou se jedná o funkcionální jazyky se sofistikovanými typovými systémy.</p> <p>Nechme se inspirovat některými dobrými vzory:</p> <h3 id=\"toc-null-object\">Null Object</h3> <p>Pokud děláte TDD, nebo se zajímáte o návrhové vzory, jistě už jste na tento vzor narazili. Jde o to, že ve vašem systému máte definované „implementační“ třídy, které nemají žádnou implementaci, nebo prostě jen nikdy nevyhazují výjimky. Slouží pouze k tomu, že pokud systému nenabídneme nějakou jinou funkční implementaci, nemusíme se obávat <code>NRE</code>, protože tu máme bezpečný <em>Null Object</em>.</p> <p>Já ho třeba používám vždycky, když implementuji logování:</p> <pre class=\"csharp\"><code>ILogger logger = NullLogger.Instance; public ILogger Log { get { return logger; } set { logger = value ?? NullLogger.Instance; } }</code></pre> <p>Po inicializaci je logger nastaven na instanci <code>NullLogger</code>u. Logger je možné injektovat, ale pokud se někdo pokusí podstrčit <code>null</code>, tak si podržíme <code>NullLogger</code>. Za předpokladu, že se <code>logger</code> nepoužívá nikde jinde, než v property, máme bezpečno a nemusíme psát spoustu defenzivního kódu jako:</p> <pre class=\"csharp\"><code>if (Log != null) Log.Info(\"foo\");</code></pre> <p>Samozřejmě to není jediný případ užití. Další, z možných implementací, je vyjádření speciálního stavu, jako třeba:</p> <pre class=\"csharp\"><code>public class AsyncResult { public AsyncResult(XElement response) { Response = response; } public XElement Response { get; set; } } public class QueryInProgress : AsyncResult { public QueryInProgress() : base(null) { } }</code></pre> <p>Tohle je <em>Null Object</em> implementovaný v SOA. Systém dostane ke zpracování nějaký požadavek (dotaz) a když se následně zeptá na výsledek, dostane buď Null Object <code>QueryInProgress</code>, který říká, že dotaz se ještě zpracovává, nebo už samostatnou odpověď. <strong>Null Object může mít i sémantický význam.</strong></p> <h3 id=\"toc-option\">Option</h3> <p>Jazyky, které podporují pattern-matching, umožňuji práci s typem Option:</p> <pre class=\"fsharp\"><code>let exists (x : int option) = match x with | Some(x) -&gt; true | None -&gt; false</code></pre> <p><code>None</code> nám nahrazuje <code>null</code>, ale nejedná se o hodnotu, ale o typ. Typ <code>Option</code> je totiž definován jako generické disjunktivní sjednocení:</p> <pre class=\"fsharp\"><code>type Option&lt;'T&gt; = | None | Some of 'T</code></pre> <p>Na rozdíl od vzoru <code>Null Object</code> tu neztrácíme nutnost rozhodování se, jak se v případě <code>None</code> zachovat. Nadruhou stranu, máme speciální případ explicitně sémanticky vyjádřen na úrovni typu.</p> <h3 id=\"toc-maybe\">Maybe</h3> <p><code>Maybe</code> je v případě užití celkem podobný <code>Option</code> s tím rozdílem, že jde o monad. Krom toho, že je opět parametricky polymorfní (generický), splňuje i požadavky na monadičnost. Monadičnost nám <em>umožňuje kompozici</em> a můžeme i využít vlastostí jazyka jako je LINQ, který je postavený nad sekvenčním monadem, ale nic nám nebrání ho použít i nad jinými. Třeba právě nad maybe.</p> <p>Nepotřebujeme však nutně Haskell, abychom mohli využívat všech výhod. Tohle je třeba C#:</p> <pre class=\"csharp\"><code>return TryGetCachedData(message, metadata, request).Match( some: data =&gt; CachedResult(message.RequestId, data, stats), none: () =&gt; Result(message, context, metadata, request, stats));</code></pre> <p>Implementaci <code>Maybe</code> monadu z ukázky najdete <a href=\"https://gist.github.com/rarous/5355792\">v tomto gistu</a>.</p> <h3 id=\"toc-zaver\">Závěr</h3> <p>Null je zlo. Je možné s ním bojovat silou nebo inteligencí. Já byl vždycky slabý a líný, proto preferuji výše zmíněné <em>možnosti</em> prevence před samotnou obranou. Náš projekt sice není úplně imuní vůči <code>null</code>, ale díky <em>Null Objectu</em> a <em>Maybe monadu</em>, které se dají krásně kombinovat, je kód čistší a méně náchylný k chybám. Snad. :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-04-13T06:31:19.263-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zatočíme s null",
  :published #inst "2013-04-11T13:29:00.000-00:00",
  :url "zatocime-s-null",
  :id 447,
  :description
  "Malé zastavení nad \"chytrými\" způsoby řešení problematiky null pointerů.",
  :category "Moje práce",
  :tags ["nooo" "monad" "patterns"]},
 :168-novy-kabatek-pro-microsoft-com.aspx
 {:html
  "<p>Microsoft připravuje redesign svých stránek. Jak vypadá současný stav se můžete podívat na <a href=\"http://preview.microsoft.com/en/us/default.aspx\">Microsoft.com Preview</a> (POZOR: IE only). Jako homepage mi přijde dostatečně výrazná i&#160;celkem přehledná, ale zatim mi nefunguje formulář pro hledání, ačkoliv je v&#160;takovém pěkném zašupovacím boxu :) Ještě to chce trochu zapracovat i&#160;na těch &#8222;bílých&#8220; místech. Kód se chce tvářit jako XHTML 1.0&#160;Strict, ale i&#160;na Trasitional má ještě hodně daleko.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-07-25T10:45:05.093-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nový kabátek pro Microsoft.com",
  :published #inst "2006-07-25T09:50:17.313-00:00",
  :url "novy-kabatek-pro-microsoft-com",
  :id 168,
  :description
  "Redesign homepage Microsoft.com, preview verze funkční pouze v MSIE :(.",
  :category "Webdesign",
  :tags []},
 :256-mikroformaty-duvod-proc-pouzivat-xhtml.aspx
 {:html
  "<p>Minulý týden jsme si prodiskutovali <a href=\"/weblog/254-david-se-vrhl-na-goliase-xhtml.aspx\">pár mýtů na téma HTML vs. XHTML</a>. Zjistili jsme, že v HTML 4 jsou hodnoty atributů <code>id</code> a <code>class</code> citlivé na velikost písmen (přinejmenším v CSS a JavaScriptu). Shodli jsme se na tom, že DTD je přežitek, a že za spoustou mýtů stojí prasata, která jsou podvědomě spojována s HTML.</p> <p>Dneska si povíme o jedné věci, která nám možná přidá na hodnotě XHTML a tou jsou <a href=\"http://microformats.org/\">mikroformáty</a>.</p> <h3 id=\"toc-mikroformaty\">Mikroformáty</h3> <p>Mikroformáty jsou sémanticky obohacené části XHTML kódu. Ačkoli se pro jejich definovaná využívá atributů (<code>class</code>, <code>rel</code>, <code>rev</code>…), které jsou samozřejmě definovány v HTML, k získávání jejich cenných dat se obecně využívá XML parserů. Proto je lepší mít stránky v dobře sestaveném XHTML, než v plně validním HTML – samozřejmě pokud chcete mikroformáty využívat. Ale proč by ne.</p> <h3 id=\"toc-uzivame-v-praxi\">Uživáme v praxi</h3> <p>Když se podíváte do pravého sloupce (možná je až dole), na první pohled tam nenajdete nic zajímavého, vlastně kecám. Hned nahoře jsou moje kontaktní údaje, k jejich definici jsem použil mikroformátu <a href=\"http://microformats.org/wiki/hcard\">hCard</a>, který slouží k popisu vizitkových dat a je kompatibilní se standardním formátem <em>vCard</em>.</p> <p>O kousek niž je další box s titulem <strong>Kolegové a kamarádi</strong>, není to nic jiného než blogroll s odkazy na mé kolegy, kamarády a další dobré lidi :). Při jeho tvorbě jsem použil špetku mikroformátu zvaného <a href=\"http://gmpg.org/xfn\">XFN</a>. Tento slouží k definici meziblogových vztahů.</p> <p>Mezi těmito boxy je jiný, tako co žádný mikroformát nepoužívá, ale informuje o tom, že stále hledám nějakého šikovného kolegu, co umí dobře C# a chtěl by se mnou spolupracovat na <a href=\"http://firmy.atlas.cz/\">Atlasu firem</a> a s ním spojených interních systémech. Práce je to opravdu zajímavá, rozšíříš si obzory a navíc možnost pracovat s tak milými a sympatickými lidmi…</p> <h3 id=\"toc-s-cim-na-ne\">S čím na ně?</h3> <p>Jo k praktickému využití mikroformátů ještě schází podpora v prohlížečích. Do odnoží firefoxu se dá doinstalovat nástroj <a href=\"https://addons.mozilla.org/en-US/firefox/addon/4106\">Operator</a>, který je určitě dobrým pomocníkem při vývoji a je propojen na některé služby, které s MF umí pracovat. Nativní podpora pro mikroformáty je slibována ve Firefoxu 3 a Internet Exploreru 8 (znamená to, že bude konečně umět XHTML?). Dále se po internetu válej nějaký skripty, které slouží k transformaci na jiné formáty, CSSka pro zvýrazňování mikroformátů ve stránce a tak.</p> <p>Tagy: <a href=\"http://technorati.com/tag/microformats\">Microformats</a>, <a href=\"http://technorati.com/tag/xhtml\">XHTML</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:45:59.860-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Mikroformáty - Důvod proč používat XHTML",
  :published #inst "2008-02-12T11:04:57.267-00:00",
  :url "mikroformaty-duvod-proc-pouzivat-xhtml",
  :id 256,
  :description
  "Minulý týden jsme si prodiskutovali pár mýtů na téma HTML vs. XHTML. Dneska si povíme o jedné věci, která nám možná přidá na hodnotě XHTML a tou jsou mikroformáty.",
  :category "Webdesign",
  :tags
  ["microformats" "xhtml" "xfn" "hcard" "operator" "firefox" "ie8"]},
 :418-co-je-spatne-se-service-locatorem.aspx
 {:html
  "<p>Service Locator je obecný návrhový vzor, který dodává jeho uživatelům instance požadovaných služeb. Existuje několik variant implementace tohoto vzoru a dokonce jsou od něj odvozeny i další specifcké vzory.</p> <h3 id=\"toc-singleton\">Singleton</h3> <p>Nejjednodušší implementaci service locatoru zná asi každý, kdo kdy s návrhovými vzory koketoval – je jím starý známý Singleton! Krom toho, že Singleton svou vnitřní implementací zajišťuje garantovaný lifetime instance, tak tuto instanci i poskytuje – typicky pomocí statické vlastnosti <code>Instance</code> v horších jazycích pak <acronym title=\"nebudu říkat metoda, protože statická metod je IMO nesmysl\">funkcí</acronym> <code>getInstance()</code>.</p> <h3 id=\"toc-abstract-factory\">Abstract Factory</h3> <p>Další z častých implementací service locatoru je Factory, jde o další konkrétnější odvozeninu vzoru, která má semantiku nejen instance dodávat, ale i vytvářet. V důslednějších variantách má factory na starosti i řádnou destrukci vytvořeného objektu. Já to nazývám „šrotovným“. :) Factory většinou vytváří nové instance pomocí metody <code>Create()</code> nebo nějaké její variace.</p> <h3 id=\"toc-genericky-service-locator\">Generický Service Locator</h3> <p>Další častou implementací je obecný service locator v mnoha aplikacích/fra­meworcích taky přezdívaný jako <code>Registry</code> nebo <code>Kernel</code> a podobně. Základním rozhraním většiny IoC kontejnerů je právě takovýto service locator. Většinou instance dostaneme zavoláním metody <code>GetInstance()</code> nebo <code>Resolve()</code>.</p> <p>Jak vidíte, vzory jsou to známé, celkem běžně užívané, narážíme na ně denně. Tak co je špatně? Proč někdo používá označení Service Locator pejorativně?</p> <h3 id=\"toc-usage-pattern\">Usage pattern</h3> <p>Service locator totiž není jen návrhovým vzorem, ale i <strong>vzorem užití.</strong> A tady narazíme na jádro pudla. Vezměme si mou oblíbenou ukázku se Singletonem. Tento vzor jal se býti častován anti-patternem. Je to snad, kvůli tomu, že by to byl špatný návrhový vzor? Myslím, že ne. Tento vzor se spojil v lidských hlavách se vzorem užití, který <strong>je špatný</strong>!</p> <p>Ruku na srdce, kolikrát ve svém kódu voláte, třeba <code>HttpContext.Current</code> místo toho, abyste si ho nechali injektovat konstruktorem?</p> <pre class=\"csharp\"><code>public class SomeWebFoo { public void DoWork() { // code if (HttpContext.Current.IsDebuggingEnabled) { // code } } public class BetterWebFoo { readonly HttpContextBase httpContext; public BetterWebFoo(HttpContextBase httpContext) { this.httpContext = httpContext; } public void DoWork() { // code if (httpContext.IsDebuggingEnabled) { // code } }</code></pre> <p>První třída používá Service Locator usage pattern, druhá inversion of control. V prvním případě skrytě přistupujeme přes statickou vlastnost (globální proměnná) k instanci konkrétního typu. Druhá třída svou závislost veřejně deklaruje, ale je jí navíc jedno, jaký konkrétní typ dostane – závisí pouze na abstrakci. Proč je první třída ve většině případů horší nechám už na vás. Určitě na to přijdete. ;)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-04-16T18:03:51.257-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Co je špatně se Service Locatorem?",
  :published #inst "2012-04-16T17:56:13.617-00:00",
  :url "co-je-spatne-se-service-locatorem",
  :id 418,
  :description
  "No, právě. Záleží z jakého úhlu pohledu se na to koukáme...",
  :category "Moje práce",
  :tags ["patterns"]},
 :163-jsou-tam.aspx
 {:html
  "<p>„Kdo?“ „Néé, co!“</p> <p>Odedneška mám dovolenou (až do konce příštího týdne) a tak jsem se podíval na zoubek <a href=\"/clanek/154-to-se-mi-zase-neco-povedlo.aspx\">mým ztraceným komentářům</a>. Postup jak na to jsem si už dopředu vymyslel. Využil jsem toho, že si všechny komentáře syndikuju v <a href=\"http://reader.google.com/\">Google Readeru</a>. Přepsané komentáře jsem si v GR označil labelem a využil možnosti takový label sdílet (ve formátu Atom). Napsal jsem si importér z Atomu do SQL Update příkazu a začal sosat data.</p> <p>Ano sosat jsem musel postupně, protože GR exporty mají jen dvacet položek a já potřeboval těch komentářů vysosnout zhruba 200 :) Takže jsem musel ručně odštítkovat naimportované komentáře a opět provést import. No alespoň část toho procesu se mi povedlo zautomatizovat a ušetřit tak pár hodin práce :)</p> <p>Důležité však je, že většina komentářu je zase ve své původní podobě a na spráném místě. Bohužel přibližně deset komentářů jsem v onen osudný den nestihl nasyndikovat. Ty jsou asi nenávratně pryč, teda pokud je někdo nemá někde v útrobách své čtečky :) Kdyby je náhodou někdo našel, prosím o jejich vrácení :D</p> <p>Děkuji za pozornost.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:28:03.863-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jsou tam :)",
  :published #inst "2006-06-28T14:33:14.787-00:00",
  :url "jsou-tam",
  :id 163,
  :description "Podařilo se mi zrestaurovat ztracené komentáře :)",
  :category "Jen tak",
  :tags ["rss" "atom" "google" "reader"]},
 :154-to-se-mi-zase-neco-povedlo.aspx
 {:html
  "<p>Tak se mi povedlo díky mému pospíchání přepsat všechny komentáře k&#160;příspěvkům &#8211; takové znehodnocení informací :( Je mi z&#160;toho smutno. O&#160;tom, že bych měl databázi zálohovanou silně pochybuju, to jsem ale vůl. takže pozor, až budu příště psát <code>UPDATE</code>, musim připsat i <code>WHERE</code>! Kretén, kterén a ještě jednou kretén&#8230;</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-05-23T19:04:33.377-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "To se mi zase něco povedlo",
  :published #inst "2006-05-23T18:54:38.820-00:00",
  :url "to-se-mi-zase-neco-povedlo",
  :id 154,
  :description "Přepsal jsem si všechny komentáře.",
  :category "Jen tak",
  :tags []},
 :118-rss-galerie.aspx
 {:html
  "<p>Dnes jsem zprovoznil nový RSS export pro syndikaci galerií na mém webu. Pro ty, co mají zájem: <a href=\"/ws/syndikace.asmx/RssGalerie\">RSS galerie</a></p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-13T07:41:39.517-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "RSS Galerie",
  :published #inst "2006-03-13T07:41:39.517-00:00",
  :url "rss-galerie",
  :id 118,
  :description "Zprovoznil jsem nový RSS export.",
  :category "Gryphoon",
  :tags []},
 :110-nova-verze-galerie.aspx
 {:html
  "<p>Možná jste si všimli, že mám na svých stránkách <a href=\"/galerie.aspx\">fotogalerii</a>. Tahle galerie je jednou z&#160;plug-in komponent redakčního systému Gryphoon a je postavená na <a href=\"http://picasa.google.com/\">Picasa</a> Raw XML formátu. U&#160;většiny programů, které dělají html galerie, je nevýhoda, že je layout výsledné galerie pevně daný. Toto omezení se někdy dá vyřešit pomocí vytvoření vlastní šablony, ale většinou je tato technika celkem složitá a navíc je výsledkem pouze sada statických souborů. Další možností je použít nějakou free dynamickou galerii. Ta většinou všechno řeší přes databázi, ale zase je nezávislá na desktopové aplikaci.</p> <p>Můj plug-in je závislý na výše zmiňované Picase a její exportní šabloně <em>XML gallery</em>. Výsledný export se nahraje na ftp, nebo se využije možnost uploadu zazipované galerie přímo přes rozhranní Gryphoonu. Vložení galerie do stránky je stejně tak složité, jako tam vložit obyčejný label :)</p> <pre class=\"xml\"><code>&lt;%@ Register TagPrefix=\"Gryphoon\" TagName=\"Galerie\" Src=\"~/controls/Galerie.ascx\" %&gt; … &lt;Gryphoon:Galerie ID=\"Galerie1\" runat=\"server\" Folder=\"~/galerie\" ParseDateFromFolder=\"true\"&gt; &lt;!-- šablony částí stránky --&gt; &lt;/Gryphoon:Galerie&gt;</code></pre> <p>Pomocí vlastnosti <code>Folder</code> nastavíme adresář, kde jsou uloženy adresáře s&#160;exporty z&#160;Picasy. Pomocí vlastnosti <code>ParseDateFromFolder</code> povoluje parsování data z&#160;názvu složky Alba. To je proto, že já i&#160;mí kamarádi, kteří také používají Gryphoon, jsme zvyklí pojmenovávat složky exportů v&#160;následujícím tvaru <code>yyyy-mm-dd_jmeno_alba</code>. Dokonce lze použít i&#160;rozšířenou formu, kdy se album vztahuje k&#160;nějakému úseku dnů, pak se použije název složky ve tvaru <code>yyyy-mm-dd-dd_jmeno_alba</code>. Takže pokud je tato vlastnost nastavena na <strong>true</strong>, lze v&#160;šablonách použít <code>Container.Date</code> pro výpis data kdy bylo album pořízeno.</p> <p>U&#160;staré verze zde končily možnosti nastavení výsledného vzhledu galerie, protože vše bylo natvrdo napsáno v&#160;kódu kontrolu. Nová verze přichází se šablonováním. Máme tu sedm šablon pro nastavení vzhledu jednotlivých částí v&#160;různých stavech galerie. Každá šablona má svou vlastní sadu vlastností, které lze použít. Nutností je si šablony nadefinovat, jinak Galerie fungovat nebude, protože nemá předprogramované šablony &#8211; to snad v&#160;příští verzi.</p> <p>Poslední věc, která se ještě musí udělat, je svázání dat pomocí příkazu <code>DataBind()</code> ve stránce, která má v&#160;sobě galerii vloženou.</p> <pre class=\"csharp\"><code>void Page_Load(object sender, EventArgs e){ ... DataBind(); }</code></pre> <p>Ke stažení <a href=\"/files/GryphoonGallery.zip\">Gryphoon Gallery v0.82</a> (Zip, 4,87KiB)</p> <p><strong>Update</strong> ke stažení nyní i&#160;ukázka použití a lehká úprava galerie.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-02-19T08:41:56.673-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nová verze galerie",
  :published #inst "2006-02-18T18:51:00.000-00:00",
  :url "nova-verze-galerie",
  :id 110,
  :description
  "Vytvořil jsem novou verzi galerie a dávám ji volně k použití.",
  :category "Gryphoon",
  :tags []},
 :287-pripravte-se-na-vyrezy.aspx
 {:html
  "<p>Včera jsme se podívali na mikroformáty v Texy! Dnes si představíme novinku, kterou přináší Internet Explorer ve verzi 8. Tou novinkou jsou WebSlices – webové výřezy.</p> <h3 id=\"toc-prakticke-vyuziti\">Praktické využítí</h3> <p>Výřezy umožňují, aby uživatel mohl sledovat změny části webové stránky. Podobně jako u <a href=\"http://cyber.law.harvard.edu/rss/rss.html\"><acronym title=\"Really Simple Sindycation\">RSS</acronym></a> nebo <a href=\"http://tools.ietf.org/html/rfc4287\">Atom</a> jde o syndikaci obsahu malé části webové stránky. Prakticky to může vypadat třeba následovně.</p> <p>U svých článků často přidávám odkazy na související články. Jenže je všechny nezadám při publikaci článku, ale spíš postupně přidávám a třeba když narazím na nějaký pěkný článek k tématu, tak ho přidám. Jenže to už spousta lidí má dočteno a třeba se už nevrátí, nedozví se, že přibyly zajímavé odkazy na dané téma. S <a href=\"http://msdn.microsoft.com/en-us/library/cc304073(VS.85).aspx\">WebSlice</a>, můžu označit tento kousek článku k odběru a pokud má čitatel zájem, přidá si ho. Potom když přidám nějaký zajímavý odkaz, čtenář o tom bude vědět.</p> <p>Jiný příklad, který mě napadá. Stránky nějakého hudebního festivalu obsahují informace o ceně a množství volných vstupenek. Tyto informace se v čase mění – čím je fesťák blíž, tím cena roste a počet vstupenek klesá. Na takovou informaci je celkem zbytečné vytvářet RSS feed. Stačí ji prostě označit jako výřez. Já třeba ještě nejsem rozhodnutý, jestli půjdu, nebo chci vědět, kolik aktuálně vstupenka stojí a kolik jich zbývá, aby se mnou mohli jít i kamarádi. Tak se přihlásím k odběru takové informace.</p> <p>Uplatnění vidím i jinde.</p> <h3 id=\"toc-technicke-zpracovani\">Technické zpracování</h3> <p>Výřezy jsou části stránky označené třídou <code>hslice</code> a <strong>nějakým id</strong> a obsahující elementy s třídou <code>entry-title</code> a <code>entry-content</code> z mikroformátu <a href=\"http://microformats.org/wiki/hatom\">hAtom</a>. Živý příklad ze <a rel=\"bookmark\" href=\"/weblog/286-zapisujeme-mikroformaty-pomoci-texy.aspx\">včerejšího článku</a> je lepší než tisíc slov:</p> <pre class=\"texy\"><code>/--div .[#related hslice] == Související .[entry-title] .[entry-content] * [clanek(282)] * [clanek(267)] * [clanek(256)] * [microformats-cz] \\--div</code></pre> <p>Když uživatel najede nad tento kus článku, objeví se tlačítko pro subskripci:</p> <div class=\"image\"><img src=\"/data/obrazky/webslice.png\" alt=\"zvýrazněný výřez stránky\" /></div> <p>Po jeho odsouhlasení se stránka přidá do oblíbených a do feedů. Po rozkliknutí se objeví náhledové okno s aktuálním výřezem:</p> <div class=\"image\"><img src=\"/data/obrazky/webslice2.png\" alt=\"náhled výřezu stránky\" /></div> <h3 id=\"toc-dalsi-moznosti\">Další možnosti</h3> <p>U výřezů funguje automatické nalezení podobně jako u RSS a Atom feedů, vlastně jsou ve stejné nabídce, ale jsou odlišeny fialovou ikonkou výřezu. Automaticky se vybere první nalezený výřez. Pokud ale chcete nabídnout k přihlášení jako první jiný výřez, lze to ovlivnit vložením <code>meta</code> tagu do hlavičky:</p> <pre class=\"xml\"><code>&lt;link rel=\"default-slice\" type=\"application/x-hatom\" href=\"#related\" /&gt;</code></pre> <p>Mění se pouze obsah atributu <code>href</code> v němž je cesta k výřezu. Jak jsem již říkal, ten musí být označen atributem <code>id</code> tudíž je přes jeho hodnotu odkazovatelný.</p> <p>Dále je možné omezit platnost výřezu pomocí <a href=\"/weblog/267-vkladani-data-do-stranky.aspx\">date-patternu</a> s třídou <code>endtime</code> nebo periodu aktualizace za pomocí třídy <code>ttl</code>:</p> <pre class=\"xml\"><code>&lt;p&gt;Úryvek se aktualizuje jednou za &lt;span class=\"ttl\"&gt;60&lt;/span&gt; minut.&lt;/p&gt;</code></pre> <p>Lze i definovat vzhled výřezu a pracovat s nimi na úrovni JS API, ale to už je mimo rámec tohoto článku.</p> <h3 id=\"toc-format-hatom\">Formát hAtom</h3> <p>Jak jsem již psal výše, výřezy jsou z části postavené na mikroformátu <a href=\"http://microformats.org/wiki/hatom\">hAtom</a>. Ten slouží k definování něčeho jako Atom feed ve stránce. Dají se jím celkem trefně popsat blogové zápisky, protože obsahuje téměř všechny třídy, které se můžou k popisu blogového zápisku hodit. Proto když budete dělat novou šablonu pro svůj blog, zkuste se u tohoto mikroformátu inspirovat.</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a rel=\"bookmark\" href=\"/weblog/286-zapisujeme-mikroformaty-pomoci-texy.aspx\">Zapisujeme mikroformáty pomocí Texy!</a></li> <li><a href=\"/weblog/267-vkladani-data-do-stranky.aspx\">Vkládání data do stránky</a></li> <li><a rel=\"bookmark\" href=\"http://www1.mraveniste.org/weblog/2005/03/09-kotvy.html\">Jan Bien: Namísto kotvy úryvek</a></li> <li><a href=\"http://met.blog.root.cz/2008/06/25/bbc-nasadilo-a-opet-odstranilo-mikroformaty/\">Martin Hassman: BBC nasadilo a opět odstranilo mikroformáty</a></li> <li><a href=\"http://msdn.microsoft.com/en-us/library/cc304073(VS.85).aspx\">Specifikace WebSlice na MSDN</a></li> <li><a href=\"http://msdn.microsoft.com/en-us/library/cc196992(VS.85).aspx\">Další informace o WebSlice na MSDN</a></li> <li><a href=\"http://microformats.org/wiki/hatom\">Mikroformát hAtom</a></li> </ul> </div> <p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/microformats\">Microformats</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/webslice\">WebSlice</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/ie8\">IE8</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:14:28.460-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Připravte se na výřezy",
  :published #inst "2008-06-25T15:00:46.097-00:00",
  :url "pripravte-se-na-vyrezy",
  :id 287,
  :description
  "Včera jsme se podívali na mikroformáty v Texy! Dnes si představíme novinku, kterou přináší Internet Explorer ve verzi 8. Tou novinkou jsou WebSlices – webové výřezy.",
  :category "Webdesign",
  :tags ["webslices" "ie8" "microformats" "texy"]},
 :95-nova-generace-webu.aspx
 {:html
  "<p>Nechci tu mluvit o&#160;aktivitách jako je Web 2.0, ale o&#160;současných nebo velmi brzkých technologiích. Určitě už jste slyšeli něco o&#160;<acronym title=\"Asynchronous JavaScript and XML\">AJAX</acronym>u, ať už o&#160;tom fotbalovém nebo o&#160;tom webovém. Já o&#160;tom fotbalovém nic nevím, takže se chci věnovat tomu mě bližšímu.</p> <p>AJAX je buzword dneška, ačkoliv nejde o&#160;zas tak novou technologii, dnes prožívá svůj boom. Oblibu si získal asi díky <a href=\"http://www.gmail.com/\">GMailu</a>, který je v&#160;něm napsaný. Pokud jde o&#160;nějakou zajímavou technologii, kterou AJAX bezesporu je, nebyl by to <a href=\"http://www.microsoft.com\">Microsoft</a>, aby u&#160;toho chyběl. I&#160;Microsoft má svoje AJAXové aplikace a nemusíme chodit pro vodu daleko, stačí do adresního řádku napsat <a href=\"http://www.start.com\">Start.com</a> a máme tu hned jednu.</p> <p><strong>Start.com</strong> je taková testovací laboratoř nápadů Microsoftích vývojářů. Prvotním úkolem bylo vytvoření personalizovaného portálu. Velice pěkná myšlenka, která funguje. Obdobnou věc potom spustil i&#160;<a href=\"http://www.google.com/ig\">Google</a> a posléze vznikla i&#160;betaverze <a href=\"http://www.live.com\">Windows Live</a>, která se Start.com značně podobá.</p> <p><strong>Live.com</strong> je nový portál Microsoftu a podle všeho se jedná o&#160;transformaci MSN. Live.com je stránka, kde je hledací políčko, které hledá přes MSN Search. Tím by se asi oproti současnému MSN portálu značně degradovala, proto je zbytek stránky určen jen vám a vy si s&#160;ním můžete dělat, co se vám zlíbí. Když namátkou vyberu &#8222;dlaždice&#8220;, které mě zaujali, jako třeba hodiny, lokální počasí, RSS čtečka, kurzovní lístek a mnoho dalších, dojdu k&#160;omezenému počtu. Ovšem tento počet není limitním. Každý si může napsat vlastní &#8222;dlaždici&#8220;, kterou si do stránky nainstaluje. Pokud nejste dostatečně fundovaní na to, abyste si napsali dlaždici vlastní, můžete navštívit stránky <a href=\"http://www.microsoftgadgets.com/\">http://www.mi&#173;crosoftgadget&#173;s.com/</a>, kde najdete spoustu dalších dlaždic z&#160;rukou komunitních vývojářů.</p> <p><strong>Atlas</strong>. Teď konečně přicházím k&#160;tomu, proč tenhle spot píšu. <a href=\"http://atlas.asp.net\">Atlas</a> je totiž nový framework pro psaní JavaScriptových aplikací postavených nejen na AJAXu. Zatím existuje pouze v&#160;testovací verzi bez Go-live licence, ale i&#160;tak se s&#160;ním dají dělat velice zajímavé věci. On Atlas bude pravděpodobně součástí příští verze ASP.NET, proto se s&#160;nim dá pracovat jak na klientské části, tak i&#160;na serverové. Používá se zde do značné míry deklarativního programování, zavádí se určitá typovost, OOP a jednoduchý přístup k&#160;webovým službám. Na Atlasu jsou postaveny oba výše zmiňované portály, ale třeba i&#160;<a href=\"http://local.live.com\">http://local&#173;.live.com</a>, což je nová verze MSN Virtual Earth.</p> <p>Atlas je pro mě velice slibnou a zajímavou technologií a určitě o&#160;ní ještě něco napíšu &#8211; snad i&#160;něco praktičtějšího. Závěrem ještě malá vsuvka. Systém dlaždic je součástí nové plochy a Sidebaru ve Windows Vista. :)</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-14T09:11:57.850-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nová generace webu",
  :published #inst "2005-12-14T09:11:57.790-00:00",
  :url "nova-generace-webu",
  :id 95,
  :description "Kam směřují webové aplikace, ale nejen ony.",
  :category "Webdesign",
  :tags []},
 :44-programatorska-soutez.aspx
 {:html
  "<p>Dnes mi přišel e-mail od <a href=\"http://www.aspweb.cz\">ASPWEBu</a>, že pořádají s&#160;<a href=\"http://www.microsoft.com\">Microsoftem</a> soutěž v&#160;programování webových služeb. To mi přišlo vhod, právě provádím rekonstrukci svého redakčního systému Gryphoon a plánuji i&#160;publikování prostřednictvím WS a e-mailu. Tak to je pro mě aspoň o&#160;důvod víc se do toho pustit. :)</p> <p>Navíc je nyní možné na ASPWEBu provozovat &#8222;dvojkové&#8220; aplikace! Tak se mi z&#160;plánováného upgradu redakčního systému Gryphoon vyklubala kompletní migrace na ASP.NET 2.0! To mám radost. Tak teď hůrá do práce.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:48:32.923-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Programátorská soutěž",
  :published #inst "2005-02-02T00:00:00.000-00:00",
  :url "programatorska-soutez",
  :id 44,
  :description "",
  :category "Moje práce",
  :tags []},
 :162-hudebni-novinky-pro-zacatek-leta.aspx
 {:html
  "<p>Začíná nám léto, to si žádá velké pařby se spoustou výborné muziky. Právě vycházejí skvělé věci, na které se těším už půl roku, takže směle do nich!</p> <p>První věc už vyšla u&#160;labelu <a href=\"http://www.joiarecords.com/\">Joia Records</a> a jmenuje se <a href=\"http://mp3.juno.co.uk/MP3/SF222194-01-01-01.mp3\">Click</a>. Věcička hodně povedená a na svědomí ji má známá dvojka <em>Steve Angello &amp; Sebastian Ingrosso</em>.</p> <p>Druhá v&#160;hodně podobné náladě výjde u&#160;labelu <a href=\"http://www.refune.com/\">Refune</a> pod názvem <a href=\"http://mp3.uniquedist.info/samplesC053/REF006A1.mp3\">Otherwize Then</a> a stojí za ní duo <em>Steve Angello &amp; Laidback Luke</em>.</p> <p>Třetí věc výjde u&#160;labelu <a href=\"http://www.sizerecords.com/\">Size Records</a> pod názvem <a href=\"http://mp3.uniquedist.info/samplesC047/SIZE013A.mp3\">Sexy F***</a> a ta je z&#160;rukou <em>Who's&#160;who</em> alias Steva Angella.</p> <p>Prozatím poslední skvělou věcí je <a href=\"http://mp3.uniquedist.info/samplesC052/JOIA025A.mp3\">Fatz Theme</a>/<a href=\"http://mp3.uniquedist.info/samplesC052/JOIA025B.mp3\">Flycker</a>. Vychází u&#160;labelu <a href=\"http://www.joiarecords.com/\">Joia Records</a> a je z&#160;rukou <em>Sheridan</em>a alias Erica Prydze.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-06-27T13:10:13.753-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Hudební novinky pro začátek léta",
  :published #inst "2006-06-27T13:08:15.850-00:00",
  :url "hudebni-novinky-pro-zacatek-leta",
  :id 162,
  :description
  "Začíná nám léto, to si žádá velké pařby se spoustou výborné muziky. Právě vycházejí skvělé věci, na které se těším už půl roku, takže směle do nich!",
  :category "Muzika",
  :tags []},
 :264-weblogy-cz-ve-vasem-mobilu.aspx
 {:html
  "<p>Víte o tom, že službu W3B můžete využívat i ve vašem mobilu? Mobilní verzi najdete na adrese <a href=\"http://www.weblogy.cz/m\">http://www.weblogy.cz/m</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:38:29.497-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Weblogy.cz ve vašem mobilu",
  :published #inst "2008-04-10T10:52:22.610-00:00",
  :url "weblogy-cz-ve-vasem-mobilu",
  :id 264,
  :description
  "Víte o tom, že službu W3B můžete využívat i ve vašem mobilu? Mobilní verzi najdete na adrese http://www.weblogy.cz/m",
  :category "Webdesign",
  :tags ["weblogy"]},
 :147-webcasty-z-mix06.aspx
 {:html
  "<p>O <a href=\"http://www.mix06.com/\">Mix06</a> jsem se už zmiňoval v&#160;souvislosti s&#160;<a href=\"http://atlas.asp.net/\">ASP.NET Atlas</a> a tento týden byly uvolněny <a href=\"http://sessions.mix06.com/\">záznamy přednášek</a>. Záznamy jsou zpracovány velice slušně, po celou dobu vidíte jak přednášejícího, tak prezentaci a dema. Osobně doporučuji sérii věnovanou Atlasu:</p> <ul> <li><a href=\"http://sessions.mix06.com/view.asp?sessionChoice=2001&amp;disc=&amp;pid=NGW014&amp;yearChoice=2005\">Developing a Better User Experience with Atlas</a> by Shanku Niyogi</li> <li><a href=\"http://sessions.mix06.com/view.asp?sessionChoice=2001&amp;disc=&amp;pid=NGW052&amp;yearChoice=2005\">Designing a Better User Experience with AJAX and Atlas</a> by Rick Spencer</li> <li><a href=\"http://sessions.mix06.com/view.asp?sessionChoice=2001&amp;disc=&amp;pid=NGW002&amp;yearChoice=2005\">Building Components and Services for the Programmable Web</a> by Nikhil Kothari</li> </ul> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-05-11T16:31:32.397-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Webcasty z Mix06",
  :published #inst "2006-05-11T16:31:32.367-00:00",
  :url "webcasty-z-mix06",
  :id 147,
  :description "Linky na zajímavá videa z konference Mix06.",
  :category "ASP.NET 2.0",
  :tags []},
 :188-axwell-club-mode.aspx
 {:html
  "<p>Původně byl tento mix určený pro Competition na Axwellově foru, ale nestihl jsem uzávěrku. Byla by škoda, aby tenhle mix zapadl :) Vybíral jsem spíš starší clubové věci. Pravidla byla dost striktní (max 30min, pouze Axwellova tvorba, MP3 128 kbps apod.) :) Doufám, že se bude líbit.</p> <ol> <li>Axwell – Feel The Vibe (Extended Vocal Mix)</li> <li>Room 5 feat. Oliver Chaetham – Make Luv (Axwell Remix)</li> <li>Playmaker – Black Pony (Axwell &amp; Stonebridge Club Mix)</li> <li>Mambana – Felicidad (Axwell Vocal Mix)</li> <li>Axwell – Lead Guitar (Axwell Club)</li> <li>Axwell feat. Charles Salter – I Found You (Classic Edit)</li> </ol> <p>Ke stažení <a href=\"/files/alessio_busta_-_axwell_club-mode.mp3\" onclick=\"javascript:_gat._getTracker(\">Alessio Busta – Axwell Club-mode</a> (MP3 128 kbps, 27,3 MiB)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T15:07:26.030-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Axwell Club-mode",
  :published #inst "2006-10-27T11:58:53.720-00:00",
  :url "axwell-club-mode",
  :id 188,
  :description "Jeden z \"plážových mixů\" Alessia Busty ;)",
  :category "Muzika",
  :tags []},
 :69-definice-jazyka.aspx
 {:html
  "<p>Na webstandards.org vyšel pěkný článek o tom <a href=\"http://www.webstandards.org/buzz/archive/2005_09.html#a000558\">jak správně definovat jazyk</a> v XHTML dokumentech.</p> <ol> <li>Pokud je stránka jednojazyčná nebo napsaná převážně v jednom jazyce definujte jazyk dokumentu pomocí <code>&lt;html xml:lang=\"cs\" ...</code>. Nikdy tak nečiňte pomocí <code>&lt;body&gt;</code>.</li> <li>Nepoužívejte meta tag <em>Content-Language</em>.</li> <li>Pokud se v textu vyskytují fragmenty v jiném jazyce než je definován v <code>&lt;html&gt;</code>, tak je označte atributem <code>xml:lang</code>, buďto u třeba u celého odstavce <code>&lt;p xml:lang=\"en\"&gt;</code> nebo jen vybranou frázi uzavřete do <code>&lt;span xml:lang=\"en\"&gt;english words&lt;/span&gt;</code>.</li> </ol> <p>Tyto pravidla platí pro XHTML 1.1 publikované jako <strong>aplication/xhtml+xml</strong>. Pokud používáte XHTML 1.0 publikované jako <strong>text/html</strong> musíte deklaraci zdvojit přidáním atributu <code>lang</code>. U HTML se zase neuvádí <code>xml:lang</code>, ale pouze <code>lang</code>. Je to celkem sranda, asi proto nemám rád XHTML 1.0. Začínám přemýšlet o tom, že budu tyhle stránky nabízet jako HTML 4.0 pro prohlížeče, které XHTML 1.1 neznají :)</p> <!-- by Texy2! -->",
  :keywords "xhtml lang jazyk definice",
  :edited #inst "2008-04-19T19:18:30.387-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Definice jazyka",
  :published #inst "2005-09-07T11:38:21.000-00:00",
  :url "definice-jazyka",
  :id 69,
  :description "Jak správně definovat jazyk XHTML dokumentu.",
  :category "Webdesign",
  :tags []},
 :329-rest-aplikace-pomoci-asp-net-mvc.aspx
 {:html
  "<p>Jednou z důležitých novinek v beta verzi ASP.NET MVC je bezesporu možnost přetěžování akcí a ve spolupráci s filtry na typ požadavku můžeme přejít na REST přístup k architektuře webové aplikace.</p> <p>Ačkoli si mnoho lidí myslí, že když píšou v ASP.NET MVC, mají rovnou <acronym title=\"Representational state transfer\">REST</acronym> out of the box, není tomu tak. V plném RESTu se totiž nedostávají do URL slovesa (akce), nýbrž pouze předměty. Typický scénář <acronym title=\"Create Read Update Delete\">CRUD</acronym> operací může vypadat následovně:</p> <pre><code>POST /Customers/Create/ GET /Customers/Detail/1 POST /Customers/Update/1 GET /Customers/Delete/1</code></pre> <p>Takovéto akce snadno pokryjeme s výchozí routou <code>/{controller}/{action}/{id}</code> a řadič <code>CustomersController</code> může vypadat nějak tak:</p> <pre class=\"csharp\"><code>public class CustomersController : Controller { public ActionResult Create(Customer customer) { // TODO: create customer } public ActionResult Detail(int id) { // TODO: find customer by id } public ActionResult Update(int id, Customer customer) { // TODO: update customer } public ActionResult Delete(int id) { // TODO: delete customer } }</code></pre> <p>Jenže POSTování a GETování je jen slabou podmnožinou povolených operací na HTTP protokolu. Správný REST přístup pro CRUD operace by měl vypadat následovně:</p> <pre><code>POST /Customers GET /Customers/1 PUT /Customers/1 DELETE /Customers/1</code></pre> <h3 id=\"toc-co-je-pro-to-treba-udelat\">Co je pro to třeba udělat?</h3> <p>Začneme od routy. Přidáme novou routu pro <code>CustomersController</code>:</p> <pre class=\"csharp\"><code>routes.MapRoute( \"REST Customers\", \"Customers/{id}\", new { controller = \"Customers\", action = \"Rest\", id = \"\" } );</code></pre> <p>A původní kód obohatíme o pár atributů:</p> <pre class=\"csharp\"><code>public class CustomersController : Controller { [ActionName(\"Rest\")] [HttpPost] public ActionResult Create(Customer customer) { // TODO: save Customer to database return new HttpStatusCodeResult((int)HttpStatusCode.OK); } [ActionName(\"Rest\")] [HttpGet] public ActionResult Detail(int id) { // TODO: load Customer from database return View(\"Detail\"); } [ActionName(\"Rest\")] [HttpGet] public ActionResult Index() { // TODO: load Customers from database return View(\"Index\"); } [ActionName(\"Rest\")] [HttpPut] public ActionResult Update(int id, Customer customer) { // TODO: update Customer in database return new HttpStatusCodeResult((int)HttpStatusCode.OK); } [ActionName(\"Rest\")] [HttpDelete] public ActionResult Delete(int id) { // TODO: delete Customer from database return new HttpStatusCodeResult((int)HttpStatusCode.OK); } }</code></pre> <p>A máme REST :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-08-30T15:00:50.877-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "REST aplikace pomocí ASP.NET MVC",
  :published #inst "2008-10-26T11:20:59.783-00:00",
  :url "rest-aplikace-pomoci-asp-net-mvc",
  :id 329,
  :description
  "Jednou z důležitých novinek v beta verzi ASP.NET MVC je bezesporu možnost přetěžování akcí a ve spolupráci s filtry na typ požadavku můžeme přejít na REST full přístup k architektuře webové aplikace. Jak na to?",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "mvc" "rest"]},
 :67-css-2-1-v-internet-exploreru-7.aspx
 {:html
  "<p>Včera vyšel <a href=\"http://blogs.msdn.com/ie/archive/2005/09/02/460115.aspx\">článek na ieblogu</a>, který přináší k diskusi několik vlastností parseru <acronym title=\"Cascading Style Sheet\">CSS</acronym> v připravovaném <acronym title=\"Internet Explorer\">IE</acronym>. Zajímavé je, že zpracování stylů bude odlišné pro Standard mod od Quirk modu. Quirk mode bude spracovávat CSS stejně jako to dělá IE6 s všemi chybami, což by mělo zajistit funkčnost současného kódu i v novém prohlížeči. Naproti tomu Standard mode se na nic ohlížet nebude a pojede <a href=\"http://www.w3.org/TR/CSS21/\">podle standardu</a>. V důsledku by neměli fungovat různé hacky, kterými dnes kodéři odlišují IE od moderních prohlížečů.</p> <p>Doufám, že implementace Standard modu bude dostatečně kvalitní, že hacky nebudou nadále potřeba. Držim Microsoftu palce – hlavně kvůli sobě ;).</p> <!-- by Texy2! -->",
  :keywords "CSS 2.1 Internet Explorer 7",
  :edited #inst "2008-04-19T19:12:08.740-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "CSS 2.1 v Internet Exploreru 7",
  :published #inst "2005-09-03T11:14:29.000-00:00",
  :url "css-2-1-v-internet-exploreru-7",
  :id 67,
  :description "Jak to bude s CSS v novém prohlížeči od Microsoftu.",
  :category "Webdesign",
  :tags []},
 :72-spadly-disk.aspx
 {:html
  "<p>Dnes jsem se probudil, do nejhoršího snu. Přestože jsem večer počítač nevypínal, ráno byl vypnutý. To už bylo podezřelé. Zapnul jsem ho a vyskočila hláška, že nějakej soubor chybí a že systém nemůže nastartovat. Tak jsem rychle sáhl po instalačním CD Windows a chtěl využít konzulu pro obnovení systému. V&#160;té jsem zjistil, že má data se odebrala do křemíkového nebe&#8230;</p> <p>Proč zrovna já?? Asi začnut zálohovat i&#160;jinam než na disk&#8230;</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Spadlý disk",
  :published #inst "2005-10-07T08:29:42.000-00:00",
  :url "spadly-disk",
  :id 72,
  :description "To nasere.",
  :category "Jen tak",
  :tags []},
 :131-atlas-april-ctp.aspx
 {:html
  "<p>Dnes v&#160;noci vyšla nová verze Atlasu, stahovat můžete na <a href=\"http://atlas.asp.net\">domovských stránkách</a>. Dubnová verze přináší především opravu chyb březnové a přináší trochu nové funkčnosti.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-11T07:33:35.623-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Atlas April CTP",
  :published #inst "2006-04-11T07:33:35.627-00:00",
  :url "atlas-april-ctp",
  :id 131,
  :description "Nová verze Atlasu.",
  :category "ASP.NET 2.0",
  :tags []},
 :209-texy-net-na-codeplexu.aspx
 {:html
  "<p>Dneska jsem vypustil <a href=\"http://www.codeplex.com/texynet/\">Texy.net na CodePlex</a>. Vypublikoval jsem první Wiki stránky uploadoval <a href=\"http://www.codeplex.com/texynet/Release/ProjectReleases.aspx?ReleaseId=4460\">RC1</a> a <a href=\"http://www.codeplex.com/texynet/Release/ProjectReleases.aspx?ReleaseId=4461\">RC2</a> verzi a experimentální <em>PhalangerProvi­der</em>. Vloženy jsou i <a href=\"http://www.codeplex.com/texynet/SourceControl/ListDownloadableCommits.aspx\">zdrojáky</a>. K RTM verzi zbývá již jen dopsat dokumentaci, najít a opravit <a href=\"http://www.codeplex.com/texynet/WorkItem/List.aspx\">bugy</a>.</p> <p>Pokud mátě někdo zájem se do projektu zapojit, dveře jsou otevřené.</p> <h3 id=\"toc-co-je-v-planu-po-1-0-rtm\">Co je v plánu po 1.0 RTM</h3> <p>PhalangerProvider nebo IronPythonProvider nebo IronRubyProvider, který bude plně použitelný se současným API Texy.net. Nejde o nic jiného než využít kompilátorů pro dynamické jazyky do kterých už byla nebo bude Texy! portována. Zajímavé je, že byl uvolněn <a href=\"http://texier.rubyforge.org/\">Texier</a> což je Texy na Ruby, ale IronRuby je ještě neuvolněná. Naproti tomu je venku IronPython skoro ve verzi 2.0, ale <a href=\"http://blog.zirafka.cz/\">žirafka</a> jeste svoji PyTexy neuvolnila (: No a nakonec Phalanger. Vněm se Texy zkompilovat podařilo, ale furt se mi to nějak nezdá. <a href=\"http://tomasp.net/blog/aspnettexy.aspx\">Tomášova verze</a> mi neumožňuje konfigurovat moduly, což je dost zásadní věc…</p> <p>No a pak, nebo mezi tím, konečně něco jako to, čemu předběžně říkám <strong>Texy#</strong> :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T20:58:56.383-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Texy.net na CodePlexu",
  :published #inst "2007-05-24T21:11:15.727-00:00",
  :url "texy-net-na-codeplexu",
  :id 209,
  :description "Dneska jsem vypustil Texy.net na CodePlex...",
  :category "ASP.NET 2.0",
  :tags ["texynet" "codeplex"]},
 :375-zacal-jsem-cvicit-tdd-katu.aspx
 {:html
  "<p>Co je to za blbost, říkáte si.</p> <h3 id=\"toc-kazdy-cvici\">Každý cvičí</h3> <p>Když se podíváte do jakékoli oblasti lidského působení, zjistíte, že všichni mistři pravidelně cvičí, aby se zdokonalovali nebo jen udržovali formu. Proč by programátoři měli být něco extra? I programátoři musí cvičit! Jen cvičením dosáhnete požadované formy.</p> <h3 id=\"toc-katy\">Katy</h3> <p>Pro cvičení programátorů dnes vznikají různé <a href=\"http://en.wikipedia.org/wiki/Kata\">katy</a> (znáte z karate nebo juda), které jsou v podobě zadání, které byste měli zvládnout naimplementovat pomocí TDD za určitý čas. Cvičení takové katy by vám mělo přejít do krve, každý stisk klávesy by měl být zcela automatický a intuitivní, podobně jako se cvičí katy v karate. Abyste to vše stihli, musíte minimalizovat saháni na myš na úplné <acronym title=\"NESAHAT!\">minimum</acronym>. Musíte se naučit ovládat vaše vývojové prostředí a dostat z něj maximum. Musíte se naučit dělat věci co nejjednodušeji, ale výsledek musí být uspokojivě kvalitní. <em>Čistý kód</em>.</p> <h3 id=\"toc-hudba\">Hudba</h3> <p>U katy byste měli mít správný rytmus, aby vše odsejpalo jak má. Proto je důležitý výběr správné hudby, která udává rytmus a podporuje správné flow vašeho cvičení. Mnozí si vybírají nějakou klasiku, třeba Rachmaninova. Já si vybral taneční klasiku <a href=\"http://beatport.com/u/r4Z8\">Pryda – Aftermath (Original Extended Mix)</a>, která má zajímavé progresivní pasáže a navíc trvá celých 15 minut. Na jedno 30minutové cvičení mi tedy vyjde poslech přesně 2×. Můj cíl, je dát celou katu na <strong>jeden jediný poslech</strong>.</p> <h3 id=\"toc-vyzva\">Výzva</h3> <p>Když si vytyčíte nějaké cíle, musíte jim něco obětovat, sáhnout si na dno svých možností. Pojďte do toho také! Pojďte cvičit a staňte se mistry! Někteří budou nuceni doinstalovat lepší nástroje, které zvýší jejich produktivitu, jiní přijdou na to, že jazyk, ve kterém píší, je zdržuje a <acronym title=\"true story\">budou muset switchnout na produktivnější</acronym>. :) Pojďte se poměřovat, každé ráno po cvičení hoďte svůj výsledek na štěbeták s tagem <a href=\"http://twitter.com/#search?q=%23tddkatacz\">#tddkatacz</a>.</p> <h3 id=\"toc-co-cvicit\">Co cvičit</h3> <p>Já osobně začínám cvičit <a href=\"http://osherove.com/tdd-kata-1/\">StringCalculator</a> katu od Roye Osherova, ale je jich víc. Jsou tu katy na počítání prvočísel, výpočet výsledku bowlingu, převod římských čísel na arabská apod. Pokud se chcete inspirovat doporučuji navštívit stránky <a href=\"http://katas.softwarecraftsmanship.org/\">http://katas.softwarecraftsmanship.org/</a>.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-12-28T10:19:40.230-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Začal jsem cvičit TDD katu",
  :published #inst "2009-12-27T10:02:39.907-00:00",
  :url "zacal-jsem-cvicit-tdd-katu",
  :id 375,
  :description
  "Zapojte se společně se mnou do cvičení TDD katy. Co to vlastně je? Proč to dělat?",
  :category "Webdesign",
  :tags ["tdd" "kata" "craftmanship"]},
 :252-v-zajeti-socialnich-siti.aspx
 {:html
  "<p>Nedávno jsem zkusil nainstalovat sociální prohlížeč <a href=\"http://www.flock.com/\">Flock</a>. Nebylo to poprvé, ale tehdá jsem ještě nebyl tak socializovaně zasíťován. Teď už jsem, tak mu zkouším dávat druhou šanci.</p> <p>Jako hlavní prohlížeč používám <acronym title=\"Internet Explorer 7\">IE7</acronym> ve Vistě a jsem s ním plně spokojen, používám i zbylé z velké čtverky (Firefox, Safari, <acronym title=\"dá-li se její pidi podíl počítat mezi velké\">Opera</acronym>) – pro pracovní účely, jako programátor webových aplikací je nemohu ignorovat.</p> <p>Po tom, co jsem si přečetl zprávičku, že Flock 1.1 bude podporovat i moji oblíbenou <a href=\"http://picasa.google.com\">Picasu</a>, řekl jsem si, že bych ho měl zase zkusit. Tak jsem si v pátek nainstalovat verzi 1.0 a začal objevovat její možnosti.</p> <h3 id=\"toc-nove-zapojen\">Nově zapojen</h3> <p>Díky Flocku jsem se zapojil do dalších web 2.0 sítí :). První byl <a href=\"http://www.twitter.com/\">twitter</a> a začal jsem microblogovat. Hned při registraci jsem pozval pár svých známých a první, kdo se mnou začal, nebyl nikdo jiný než <a href=\"http://www.mraveniste.org/\">Jan Bien „Mravenec“</a> – duchovní syn služby <a href=\"http://www.weblogy.cz\">Weblogy.cz</a>.</p> <p>Dobrý na twittru je, že do něj můžete posílat zprávy i přes Jabber (např. <a href=\"http://talk.google.com/\">Google Talk</a>) nebo SMSkou. Ve Flocku pak vidíte vaše kontakty s jejich aktuálními stavy. :)</p> <p>Při hlubším zkoumání jsem zjistil, že přes tlačítko pro přihlašování <acronym title=\"Realy Simple Sindication\">RSS</acronym> kanálů lze přidávat kanály i do <a href=\"http://reader.google.com/\">Google Readeru</a>, který používám jako čtečku kanálů. To se mi líbí, v IEčku jsem dosud používal bookmarklet. Další věcí, která mě mile překvapila, bylo, že bookmarky lze ukládat do online služby <a href=\"http://del.icio.us/\">del.icio.us</a>. Tuto službu jsem dosud nepoužíval, ale už je na čase. :) Takže to je zatím poslední sociální síť, ve které jsem uvízl.</p> <p>Budu Flock ještě pár dní zkoušet a možná po necelých dvou letech opustím IE7… Možná také po této zkušenosti obnovíme myšlenku zesocializovat službu Weblogy. Kdo ví…</p> <h3 id=\"toc-souvisejici\">Související</h3> <ul> <li><a href=\"/clanek/191-socialni-site.aspx\">Sociální sítě</a></li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:39:04.800-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "V zajetí sociálních sítí",
  :published #inst "2008-01-27T12:09:50.340-00:00",
  :url "v-zajeti-socialnich-siti",
  :id 252,
  :description
  "Nedávno jsem zkusil nainstalovat sociální prohlížeč [flock]. Nebylo to poprvé, ale tehdá jsem ještě nebyl tak socializovaně zasíťován. Teď už jsem, tak mu zkouším dávat druhou šanci. ",
  :category "Webdesign",
  :tags ["flock" "ie7" "twitter" "reader" "delicious"]},
 :156-texy-alternativa-k-politice-cssd.aspx
 {:html
  "<p>Na poli českého webdesignu zuří těžké agitační boje o to koho volit. Vůdčí osobnosti české blogerské scény zbrojí proti KSČSSD, ale objevuje se tu i <a href=\"http://blog.filosof.biz/zhoubne-standardy-braome-se/\">nová vlna brojičů proti Texy</a>.</p> <div class=\"center image\"><img src=\"/data/obrazky/fuck_texy.jpg\" alt=\"bilboard odpůrců Texy\" /> <p>Kdo asi stojí za nechutnou kampaňí?</p> </div> <p>Ano i Texy se stala otázkou přesvědčení a tak vězte, že kdo nepoužívá <a href=\"http://www.texy.info/\">Texy ke generování úhledného XHTML kódu</a>, je zákonitě voličem levice! Ano vážení, je tomu bohužel tak. Kdo nevolí Texy volí Jistoty a prosperity HTML syntaxe. Je tato volba opravdu tak špatná? To nechám na čtenářích, nechť se rozhodnou koho budou volit.</p> <div class=\"center image\"><img src=\"http://www.dgx.cz/kartinki/co-voli-filosof.jpg\" alt=\"že by změna kabátů?\" /> <p>Pravda se pomalu začíná odkrývat…</p> </div> <p>PS. Všimněte si <a href=\"http://www.weblogy.cz/\" title=\"všimněte si motta webu\">politického optimismu</a> největšího mravence v zemi, který si myslí, že se agregovalo, agreguje a agregovat bude… Držme mu palce, protože těch vlád a režimů Weblogy.cz ještě moc nezažily.</p> <p>PPS. Dave, já taky nevolím ČSSD ;) <del>Ovšem, nejsem osobnost…</del> <ins>Tak už jsem :)</ins></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:35:28.443-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Texy, alternativa k politice ČSSD",
  :published #inst "2006-05-30T12:55:05.327-00:00",
  :url "texy-alternativa-k-politice-cssd",
  :id 156,
  :description
  "Na poli českého webdesignu zuří těžké agitační boje o to koho volit. Vůdčí osobnosti české blogerské scény zbrojí proti KSČSSD, ale objevuje se tu i nová vlna brojičů proti Texy.",
  :category "Webdesign",
  :tags ["texy"]},
 :451-jak-teda-s-tema-vyjimkama-v-busines-logice.aspx
 {:html
  "<p>Na develu se rozvíjí debaty o tom, zda je zpátečnické odrazovat od vyhazování výjimek. Já patřím mezi zpátečníky. :) Tady je moje odpovědˇ, kterou je IMO škoda nemít veřejně dostupnou, takže ji publikuju i tady na blogu.</p> <p>Na začátek je dobré se opřít o nějakou autoritu, proto tady pro začátek ocituju <a href=\"http://blogs.msdn.com/b/kcwalina/archive/2005/03/16/396787.aspx\">.net Framework Design Guidelines doporučení k výjimkám</a>:</p> <ol> <li>Nevracejte chybové kódy. K tomuto účelu jsou určeny výjimky.</li> <li>Vyhazujte výjimky pokud dojde k běhové chybě. Pokud člen nemůže úspěšně provést úkol za nějž nese zodpovědnost, mělo by to být považováno za běhovou chybu a měla by být vyhozena výjimka.</li> <li>Pokud se dostanete do stavu, kterému nepomůže žádné ošetření výjimky, proveďtě ukončení procesu pomocí <code>Environment.Fa­ilFast()</code>.</li> <li>Nepoužívejte výjimky k formálnímu řízení toku programu. S výjimkou systémových selhání by vždy měl existovat způsob jak se vyhnout vyhazování výjimek.</li> <li>Zvažte důsledky vyhozené výjimky na výkon.</li> <li>Vždy zdokumentujte všechny výjimky vyhazované veřejnými členy z důvodu porušení jejich kontraktu.</li> <li>Nemějte veřejné členy, které mají nebo nemají vyhazovat výjimky na základě nějakého parametru. <code>Type GetType(string name, bool throwOnError)</code></li> <li>Nemějte veřejné členy které vracejí výjimku jako návratovou hodnotu nebo out parametr.</li> <li>Nastavte všechny relevatní vlastnoti vyhazované výjimky.</li> <li>Preferujte užití systémových výjimek před vlastními.</li> <li>Vlastní výjimky vyhazujte v případě, že vyžadují odlišný způsob ošetření než existující typy výjimek.</li> <li>Nikdy nevytvářejte vlastní typ výjimky, jen proto, aby váš team měl nějakou vlastní výjimku.</li> <li>Vyhazujte co nejkonkrétnější výjimky.</li> <li>Nevracejte chybové kódy z obav o výkonostní dopady při vyhazování výjimek.</li> <li>Používejte vzory jako TryParse, které snižují negativní dopady na výkon způsobené vyhazováním výjimek.</li> </ol> <p>Z texu je zřejmé, že vyhazování výjimek má své opodstatnění. Důležité je však v jakých scénářích se výjimky vyhazovat mají a v jakých ne.</p> <p>Často se tu objevují příklady s validací vstupních hodnot nebo třeba autentikace uživatele. Začněme validátorem:</p> <p>Primární zodpovědností validátoru je validovat hodnoty. Je nevalidní hodnota příčinou nemožnosti korektní práce validátoru (důvodem k vyhození výjimky)? Není (viz bod <code>2</code>). Můžeme to řešit vracením primitivy jako je <code>bool</code>. Já si však myslím, že taková hodnota je nedostatečná. Potřebujeme výsledek validace zpropagovat někam, kde se s ním bude dále pracovat. Vyhodíme tedy výjimku a tu pak odchytíme? Tím se ale dostáváme k bodu <code>4</code>. Lepším řešením je definovat komplexní návratový typ:</p> <pre class=\"fsharp\"><code>type ValidationResult = | Valid | Invalid of ValidationError list</code></pre> <p>Pokračujme s autentikací uživatele. Běžnou praxí je vyhazování <code>SecurityException</code> pokud se nepovede uživatele autentikovat. Výjimka se pak nechá probublat do UI vrstvy, kde se ošetří a uživateli se zobrazí hláška, že zadal špatné jméno nebo heslo. Opět však jde o porušení 4. bodu. Autentikace tam může vracet opět <code>bool</code> nebo rovnou instanci <code>User</code> a v případě nevydařené autentikace <code>null</code>. Tím se zbavíme bezpečnostních výjimek, ale zase si zavedeme potenciální chybu v podobě <code title=\"NullReferenceException\">NRE</code>… Proto si opět myslím, že by se měl vracet adekvátní typ:</p> <pre class=\"fsharp\"><code>type AuthenticationResult = | NotAuthenticated | Authenticated of User</code></pre> <p>Autentikační modul samozřejmě může vyhazovat výjimky, ale většinou budou spojené s nefungující infrastrukturou (LDAP, SQL nebo jinej auth provider), to je totiž validní důvod, proč nemůže autentikace doběhnout.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-05-17T14:14:05.207-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak teda s těma výjimkama v busines logice?",
  :published #inst "2013-05-17T14:11:33.710-00:00",
  :url "jak-teda-s-tema-vyjimkama-v-busines-logice",
  :id 451,
  :description "Jak to vidím s výjimkama v business logice já.",
  :category "Moje práce",
  :tags []},
 :276-chybka-se-vloudila.aspx
 {:html
  "<p>V kódu, který jsem publikoval před nedávnem v článku <a href=\"/weblog/268-vyhledavani-komponent-v-asp-net-strance.aspx\">Vyhledávání komponent v ASP.NET stránce</a>, se vyskytla chyba. Za její odhalení děkuju Martinovi Davidovi (DaMa). Opravený kód jsem přepublikoval.</p> <h3 id=\"toc-v-cem-byla-chyba\">V čem byla chyba?</h3> <p>Mylně jsem se domníval, že všechny NamingContainery implementují rozhraní <code>INamingContainer</code>. Jenže je tu drobná past. <code>HtmlForm</code>, základní kámen WebForms, toto rozhraní neimplementuje a přesto slouží jako bariéra v rekurzivním prohledávání. Řešením nakonec bylo přidání do podmínky, kde kontroluju implementaci INamingContaineru i kontrolu na <code>HtmlContainerControl</code>. To je vše.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T13:41:34.473-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Chybka se vloudila",
  :published #inst "2008-05-26T12:59:34.820-00:00",
  :url "chybka-se-vloudila",
  :id 276,
  :description
  "V kódu, který jsem publikoval před nedávnem v článku Vyhledávání komponent v ASP.NET stránce, se vyskytla chyba. Za její odhalení děkuju Martinovi Davidovi (DaMa). Opravený kód jsem přepublikoval.",
  :category "ASP.NET 2.0",
  :tags []},
 :83-electrohouse-mix.aspx
 {:html
  "<ol> <li>Cirez D &#8211; Re-Match [Mouseville]</li> <li>Audio Bullys &#8211; Get Get Down (with Steve Angello) [EMI]</li> <li>Inner City &#8211; Good Life (Gogh's&#160;Only House of My Dubstrumental) [CD-R]</li> <li>Dam Sweet &#8211; Say It Again (Elektrodub) [Net's&#160;Work]</li> <li>Disconstruction vol. 1 &#8211; Re-Disco [Emotiva]</li> <li>The Bravery &#8211; Unconditional (Benny Benassi Dub) [Island]</li> <li>P. Diddy &#8211; Jack U (Hell Mix) [Gigolo]</li> <li>Who's&#160;who? &#8211; Lipstick [Size]</li> <li>Pryda &#8211; Aftermath (12\" mix) [Pryda]</li> <li>Goldfrapp &#8211; Number 1 (Steve Angello Remix) [Mute]</li> <li>Tocadisco &#8211; You're Not Good For Me (Tocadisco's&#160;Re&#173;cover Mix) [Superstar]</li> <li>Cirez D &#8211; Teaser [Joia]</li> </ol> <p>Ke stažení: <a href=\"/files/alessio_busta_-_electrohouse.wma\">Alessio Busta &#8211; Electrohouse</a> (WMA 96&#160;kbps; 43,9&#160;MiB)</p> <!-- generated by Texy! -->",
  :keywords "alessio busta electro house",
  :edited #inst "2005-12-13T19:04:56.630-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Electrohouse Mix",
  :published #inst "2005-11-25T08:35:48.620-00:00",
  :url "electrohouse-mix",
  :id 83,
  :description "Debutový mix deejaye Alessia Busty.",
  :category "Muzika",
  :tags []},
 :227-magenta-neni-ruzova.aspx
 {:html
  "<p><a href=\"http://en.wikipedia.org/wiki/Magenta\">Magenta</a> je jedna z&#160;<span title=\"nebo mích, jako že se míchá\">mých</span> oblíbených barev. V&#160;pondělí se začali objevovat první nadšenci nasazující tuto barvu na své weby v&#160;domnění, že podporují růžovou pro říjen. Není tomu tak.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2007-10-04T14:51:18.210-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Magenta není růžová",
  :published #inst "2007-10-04T14:46:03.213-00:00",
  :url "magenta-neni-ruzova",
  :id 227,
  :description
  "Vím, že chcete podpořit boj proti rakovině prsu, ale vážení, podpořte ho růžovou, né magentou!",
  :category "Webdesign",
  :tags []},
 :383-alessio-busta-destination-saturn.aspx
 {:html
  "<p>Dneska se podíváme zpátky do minulosti na to, jak se cestovalo na Saturn ze začátku roku 2007. Pěkně progresivním způsobem!</p> <div class=\"haudio\"> <ol> <li class=\"item\"><span class=\"contributor\">City Sneakerz</span> – <span class=\"title\">You Don’t Own Me</span> (Smax &amp; Gold Instrumental Mix)</li> <li class=\"item\"><span class=\"contributor\">Sebastien Leger</span> – <span class=\"title\">Saturn</span></li> <li class=\"item\"><span class=\"contributor\">Pryda</span> – <span class=\"title\">Rymd</span></li> <li class=\"item\"><span class=\"contributor\">Henrik B</span> – <span class=\"title\">Soul Haven</span></li> <li class=\"item\"><span class=\"contributor\">Roman Salzger</span> – <span class=\"title\">Turn Up The Sun</span> (Classic Mix)</li> <li class=\"item\"><span class=\"contributor\">Richard Grey</span> – <span class=\"title\">Life Goes On</span> (Richard Grey Dubby Mix)</li> <li class=\"item\"><span class=\"contributor\">Stonebridge</span> – <span class=\"title\">S.O.S</span> (Playmaker Deep Dub)</li> <li class=\"item\"><span class=\"contributor\">Cirez D</span> – <span class=\"title\">Knockout</span> (John Dahlbäck at Huggeland 2006 Remix)</li> <li class=\"item\"><span class=\"contributor\">Depeche Mode</span> – <span class=\"title\">Lilian</span> (Robag Wruhme Krüzy Fückking Düb)</li> <li class=\"item\"><span class=\"contributor\">Michel de Hey</span> vs. <span class=\"contributor\">Grooveyard</span> – <span class=\"title\">Compound</span> (Shinedoe Remix)</li> <li class=\"item\"><span class=\"contributor\">Fairmont</span> – <span class=\"title\">Gazebo</span> (Sebastien Leger Remix)</li> <li class=\"item\"><span class=\"contributor\">DJ Andrew</span> – <span class=\"title\">Crackhead</span></li> <li class=\"item\"><span class=\"contributor\">Alex Gaudino</span> – <span class=\"title\">Destination Calabria</span> (Laidback Luke Remix)</li> </ol> <p>Ke stažení <span class=\"category\">dj set</span> <a rel=\"enclosure\" href=\"http://www.rarousmusic.com/mp3/alessio_busta_-_destination_saturn-rm.mp3\"><span class=\"contributor\">Alessio Busta</span> – <span class=\"title\">Destination Saturn</span></a> (MP3 128 kbps; 67,8 MiB)</p> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-03-15T11:02:49.987-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Alessio Busta - Destination Saturn",
  :published #inst "2010-03-15T10:58:19.100-00:00",
  :url "alessio-busta-destination-saturn",
  :id 383,
  :description
  "Dneska se podíváme zpátky do minulosti na to, jak se cestovalo na Saturn ze začátku roku 2007. Pěkně progresivním způsobem!",
  :category "Muzika",
  :tags []},
 :238-cekani-na-asp-net-extensions.aspx
 {:html
  "<p>Dneska snad maj vyjít ASP.NET Extensions CTP, které mimo jiné obsahují i ASP.NET MVC framework. Těšim se jak malý dítě, ale protože tu ještě není, koukal jsem na přednášku o frameworku Nette. Taky pěkné.</p> <p><a href=\"http://www.avc-cvut.cz/avc.php?id=5258\">Pěknou přednáškou</a> v podání Davida Grudla (<a href=\"http://dgx.cz/\">-dgx-</a>), jsem se jenom namlsal (no ten <del>pitel</del><ins>pytel</ins> chipsů k tomu taky prasknul). No zatim jsem prolítnul ve čtečce příspěvky, který o ASP.NET MVC vyšly a udělal z nich <a href=\"http://www.google.com/reader/shared/user/02522501341949674670/label/aspnet-mvc\">stránku</a>. Vybral jsem jen hodnotné, které jsou o něčem. :) No a když jsem udělal ten souhrn o <a href=\"http://www.google.com/reader/shared/user/02522501341949674670/label/aspnet-mvc\">ASP.NET MVC</a>, tak proč bych ho neudělal i pro <a href=\"http://www.google.com/reader/shared/user/02522501341949674670/label/nette\">Nette</a>? Nevim… <a href=\"http://www.google.com/reader/shared/user/02522501341949674670/label/nette\">Tady</a> je.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:09:32.193-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Čekání na ASP.NET Extensions",
  :published #inst "2007-12-07T20:12:33.900-00:00",
  :url "cekani-na-asp-net-extensions",
  :id 238,
  :description
  "Dneska snad maj vyjít ASP.NET Extensions CTP, které mimo jiné obsahují i ASP.NET MVC framework. Těšim se jak malý dítě, ale protože tu ještě není, koukal jsem na přednášku o frameworku Nette. Taky pěkné.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "mvc" "nette" "nforms"]},
 :426-par-slintu-o-windows-phone-7.aspx
 {:html
  "<p>Pořád vídám nářky na WP7, jak si ho někdo nemůže customizovat, vrtat se v tom, neběží mu 5 aplikací najednou, 20 widgetů na home screenu. Jak je nudný a uzavřený.</p> <p>Úplně celý já, proto mi vyhovuje. Nechci se v tom vrtat, nechci, aby telefon neustále vyžadoval/strhával mou pozornost. Nepotřebuju hromadu zbytečných aplikací. Ty důležité tam jsou a stejně je používám jen občas, když je potřebuju.</p> <p>Pro mně je důležitý, aby to dobře hrálo MP3, podporovalo playlisty a SmartDJ taky není k zahození. Posílat fotky přímo na FB a vidět fotky ostatních přímo na dlaždicích je fajn. Stejně tak změny statusů. <em>Put people in front</em> je způsob jakým mám customizovanej telefon. A to mi žádná jiná platforma nejen nenabízí, ale ani neumožňuje.</p> <p>To, že moje Omnie 7 nepůjde upgradovat na WP8. No a co? Ten telefon je dva roky starej, 8GB storage mi už stejně nestačí, takže budu upgradovat tak jako tak (ale ne kvůli SW). Když jsem si ji kupoval, netušil, jsem, že už nevytáhnu foťák, tak se něco lepšího bude hodit…</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-08-30T10:26:13.720-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pár slintů o Windows Phone 7",
  :published #inst "2012-08-30T10:26:13.693-00:00",
  :url "par-slintu-o-windows-phone-7",
  :id 426,
  :description
  "Pořád vídám nářky na WP7, jak si ho někdo nemůže customizovat, vrtat se v tom, neběží mu 5 aplikací najednou, 20 widgetů na home screenu. Jak je nudný a uzavřený. ",
  :category "Jen tak",
  :tags ["wp7"]},
 :374-osetreni-chybovych-stavu-v-asp-net-mvc.aspx
 {:html
  "<p>Každá aplikace se může dostat do stavu, kdy není vše, jak má být, a nastane chyba. Tyto stavy bychom neměli ignorovat, ale pečlivě ošetřovat. Jak na to se podíváme v tomto spotu.</p> <p>ASP.NET obsahuje poměrně sofistikovaný mechanismus na zpracování chyb. Ukazuje celkem podrobné chybové výpisy, které jsou nám vývojářům velice užitečné. Nicméně nejsou užitečné naším uživatelům a ještě mohou leccos prozradit našim útočníkům. Proto by v produkci měly být tyto hlášky zakázané.</p> <h3 id=\"toc-konfigurace\">Konfigurace</h3> <p>Každá aplikace v produkci by měla mít nastavené pěkné chybové stránky, bez podrobností, co se stalo, ale s informacemi, kam dál uživatel může pokračovat. Popřípadě mu pomoci nalézt to, co hledal. K tomu slouží konfigurační element <code>customErrors</code>, kde můžeme nastavit režim zobrazování a jednotlivé stránky, které se mají zobrazit na určitý chybový kód.</p> <p>Bohužel, systém je navržen zcela kokotsky a pokud chcete v konfiguraci nastavit pro 404 a 500 jiné stránky, jsou vraceny s kódem 200. Proto využijeme jen následující konfiguraci. Zbylá je celkem k ničemu.</p> <pre class=\"xml\"><code>&lt;customErrors mode=\"RemoteOnly\" /&gt;</code></pre> <p>Tím docílíme toho, že všechny requesty, které nejsou z tohoto serveru obdrží pěkné chybové stránky. Dotaz z daného serveru dostane podrobný chybový výpis, což se může hodit.</p> <h3 id=\"toc-zpracovani-chyb\">Zpracování chyb</h3> <p>ASP.NET MVC má v sobě základní mechanismus pro ošetřování chyb. Je jím ActionFilter <code>HandleError</code>, který renderuje pohled <code>Error.aspx</code>, pokud dojde k probublání neošetřené výjimky až do akce řadiče.</p> <pre class=\"csharp\"><code>[HandleError] public class MyController : Controller { }</code></pre> <p>Procento chyb, takto zachytitelných, jistě není malé, ovšem není 100%. Nemusíme chodit pro příklad daleko a stačí udělat chybku v šabloně pohledu. Hned tu máme nepěknou chybovou stránku.</p> <p>Takovouto chybu odchytíme až v Global.asax:</p> <pre class=\"csharp\"><code>protected void Application_Error() { #if DEBUG return; #endif Exception exception = Server.GetLastError(); Response.Clear(); RouteData routeData = new RouteData(); routeData.Values.Add(\"controller\", \"Error\"); if (IsPageNotFoundException(exception as HttpException)) { routeData.Values.Add(\"action\", \"NotFound\"); } else { routeData.Values.Add(\"action\", \"Error\"); } Server.ClearError(); IController errorController = new ErrorController(); errorController.Execute(new RequestContext(new HttpContextWrapper(Context), routeData)); }</code></pre> <p>Pokud máme aplikaci v debug modu (typicky u vývojáře) je vhodné nechat chyby probublat až k němu. Pokud jsme ale v releasu musíme chybu zpracovat. Na výpis chybové stránky nám poslouží <code>ErrorController</code>, který má dvě akce: <code>NotFound</code> pro 404 a <code>Error</code> pro 500.</p> <pre class=\"csharp\"><code>public class ErrorController : Controller { [StatusCode(HttpStatusCode.NotFound)] public ActionResult NotFound() { return View(); } [StatusCode(HttpStatusCode.InternalServerError)] public ActionResult Error() { return View(); } }</code></pre> <p>Díky způsobu hledání šablon v ASPX View enginu, můžeme na <code>Error</code> využít stejnou <code>Error.aspx</code> ve složce <code>Shared</code> jako pro chyby zachycené už na řadiči.</p> <h3 id=\"toc-neplatna-referencni-identita\">Neplatná referenční identita</h3> <p>Teď se ještě dostaneme k tomu, proč tu máme zpracování <code>HttpException</code> s kódem 404. Kde se vezme?</p> <p>Typicky, když máme nějakou detail page, snažíme se pomocí nějakého jedinečného identifikátoru natáhnout zobrazovanou entitu. Pokud žádnou nenajdeme je vhodné vyhodit výjimku a protože jsme na úrovni webové aplikace, měla by to být <code>HttpException</code> s kódem <code>404</code>, která říká, že hledaná stránka nebyla nalezena.</p> <p>Její zpracování už máme výše vyřešeno. A to je snad pro dnešek vše. :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-12-22T18:22:11.790-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Ošetření chybových stavů v ASP.NET MVC",
  :published #inst "2009-12-22T12:50:33.123-00:00",
  :url "osetreni-chybovych-stavu-v-asp-net-mvc",
  :id 374,
  :description
  "Každá aplikace se může dostat do stavu, kdy není vše, jak má být, a nastane chyba. Tyto stavy bychom neměli ignorovat, ale pečlivě ošetřovat. Jak na to se podíváme v tomto spotu.",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "mvc" "404"]},
 :134-opet-novinky-v-asp-net.aspx
 {:html
  "<p>ASP.NET team dnes uvolnil kompletní zdrojové kódy všech Providerů. které jsou ASP.NET 2.0&#160;k&#160;nalezení. Autoři věří, že to pomůže k&#160;vytváření vlastních providerů. Licence je k&#160;použití jak v&#160;komerčních, tak nekomerčních projektech. <a href=\"http://download.microsoft.com/download/a/b/3/ab3c284b-dc9a-473d-b7e3-33bacfcc8e98/ProviderToolkitSamples.msi\">K&#160;dostání u&#160;vašeho prodejce.</a></p> <p>Nedávno psal <a href=\"http://weblogs.asp.net/scottgu/\">ScottGu</a>, aby vývojáři nenasazovali na produkční servery aplikace v&#160;<em>Debug modu</em>. Důvodů je hned několik. Aplikace je pomaleší (není optimalizovaný kód), žere víc paměti a v&#160;neposlední řadě se necachují zdroje předávané přes WebResource.axd. Toho si všiml i&#160;můj kolega Dan Steigerwald, když testoval Atlas. Takže pozor! Raději si zkontrolujte, zda máte ve vašem produkčním <strong>web.config</strong> souboru uvedeno <code>&lt;compilation debug=\"false\" /&gt;</code> a nezapomeňte vypnout i&#160;traceování, to rovněž ubírá na výkonu.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-14T07:08:43.563-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Opět novinky v ASP.NET",
  :published #inst "2006-04-14T07:07:56.037-00:00",
  :url "opet-novinky-v-asp-net",
  :id 134,
  :description "Pár novinek z ASP.NET.",
  :category "ASP.NET 2.0",
  :tags []},
 :404-prepinani-featur-a-vetveni-abstrakci.aspx
 {:html
  "<p>Správa několika verzí aplikace vždy přináší komplexitu, která zvyšuje náklady na vývoj i na údržbu. Běžnou praktikou je, že se zdrojové kódy v repositoři větví (branching) v určitých Milestonech, které se potom stabilizují a po releasu udržují, zatím co v hlavní větvi (trunk, main) se pokračuje ve vývoji. S příchodem <acronym title=\"Distributed Version Control System\">DVCS</acronym> se rozmohlo lokální větvení po featurách, čímž se různorodost verzí aplikace ještě víc rozrostla.</p> <p>Naproti tomu tu máme agilní praktiky jako je Continuous Integration a Continuous Delivery, které nám říkají, že všichni commitují často do hlavní větve, čímž se předchází integračním problémům. Continuous Delivery navíc říká, že „aplikace má pouze <strong>jedinou verzi</strong> – tu <strong>aktuální</strong>.“ Jak to ale udělat, když rozsah některých featur přesahuje rámec sprintu? Ano, můžeme udělat feature branch, ale tím porušujeme pravidlo, že všechno je v hlavní větvi! Poslední verze TeamCity sice podporuje workflow s personal buildy vůči feature branchi, ale to je integrační smell.</p> <h3 id=\"toc-branch-by-abstraction\">Branch by abstraction</h3> <p>Existuje <a href=\"http://continuousdelivery.com/2011/05/make-large-scale-changes-incrementally-with-branch-by-abstraction/\">lepší řešení!</a> Proč nevyužít technik <acronym title=\"Object Oriented Programming\">OOP</acronym> jako je polymorfismus a <acronym title=\"Inversion of Control\">IoC</acronym>? Je to krapet složitější, než branchování v repositoři, ale zároveň nás to donutí zamyslet se nad architekturou aplikace a ve výsledku bude IMO lepší. V aplikaci můžeme mít nekolik implementací požadované funkcionality, které jsou následně injektovány na základě konfigurace. Některé mohou být stabilní a používat se v produkčním prostředí, zatímco u vývojáře poběží aktuální edge implementace, na které se pracuje.</p> <p>Takže implementaci kódu máme vyřešenou, ale jak na to v uživatelském rozhraní?</p> <h3 id=\"toc-feature-toggles\">Feature toggles</h3> <p>Pokud naše UI není přímo generováno aplikačním kódem, kde by se dala využít předchozí technika, musíme sáhnout po nečem trochu jiném – <a href=\"http://martinfowler.com/bliki/FeatureToggle.html\">přepínačích featur</a>. Začneme tím, že každá feature má svůj jedinečný identifikátor. Každá featura je zařazena do uživatelského rozhraní s tímto identifikátorem a na základě konfigurace je opět rozhodnuto, zda dojde k jejímu zobrazení uživateli nebo ne. Takto se dají nejen snadno odříznout nestabilní featury z produkčního prostředí, ale dá se to využít i k takovým věcem, jako je A/B testování, čí postupné spouštění featury do produkce, jak to znáte z oblíbených služeb jako je Facebook nebo Twitter. ;)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-06-11T09:05:41.093-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Přepínání featur a větvení abstrakcí",
  :published #inst "2011-06-11T09:01:43.860-00:00",
  :url "prepinani-featur-a-vetveni-abstrakci",
  :id 404,
  :description
  "Jistě mi dáte za pravdu, že správa verzí rozsáhlého systému není žádná slast a je poměrně nákladná. Dnes si ukážeme dvě techniky, které by nám měli umožnit snížit náklady a zvýšit flexibilitu systému.",
  :category "Moje práce",
  :tags ["ci" "agile" "oop" "ioc"]},
 :440-funkcionalni-pristup-ke-kolekcim.aspx
 {:html
  "<p>Když vidíte začátečníka pracovat s kolekcemi, často se setkáte s tím, že možností první volby je iterace pomocí cyklů a změna stavu. Díky tomu máme spoustu rozbitých aplikací. Ruku na srdce, kdo z vás nemá ve své codebase něco podobného:</p> <pre class=\"csharp\"><code>var list = new List(); foreach (var item in someCollection) { // ... some work list.Add(item); } return list;</code></pre> <p>Nádhera! :)</p> <p>Zapomeňte na cykly a mutace, kdo se v tom má vyznat a hledat chyby? Buďte deklarativní.</p> <h3 id=\"toc-disclaimer\">Disclaimer</h3> <p>Následující řádky používají techniku obvyklou ve funkcionálních jazycích – rekurzi. Je dost možné, že váš jazyk nemá podporu na úrovni kompilátoru pro rekurzi (tail recursion se optimalizuje tak, že se přepíše na cyklus) a může docházet k tomu, že vám bude přetékat zásobník. V první řadě vždy musíte vědět, co děláte. Ale to platí obecně o všem v programování. C# optimalizovat rekurzi neumí, přesto můžete používat funkcionální koncepty, např. LINQ, který je implementovaný pomocí iterátorů. Následující ukázky budou v F#, který rekurzi optimalizovat umí.</p> <p>Všechny ukázky si můžete vyzkoušet přímo ve vašem prohlížeči na webu <a href=\"http://www.tryfsharp.org/create/rarous/HigherOrderListOps.fsx\">Try F#</a>. Jednotlivé ukázky stačí označit a stisknout <code>Ctrl+Enter</code>.</p> <p>Článek vychází z <a href=\"http://matt.might.net/articles/higher-order-list-operations/\">Higher-order list operations</a>.</p> <h3 id=\"toc-rekurze\">Rekurze</h3> <p>Když zjistíte, že cykly ne, většinou přejdete na rekurzi. Častou chybou však je, že píšete příliš mnoho kódu. Proč? Protože vám třeba chybí znalosti o knihovnách nebo konstruktech jazyka, které nám umožní psát kódu méně. Pojďme si ukázat, jak psát kódu méně a jak některé knihovní funkce vlastně fungují.</p> <h3 id=\"toc-pricitani-jedne\">Přičítání jedné</h3> <p>Máme za úkol napsat funkci, která projde seznam čísel a přičte ke každému prvku jedničku. V implementaci použijeme datovou strukturu spojový seznam (v C# spíše než <code>LinkedList&lt;T&gt;</code> použijeme <code>ImmutableList&lt;T&gt;</code> z NuGet balíčku <code>Microsoft.Bcl.Immutable</code>) a využijeme rekurze:</p> <pre class=\"csharp\"><code>let rec add1 lst = if List.isEmpty lst then [] else (List.head lst) + 1 :: add1 (List.tail lst) add1 [1; 2; 3]</code></pre> <p>Že jde o rekurzivní funkci nám říká klíčové slovo <code>rec</code>. Funguje to tak, že vezmu první prvek seznamu a přičtu k němu jedničku, ten pak připojím k seznamu (operátor <code>::</code>), který se spočítá obdobně ze zbytku vstupního seznamu. Pokud je seznam prázdný (nebo jsme došli na konec – každý spojový seznam končí prázdným polem), vrátíme prázdný seznam. Tím se nám rekurze ukončí.</p> <h3 id=\"toc-odcitani-jedne\">Odčítání jedné</h3> <p>Obdobně naimplementujeme i odčítání:</p> <pre class=\"csharp\"><code>let rec sub1 lst = if List.isEmpty lst then [] else (List.head lst) - 1 :: sub1 (List.tail lst) sub1 [1; 2; 3]</code></pre> <p>Ok, máme funkcionální datovou strukturu, máme rekurzi, je to už teda funkcionální kód?</p> <p>Tak určitě ne.</p> <h3 id=\"toc-knihovni-funkce\">Knihovní funkce</h3> <p>Další častou chybou je používání podmínek a ukecaného kódu vůbec. Navíc když se na obě funkce podíváme blíže, zjistíme, že to jsou v podstatě duplicity a jediné, co je odlišuje, je operace sčítání nebo odčítání. Když se oprostíme od implementačních detailů, zjistíme, že neděláme nic jiného než mapování. A tak jde kód přepsat do jednodušší podoby:</p> <pre class=\"csharp\"><code>let inc x = x + 1 let dec x = x - 1 List.map inc [1; 2; 3] List.map dec [1; 2; 3]</code></pre> <p>Nejprve jsme si definovali pomocné funkce pro inkrementaci a dekrementaci prvku a pak použili knihovní funkci <code>List.map</code>, která projde všechny prvky seznamu a na každý aplikuje předanou funkci (v C# je obdobou <code>Enumerable.Select</code>). Důležitým detailem, který nemusí být na první pohled zřejmý, je, že nedojde k úpravě předaného seznamu, ale k vytvoření seznamu nového.</p> <h3 id=\"toc-high-order-function\">High order function</h3> <p>Jak bychom takovou funkci <code>map</code> naimplementovali? Zkusíme to pomocí jednoduché generalizace našich funkcí <code>add1</code> a <code>sub1</code>. Už jsme si říkali, že se liší jen v operaci přičtení/odečtení jedničky. Takže z našich funkcí vytvoříme funkci vyššího řádu:</p> <pre class=\"csharp\"><code>let rec map f lst = if List.isEmpty lst then [] else f(List.head lst)::map f (List.tail lst) map inc [1 .. 3]</code></pre> <p>Funkce vyššího řádu se vyznačují tím, že jako parametr přijímají jinou funkci, která definuje, co se uvnitř bude dít (obdoba vzoru strategie z objektového světa). Funkce je takřka stejná jako naše konkrétní ukázky. Jediný rozdíl je, že nyní aplikujeme předanou funkci na první prvek seznamu a pak už je to stejný. Teď tedy máme funkci vyššího řádu, ale pořád je toho kódu zbytečně moc.</p> <h3 id=\"toc-pattern-matching\">Pattern matching</h3> <p>Další skvělou vlastností mnoha funkcionálních jazyků je <em>pattern matching</em> – volba výsledku na základě strukturální podobnosti. Naši <code>map</code> funkci můžeme hezky zjednodušit na:</p> <pre class=\"csharp\"><code>let rec mapMatch f lst = match lst with | [] -&gt; [] | head::tail -&gt; f head::mapMatch f tail mapMatch dec [1 .. 3]</code></pre> <p>Kód je de facto stejný jako v předchozím případě, jen nám zmizelo volání knihovních funkcí <code>List.isEmpty</code>, <code>List.head</code> a <code>List.tail</code> a místo nich máme vzory. Prázdný seznam se mapuje na prázdný seznam, seznam s nějakým prvkem se dle vzoru rozdělí na <code>head</code> a <code>tail</code>. Na <code>head</code> se aplikuje funkce a nový <code>tail</code> se vypočítá rekurzí.</p> <h3 id=\"toc-list-comprehension\">List comprehension</h3> <p>Možná jste si všimli, že jsem v ukázkách najednou přestal psát <code>[1; 2; 3;]</code> pro vytvoření seznamu tří čísel, ale přešel k zápisu <code>[1 .. 3]</code>. Funkcionální jazyky mívají pro kolekce větší pochopení a tak nezvládají jen tupé vyjmenování prvků, ale rozumí i složitějším konstrukcím pro vytvoření seznamu (platí i pro pole a sekvence). Zde byl použit operátor rozsahu <code>..</code>. Ve skutečnosti můžeme jít mnohem dál a aplikovat třeba rovnou i mapování:</p> <pre class=\"csharp\"><code>[for x in 1 .. 3 -&gt; x + 1]</code></pre> <p>Výsledek je stejný jako v předchozích příkladech. Kód je minimální. Myšlenka zřejmá.</p> <h3 id=\"toc-filtrovani-kolekci\">Filtrování kolekcí</h3> <p>Další možností, kde můžeme využít funkce vyššího řádu a pokusíme se zbavit podmínek, je filtrování kolekcí. Funkce <code>filter</code> vrací prvky ze vstupního pole, které splňují předaný predikát:</p> <pre class=\"csharp\"><code>let even x = x % 2 = 0 let rec filter p lst = if List.isEmpty lst then [] elif p (List.head lst) then List.head lst::filter p (List.tail lst) else filter p (List.tail lst) filter even [1 .. 10]</code></pre> <p>Nejprve jsme si definovali predikát pro sudá čísla, který budeme používat i v dalších ukázkách, a pak funkci <code>filter</code> implementovanou pomocí podmínek a knihovních funkcí (F# má samozřejmě funkci <code>List.filter</code> již implementovanou, v C# ji hledejte pod názvem <code>Enumerable.Where</code>). Filtr je o něco složitější než mapování, protože se musíme rozhodnout, které prvky chceme a které ne. Ty prvky, které splňují predikát připojíme před zbytek počítaného seznamu. Pokud prvek predikát nesplňuje, pokračuje dál ve výpočtu seznamu. U prázdného seznamu ukončíme rekurzi.</p> <p>S využitím pattern matchingu kód vypadá následovně:</p> <pre class=\"csharp\"><code>let rec filterMatch p lst = match lst with | [] -&gt; [] | hd::tl when p hd -&gt; hd::filterMatch p tl | hd::tl -&gt; filterMatch p tl filterMatch even [1 .. 10]</code></pre> <p>Pěkné, že? A ještě ukázka s <em>list comprehension</em>:</p> <pre class=\"csharp\"><code>[for x in 1 .. 10 do if even x then yield x]</code></pre> <p>Všimněte si, že zde se nám šipka <code>-&gt;</code> z ukázky pro mapování změnila na <code>do ... yield</code>. Schválně si to zkuste, že jde o stejný kód. Tady už bohužel kompaktní zápis nefunguje, protože tam potřebujeme vložit filtrovací podmínku.</p> <h3 id=\"toc-agregace-kolekci\">Agregace kolekcí</h3> <p>Další častou operací, kterou se seznamy můžeme dělat, je jejich agregace. Ve funkcionálních jazycích se často můžeme potkat s funkcí <code>fold</code> (v C# <code>Enumerable.Aggregate</code>):</p> <pre class=\"csharp\"><code>let rec foldr cons nil lst = match lst with | [] -&gt; nil | hd::tl -&gt; cons hd (foldr cons nil tl) foldr (+) 0 [1 .. 4]</code></pre> <p>Parametr <code>cons</code> je konstrukční funkce výsledku, <code>nil</code> reprezentuje prázdný prvek.</p> <p>A ještě <em>tail recursive</em> varianta pro efektivnější zpracování kompilátorem:</p> <pre class=\"csharp\"><code>let rec foldl cons nil lst = match lst with | [] -&gt; nil | hd::tl -&gt; foldl cons (cons hd nil) tl foldl (+) 0 [1 .. 4]</code></pre> <h3 id=\"toc-zipovani\">Zipování</h3> <p>Další velice důležitou funkcí je <code>zip</code>, která vezme dva seznamy a vytvoří z nich jeden tvořený dvojicemi, podobně jako zip u vaší bundy.</p> <pre class=\"csharp\"><code>let rec zip lst1 lst2 = match lst1, lst2 with | [], [] -&gt; [] | hd1::tl1, hd2::tl2 -&gt; (hd1, hd2)::zip tl1 tl2 zip [1 .. 3] ['a' .. 'c']</code></pre> <p>Žádný velký objev. :) Novinkou je matchování na více prvků a zavedení n-tic (tuples). Zip je velice šikovná funkce. Schválně jestli vás napadne nějaké rozumné užití. Nebojte se o něj podělit třeba v komentářích.</p> <p>Také si všimněte, že tu mícháme jabka (<code>int</code>) s hruškama (<code>char</code>) a vše funguje. Není to tím, že by F# byl slabě typový, ale tím, že naše funkce jsou plně generické! Schválně si zkuste v předchozích ukázkách změnit vstupní data.</p> <h3 id=\"toc-rozepnuti\">Rozepnutí</h3> <p>Opakem zipování je <code>unzip</code>, která nám ze seznamu dvojic udělá dva seznamy prvků. A protože nám tato funkce vrací dva seznamy, začíná to být trochu tricky:</p> <pre class=\"csharp\"><code>let rec unzip lst = match lst with | [] -&gt; ([], []) | (x, y)::tl -&gt; let (xs, ys) = unzip tl (x::xs, y::ys) unzip [(1, 'a'); (2, 'b'); (3, 'c')]</code></pre> <p>Taková nepěkná věc je, že si musíme začít pamatovat výsledek rekurzivního volání, se kterým dále pracujeme. Všimněte si také, že F# umí rozpadnout n-tici do samostatných chlívečků. Nebudu říkat proměnných, protože <code>let</code> vazba je neměnná.</p> <h3 id=\"toc-continuation\">Continuation</h3> <p>Co bychom to byly za funkcionáře, kdybychom nechali takové imperativní přiřazování v naší jinak čisté implementaci? Jak se jen zbavit přiřazení? Co třeba za pomocí continuation? Nic vám to neříká? Co třeba callback? Ten už jistě znáte. :)</p> <pre class=\"csharp\"><code>let rec unzipk k lst = match lst with | [] -&gt; k [] [] | (x, y)::tl -&gt; unzipk (fun xs ys -&gt; k (x::xs) (y::ys)) tl unzipk (fun xs ys -&gt; xs) [(1, 'a'); (2, 'b'); (3, 'c')]</code></pre> <p>V této formě musí uživatel funkce přidat callback, ale na druhou stranu si může vybírat, co vlastně chce za výsledek. Funkcionální kompozice je mocná.</p> <h3 id=\"toc-partitioning\">Partitioning</h3> <p>Partitioning je něco jako filtrování, jen nám opět vrací dva seznamy. Jeden s pozitivními výsledky a druhý s negativními:</p> <pre class=\"csharp\"><code>let rec partition p lst = match lst with | [] -&gt; ([], []) | hd::tl -&gt; let (ins, outs) = partition p tl if p hd then (hd::ins, outs) else (ins, hd::outs) partition even [1 .. 10]</code></pre> <p>Implementace je dost podobná unzipování, jen teď máme na vstupu pouze jeden prvek a rozhodujeme se, do kterého seznamu ho zařadíme. A opět můžeme implementaci udělat pomocí continuation:</p> <pre class=\"csharp\"><code>let rec partitionk p k lst = match lst with | [] -&gt; (k [] []) | hd::tl -&gt; partitionk p (fun ins outs -&gt; if p hd then k (hd::ins) outs else k ins (hd::outs)) tl partitionk even (fun evens odds -&gt; evens) [1 .. 10]</code></pre> <h3 id=\"toc-zaver\">Závěr</h3> <p>Ukázali jsme si, jak si ušetřit spoustu práce pomocí funkcionálního přístupu ke kolekcím. Implementace jednotlivých funkcí je jen ukázkou, jak snadno se dají takové věci implementovat a rychlým průletem, co všechno F# umí. Sice jsme se jen sklouzli po povrchu, ale jako základ je to celkem slušný, ne? :)</p> <p>Zkuste si pohrát <a href=\"http://www.tryfsharp.org/create/rarous/HigherOrderListOps.fsx\">se spustitelnými ukázkami</a>. Zkuste mapování a filtrování implementovat pomocí continuation. Zkuste si třeba <code>filter</code> implementovat pomocí <code>partition</code>. Většina kombinátorů lze totiž implementovat pomocí pouhých tří základních, ale k tomu zase třeba jindy.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-03-24T17:11:29.583-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Funkcionální přístup ke kolekcím",
  :published #inst "2013-03-07T07:34:49.233-00:00",
  :url "funkcionalni-pristup-ke-kolekcim",
  :id 440,
  :description
  "Dneska zabrousíme do vod funkcionálních a ukážeme si implementaci některých důležitých funkcí vyššího řádu.",
  :category "Moje práce",
  :tags ["fsharp"]},
 :325-whats-up.aspx
 {:html
  "<p>Možná si říkáte, tady to umřelo, nic se neděje. Možná máte pravdu. Je to tím, že poslední dobou toho mám docela dost. Krom příprav na sobotní <a href=\"http://webexpo.cz/prednaska/asp-net/\">přednášku</a>, jsem se musel věnovat shánění a následnému stěhování a nyní už i zařizování, což mě docela vytěžuje. :) Navíc v novém bytě ještě nemám zaveden internet, tak jsem téměř mužem v off-linu.</p> <p>K příležitosti <a href=\"http://www.webexpo.cz/\">WebExpa</a> jsem si vytvořil <a href=\"http://www.google.com/calendar/embed?src=thtd3v3ci017a69t1ba0p5p8vc&#64;group.calendar.google.com&amp;ctz=Europe/Prague\">kalendář</a>, kde bych se chtěl nejspíš pohybovat, uvidíme, jak to nakonec dopadne.</p> <p>No a když už se to tak blíží, tak Microsoft nezapoměl vydat <a href=\"http://www.microsoft.com/downloads/details.aspx?familyid=a24d1e00-cd35-4f66-baa0-2362bdde0766&amp;displaylang=en&amp;tm\">beta verzi ASP.NET MVC</a> o němž chceme s Borkem povídat. Neni to jediný release před konferencí, například vyšel i <a href=\"http://www.microsoft.com/silverlight\">Silverlight 2</a> o němž bude po nás povídat Štěpán Bechynský.</p> <p>Vzhledem k tomu, že změny mezi Preview 5 a Beta verzí nejsou nikterak veliké (stačí pár drobných úprav, aby vše opět běželo jak má, budeme na přednášce tedy ukazovat už Betu. Já už jsem převedl moji ukázkovou aplikaci. Ta bude aplikace našeho tuaregského intranetu, takže žádná ukázková spatlanina, ale aplikace z reálného života. Dobré je, že na ní můžu ukázat jak ASP.NET MVC, tak ADO.NET Data Service, které v projektu také používám.</p> <p>Tak pokud budete na WebExpu, tak mě nezapomeňte přijít pozdravit ;)</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li>[clanek(295)]</li> <li><a href=\"http://haacked.com/archive/2008/10/16/aspnetmvc-beta-release.aspx\">Phil Haack: ASP.NET MVC Beta Released!</a></li> <li><a href=\"http://weblogs.asp.net/scottgu/archive/2008/10/16/asp-net-mvc-beta-released.aspx\">Scott Guthrie: ASP.NET MVC Beta Released</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-10-17T09:16:21.550-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "What's Up?",
  :published #inst "2008-10-16T15:38:37.717-00:00",
  :url "whats-up",
  :id 325,
  :description
  "Možná si říkáte, tady to umřelo, nic se neděje. Možná máte pravdu.",
  :category "Webdesign",
  :tags ["webexpo" "aspnet" "mvc" "dataservices" "silverlight"]},
 :217-syntax-sugar-ala-if-exists.aspx
 {:html
  "<p>Kolega Bouda se na svém <a href=\"http://blog.vyvojar.cz/pbouda/archive/2007/07/25/ifx-bylo-li-by-libo-cuk-ek.aspx\">vývojářském blogu</a> zamýšlí nad tím, zda by nebylo dobré rozšířit syntaxi jazyka C# o&#160;příkaz <code>ifx</code> (<strong>if</strong> e<strong>x</strong>ists), který by měl zpřehlednit/zjed&#173;nodušit zápis <code>if (this.someRef != null) ...</code> na <code>ifx (this.someRef) ...</code>, podobně jako to umí ECMAScript.</p> <p>Můj názor je takový, že v&#160;C# by se takovéto konstrukce zavádět neměly. Pokud má někdo averzi k&#160;operátorům <code>!</code> a <code>!=</code>, ostatně jako já, dá se to obejít jiným syntaktickým cukrem. Ne na úrovni jazyka, ale na úrovni API.</p> <pre class=\"csharp\"><code>public static class Is { public static bool Null(object item) { return item == null; } public static bool NotNull(object item) { return item != null; } }</code></pre> <p>Zápis s&#160;použitím této minitřídy by pak vypadal <code>if (Is.NotNull(this.someRef)) ...</code>. Na jednu stranu je zápis čitelnější i&#160;pro necéčkaře, na druhou je o&#160;něco delší a je v&#160;něm více závorek&#8230;</p> <p>Nebo je tu možnost přejít na <a href=\"http://research.microsoft.com/specsharp/\">Spec#</a>, který podporuje non-nullable types.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2007-07-26T10:52:41.533-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Syntax sugar alá If Exists",
  :published #inst "2007-07-26T08:01:05.037-00:00",
  :url "syntax-sugar-ala-if-exists",
  :id 217,
  :description "Reakce na ifx - bylo-li by libo cukříček? ",
  :category "ASP.NET 2.0",
  :tags []},
 :354-zdroje-o-asp-net-mvc-pro-zacatecniky.aspx
 {:html
  "<p>Možná hledáte nějaký materiál, který vám pomůže začít s ASP.NET MVC. Pojďme se podívat, jaké máte možnosti.</p> <h3 id=\"toc-knihy\">Knihy</h3> <p>Asi nejčastějšími studijními materiály jsou knihy. Protože je ASP.NET MVC ještě hodně mladý framework, který ještě nebyl oficiálně vydán (produkční verze), žádná kniha ještě nevyšla. Ale minimálně na dvou se usilovně již několik měsíců pracuje. Ještě lepší zprávou je, že jejich rozpracované verze jsou už nyní k dispozici!</p> <p>Za první knihou <strong>ASP.NET MVC Framework Unleashed</strong> stojí Senior Program Manager ASP.NET MVC a autor jedné z nejprodávanějších knih o ASP.NET – <a href=\"http://stephenwalther.com/blog/\">Stephen Walther</a>. Jednotlivé kapitoly publikuje na svém blogu. Ty budou po jejím dokončení z blogu staženy. Publikovány byly zatím tyto kapitoly:</p> <ol> <li><a href=\"http://stephenwalther.com/blog/archive/2009/02/05/chapter-1-an-introduction-to-asp.net-mvc.aspx\">Chapter 1 – An Introduction to ASP.NET MVC</a></li> <li><a href=\"http://stephenwalther.com/blog/archive/2009/02/07/chapter-2-building-a-simple-asp.net-mvc-application.aspx\">Chapter 2 – Building a Simple ASP.NET MVC Application</a></li> <li><a href=\"http://stephenwalther.com/blog/archive/2009/02/13/chapter-3-understanding-controllers.aspx\">Chapter 3 – Understanding Controllers</a></li> <li><a href=\"http://stephenwalther.com/blog/archive/2009/02/21/chapter-4-understanding-views.aspx\">Chapter 4 – Understanding Views</a></li> <li><a href=\"http://stephenwalther.com/blog/archive/2009/02/27/chapter-5-understanding-models.aspx\">Chapter 5 – Understanding Models</a></li> <li><a href=\"http://stephenwalther.com/blog/archive/2009/03/03/chapter-6-understanding-html-helpers.aspx\">Chapter 6 – Understanding HTML Helpers</a></li> <li><a href=\"http://stephenwalther.com/blog/archive/2009/02/06/chapter-2-understanding-routing.aspx\">Chapter 9 – Understanding Routing</a></li> </ol> <p>Další knihou je <strong>Professional ASP.NET MVC 1.0</strong> z rukou pánů <a href=\"http://weblogs.asp.net/scottgu/\">Scott Guthrie</a>, <a href=\"http://haacked.com/\">Phil Haack</a>, <a href=\"http://www.hanselman.com/\">Scott Hanselman</a> a <a href=\"http://blog.wekeroad.com/\">Rob Conery</a>. Pokud nevíte, kdo jsou tito pánové zač, tak byste to měli rychle dohnat. ScottGu je autorem ASP.NET a dnes je vicepresidentem vývojářské divize Microsoftu. Phil je Senior Program Manager ASP.NET MVC, Routingu a integrace dynamických jazyků do ASP.NET. ScottHa byl první, kdo loni na MIXu ASP.NET MVC presentoval a Rob Conery je autorem ukázkové aplikace – a především poučných screencastů z její tvorby – StoreFront, která je postavená na MVC frameworku. Z knihy byla zatím uvolněna <a href=\"http://aspnetmvcbook.s3.amazonaws.com/aspnetmvc-nerdinner_v1.pdf\">první kapitola</a>, která je průvodcem krok za krokem jak začít stavět aplikaci s ASP.NET MVC.</p> <h3 id=\"toc-ukazkove-aplikace\">Ukázkové aplikace</h3> <p>Pokud se vám dobře učí čtením zdrojových kódů, není nic lepšího, než si <a href=\"http://aspnet.codeplex.com/SourceControl/changeset/view/21528\">zdrojové kódy ASP.NET MVC</a> stáhnout na CodePlexu. Z nich můžete pochytit ledasco, ale jak s tím dělat aplikace už moc ne. Proto tu jsou ukázkové aplikace. Tou první a asi nejrozsáhlejší je <a href=\"http://blog.wekeroad.com/mvc-storefront/\">MVC Storefront</a>. Jenže její zdrojáky byly chvíli na CodePlexu, pak je Rob smazal a slibuje, že brzy budou nové – aktuální. Další ukázková aplikace vznikla pro potřeby druhé jmenované knihy a jmenuje se <a href=\"http://nerddinner.codeplex.com/\">Nerddinner</a>.</p> <h3 id=\"toc-webcasty\">Webcasty</h3> <p>Když ještě nejsou k <a href=\"http://blog.wekeroad.com/mvc-storefront/\">MVC Storefront</a> zdrojáky, tak vězte, že k němu je asi pětadvacet screencastů! Rob zde provádí vývojem e-shopu. Během té doby prozkoumává různá zákoutí webového vývoje, vylepšuje design aplikace, užívá užitečných komponent atd. Rozhodně stojí za zhlédnutí.</p> <p>Další videa, která vám snad pomohou s MVC frameworkem začít, najdete přímo na stránkách <a href=\"http://asp.net/mvc/\">ASP.NET MVC</a>.</p> <h3 id=\"toc-zaznamy-prednasek\">Záznamy přednášek</h3> <p>Doporučení hodné jsou záznamy z loňského MIXu a PDC, konkrétně tyto:</p> <ol> <li><a href=\"http://sessions.visitmix.com/?selectedSearch=T22\">Developing ASP.NET Applications Using the Model View Controller Pattern</a></li> <li><a href=\"http://channel9.msdn.com/pdc2008/PC21/\">ASP.NET MVC : A New Framework for Building Web Applications</a></li> </ol> <p>Na letošním MIX, který bude již příští týden, bude asi 5 přednášek věnovaných ASP.NET MVC a očekává se, že tam bude také uvedena jeho finální verze.</p> <p>Na loňském WebExpu jsem měli s Borkem <a href=\"http://2008.webexpo.cz/prednaska/asp-net/\">přednášku o ASP.NET Futures a o MVC</a> jsem také mluvili. Přednáška se natáčela, a pokud bude záznam zveřejněn, tak tam možná najdete pár zajímavých informací. :)</p> <h3 id=\"toc-blogy\">Blogy</h3> <p>Zatím největším zdrojem a zároveň nejroztříštěnějším jsou blogspoty. Nejvíc informací najdete na blozích již výše zmiňovaných pánů. Do jejich společnosti se rád vloudím i <a href=\"/weblog/tag/mvc.aspx\">se svojí troškou do mlýna</a>, ale troufnu si tvrdit, že v některých už jde o trošičku pokročilejší témata a pro jejich pochopení byste už něco měli mít načteno a nazkoušeno. :)</p> <p>No koukám, že se mi tady z toho stává pěkná linkfarma, tak to raději ukončím a doufám, že se máte od čeho odrazit…</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-03-11T18:57:54.230-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zdroje o ASP.NET MVC pro začátečníky",
  :published #inst "2009-03-11T18:51:04.013-00:00",
  :url "zdroje-o-asp-net-mvc-pro-zacatecniky",
  :id 354,
  :description
  "Možná hledáte nějaký materiál, který vám pomůže začít s ASP.NET MVC. O pár možná vim, tak se pojďme podívat, jaké máte možnosti. ",
  :category "Webdesign",
  :tags ["aspnet" "mvc"]},
 :277-komunity-na-vlne-la-trine-na-startu.aspx
 {:html
  "<p>Jak už <a href=\"http://www.misantrop.info/692934-otvirak.php\">napsal Misantrop</a>, <a rel=\"friend met\" href=\"http://davidgrudl.com/\">David Grudl</a> spustil <a href=\"http://www.latrine.cz/\">novou La Trine</a> a hned začíná sólokaprem. Podle mě trefil na jednu z <a href=\"http://www.latrine.cz/moc-divna-cisla-kolem-blog-cz\">největších kunďáren roku</a> – samozřejmě až po koupi Atlasu ;). Zatímco všichni <a href=\"http://myego.cz/item/michal-illich-prodal-karluv-most-aka-blog-cz\">opěvují Michalovy obchodní schopnosti</a> a gratulují mu k prodeji firmy Nově, <a href=\"http://www.latrine.cz/moc-divna-cisla-kolem-blog-cz\">někteří nechápou</a>.</p> <p>Já taky nechápu. Stejně jako jsem nechápal po prodeji Atlasu. Teď už chápu leccos. Dneska jde prostě o to, komu zůstane černej Pert, než splaskne bublina. A podle toho jak jsou dneska vytažený ceny a hlavně za jakýkoli komunity, bude to celkem <strong>brzo</strong>. Takže děcka, pokud máte nějakou komunitu, střelte ji co nejrychleji. Možná si brzo budou kluci z líbka trhat vlasy, že to tý Nově nestřelili zrovna oni. A nebo se taky šeredně pletu a plácám tropické šílenosti.</p> <p>Ale nechť každý posoudí dle svého rozumu a znalostí… Čas ukáže.</p> <h3>Související</h3> <ul> <li><a href=\"http://www.latrine.cz/moc-divna-cisla-kolem-blog-cz\">David Grudl – Moc divná čísla kolem Blog.cz</a></li> <li><a href=\"http://www.misantrop.info/692934-otvirak.php\">Martin Malý – Otevírák</a></li> <li><a href=\"http://myego.cz/item/michal-illich-prodal-karluv-most-aka-blog-cz\">Radek Hulán – Michal Illich prodal Karlův most (aka Blog.cz)</a></li> <li><a href=\"http://jyxo.blog.cz/0805/cet-21-jyxo\">Michal Illich – CET 21 + JYXO</a></li> <li><a href=\"http://buzzmag.cz/nova-koupila-jyxo-za-6-8-mil-eur-dalsi-info-o-drazbe-weblogy-28-05-2008/\">Pavel Neuman – Nova koupila Jyxo za 6–8 mil. EUR + další info o dražbě Weblogy</a></li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-05-29T22:40:29.613-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Komunity na vlně, La Trine na startu",
  :published #inst "2008-05-29T21:54:04.770-00:00",
  :url "komunity-na-vlne-la-trine-na-startu",
  :id 277,
  :description
  "Jak už napsal Misantrop, David Grudl spustil novou La Trine a hned začíná sólokaprem. Podle mě trefil na jednu z největších *** roku - samozřejmě až po koupi Atlasu ;).",
  :category "Webdesign",
  :tags []},
 :82-co-posloucham.aspx
 {:html
  "<p>Než vyrazim na na Ekonomiku pro podnikatele, tak ještě přispěju pár tipama na dobrou muziku, která mě zaujala v&#160;posledních týdnech. Tak v&#160;první řadě to je sobotní <a href=\"http://www.ggdag.com\">Gigiho</a> pořad Il Cammino, který běží od 19.00&#160;na <a href=\"http://www.m2o.it\">M2O</a>. Spousta věcí, které jsou v&#160;tomto pořadu slyšet brzy výjde i&#160;na CDčách, takže enjoy!</p> <p>Další věci jsou trošku z&#160;jiného soudku.</p> <ul> <li>Goldfrapp &#8211; Number 1</li> <li>The Bravery &#8211; Unconditional Remixes</li> <li>VA &#8211; Ministry of House vol. 10</li> <li>Remixy Eurythmics &#8211; Sweet Dreams</li> <li>Inner City &#8211; Good Life</li> </ul> <p>A&#160;samozřejmě novinky z&#160;labelů <a href=\"http://www.pryda.net\">Pryda</a>, <a href=\"mai&#108;&#116;&#111;&#58;&#99;&#111;&#110;&#116;&#97;&#99;&#116;&#64;&#109;&#111;&#117;&#115;&#101;&#118;&#105;&#108;&#108;&#101;&#45;&#114;&#101;&#99;&#46;&#99;&#111;&#109;\">Mouseville</a> a <a href=\"http://www.sizerecords.com/\">Size Records</a>. Tak přeji dobrý poslech a já letim na cviko ;)</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Co poslouchám",
  :published #inst "2005-11-24T17:35:02.157-00:00",
  :url "co-posloucham",
  :id 82,
  :description "Pár tipů na dobrou muziku poslední doby.",
  :category "Muzika",
  :tags []},
 :141-remember-me-or-not.aspx
 {:html
  "<p>Taky se vám stalo, že jste chtěli využích svělých dovedností MemberShip Provideru a Login controls, a když jste zaškrtli <em>Remember Me</em>, tak se to chopvalo úplně stejně? Tak to jste narazili na chybu, teda alespoň podle mě to chyba je. Podle vývojářů ASP.NET je to <em>by design</em> :(</p> <p>Problém je v&#160;tom, že ASP.NET 2.0&#160;načítá životnost perzistentní i&#160;neperzistentní cookie z&#160;web.configu a to pouze z&#160;jedné hodnoty! Tato hodnota je pro obě metody stejná, tak v&#160;čem je rozdíl? ASP.NET 1.x načítalo pro neperzistentní cookie stejnou hodnotu z&#160;web.configu, ale perzistentní cookie byla natvrdo asi na 50&#160;let. Teď opravdu nechápu, k&#160;čemu mi je perzistentní cookie, když expiruje za stejnou dobu jako neperzistentí&#8230;</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-26T09:53:27.180-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Remember Me or not?",
  :published #inst "2006-04-26T09:51:47.243-00:00",
  :url "remember-me-or-not",
  :id 141,
  :description "Ukázka špatného návrhu ASP.NET 2.0",
  :category "ASP.NET 2.0",
  :tags []},
 :215-ironruby-je-tu-a-vs-2008-beta2-jiz-brzy.aspx
 {:html
  "<p>John Lam a ScottGu dnes oznámili možnost stažení <a href=\"http://iunknown.typepad.com/IronRuby-Pre-Alpha1.zip\">zdrojáků IronRuby</a> a mimo jiné také to, že VS 2008 beta2 výjde již tento týden a je z 99% feature complete. To jsou myslím dobré zprávy.</p> <p>IronRuby je čerstvou implementací Ruby na platformě .NET, postavenou nad novou vrstvou <acronym title=\"Dynamic Language Runtime\">DLR</acronym>, která by měla být společná pro Python, Ruby, <acronym title=\"JavaScript\">JS</acronym>, <acronym title=\"VisualBasic\">VB</acronym> a tajně doufám, že jednou i pro PHP ;) IronRuby je zatím v plenkách ve verzi 0.1 Pre-Alpha. Neobsahuje ani všechny vlastnosti jazyka a skoro žádné standardní knihovny (rubařské), ale do jejich tvorby se klidně budete moci zapojit. Projekt bude hostován na <a href=\"http://rubyforge.org/\">RubyForge</a> a to pod <acronym title=\"Microsoft Permissive Licence\">MSPL</acronym>.</p> <h3 id=\"toc-update\">Update</h3> <p>Visual Studio 2008 beta 2 je již venku. Stahovat můžete <a href=\"http://msdn2.microsoft.com/en-us/vstudio/aa700831.aspx\">zde</a>.</p> <h3 id=\"toc-souvisejici\">Související</h3> <ul> <li>John Lam – <a href=\"http://www.iunknown.com/2007/07/a-first-look-at.html\">First look at IronRuby</a></li> <li>Scott Guthrie – <a href=\"http://weblogs.asp.net/scottgu/archive/2007/07/23/first-look-at-ironruby.aspx\">First look at IronRuby</a></li> </ul> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:32:57.690-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "IronRuby je tu a VS 2008 beta2 již brzy",
  :published #inst "2007-07-23T21:37:41.000-00:00",
  :url "ironruby-je-tu-a-vs-2008-beta2-jiz-brzy",
  :id 215,
  :description
  "John Lam a ScottGu dnes oznámili možnost stažení zdrojáků IronRuby a mimo jiné také to, že VS 2008 beta2 výjde již tento týden a je z 99% feature complete. To jsou myslím dobré zprávy.",
  :category "ASP.NET 2.0",
  :tags ["vs" "vs2008" "ironruby" "dlr"]},
 :334-odpojte-se-k-nam.aspx
 {:html
  "<p>Sháníme posily do našeho týmu. Pokud znáš dobře dotnet nebo Javu a chceš se učit novým věcem, tak čti dál.</p> <h3 id=\"toc-predstaveni\">Představení</h3> <p>Jsme <a href=\"http://www.twareg.com/\">Twareg</a> (čteme tuareg, ale někdy i tvarek), firma zabývající se vývojem webových aplikací, které jsou výkonné, dostupné a škálovatelné. K tomu primárně užíváme platformu <a href=\"http://www.microsoft.com/net/\">Microsoft .NET</a> (C#, ASP.NET). Používáme nejmodernější technologie (např. <a href=\"/weblog/tag/mvc.aspx\">ASP.NET MVC</a>, Dynamic Data, <acronym title=\"Windows Communication Foundation\">WCF</acronym>, „Velocity“) a snažíme se o moderní postupy při vývoji našeho software. Všichni máme zkušenosti z portálu <a href=\"http://www.atlas.cz/\">Atlas.cz</a> a jsme ochotní se o ně podělit. Když řeknu, že jsme dynamický tým, asi bych lhal. Představte si dynamický tým a svou představu vynásobte deseti. :)</p> <p>Naše kancelář je vybavena různobarevnými pěnovými míčky, a když vás někdo naštve, můžete si po něm hodit. Dostáváme stravenky a chodíme je společně projíst někam na Anděla. Věhlasný je také náš rituál vaření, který jsme si přinesli z Atlasu.</p> <p>Pokud hledáte naše webové stránky, <del>tak vězte, že jsme si žádné ještě nestihli udělat, ale máme to v plánu.</del> <ins>najdete je na adrese <a href=\"http://www.twareg.com/\">www.twareg.com</a>.</ins> Pokud vás zajímá naše zázemí, tak vězte, že jsme spřátelenou společností <a href=\"http://www.ataxo.cz/\">Ataxa</a> a sídlíme ve stejné budově.</p> <h3 id=\"toc-na-cem-delame\">Na čem děláme</h3> <p>Našim hlavním produktem je codename „Hyas“. Je to reklamní systém, který si klade za cíl poučit se z chyb konkurenčních systémů, zachovat si jejich výhody a přinést něco nového. Být prostě lepší. Jak prosté. Nyní máme téměř připravené jádro systému, které půjde brzo do testování. Potřebujeme ale další lidi, kteří by nám pomohli nad ním napsat veřejné API (SOAP, REST), administrační/u­živatelské rozhranní a další potřebné komponenty. Pokud vás toto zajímá, neváhejte mě <a rel=\"me\" href=\"/#kontakt\">kontaktovat</a>!</p> <p>Pokud byste raději dělali na webech, je tady ta možnost také. Děláme na Web 2.0 projektech založených na znovupoužitelných komponentách (a tím rozhodně nemyslím jen server controly). Aktuálně děláme katalog nightlife podniků se silnou integrací sociálních prvků. A ve frontě čekaj další neméně zajímavé. Pokud se na nich chcete podílet, <a rel=\"me\" href=\"/#kontakt\">ozvěte se mi</a>!</p> <h3 id=\"toc-koho-hledame\">Koho hledáme</h3> <p>Předně schopné vývojáře. Takové, co mají chuť se učit novým věcem a chtějí se o své poznatky dělit. :) Takové, co mají týmového ducha, kterým nevadí zůstat občas v práci dýl a zahrát si třeba Wiičko nebo jít společně do kina, na bowling nebo jenom na jedno.</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a href=\"/weblog/288-konec-dobry-vsechno-dobre.aspx\">Konec dobrý, všechno dobré!</a></li> <li><a href=\"/weblog/300-vyvojova-infrastruktura.aspx\">Vývojová infrastruktura</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-03-01T10:54:18.763-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Odpojte se k nám!",
  :published #inst "2008-12-02T08:29:53.647-00:00",
  :url "odpojte-se-k-nam",
  :id 334,
  :description
  "Sháníme posily do našeho týmu. Pokud znáš dobře dotnet nebo Javu a chceš se učit novým věcem, tak čti dál.",
  :category "Webdesign",
  :tags ["twareg" "aspnet" "csharp" "mvc" "wcf" "velocity"]},
 :450-jak-rozbehat-bower-ve-visual-studiu.aspx
 {:html
  "<p>Takový malý tutoriálek pro command line junkies, jak si rozběhat <a href=\"https://github.com/bower/bower\">bower</a> ve Visual Studiu.</p> <p>Nainstalujte si Chockolatey:</p> <pre><code>@powershell -NoProfile -ExecutionPolicy unrestricted -Command \"iex ((new-object net.webclient).DownloadString('https://chocolatey.org/install.ps1'))\" &amp;&amp; SET PATH=%PATH%;%systemdrive%\\chocolatey\\bin</code></pre> <p><em>(<code>Win+R</code>, <code>Ctrl+V</code>, <code>Enter</code>)</em></p> <p>Nainstalujte si Node:</p> <pre><code>cinst nodejs.install</code></pre> <p>Vytvořte si profil pro nuget konzoli <code>%UserProfile%\\Documents\\WindowsPowerShell\\NuGet_profile.ps1</code> a do něj přidejte:</p> <pre><code>Set-Alias npm \"C:\\Program Files\\nodejs\\npm.cmd\" Set-Alias bower \"~\\AppData\\Roaming\\npm\\bower.cmd\"</code></pre> <p>Spusťte si Visual Studio, otevřete Package Management Consoli a napište:</p> <pre><code>npm install -g bower</code></pre> <p>A jedem. :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-05-03T13:14:34.940-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak rozběhat Bower ve Visual Studiu",
  :published #inst "2013-05-03T13:13:41.253-00:00",
  :url "jak-rozbehat-bower-ve-visual-studiu",
  :id 450,
  :description
  "Takový malý tutoriálek pro command line junkies, jak si rozběhat bower ve Visual Studiu. ",
  :category "Moje práce",
  :tags []},
 :10-gigi-rulez-aktualizace.aspx
 {:html
  "<p>Tak jsem se dnes <a href=\"http://www.scody.net/ggdag/forum/topic.asp?TOPIC_ID=13540\">dočetl</a>, že <a href=\"http://www.gigidagostino.com\">Gigi D'Agostino</a> bude vydávat další singl &#8211; Complex (visione Inedita) &#8211; a na singlu mají být další čtyři nové tracky. Tak jsem zvědav. Vyjít by měla 23.&#160;3. společně s&#160;<strong>Con il nastro rosa</strong>, kterou Gigi remixoval společně s&#160;<a href=\"http://www.molella.com\">Molellou</a>. Ta bude mít 6&#160;tracků &#8211; dva mixy od Gigiho a jeden od Mollyho a jejich rádio verze.</p> <h3>Oprava</h3> <p>Tak Complex ještě není nový singl, ale MediaRecords vydávají sampler, na kterém budou tyto tracky:</p> <ol> <li>Gigi D'Agostino &#8211; Complex (Versione Inedita)</li> <li>Gipsy &#8211; Gipsy (Original mix)</li> <li>Tom Neville &#8211; Just fuck (Deep down dirty original mix)</li> <li>Mario Piu &#8211; Champ Elysées (Plus mix)</li> <li>Cappella &#8211; Angel (Mas mix)</li> </ol> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "GiGi RuleZ (aktualizace)",
  :published #inst "2004-03-18T21:00:00.000-00:00",
  :url "gigi-rulez-aktualizace",
  :id 10,
  :description "Gigi vydává dva nové singly.",
  :category "Muzika",
  :tags []},
 :454-legacy-code-writer-part-2.aspx
 {:html
  "<p>Dostal jsi nový úkol, implementovat jednoduchou featuru do korporátního projektu. Jenže ten kód byl past vedle pasti.</p> <p>Produkoval jsi legacy kód, kvůli <em>Legacy code writerovi</em>.</p> <h3 id=\"toc-nikdo-nepise-legacy-code-od-zakladu\">Nikdo nepíše legacy code od základu</h3> <p>Je dost možný, že vám <a href=\"http://rarous.net/weblog/453-legacy-code-writer-part-1.aspx\">první díl</a> zněl trochu povědomně. Každý z nás se dost pravděpodobně v podobné situaci ocitl.</p> <p>Nyní, prosím, zkuste přehodnotit svou víru ve zlého <em>Legacy code writera</em>. Myslíte si, že opravdu existuje? Jste si jistí, že pokaždé když narazíte na legacy code, tak k němu existuje mystický můž, který to celé napsal od základu?</p> <p>Víte čemu věřím já? Že tento muž vůbec neexistuje, že je to jen velice příjemná a pohodlná zástěrka. Není tu žádná taková osoba, která by byla zodpovědná za celej ten bordel. Špatný programátor, Legacy code writer, je jen fiktivní postavou vytvořenou k tomu, aby nám pomohl obhájit naše malé, přetrvávající, hříchy.</p> <p>Došel jsem k názoru, že <strong>psaní legacy code je distribuovanou aktivitou</strong>. Každý z nás do tohoto vleklého procesu, třeba i nevědomky, přispívá.</p> <p>Zbytečně nezahazujte čas pátráním, kdo za to může, protože to <strong>my všichni</strong>. Každý z nás!</p> <h3 id=\"toc-legacy-code-je-jako-prach\">Legacy code je jako prach</h3> <p>Pokud neuklízíte, neustále se usazuje a je jedno jestli se díváte nebo ne.</p> <p>Každý kus kódu, pokud je spravován více lidmi, tíhne k tomu stávat se špagetami nebo lasagněmi. Entropie má potřebu růst. Je to absolutně přirozený proces.</p> <p>Nevěříte?</p> <p>Zkuste se na to podívat z jiného úhlu pohledu: <strong>Kód přirozeně netíhne k tomu být čím dál tím lepší pouhým přidáváním featur hordou programátorů.</strong></p> <p>Mně to zní jako jednoduchý přírodní zákon: <strong>Živý kód tíhne k tomu, stávat se horším, dokud nedojde k záměrnému aplikování síly proti přirozené potřebě entropie růst.</strong></p> <p>Legacy code je to, co získáte, pokud nejste odhodlaný přísně aplikovat dobré zásady při správě kódu.</p> <h3 id=\"toc-dve-spatna-rozhodnuti-se-vzajemne-nekompenzuji-komuluji\">Dvě špatná rozhodnutí se vzájemně nekompenzují. Komulují!</h3> <p>První verze byla pravděpodobně navržená dobře. Šlo to celkem snadno, před programátorem byl list nepopsaného papíru. :)</p> <blockquote> <p>Každý dokáže navrhout dobrý kód na zelený louce a udržovat ho po dobu tří měsíců. Pouze profesionální vývojář to zvládne i po dobu následujících let.</p> </blockquote> <p>Nekritizujte prvního progrmátora, on možná odvedl velmi slušnou práci. Jenže jak na chvilku polevíte, začnou se objevovat první nepatrné částečky legacy kódu. Problém s částečkama legacy kódu je jako s korálama: mají potřebu se na sebe lepit až z nich nakonec vznikne nepropustná bariera pevná jako skála, se kterou už nepohnete.</p> <p>Zaveďte <strong>dočasnou proměnnou</strong> a vězte, že další programátor se bude cítit oprávněn na ní nalepit nějakou funkcionalitu. Udělejte <strong>copy&amp;paste</strong> maličké pětiřádkové funkcionality a čekejte že vaše budoucí já v jedné z těch kopií změní dva řádky a připraví tak jeho nástupce, kteří se to pokusí refactorvat, o několik vlasů. Nejspíš to vzdají.</p> <p><strong>Vynechte unit test</strong> a vězte, že další team si pomyslí:</p> <blockquote> <p>Předchozí programátor si myslel, že pokrýt tuhle funkcionalitu testy je příliš nákladné. No, teď to určitě nebude o nic snažší. Takže se na to taky vyprdneme.</p> </blockquote> <p>A tady to začne chátrat. Taky se tomu taky říká <a href=\"http://cs.wikipedia.org/wiki/Teorie_rozbit%C3%A9ho_okna\">teorie rozbitého okna</a>…</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-06-02T11:37:56.010-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Legacy code writer - part 2",
  :published #inst "2013-06-02T11:27:45.663-00:00",
  :url "legacy-code-writer-part-2",
  :id 454,
  :description "Druhá část povídánek o legacy kódu.",
  :category "Moje práce",
  :tags []},
 :119-statistika.aspx
 {:html
  "<p>Když jsem ve volné chvíli projížděl statistiky, nemohl jsem nepostřehnout, že veliký podíl na mé návštěvnosti má <a href=\"http://borber.com/\">Borek</a>, který už na mě několikrát odkázal a já na něj pořád ne :) Tímto to chci napravit, sic pozdě, protože <a href=\"http://borber.com/blog/\">Borkův blog</a> už asi znáte z&#160;<a href=\"http://www.weblogy.cz\">Weblogy.cz</a>. Borek píše o&#160;zajímavých tématech a hlavně často o&#160;dotnetu, Windows a Office. Dalším dobrým počinem je <a href=\"http://borber.com/roundedbox/\">RoundedBox</a> komponenta pro ASP.NET, která dělá boxy s&#160;kulatými rohy. Jde na to různými způsoby a pro programátory je to snadná cesta k&#160;docílení zaoblení na webu.</p> <p>Dalším statistickým údajem je veliký zájem o&#160;ověření pravosti Windows :) Tu bohužel neprovádím ;) Na to tu jsou jiní. Zkuste třeba nainstalovat tu novou utilitku, co je ke stažení přes Windows update &#8211; o&#160;víkendu postnu i&#160;fotky, co to dělá &#8222;zlodějům&#8220;.</p> <p>Když jsem u&#160;tý statistiky, pohrál jsem si se statistikama na Pokecu, od zítřka by měly počítat skutečný počet uživatelů v&#160;chatu. Jo držte nám palce, zejtra ráno se bude nasazovat nová verze <a href=\"http://pokec.atlas.cz/\">Pokecu</a> &#8211; ta, co jsem se v&#160;ní šťoural. Tak jsem zvědav, jak se osvědčí, jestli bude stabilnější nebo hrušková&#8230;</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-17T15:55:42.207-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Statistika",
  :published #inst "2006-03-14T15:19:29.123-00:00",
  :url "statistika",
  :id 119,
  :description "Data vyplívající z grafů.",
  :category "Jen tak",
  :tags []},
 :350-registrace-svc-handleru-pro-iis7.aspx
 {:html
  "<p>Náš intranet používá pro AJAXy ADO.NET Data Services, což je pěkný REST framework. Tento framework je postavený nad <code>IQueryable</code> (tedy <acronym title=\"Language Integrated Query\">LINQ</acronym>) a také nad <acronym title=\"Windows Communication Foundation\">WCF</acronym>. Nedávno jsme prováděli přeinstalace serverů a tak se stalo, že AJAXové dotazy začaly vracet 404.</p> <p>Bylo to divné, protože jinde to fungovalo a vždy stačil <code>xcopy</code> deployment. Tak jsem zkusil zadat adresu služby do prohlížeče a zase 404. Proč to nejde? Koukám na mapování handlerů v konfiguraci IIS7 a helemese chybí <code>svc</code> binding. Ale proč? Vždyť je všechno nainstalovaný jak má bejt.</p> <p>Po chvilce pátrání jsme našel jednoduché řešení. Stačí spustit registraci ručně:</p> <pre><code>\"%systemroot%\\Microsoft.NET\\Framework\\v3.0\\Windows Communication Foundation\\ServiceModelReg.exe –i\"</code></pre> <p>Pro 64-bitové systémy pak:</p> <pre><code>\"%systemroot%\\Microsoft.NET\\Framework64\\v3.0\\Windows Communication Foundation\\ServiceModelReg.exe –i\"</code></pre> <p>Dnes mi píše Radek, že přesouval intranet na Domain Controller, aby nebyl na našich vývojových strojích a že mu AJAXy vracej 404. Takže tohle je i tak trochu pro něj.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-03-01T13:25:19.513-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Registrace svc handleru pro IIS7",
  :published #inst "2009-02-23T10:55:08.443-00:00",
  :url "registrace-svc-handleru-pro-iis7",
  :id 350,
  :description
  "Občas se může stát, že vám na novém webovém serveru nepoběží WCF služby. Náprava je velice snadná. Tady je.",
  :category "Webové služby",
  :tags ["dataservices" "iis7" "wcf" "svc"]},
 :425-testy-konvenci-s-xunit-net.aspx
 {:html
  "<p>V každé dobře navržené aplikaci by se měly dodržovat nějaké konvence, které nám umožní psát flexibilní a dopředně kompatibilní kód, který není třeba často měnit. Je vhodné mít tyto konvence někde zdokumentované. Nejlépe pak formou spustitelných tes­tů.</p> <h3 id=\"toc-ukazka-z-praxe\">Ukázka z praxe</h3> <p>Zrovna teď řešim messaging za pomocí Rhino.ESB a narazil jsem na potřebu, aby všechny zprávy měly bezparametrický konstruktor a stejně tak i jejich vlastnosti. Jal jsem se psát test a vypadlo mi něco takového:</p> <pre class=\"csharp\"><code>[Fact] public void MessagesShouldHaveParameterlessContructor() { var asm = typeof(Message).Assembly; var query = from type in asm.GetTypes() where type.Namespace == typeof(Message).Namespace select type; Assert.True(query.All(HasDefaultConstructor)); } static bool HasDefaultConstructor(Type type) { return type.GetConstructor(Type.EmptyTypes) != null; }</code></pre> <p>Super, projdu všechny typy z namespace, kde sídlí zprávy, a zjistím, jestli mají bezparametrický konstruktor. Pokud to všechny zprávy splňují, není problém. Jenže, když jedna tuto konvenci nesplní, jak ji rychle najít? Můžeme přidat nějaký druh výpisu na konzoli, jakou zprávu zrovna testujeme, ale to už porušujeme hned několik doporučení, jak psát <acronym title=\"Readable, Trust-worthy, Maintainable\">RTM</acronym> testy.</p> <p>Lepším řešením je využít toho, co nám nabízí framework. Nejde o nic jiného než data driven test. Na to má xUnit.net <code>Theory</code>. Uděláme lehký refactoring a z jednoho ne moc říkajícího testu uděláme serii kokrétních testů, kde hezky uvidíme, které zprávy byly testovány:</p> <pre class=\"csharp\"><code>public static IEnumerable&lt;object[]&gt; MessageTypes { get { var asm = typeof(Message).Assembly; var query = from type in asm.GetTypes() where type.Namespace == typeof(Message).Namespace select new object[] { type }; return query; } } [Theory] [PropertyData(\"MessageTypes\")] public void MessagesShouldHaveParameterlessContructor(Type type) { Assert.True(HasDefaultConstructor(type)); } static bool HasDefaultConstructor(Type type) { return type.GetConstructor(Type.EmptyTypes) != null; }</code></pre> <p>Vidíte, ani to moc nebolelo a máme future-proof testy, které nám ohlídají potřeby frameworků a zároveň mají velkou vypovídací hodnotu. Když se podívám na výsledek testů, tak hned vidím, která třída konvenci nedodržuje.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-08-23T11:26:43.183-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Testy konvencí s xUnit.net",
  :published #inst "2012-08-23T11:21:12.133-00:00",
  :url "testy-konvenci-s-xunit-net",
  :id 425,
  :description
  "V každé dobře navržené aplikaci by se měly dodržovat nějaké konvence, které nám umožní psát flexibilní a dopředně kompatibilní kód, který není třeba často měnit.;",
  :category "Moje práce",
  :tags ["xunit"]},
 :293-binsor-sila-konfigurace.aspx
 {:html
  "<p>Pokud se dostanete do stádia, kdy potřebujete takovou architekturu, kde je potřeba používat plug-iny třetí strany, kde je potřeba snadno vyměnit komponentu za jinou, přichází ke slovu nějaký druh konfigurace.</p> <p>Velice často se můžeme setkat s konfigurací komponent v XML. Ať už je to <a href=\"http://msdn.microsoft.com/en-us/library/ms972319.aspx\">Provider pattern</a> známý z ASP.NET, či vlastní konfigurační sekce, nebo konfigurace Windsor kontejneru, pořád tu máme XML. Jeho ohromnou výhodou je, že se dají systémové komponenty snadno překonfigurovat bez nutnosti celý systém překompilovat. Stačí pouhý restart aplikace. Navíc nástrojů na editaci a validaci XML máme nepočítaně, takže změnu konfigurace zvládne téměř každý.</p> <p>Velkou nevýhodou XML, je jeho omezené výrazivo. Špatně se v něm píše <code>foreach</code> nebo <code>if</code>. Prostě na složitější konstrukce je potřeba programovací jazyk. A nebo skriptovací!</p> <h3 id=\"toc-boo-na-scenu\">Boo na scénu</h3> <p><a href=\"http://boo.codehaus.org/\">Boo</a> je staticky typovaný objektový jazyk nad <a href=\"http://en.wikipedia.org/wiki/Common_Language_Infrastructure\"><acronym title=\"Common Language Infrastructure\">CLI</acronym></a> (dot net) inspirovaný syntaxí <a href=\"http://www.python.org/\">Pythonu</a>. Jeho hlavní silou je metaprogramování. Na úrovni kompilátoru se snadno dají psát makra. Takových maker lze využít k tvorbě přehledných <a href=\"http://en.wikipedia.org/wiki/Domain_Specific_Language\"><acronym title=\"Domain Specific Language\">DSL</acronym></a> a jednou z takových je i Binsor.</p> <h3 id=\"toc-windsor-boo-binsor\">Windsor + Boo = Binsor</h3> <p><a href=\"http://www.castleproject.org/container/index.html\">Windsor</a> je <a href=\"http://martinfowler.com/articles/injection.html\"><acronym title=\"Inversion of Control\">IoC</acronym> kontejner</a> na platformě dot net a je součástí <a href=\"http://www.castleproject.org/\">opensource projektu Castle</a>. Windsor má v základu dvě možnosti jak konfigurovat komponenty.</p> <ol> <li>Programově na úrovni mikrokernelu.</li> <li>XML konfigurací.</li> </ol> <p>XML konfigurace je nejčastěji užívanou možností, kvůli výše popsaným výhodám. V trunku se nedávnou objevila i konfigurace pomocí DSL na principu fluent interface přímo v C#. Taková konfigurace je velice pěkná, ale je tu pořád nutnost při každé změně znova celý projekt kompilovat. Proto je tu <a href=\"http://www.ayende.com/Blog/category/451.aspx\">Binsor</a>, který si bere sílu programovacího jazyka, efektnost XML konfigurace a navíc jednoduchost a přímočarost syntaxe.</p> <h3 id=\"toc-konfigurace-komponent\">Konfigurace komponent</h3> <p>Nejčastější aktivitou s Binsorem nejspíš bude registrace komponent. :)</p> <pre class=\"boo\"><code>component 'my_component', IServiceContract, ServiceImplementation: # nastavime parametr konstruktoru constructorParameter = 10 # nastavime vlastnost sluzby SomeProperty = \"Hello Word!\"</code></pre> <p>Kód je v celku jednoduchý. Na prvním řádku začínamé klíčovým slovem <code>component</code>, které říká, že registrujeme komponentu. Prvním parametrem je název komponenty, přes který se na ní můžeme odkazovat. Druhý parametr je rozhranní služby a třetí je konkrétní implementace, která bude při rozpoznání kontejnerem vrácena, např. <code>IoC.Container.Resolve&lt;IServiceContract&gt;()</code>. Za dvojtečkou pokračuje výčet nastavovaných vlastností a parametrů. Můžeme takto nastavovat i speciální vlastnost ovlivňující životnost objektu.</p> <pre class=\"boo\"><code>component HttpRequest: lifestyle Singleton</code></pre> <p>Všimněte si, že se ani nemusí při registraci uvádět referenční název nebo abstraktní typ. Může se klidně rovnou registrovat typ konkrétní, který se bude v tomto případě chovat jako singleton. Takovéto ukázky jsou fešné, ale nic, co bychom nezvládli pomocí XML. Pojďme trochu dál.</p> <pre class=\"boo\"><code>for type in AllTypesBased of Controller(\"MyApplication.Web\"): component type</code></pre> <p>Tento kód zaregistruje všechny controllery (třídy, které jsou potomky třídy <code>Controller</code>) z assembly <code>MyApplication.Web</code>. Krom generické metody <code>AllTypesBased</code>, je tu ještě generická metoda <code>AllTypesWithAttribute</code> a negenerická <code>AllTypes</code>. Všechny mají jako parametr název assembly, jejíž typy procházejí.</p> <h3 id=\"toc-facility\">Facility</h3> <p>Neméně důležitou součástí konfigurace jsou facility, které dodávají kontejneru nové možnosti a zapouzdřují větší sady komponent do logických jednotek. Pro ukázku konfigurace ActiveRecord komponent pomocí Binsoru:</p> <pre class=\"boo\"><code>facility ActiveRecordFacility: configuration: @isWeb = true, isDebug = true assemblies = [ Assembly.Load(\"MyApplication.Entities\") ] config(keyvalues, item: add): show_sql = true command_timeout = 5000 cache.foo.use_query_cache = false dialect = 'NHibernate.Dialect.MsSql2005Dialect' connection.provider = 'NHibernate.Connection.DriverConnectionProvider' connection.driver_class = 'NHibernate.Driver.SqlClientDriver' connection.connection_string = 'connectionString1'</code></pre> <h3 id=\"toc-shrnuti\">Shrnutí</h3> <p>Osobně se mi možnosti konfigurace přes Binsor velice líbí, ale je celkem možné, že ne každému to může vyhovovat. Pokud ale používáte Windsor a přijde vám XML konfigurace nepřehledná, je toto možná cesta, jak z toho ven. Pokud chcete nějaké lepší příklady, doporučuju si stáhnout SVN repository <code>https://rhino-tools.svn.sourceforge.net/svnroot/rhino-tools/trunk/rhino-commons</code> a projít si testy. Jako editor se mi osvědčil <a href=\"http://sharpdevelop.net/OpenSource/SD/\">SharpDevelop</a>, který má podporu pro Boo přímo v základu, nebo doinstalovat <a href=\"http://www.codeplex.com/BooLangStudio\">BooLang Studio</a> do Visual Studia.</p> <p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/ioc\">IoC</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/windsor\">Windsor</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/binsor\">Binsor</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/boo\">Boo</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-14T10:33:43.943-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Binsor – síla konfigurace",
  :published #inst "2008-08-25T15:18:09.473-00:00",
  :url "binsor-sila-konfigurace",
  :id 293,
  :description
  "Pojďme si přiblížit možnosti konfigurační DSL pro Windsor kontejner v jazyce Boo.",
  :category "ASP.NET 2.0",
  :tags
  ["ioc" "windsor" "castle" "binsor" "dsl" "boo" "activerecord"]},
 :397-single-responsibility-principle-in-the-wild.aspx
 {:html
  "<p>Tak jsem se tak koukal na <a href=\"http://channel9.msdn.com/posts/Cloud-Cover-Episode-32-AppFabric-Caching\">poslední CloudCover</a>, kde představovali novou službu Windows Azure AppFabric Caching. Služba je to jistě zajímavá a je jednou z možností jak zajistit <em>session state affinity</em> v Azure. Ale proč o tom píšu.</p> <p>Součástí epizody byla i živá ukázka, jak přidat cachování do existující aplikace.</p> <blockquote> <p>Teď to možná některé <a href=\"http://www.nhforge.org/\">NHibernate</a> znalé veterány zaskočí, ale v Microsoftím světě ORM si o něčem jako 2nd level cache můžete nechat zdát. Vůbec tam spoustu krásných věcí nemají, ale o tom třeba až jindy.</p> </blockquote> <p>No prostě tam měli repository (používat repository, tam kde je LINQ, je už samo o sobě obskurní, ale budiž), která vypadala nějak tak:</p> <pre class=\"csharp\"><code>public class ProductsRepository : IProductsRepository { public List&lt;string&gt; GetProducts() { List&lt;string&gt; products = null; NorthwindEntities context = new NorthwindEntities(); var query = from product in context.Products select product.ProductName; products = query.ToList(); return products; } }</code></pre> <p>Mno, měli tedy respository produktů, která vracela názvy všech produktů přímo z databáze. No a pak se jali přidat cachování takového listu:</p> <pre class=\"csharp\"><code>public class ProductsRepository : IProductsRepository { DataCacheFactory dcf; public ProductsRepository() { dcf = new DataCacheFactory(); } public List&lt;string&gt; GetProducts() { List&lt;string&gt; products = null; DataCache dc = dcf.GetDefaultCache(); products = dc.Get(\"products\"); if (products != null) { return products; } NorthwindEntities context = new NorthwindEntities(); var query = from product in context.Products select product.ProductName; products = query.ToList(); dc.Put(\"products\", products); return products; } }</code></pre> <p>Úžasné! Jenže tím jsme porušili <a href=\"http://en.wikipedia.org/wiki/Single_responsibility_principle\">princip jediné zodpovědnosti</a>. Teď se nám repository účastní hned na dvou záležitostech – na své původní (načíst data z databáze) a nově na cachování načtených dat. Takže to smrdí. <strong>It smels like refactoring time!</strong></p> <h3 id=\"toc-jak-na-to\">Jak na to?</h3> <p><em>Cachování je věc hodná vlastního aspektu.</em> Když se podíváme na výsledný kód, zjistíme, že jsme neudělali nic jiného než, že jsme odekorovali načítání dat logikou pro cachování. Tudíž zvolíme vzor <strong>dekorátor</strong>! Repository vrátíme do původního stavu, protože ten svůj účel splňuje a přidáme další třídu s jedinou zodpovědností:</p> <pre class=\"csharp\"><code>public class CachedProductsRepository : IProductsRepository { const string ProductsKey = \"products\"; readonly DataCacheFactory cacheFactory; readonly IProductsRepository repository; public CachedProductsRepository(DataCacheFactory cacheFactory, IProductsRepository repository) { this.cacheFactory = cacheFactory; this.repository = repository; } public List&lt;string&gt; GetProducts() { var cache = cacheFactory.GetDefaultCache(); var products = cache.Get(ProductsKey); if (products == null) { products = repository.GetProducts(); dc.Put(ProductsKey, products); } return products; } }</code></pre> <p>No a máme to! Dokonce si teď můžeme vybrat, kdy chceme používat cache nebo sahat do databáze přímo. A to vše díky díky dodržování <a href=\"http://en.wikipedia.org/wiki/Open/closed_principle\">Open/Closed principle</a> a jednoduché kompozici objektů, které dělají jen a pouze to, co mají. :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-11-20T15:57:41.303-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Single Responsibility Principle in the wild",
  :published #inst "2010-11-20T13:31:55.940-00:00",
  :url "single-responsibility-principle-in-the-wild",
  :id 397,
  :description
  "Dneska jsme narazil na jeden příklad, který byl opět ukázkou špatného návrhu a tak mě inspiroval. Inspiroval k jednoduché ukázce, jak špatný návrh krapet vylepšit.",
  :category "ASP.NET 2.0",
  :tags []},
 :86-asp-net-2-0---vlastnosti-pro-jednotlive-browsery.aspx
 {:html
  "<p>ASP.NET 2.0&#160;přichází s&#160;tzv. deklarativním programováním. V&#160;podstatě nemusíte napsat ani řádku zdrojového kódu a ono to funguje. Zdrojovým kódem myslím program v&#160;nějakém vyšším programovacím jazyce, jako C# nebo VB.NET. Samozřejmě se vše programuje ve zdroji prezentační části. Ale to tu teď nechci rozebírat.</p> <p>Při zkoumání nových vlastností ASP.NET 2.0&#160;jsem narazil na zajímavou fičůrku. Většinu vlastností, které se deklarují v&#160;aspx souboru, je možné prefixovat <strong>browser tagem</strong>. Ten vychází ze souboru *.browser, kde je daný prohlížeč definován. Pomocí toho prefixu se dají deklarovat vlastnosti uživatelských prvků pro každý prohlížeč zvlášť. Následující příklad vypíše pozdrav pro daný prohlížeč.</p> <pre class=\"xml\"><code>&lt;asp:Label ID=\"Label1\" runat=\"server\" ie:Text=\"Zdravíme Internet Explorer\" mozilla:Text=\"Zdravíme Firefox\" opera:Text=\"Zdravíme Operu\" Text=\"Zdravíme ostatní\" /&gt;</code></pre> <p>Dokonce to funguje i&#160;s odlišováním verzí. Následuje tabulka s&#160;několika ukázkovými prohlížeči.</p> <table> <tr> <th>prefix</th> <th>prohlížeč</th> </tr> <tr> <td>IE</td> <td>jakýkoliv Internet Explorer</td> </tr> <tr> <td>Netscape3</td> <td>Netscape Navigator 3.x</td> </tr> <tr> <td>Netscape4</td> <td>Netscape Communicator 4.x</td> </tr> <tr> <td>Netscape6to9</td> <td>Netscape 6.0+</td> </tr> <tr> <td>Mozilla</td> <td>Firefox</td> </tr> <tr> <td>Opera</td> <td>Opera</td> </tr> </table> <!-- generated by Texy! -->",
  :keywords "asp.net 2.0 browser tag",
  :edited #inst "2005-12-22T01:30:00.013-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "ASP.NET 2.0 - Vlastnosti pro jednotlivé browsery",
  :published #inst "2005-11-30T15:55:33.797-00:00",
  :url "asp-net-2-0---vlastnosti-pro-jednotlive-browsery",
  :id 86,
  :description "Zajímavůstka z oblasti deklarativního programování.",
  :category "ASP.NET 2.0",
  :tags []},
 :149-polivkova.aspx
 {:html
  "<p><em>Psát webové aplikace v PHP je jako jíst polívku vidličkou.</em></p> <p>Ano, sice se najíte, ale dá vám to mnohem víc práce než lžící, ale to nejlepší zůstane na dně. Co je vám platné, že víte přesný postup přípravy polívky, víte jaké koření a ingredience se do ní dávají?</p> <p>Častým argumentem konzumentů polívek vidličkou bývá, že se ta polívka dá z talíře přece vypít. Ano, to je fakt, ale to už se nebavíme o konzumaci polívky vidličkou.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:37:08.617-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Polívková",
  :published #inst "2006-05-15T08:44:30.240-00:00",
  :url "polivkova",
  :id 149,
  :description "Něco o té polívce s nudlema.",
  :category "Jen tak",
  :tags ["php"]},
 :396-muj-pohled-na-fsharp-se-meni.aspx
 {:html
  "<p>Za posledních pár měsíců se mi celkem změnil pohled na F#. Ještě do nedávna jsem si myslel, na co další jazyk, když C# zvládá funkcionální paradigma taky obstojně?</p> <p>Ale pak jsem psal v C# pár aplikací, kde docházelo k masivnímu přelívání dat a jejich transformaci. V podstatě jednoduchý funkcionální kód jsem obaloval poměrně košatou objektovou strukturou. A pak jsem začal číst knihu <a href=\"http://www.amazon.com/Expert-2-0-Experts-Voice-Syme/dp/1430224312\">Expert F# 2.0</a> a měl pár pěkných <em>aha momentů</em>. A začal jsem vidět, jak jsem si mohl spoustu práce ušetřit…</p> <p>Teoreticky. :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-11-09T14:31:58.273-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Můj pohled na F# se mění",
  :published #inst "2010-11-09T14:04:37.770-00:00",
  :url "muj-pohled-na-fsharp-se-meni",
  :id 396,
  :description "Krátké zamyšlení k mému postoji k jazyku F#",
  :category "ASP.NET 2.0",
  :tags ["fsharp"]},
 :419-jak-parovat-a-nezblaznit-se-z-toho.aspx
 {:html "<!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-04-24T15:31:31.520-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak párovat a nezbláznit se z toho?",
  :published #inst "2012-04-24T15:31:31.517-00:00",
  :url "jak-parovat-a-nezblaznit-se-z-toho",
  :id 419,
  :description "",
  :category "Moje práce",
  :tags ["pairprogramming" "xp"]},
 :23-zkousky.aspx
 {:html
  "<p>Přesto, že mám zkouškové období, upravuju tyhle stránky dál. Dolaďuju nový styl a připravuju nový věci. Těd třeba jsem předělal a zprovoznil sekci Školní práce, kde jsou zatím moje semestrálky.</p> <p>No a v&#160;pondělí jsem dělal první zkoušku, byla z&#160;Elektroniky a dostal jsem za čtyři, takže to musim zkusit znovu. Co se dá dělat, už aby byly prázdniny :) Ale do těch je ještě daleko.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zkoušky",
  :published #inst "2004-06-10T11:51:45.000-00:00",
  :url "zkousky",
  :id 23,
  :description "",
  :category "Škola",
  :tags []},
 :191-socialni-site.aspx
 {:html
  "<p>Sociální sítě se vezou na vlně Webu 2.0, již jsem také uvízl.</p> <p>Do kterých to sítí že jsem uvízl? Jsou to <a href=\"http://last.fm/\">last.fm</a> a <a href=\"http://linkedin.com/\">LinkedIn</a>.</p> <ul> <li><a href=\"http://www.last.fm/user/rarous\">Můj profil na last.fm</a></li> <li><a href=\"http://www.linkedin.com/in/rarous\">Můj profil na LinkedIn</a></li> </ul> <hr /> <p>Podčarou: <a href=\"http://www.last.fm/music/Alessio%20Busta\">Alessio Busta na last.fm</a>, heh pokud chcete přibýt do úzké skupinky vyvolených posluchačů, zapněte si last.fm player a <a href=\"http://rarousmusic.com/mp3/alessio_busta_-_electro_session_part_5-rm.mp3\">poslouchejte</a> ;)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:04:33.683-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Sociální sítě",
  :published #inst "2006-11-08T09:52:19.753-00:00",
  :url "socialni-site",
  :id 191,
  :description
  "Sociální sítě se vezou na vlně Webu 2.0, již jsem také uvízl.",
  :category "Jen tak",
  :tags ["web20"]},
 :158-texy-net-1-0-beta.aspx
 {:html
  "<h3 id=\"toc-update\">Update</h3> <p><img src=\"/data/obrazky/texy-net.png\" class=\"right\" alt=\"Texy.net logo\" /> Beta 2 respektuje změny v rozhranní <a href=\"http://www.texy.info/cz/xmlrpc\">Texy! XML-RPC</a> a již plně podporuje definování povolených classů, stylů a tagů. Zatím nevyřešenou věcí je komprese přenášeného textu. <strong>Verze beta 1 již není funkční a je nutné jí nahradit betou 2!</strong></p> <h3 id=\"toc-ke-stazeni\">Ke stažení</h3> <ul> <li><a href=\"/data/soubory/Texy-net-10-beta2.zip\">Texy.net 1.0 beta 2</a> (obsahuje potřebné knihovny, dokumentaci a zdrojové kódy)</li> <li><a href=\"/data/soubory/TexyNet.vsi\">Šablona do Visual Studia s ukázkou použití</a></li> </ul> <hr /> <p>Konečně jsem dopsal knihovnu, která zpřístupňuje <a href=\"http://www.texy.info/cz/\">Texy!</a> pro dotnet 2.0 aplikace. Knihovna interně využívá <a href=\"http://www.texy.info/cz/xmlrpc\">Texy! XML-RPC</a> za pomocí knihovny <a href=\"http://www.xml-rpc.net/\">XML-RPC.net</a>. Implementováno je skoro vše, krom GZip komprimace přenosu (v příští verzi přibude možnost přenos komprimovat) <del>a ještě není plně funkční definování povolených classů, stylů a tagů – konkrétní implementaci musím ještě probrat s <a href=\"http://www.dgx.cz/trine/\">DGX</a> :)</del></p> <h3 id=\"toc-ukazka-pouziti\">Ukázka použití</h3> <pre class=\"xml\"><code>&lt;%@ Page Language=\"C#\" AutoEventWireup=\"true\" CodeFile=\"Default.aspx.cs\" Inherits=\"_Default\" %&gt; &lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt; &lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt; &lt;head runat=\"server\"&gt; &lt;title&gt;Ukázka Texy.net&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;form id=\"form1\" runat=\"server\"&gt; &lt;div&gt; &lt;asp:TextBox ID=\"Input\" runat=\"server\" TextMode=\"multiline\"&gt;&lt;/asp:TextBox&gt; &lt;br /&gt;&lt;asp:Button ID=\"SubmitButton\" runat=\"server\" OnClick=\"SubmitButton_Click\" Text=\"Převést\" /&gt; &lt;asp:Literal ID=\"Output\" runat=\"server\"&gt;&lt;/asp:Literal&gt; &lt;/div&gt; &lt;/form&gt; &lt;/body&gt; &lt;/html&gt;</code></pre> <pre class=\"csharp\"><code>using System; using System.Data; using System.Configuration; using System.Web; using System.Web.Security; using System.Web.UI; using System.Web.UI.WebControls; using System.Web.UI.WebControls.WebParts; using System.Web.UI.HtmlControls; using PBSoftware.Gryphoon.TexyRpc; public partial class _Default : System.Web.UI.Page { protected void SubmitButton_Click(object sender, EventArgs e) { Texy texy = new Texy(Input.Text); bool useConfiguration = true; texy.Configuration.HeadingModule.Top = 3; Output.Text = texy.ToXhtml(useConfiguration); } }</code></pre> <p>Ukázková stránka obsahuje tlačítko <code>SubmitButton</code> po jehož stisknutí dojde k převedení obdahu TextBoxu <code>Input</code> pomocí Texy! a výsledek je vypsám pomocí Literalu <code>Output</code>.</p> <p>Knihovnu uvolňuji k volnému použití pod <strong>Creative Commons</strong> licencí. Případné připomínky zanechte v komentářích. :) V balíčku je i <a href=\"/sandbox/texy-doc/index.html\">dokumentace</a>.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:34:18.630-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Texy.net 1.0 beta 2",
  :published #inst "2006-06-19T15:30:00.000-00:00",
  :url "texy-net-1-0-beta",
  :id 158,
  :description
  "Uvolňují druhou beta verzi dotnet knihovny zpřístupňující Texy!",
  :category "ASP.NET 2.0",
  :tags ["texynet"]},
 :194-prednaska-o-msbuild.aspx
 {:html
  "<p>Minulý týden jsem měl malou přednášku pro své kolegy, která si kladla za cíl proniknout do tajů MSBuildu, aspoň trošku. Malinko, prostě vědět o čem je řeč :)</p> <p>Slíbil jsem, že dám slidy k dispozici na mým blogu, teda tady, tak jo. Přikládám <a href=\"/data/soubory/MSBuild.ppt\">prezentaci</a>. Možná taky ještě jeden spot věnuji podrobnějšímu výkladu, ale to by se mi muselo hodně chtít :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:43:28.900-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Přednáška o MSBuild",
  :published #inst "2006-11-14T17:57:05.463-00:00",
  :url "prednaska-o-msbuild",
  :id 194,
  :description "Slidy z přednášky o MSBuild.",
  :category "Moje práce",
  :tags ["msbuild"]},
 :391-dancing-monster.aspx
 {:html
  "<p>Další z řady nesmyslných hudebních počinů z Vinohradské dílny. Tentokrát ve stylu surového techna.</p> <div class=\"haudio\"> <ol> <li class=\"item\"><span class=\"contributor\">Cirez D</span> — <span class=\"title\">Exit</span></li> <li class=\"item\"><span class=\"contributor\">Dubfire</span> — <span class=\"title\">Rejekt</span></li> <li class=\"item\"><span class=\"contributor\">Nic Fanciulli</span> &amp; <span class=\"contributor\">Andy Chatterley</span> — <span class=\"title\">Talla-Hause</span></li> <li class=\"item\"><span class=\"contributor\">Loco Dice</span> — <span class=\"title\">La Bicicletta</span></li> <li class=\"item\"><span class=\"contributor\">Paolo Mojo</span> — <span class=\"title\">He's The Man</span></li> <li class=\"item\"><span class=\"contributor\">Boombeck</span> — <span class=\"title\">Dance I Said</span></li> <li class=\"item\"><span class=\"contributor\">Popof</span> — <span class=\"title\">Roxy</span></li> <li class=\"item\"><span class=\"contributor\">Cirez D</span> — <span class=\"title\">The Tumble</span></li> </ol> <p><span class=\"category\">dj set</span> <span class=\"contributor\">Alessio Busta</span> – <span class=\"title\">Dancing Monster</span></p> </div> <!--[if !IE]> --> <object type=\"application/x-shockwave-flash\" data=\"//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-dancing-monster%2F&amp;embed_uuid=95b27781-1310-4945-b19d-450bc5ae5e16&amp;stylecolor=&amp;embed_type=widget_standard\" width=\"100%\" height=\"160\"> <!-- <![endif]--> <!--[if IE]> <object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" codebase=\"http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0\" width=\"100%\" height=\"160\"> <param name=\"movie\" value=\"//www.mixcloud.com/media/swf/player/mixcloudLoader.swf?feed=http%3A%2F%2Fwww.mixcloud.com%2Falesroubicek%2Falessio-busta-dancing-monster%2F&amp;embed_uuid=95b27781-1310-4945-b19d-450bc5ae5e16&amp;stylecolor=&amp;embed_type=widget_standard\" /> <!--><!--dgx--> <param name=\"loop\" value=\"true\" /> <param name=\"menu\" value=\"false\" /> <param name=\"allowfullscreen\" value=\"true\" /> <param name=\"flashvars\" value=\"\" /> </object> <!-- <![endif]--> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-09-29T14:12:21.160-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Dancing Monster",
  :published #inst "2010-06-29T16:56:59.760-00:00",
  :url "dancing-monster",
  :id 391,
  :description
  "Další z řady nesmyslných hudebních počinů z Vinohradské dílny. Tentokrát ve stylu surového techna.",
  :category "Muzika",
  :tags []},
 :240-asp-net-mvc-je-venku-v-preview-verzi.aspx
 {:html
  "<p>Je tomu pár hodin, co Microsoft uvolnil ASP.NET Extensions CTP. Součástí balíčku je ASP.NET MVC framework, nové extenze pro AJAX, podpora Silverlightu, Scraffolding framework pro WebForms i MVC a podpora REST like datových služeb.</p> <p>No není toho zrovna málo, jen škoda, že se to nevešelo do 3.5 frameworku. Paralelně má vyjít „Astoria“ alias ADO.NET Entity Framework, což je ORM postavené nad LINQem.</p> <p>No nebudu déle zdržovat. Stáhnout si můžete <a href=\"http://asp.net/downloads/3.5-extensions/\">ASP.NET Extensions</a> a ještě <a href=\"http://asp.net/downloads/3.5-extensions/MVCToolkit.zip\">MVC Toolkit</a>. Přečíst si o nich můžete tady: <a href=\"http://www.google.com/reader/shared/user/02522501341949674670/label/aspnet-mvc\">Zdroje o ASP.NET MVC</a>.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:08:24.460-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "ASP.NET MVC je venku v preview verzi",
  :published #inst "2007-12-10T07:39:03.917-00:00",
  :url "asp-net-mvc-je-venku-v-preview-verzi",
  :id 240,
  :description
  "Je tomu pár hodin, co Microsoft uvolnil ASP.NET Extensions CTP.",
  :category "Webdesign",
  :tags ["aspnet" "mvc" "silverlight" "rest"]},
 :70-nazpet-z-dovolene.aspx
 {:html
  "<p>V&#160;sobotu jsem se vrátil z&#160;týdenní dovolené v&#160;Chorvatsku. Byl jsem ve městě Punat na ostrově Krk. Počasí bylo dostatečně pěkné na focení pěkných snímků :) ale i&#160;na koupání a opalování.</p> <p>Už tři dny před odjezdem jsem se vysekal na kole a sedřel jsem si obě ruce a narazil pravou, se kterou ještě teď nemůžu moc dělat namáhavé věci. Na dovolenou jsme jeli autem, takže jsem nespal 48&#160;hodin, a nakonec jsem si s&#160;sebou dovezl nějakýho bacila, takže jsem 4&#160;dny z&#160;dovolený proležel v&#160;horečkách v&#160;posleteli. Náramně jsem si to užil.</p> <div class=\"center image\"><img src=\"/images/dovolena.jpg\" alt=\"foto z dovolené\" /> <p>Večerní pohled z&#160;pláže na město Krk (vpravo) a ostrov Cres (vlevo)</p> </div> <p>Poslední den jsem šel s&#160;rodičema na oběd do místní restaurace a nakonec jsem podlehl a dal si <strong>Callamari</strong>. Byl to můj první pokus o&#160;pozření &#8222;mořských plodů&#8220; a myslim, že i&#160;poslední. Jinak se mi dovolená líbila a mám z&#160;ním i&#160;pár pěkných fotek. Až zprovoznim galerii, tak je tam umístim :)</p> <!-- generated by Texy! -->",
  :keywords "dovolena, krk, punat, kalamari",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nazpět z dovolené",
  :published #inst "2005-09-20T22:27:49.000-00:00",
  :url "nazpet-z-dovolene",
  :id 70,
  :description "V sobotu jsem se vrátil z dovolené.",
  :category "Jen tak",
  :tags []},
 :282-mikroformaty-v-hledani-yahoo.aspx
 {:html
  "<p>Dnes se podíváme na jedno z praktických užití <a href=\"http://www.microformats.org/\">mikroformátů</a> – sémantické hledání. Možná jste si už položili otázku, k čemu vlastně ty mikroformáty jsou dobré. Ok, mají přidávat nějakou sémantiku do dokumentu, u hCard je přínos zřejmý, ale co dál? Jednou z možností jak využít sémanticky obohacené dokumenty je bohatší hledání.</p> <h3 id=\"toc-aktivace-modulu\">Aktivace modulů</h3> <p><a href=\"http://search.yahoo.com/\">Yahoo Search</a> nedávno přišlo s takzvaným uživatelsky upravitelným hledáním. Registrovaný uživatel si může do hledání přidat sémantické moduly, které upraví interpretaci výsledků. V základu jsou však aktivní pouze tři moduly upravující výsledky z Flickeru, Videa a Yahoo Travel. Zbylé si uživatel musí aktivovat sám. Jak na to?</p> <ol> <li>Přejděte na <a href=\"http://jdem.cz/adsb5\">stránku s výsledky</a>.</li> <li>Rozbalte nabídku <em>Customize</em></li> <li>Vyberte <em>Browse Gallery</em></li> <li>Zaškrtněte si třeba LinkedIn a stiskněte <em>Add</em></li> <li>Pak tlačítko <em>Add</em> zmáčkněte ještě jendou</li> <li>A pak zmáčkněte tlačítko <em>Save</em></li> </ol> <p>No nyní už můžete využívat sémanticky bohatší výsledky z LinkedIn ve výsledcích hedání. Aktivace modulů není to, zrovna procházka růžovým sadem, Yahoo by mělo trochu zapracovat na použitelnosti. Ale ve výsledku to funguje a to je hlavní.</p> <h3 id=\"toc-jak-to-vypada-v-praxi\">Jak to vypadá v praxi</h3> <p>V základu tedy máte generické výsledky fulltextu.</p> <div class=\"image\"><img src=\"/data/obrazky/y_generic.png\" alt=\"generický výsledek hledání\" width=\"580\" height=\"76\" /></div> <p>Po aktivaci sémantického modulu <strong>LinkedIn</strong>, se struktura výsledku změní .</p> <div class=\"image\"><img src=\"/data/obrazky/y_semantic.png\" alt=\"sémantický výsledek hledání\" width=\"377\" height=\"115\" /></div> <p>Po aktivaci sémantického modulu <strong>Last.fm</strong> vypadá výsledek interpreta následovně.</p> <div class=\"image\"><img src=\"/data/obrazky/y_music.png\" alt=\"sémantický výsledek hledání\" width=\"578\" height=\"214\" /></div> <p>Zatím je to jedna z prvních vlaštovek, tuším, že mikroformáty používá v hledání i <a href=\"http://www.technorati.com/\">Technorati</a>, ale každý jiným způsobem. <a href=\"http://www.google.cz/\">Google</a> má něco podobného pro Youtube a obrázky. V <a href=\"http://search.live.com/\">Live Search</a> jsem nic podobného nepostřehl… Pro mě osobně je zajímavé sledovat vývoj na tomto poli a jsem zvědavý, jakých implementací se dočkáme dále.</p> <h3 id=\"toc-souvisejici\">Související</h3> <ul> <li><a href=\"/weblog/267-vkladani-data-do-stranky.aspx\">Vkládání data do stránky</a></li> <li><a href=\"/weblog/256-mikroformaty-duvod-proc-pouzivat-xhtml.aspx\">Mikroformáty – důvod proč používat XHTML</a></li> </ul> <p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/microformats\">Microformats</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/search\">Search</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T11:19:32.180-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Mikroformáty v hledání Yahoo",
  :published #inst "2008-06-10T14:26:12.010-00:00",
  :url "mikroformaty-v-hledani-yahoo",
  :id 282,
  :description
  "Dnes se podíváme na jedno z praktických užití mikroformátů – sémantické hledání.",
  :category "Webdesign",
  :tags ["microformats" "yahoo" "search"]},
 :180-personalizace-rss-exportu-z-weblogy-cz.aspx
 {:html
  "<p>V článku <a href=\"http://www.dgx.cz/trine/item/dobry-web-je-nasim-nedostiznym-vzorem\">Dobrý web je naším vzorem</a> na La Trine došlo i na téma <a href=\"http://www.weblogy.cz/\">Weblogy.cz</a> a personalizace. Někdo si posteskl, že se na této službě vyskytují články, o které nemá zájem, a že by některé zdroje neměly být v této službě agregovány.</p> <p>Pokud tedy nechcete články z některého ze zdrojů na Weblozích vidět, stačí si v <a href=\"http://www.weblogy.cz/zdroje/\">seznamu zdrojů</a> nežádaný zdroj zablokovat pomocí volby blokovat, za jménem zdroje. Málo kdo však ví, že podobně jde personalizovat i RSS export z této služby.</p> <p>Konkrétně <a href=\"http://www.dgx.cz/trine/item/dobry-web-je-nasim-nedostiznym-vzorem#comment-7646\">DGX si posteskl</a>, že to nejde. No a dnešní článek je otom, že to jde. :) Jak na to?</p> <p>Například pokud se vám nelíbí články z mého blogu, přidejte si do adresy <a href=\"http://www.weblogy.cz/export/rss/\">RSS exportu Weblogů</a> parametr <code>blacklist=146</code>. Kde 146 je id mého blogu. Toto id zjistíte právě v URL tlačítka blokovat. Takže výsledný export bez Rarouš Weblogu bude mít URL: <code>http://www.weblogy.cz/export/rss/?blacklist=146</code>. Parametr blacklist přijímá kolekci idček oddělených čárkou, takže tímto způsobem můžete zakázat více zdrojů.</p> <p>A to je vše.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:17:01.157-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Personalizace RSS exportu z Weblogy.cz",
  :published #inst "2006-09-14T13:21:44.800-00:00",
  :url "personalizace-rss-exportu-z-weblogy-cz",
  :id 180,
  :description
  "Nedokumentované přepínače pro RSS export oblíbené agregační služby.",
  :category "Webdesign",
  :tags ["rss" "weblogy"]},
 :411-czpodcast.aspx
 {:html
  "<p><a href=\"http://www.jirifabian.net/\">Filemon</a> a <a href=\"http://www.dagblog.cz/\">Dagi</a> si mě pozvali <a href=\"http://java.cz/article/cz-podcast-57-pokec-s-alesem-roubickem-o-windows-azure-code-retreat-a\">na slovíčko do CZpodcastu</a>, abychom si popovídali o vývoji jak ho vidím já.</p> <p>Pokud vás to zajímá, můžete <a href=\"http://s3-eu-west-1.amazonaws.com/czpodcast-1/czpodcast57.mp3\">přiložit své ucho sem</a>.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-11-26T09:01:24.107-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "CZpodcast",
  :published #inst "2011-11-26T08:59:21.740-00:00",
  :url "czpodcast",
  :id 411,
  :description
  "Filemon a Dagi si mě pozvali na slovíčko do CZpodcastu, abychom si popovídali o vývoji jak ho vidím já.",
  :category "Jen tak",
  :tags ["podcast" "azure" "coderetreat" "agile"]},
 :201-africanism-mix-by-alessio-busta.aspx
 {:html
  "<ol> <li>Africanism feat Jesse Garcia – Copagabana</li> <li>Africanism by Yves Larock – Zookey (Lift Your Legs Up) (Original Mix)</li> <li>Copyright – We can Rise (Energy Re-Edit)</li> <li>Africanism All Stars – Summer Moon (Bob Sinclar Remix)</li> <li>Junio Jack – E-Samba (David Penn Remix)</li> <li>Africanism by Martin Solveig – Madam</li> <li>Omar – It's So (Bob Sinclar Vocal Mix)</li> <li>Axwell feat. Steve Edwards – Watch the Sunrise (Bob Sinclar Mix)</li> <li>Africanism All Stars – Hard (Bob Sinclar Original Mix)</li> <li>Africanism by Martin Solveig – Edony (Crowdy Short Edit)</li> <li>Africanism by Bob Sinclar – Juju Beat / Feelappela</li> <li>Bob Sinclar – I feel for You (I feel for disco Mix)</li> <li>Gossip – Standing in the way of control (Playgroup Mix)</li> <li>Tomaz vs. Filterheadz – Sunshine</li> </ol> <p>Ke stažení <a href=\"http://www.rarousmusic.com/mp3/alessio_busta_-_africanism_mix-rm.mp3\" onclick=\"javascript:_gat._getTracker(\">Africanism Mix by Alessio Busta</a> (MP3 128 kbps; 62,5 MiB)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T14:10:26.507-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Africanism Mix by Alessio Busta",
  :published #inst "2007-03-07T08:37:26.830-00:00",
  :url "africanism-mix-by-alessio-busta",
  :id 201,
  :description "Africanism vol. 4",
  :category "Muzika",
  :tags []},
 :359-vracet-list-je-spatne.aspx
 {:html
  "<p>Přinejmenším na veřejnosti. Mnohdy se v různých APIs můžete setkat s tím, že různé objekty veřejně vystavují metody/vlasnosti, které mají návratový typ <code>List&lt;T&gt;</code>, v lepším případě <code>IList&lt;T&gt;</code>. Krásná ukázka nerozvážného návrhu.</p> <h3 id=\"toc-proc-je-spatne-vracet-list-t\">Proč je špatné vracet <code>List&lt;T&gt;</code></h3> <p>Když vracíte <code>List&lt;T&gt;</code>, znamená to, že říkáte všechno o vnitřní implementaci a zavíráte si vrátka pro její možnou změnu. Generický List sice neni nerozšiřitelný (<code>sealed</code>), ale ani nebyl při návrhu moc k rozšiřování zamýšlen. Navíc tim porušujute jeden ze základních principů <acronym title=\"Objektově orientované programování\">OOP</acronym> – a to zapouzdření. Dále tim umožňujete konzumentovi vaši kolekci přímo měnit.</p> <h3 id=\"toc-ukazka-naivniho-lenosneho-pristupu\">Ukázka naivního/lenošného přístupu</h3> <p>Pro ukázku mějme třídu reprezentující uživatele <code>User</code>, kterému můžeme přiřadit uživatelské role <code>Role</code>. Naivní přístup:</p> <pre class=\"csharp\"><code>public class User { public List&lt;Role&gt; Roles { get; private set; } } public class UserConsumerCode { public void SomeMethod { var user = new User(); user.Roles.Add(Role.Admin); // ... user.Roles.Remove(Role.Reviewer); // ... var isAdmin = user.Roles.Contains(Role.Admin); } }</code></pre> <p>Jak vidíte, klient má nad kolekcí rolí uživatele plnou moc. Může si přidávat, odebírat, přetřizovat jak se mu zlíbí. A my nemáme nejmenší šanci tyto celkem důležité operace jakkoli ovlivnit, nebo u nich vědět. Kdybychom změnili typ kolekce <em>Roles</em> na <code>IList&lt;Role&gt;</code>, tak sice můžeme změnit vnitřní implementaci a místo <code>List&lt;T&gt;</code> použít třeba <code>LinkedList&lt;T&gt;</code>, ale stále zveřejňujeme příliš mnoho. Jedinou výhodou tohoto řešení je, že jsme nemuseli napsat moc kódu a máme hodně funkcionality.</p> <h3 id=\"toc-jak-zlepsit-nas-kod\">Jak zlepšit náš kód?</h3> <p>Rovnou přeskočím použití <code>ICollection&lt;T&gt;</code>, a přejdeme k tomu, jak by to mělo vypadat. Zachováme si zapouzdření, uzavřeme se vůči nechtěné manipulaci z vnějšku a otevřeme se snadným vnitřním změnám a rozšiřitelnosti (<a href=\"http://en.wikipedia.org/wiki/Open/closed_principle\">Open/closed principle</a>).</p> <pre class=\"csharp\"><code>public class User { private readonly ICollection&lt;Role&gt; _roles; public User() { _roles = new List&lt;Role&gt;(); } public IEnumerable&lt;Role&gt; Roles { get { return _roles.ToArray(); } } public void AddRole(Role role) { _roles.Add(role); } public void RemoveRole(Role role) { _role.Remove(role); } public bool IsInRole(Role role) { return _roles.Contains(role); } }</code></pre> <p>Pěkně jsme obohatili a zpřehlednili naše API (zápis <code>user.IsInRole(Role.Admin)</code> říká mnohem více, než <code>user.Roles.Contains(Role.Admin)</code>, navíc neporušuje <a href=\"http://en.wikipedia.org/wiki/Law_of_Demeter\">Demeterův zákon</a>), skryli jsme implementační detaily a zároveň nechali otevřená vrátka pro snadnou výměnu vnitřní implementace… Dalším krokem by měly být kontrakty manipulačních metod, aby byly bezpečné. Dále pak můžeme přidat vyvolávání událostí, abychom o manipulaci věděli. Míst pro rozšíření je tu spousta.</p> <h3 id=\"toc-hloupa-otazka-na-zaver\">Hloupá otázka na závěr</h3> <blockquote> <p>„Ale, jak teď zjistim, kolik rolí má uživatel přiřazených, když <code>IEnumerable</code> nemá vlastnost <code>Count</code> ani <code>Length</code>?“ <code>using System.Linq;</code> ;)</p> </blockquote> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-08-01T09:09:45.237-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vracet List je špatné",
  :published #inst "2009-08-01T08:51:21.480-00:00",
  :url "vracet-list-je-spatne",
  :id 359,
  :description
  "Občas pohodlnost vyhrává a zadělává na zasmrádnutý kód, který přináší problémy. Pojďme vymítit jednu ze zhůvěřilostí \"kreativního\" návrhu. ",
  :category "ASP.NET 2.0",
  :tags ["refactoring" "csharp"]},
 :80-dalsi-plug-in-pro-firefox-od-microsoftu.aspx
 {:html
  "<p>Dnes ráno jsem do dověděl, že i&#160;Microsoft má svůj vlastní plug-in (ne rozšíření) a to plug-in, který má usnadnit použití <em>Nástroje na ověření pravosti systému Windows.</em> Dosud byli uživatelé prohlížečů odvozených od Mozilly nuceni požít alternativní utilitku, která generovala klíč, který pak musel uživatel ručně zadat do formulářového pole, což se dá zneužít k&#160;podstrčení validního klíče. Microsoft však přichází s&#160;novinkou, která má ověřování pravosti zautomatizovat podobně jako tomu je u&#160;InternetExploreru se zapnutým ActiveX.</p> <p>Nakonec ještě <a href=\"http://www.microsoft.com/genuine/downloads/Validate.aspx\">link na instalační stránku</a>. Zde se můžete dozvědět více (v&#160;češtině) a stáhnout instalátor pluginu. Doufám, že brzo vyjde i&#160;plug-in na použití WindowsUpdate :)</p> <!-- generated by Texy! -->",
  :keywords "Microsoft Geniune Firefox Mozilla",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Další plug-in pro Firefox od Microsoftu",
  :published #inst "2005-11-17T07:20:07.143-00:00",
  :url "dalsi-plug-in-pro-firefox-od-microsoftu",
  :id 80,
  :description
  "Jak se zdá, Microsoft změnil svůj postoj ke konkurečním prohlížečům.",
  :category "Tuning",
  :tags []},
 :442-parametrizace-balicku.aspx
 {:html
  "<p>Balíček <a href=\"/weblog/441-jeden-balicek-na-vsechno.aspx\">je připravený k nasazení</a>, ale je potřeba ho ještě nakonfigurovat. Jedna možnost je projít ručně konfigurační soubory na file systému… Počkat, kam se to vlastně nahrálo!?</p> <p>Pokud vezmete balíček tak, jak byl, a nainstalujete ho přes IIS manager, dostanete možnost vyplnit pár vydedukovaných parametrů:</p> <div><img src=\"http://content.screencast.com/users/rarous/folders/Jing/media/94830720-0673-43cc-88e2-b4998a8643c8/2013-03-20_1024.png\" alt=\"\" /></div> <p>Tak jako dobrý, ale je tam spousta duplicit a co je to <strong>Parameter 1</strong>? Moc uživatelsky příjemné to teda není. Navíc, když to potvrdíme a pokračujeme dál, tak to spadne na instalaci windows služby. Proč? Protože ve scriptu je jiná cesta ke službě než kam se ve výsledku nakopírovala. Problémy, jen samé problémy. Naštěstí jdou snadno vyřešit.</p> <h3 id=\"toc-parameters-xml\">Parameters.xml</h3> <p>MS Deploy naštěstí umí <a href=\"http://technet.microsoft.com/en-us/library/dd569084(v=ws.10).aspx\">definovat a následně i nastavovat parametry</a>. Můžeme to udělat buď pomocí parametrů z příkazové řádky nebo pomocí XML souboru s definicí parametrů. Já zvolil druhou variantu:</p> <pre class=\"xml\"><code>&lt;parameters&gt; &lt;parameter tags='IisApp' defaultValue='MultiConnector\\$instance' name='IIS Web Application Name'&gt; &lt;parameterEntry kind='ProviderPath' scope='IisApp' match='^$($webSource.Replace(`\"\\`\", `\"\\\\`\").Replace(`\".`\", `\"\\.`\"))$'/&gt; &lt;parameterEntry kind='ProviderPath' scope='setAcl' match='^$($webSource.Replace(`\"\\`\", `\"\\\\`\").Replace(`\".`\", `\"\\.`\"))$'/&gt; &lt;/parameter&gt; &lt;parameter tags='WinSvc' defaultValue='$destPath\\$instance' name='Windows service path'&gt; &lt;parameterEntry kind='ProviderPath' scope='dirPath' match='^$($winSource.Replace(`\"\\`\", `\"\\\\`\").Replace(`\".`\", `\"\\.`\"))$'/&gt; &lt;parameterEntry kind='TextFile' scope='Presync\\.cmd$' match='$($destPath.Replace(`\"\\`\", `\"\\\\`\").Replace(`\".`\", `\"\\.`\"))\\\\$instance'/&gt; &lt;parameterEntry kind='TextFile' scope='Postsync\\.cmd$' match='$($destPath.Replace(`\"\\`\", `\"\\\\`\").Replace(`\".`\", `\"\\.`\"))\\\\$instance'/&gt; &lt;/parameter&gt; &lt;parameter tags='SqlConnectionString' defaultValue='$connString' name='Connection String' description='MultiConnector Connection String used in web.config by the application to access the database.'&gt; &lt;parameterEntry kind='XmlFile' scope='Web\\.config$' match='//connectionStrings/add[@name=`\"MultiConnector`\"]/@connectionString'/&gt; &lt;parameterEntry kind='XmlFile' scope='Svc\\.exe\\.config$' match='//connectionStrings/add[@name=`\"MultiConnector`\"]/@connectionString'/&gt; &lt;parameterEntry kind='ProviderPath' scope='dbDacFx' match='^$($dbSource.Replace(`\"\\`\", `\"\\\\`\").Replace(`\".`\", `\"\\.`\"))$'/&gt; &lt;/parameter&gt; &lt;/parameters&gt;</code></pre> <p>V UI jsou definována políčka pro tři parametry.</p> <ol> <li>Nastavuje název webové aplikace v IIS</li> <li>Nastavuje cestu k windows service</li> <li>Nastavuje connection string aplikace</li> </ol> <p>Tyto parametry jsou použity na několika místech (zbavili jsem se duplicit v UI). Například cesta k windows service se aktualizuje i ve vygenerovaných <code>cmd</code> souborech a tak se nám úspěšně nainstaluje windows služba i když změníme cestu k ní. Connection string určuje, kam se nadeployuje DB a aktualizuje se jak ve webové aplikaci, tak ve windows službě.</p> <p>Při volání MsDeploy pro tvorbu balíčku z manifextu, přidáme následující parametr a máme vystaráno:</p> <pre><code>-declareParamFile:$paramFile</code></pre> <p>A výsledek vypadá nějak tak:</p> <div><img src=\"http://content.screencast.com/users/rarous/folders/Jing/media/8a8f1b3b-2bb5-499d-8aef-782e7e1f08ff/2013-03-21_1200.png\" alt=\"\" /></div> <p>A máme uživatelsky přívětivý balíček, který nasadí databázi, web i windows službu, která se nainstaluje a rovnou i spustí. Life's good, dokonce i pro deployment specialisty. ;)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-03-21T13:50:44.420-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Parametrizace balíčku",
  :published #inst "2013-03-21T11:40:57.403-00:00",
  :url "parametrizace-balicku",
  :id 442,
  :description
  "Balíček k nasazení je připravený, ale je potřeba ho ještě nakonfigurovat. Jedna možnost je projít ručně konfigurační soubory na file systému...",
  :category "Moje práce",
  :tags ["msdeploy"]},
 :6-od-frontpage-k-dreamweaveru.aspx
 {:html
  "<p>Náhodou jsem narazil na <a href=\"http://www.adobe.com/devnet/dreamweaver/articles/frontpage_to_dw8_05.html\">článek</a>, kde se radí jak bezbolestně přejít z Frontpage na nový Dreamweaver. Já osobně jsem si na Frontpage nikdy nezvykl, připadá mi jako Word a ten není pro dělání stránek to nejvhodnější. No nebudu nikomu nic vnucovat, ať si každý dělá, v čem se mu chce, ale já nedám na Dreama dopustit.</p> <p>Teď se dokonce dá verze MX <a href=\"http://obchod.digitalmedia.cz/eshop/produkt.aspx?id=ADDWW090C10\">koupit</a> spolu s Fireworksem a Flashem za 6 390 Kč bez daně, což je oproti samotnému MX 2004 za polovinu. Opravdu přesvědčivé.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:30:59.287-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Od Frontpage k Dreamweaveru",
  :published #inst "2004-02-18T09:13:00.000-00:00",
  :url "od-frontpage-k-dreamweaveru",
  :id 6,
  :description "Promo akce k vydání MX 2004",
  :category "Webdesign",
  :tags []},
 :212-net-na-os-x.aspx
 {:html
  "<p>Při zběžném prolétnutí RH článku o Safari pro Windows, jsem narazil na zajímavou větu:</p> <blockquote> <p>OS X je stále minimální nabídka aplikací, téměř nula her, <strong>žádný .NET</strong>, výrazná nestabilita, padání a tuhnutí aplikací i systému, nedostatek ovladačů, neexistující kodeky pro video a audio, solidní přehrávač samotného videa, neexistující pořádný vypalovací software; jeho použitelnost se sice zvyšuje po instalaci Parallels či VMWare a virtualizovaných Windows, nicméně, proč spouštět Windows pomalu pod OS X, když to jde nativně?</p> </blockquote> <p>Přehlédněme teď její délku. Mě jako vývojáře .NET zarazila zvýraznená část textu. Tedy „žádný .NET“. Milý Radku, na OS X můžeš již pár let používat MONO, což je OS implementace .NET. A čerstvě po lehké Silverlight masáži můžu odpřísáhnout, že existuje .NET pro OS X i přímo od Microsoftu, stačí si nainstalovat plug-in <a href=\"http://www.silverlight.net\">Silverligh pro Safari</a> ;)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:37:03.190-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title ".NET na OS X",
  :published #inst "2007-06-13T11:51:31.147-00:00",
  :url "net-na-os-x",
  :id 212,
  :description
  "Radek Hulán píše, že na OS X není žádný dotnet. Opak je pravdou.",
  :category "Webdesign",
  :tags ["macos" "silverlight" "dotnet"]},
 :52-konkurencni-boj-ve-kterem-prohral-zakaznik.aspx
 {:html
  "<p>ČSAD Liberec a.s. byla dlouho monopolním dopravcem na lince Praha-Liberec. Já jsem jejich služeb využíval cestami za vzděláním do Prahy, kde studuji. Když před rokem zvedli cenu jízdenky, docela mě to zamrzelo, ale co se dalo dělat, byla to jediná možnost jak se do školy dostat. Zažíval jsem boje o místo v autobuse, mnohokrát jsem celou cestu musel stát, ale byl jsem rád, že vůbec jedu. Dopravce si pravděpodobně tento problém uvědomoval, proto nakoupil dva autobusy Karosa Ares, kam se vejde mnohem více lidí. V důsledku toho se cestování stalo komfortnějším, protože se některé spoje odlehčily.</p> <p>V listopadu loňského roku však dostal licenci na tento spoj pražský dopravce Hotliner a nedostal brněnský Student Agency. Díky Hotlineru už boje o místo v autobuse skončili a myslím si, že to byla zdravá konkurence. Student Agency ale celou věc medializovalo a domáhalo se svého práva o licenci. Spousta nezasvěcených ČSAD odsoudilo, že je to zloděj a monopol a že nechce pustit konkurenci, přitom už konkurenci měl v podobě Hotlinera.</p> <p>Nakonec Student Agency licenci dostal a začal boj o ceny. Kvůli tomu muselo ČSAD snížit cenu jízdenky. Dobrý krok pro cestující na lince Praha-Liberec. Bohužel ČSAD nejezdí pouze na této trase, ale zabezpečuje dopravní obslužnost ve vesničkách po celém Libereckém okrese. Tyto linky jsou pro dopravce ztrátové, protože na nich nejezdí tolik lidí. Ztrátovost těchto linek kompenzovalo ziskem z linky Praha-Liberec, teď když kvůli Student Agency museli snížit cenu jízdenky do Prahy nebudou zisky stačit na pokrytí ztrátových linek a ty budou v důsledku toho zrušeny.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-10T09:57:08.073-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Konkurenční boj, ve kterém prohrál zákazník",
  :published #inst "2005-03-07T16:00:00.000-00:00",
  :url "konkurencni-boj-ve-kterem-prohral-zakaznik",
  :id 52,
  :description "",
  :category "Jen tak",
  :tags []},
 :446-kratka-pohadka-o-zlobivych-bytech-v-db.aspx
 {:html
  "<p>„Celý je to pomalý a taví nám to databázi. Vždyť tam máme pár uživatelů a už to nezvládá. To jste se vyznamenali, borci.“ A to byl začátek celkem slušného redesignu, dva měsíce po spuštění do produkce, s celkem zajímavě naplněnou databází. Po létě proseděným ve stínu kolbenky, značném vyčerpání z posunování vostrýho startu. Krásná vize na barevný podzim a začátek zimy.</p> <p>A za celým tím byla úžasná myšlenka <strong>ukládat obrázky do databáze</strong>. Vždyť MS SQL to umí, dokonce má datový typ <code>FileStream</code>, který ukládá soubory „fyzicky“ na file systém! Jistoty, prosperita. Samý profit. Vzpomínáte na Longhorn a jeho geniální WinFS, která měla spasit správu souborů?</p> <h3 id=\"toc-o-necely-rok-drive\">O necelý rok dříve</h3> <p>Když jsem s novým rokem nastupoval do nového zaměstnání, projekt už pár měsíců běžel. Při procházení datové vrstvy mě zarazila jedna věc a to, že se obrázky ukládaly přímo do databáze. Entity, které měly navázané obrázky prostě obsahovaly vlastnost typu <code>byte[]</code>. Puristický dogmatik ve mně zpozorněl. „Přijde vám ukládat nerelační data do relační databáze ok? Mně teda ne.“ Říkám pánům architektům. Neviděli na tom nic špatného a jelo se dál.</p> <p>Za pár měsíců se rozhodlo, že budeme hostovat v cloudu. SQL Azure sice <code>FileStream</code>y neumí, ale pořád můžeme mít <code>varbinary</code> sloupce. Mně se to furt nezdálo. Je to „good enough,“ jak se s oblibou říkalo.</p> <p>Problem solved.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-04-04T07:54:11.693-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Krátká pohádka o zlobivých bytech v DB",
  :published #inst "2013-04-03T20:19:58.777-00:00",
  :url "kratka-pohadka-o-zlobivych-bytech-v-db",
  :id 446,
  :description "Zmrdem snadno a rychle za pár měsíců.",
  :category "Moje práce",
  :tags []},
 :453-legacy-code-writer-part-1.aspx
 {:html
  "<p>Dostal jsi nový úkol. Zadání zní jasně:</p> <blockquote> <p>Přidat jednoduchou featuru do korporátního projektu.</p> </blockquote> <p>Sice o tom nic nevíš, ale požadavky zní rozumně a jednoduše. To přece zvládneš.</p> <p>Nebo si to aspoň myslíš. Dokud neotevřeš ty zpropadený zdrojáky.</p> <p>Nehoráznej bordel. Který prase tohle mohlo napsat? Na monitoru vidíš jen změť špaget a lasagní. Ach. Vypadá to, jako by někdo záměrně vytvořil sbírku všech známých anti-patternů.</p> <p>Vztek roste, pomalu začínáš nenávidět toho, kdo tohle zvěrstvo způsobil. Tahle hromada sraček ti nedovoluje pracovat tak, jak ti tvé svědomí káže a jak bys opravdu chtěl. Chceš přece dělat dobrý řemeslo, držet se oblíbených vzorů. Sám sobě jsi slíbil, že budeš psát kód s vysokou kohezí, volnými vazbami a ty sám nejlíp víš s čim… <strong>Ale zkrátka to není možný.</strong></p> <p>Jak taky? Ten neschopnej blbec všude používá <strong>globální proměnné</strong>, skoro všechno je <strong>statický</strong>, <strong>kód se na mnoha místech opakuje</strong> a navíc <strong>nikde žádný testy</strong>!</p> <p>A hele, tady dokonce používá magický konstanty!</p> <pre class=\"csharp\"><code>int HRW_UND = 12;</code></pre> <p>Co sakra může ta dvanáctka znamenat? A co je to <code>HRW_UND</code>? Uff. Ať schoří v pekle, ten bastard!</p> <p>Tak. Nemáš moc času, deadline se neúprosně blíží a tys měl přece jen přidat jednoduchou featuru a ne refactorovat celé to boží dopuštění. To přece není tvoje práce! Ne asi.</p> <h3 id=\"toc-legacy-kod-vzdycky-vyhraje-nad-cistym-kodem\">Legacy kód vždycky vyhraje nad čistým kódem</h3> <p>Tak jo, ten dobrák, co udělal tuhle spoušť vyhrál. Přidáš tam tu featuru bez striktního dodržování svých zásad. Proč ne? Vždyť ty za tenhle bordel přece nemůžeš, tys ho neudělal, musíš akorát dokončit svůj úkol. O to tu jde.</p> <p>Byl jsi donucenej dělat pod svoje možnosti. Ale není to tvoje chyba. Máš dobré důvody, vždyť je to přece chyba autora legacy kódu.</p> <p>Tady bys chtěl předat závislost pomocí <strong>dependency injection</strong>, ale úsilí překopat celou tuhle šílenou věc by několikrát překročilo rámec tvé featury. Všechno je statický, nikde žádná rozhraní, brutální dědičnost a spousta výskytů operátoru <code>new</code>… Nemáš čas a ta šílená code base ti vůbec nepomáhá. <em>Srát na Inversion of Control</em>!</p> <p>Radši přidáš statickou metodu do service locatoru. Sice nenávidíš service locator, ale je prolezlej úplně všude a nejde se ho lehce zbavit.</p> <p>A tady je zas metoda, která řeší dvě různý věci najednou. Ty bys potřeboval jen jednu, ale celý je to tak propletený. Je to pěkně těžký oddělit tyhle dvě různý věci od sebe, protože ta třída ani nejde otestovat. Nakonec radši zkopíruješ tu část kódu, kterou potřebuješ a vložíš ji tam, kde se ti bude hodit.</p> <p>Hej! A co tahle 50 řádková metoda s 18 <code>if</code>ama? Proč ten vůl nepoužil strategii? Refactorovat celý to zvěrstvo, nebo přidat 19. <code>if</code>? :) Tak určitě! Ať původní autor shoří v pekle!</p> <p>Konečně. Teď ještě potřebuješ konfigurační parametr. Normálně bys to poslal přes property injection, ale původní autor použil <code>HRW_UND = 12</code>, tak tam prdneš <code>HRW_UND = 98</code>.</p> <p><strong>Je to jeho vina.</strong></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-06-01T19:52:22.623-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Legacy code writer - part 1",
  :published #inst "2013-06-01T18:50:30.303-00:00",
  :url "legacy-code-writer-part-1",
  :id 453,
  :description "Malý exkuz do produkce legacy kódu.",
  :category "Moje práce",
  :tags []},
 :266-skandalni-odhaleni.aspx
 {:html
  "<p>Kódové označení: rarouš<br /> Verze: Microsoft Cylon 4.02 SP1 Hollywar Edition<br /> Datum posledního updatu: CET 21:45 16.4.2008</p> <p>rarouš – robotická bytost (<a href=\"http://en.wikipedia.org/wiki/Cylon_%28re-imagining%29\">cylon</a>) vytvořená v laboratořích v Redmondu pro vedení svatých válek v oblasti střední a východní Evropy. Identických modelů je po Zemi rozmístěno několik.</p> <p>Elektronika je napájena <a href=\"http://cs.wikipedia.org/wiki/Palivov%C3%BD_%C4%8Dl%C3%A1nek\">palivovými články</a> na bázi <a href=\"http://cs.wikipedia.org/wiki/Ethanol\">etanolu</a>, který je nedílnou součásti konzumních lihovin (běžně užívaný metanol, by mohl vzbuzovat u veřejnosti podezření). Nekompatibilní roztoky s koncentrací menší než 35% (typicky pivo) jsou neprodleně ze systému vyloučeny nejkratší možnou cestou. Zbylá voda je vylučována pomocí standardního rozhranní, které je navíc opatřeno USB A konektorem. Tento se používá ke každodennímu 16 hodinovému rituálu (tzv. <a href=\"http://www.lupa.cz/clanky/atlas-ve-sparech-centra-pratelska-prevzeti-neexis\">obcování s počítačem</a>), který slouží k nutné aktualizaci a údržbě systému.</p> <p>Cyloni byly vyvinuti k různým účelům, někteří jsou skvělými marketéry, jiní programátory nebo správci systémů. Obvykle jsou to klikači. Jejich systém používá vždy nejnovější technologie Microsoftu, proto se jejich chování může zdát nestabilní (schizofrenie, nenadálé výbuchy rebélie apod.). Velice obtížnou úlohou pro programátory Cylonů bylo vytvoření simulace emocí. V současné čtvrté verzi se může setkat již s rozladěností, vztekem, nebo simulací kocoviny. Často nejsou sami schopní vyhodnotit, kdy se mají emoční podprogramy spustit, proto neustále analyzují okolí. Na základě této analýzy, odcházejí při obcování s počítačem informace do datacentra v Redmondu a jsou okamžitě vyhodnocovány farmou superpočítačů. Následně vznikne sada aktualizačních balíčků a hotfixů, které jsou distribuovány pomocí Cylon Update nebo v rámci <a href=\"http://update.microsoft.com/microsoftupdate/v6/default.aspx?ln=cs-cz\">Microsoft Update</a>.</p> <p>Tento spot byl vytvořen za pomocí <code>System.Reflection.Machine.SelfDump()</code>.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-05-01T19:46:42.133-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Skandální odhalení",
  :published #inst "2008-04-18T10:14:09.717-00:00",
  :url "skandalni-odhaleni",
  :id 266,
  :description
  "Kódové označení: rarouš; Verze: Microsoft Cylon 4.02 SP1 Hollywar Edition; Datum posledního updatu: CET 21:45 16.4.2008",
  :category "Jen tak",
  :tags []},
 :433-dip-ioc-a-di-dil-treti.aspx
 {:html
  "<p>Vidíte, vidíte? Máme za sebou dva krátké spoty plné nezodpovězených otázek. Nahlodaly vás aspoň trošku? Vyřešili jste některé? Dobře. Pojďme dál.</p> <p>V minulém díle jsme se zbavili závislosti na konkrétní implementaci repository a zavedli tak Inversion of Control (ok, taky zjednodušuju, ale základní rozdíl IoC od DI je v abstrakci). Ovšem pořád jsme nedosáhli DIP. „Jak to,“ ptáte se? No důvod je celkem prostý. Tu největší chybu jsme udělali hned na začátku. <strong>Začali jsme datovou vrstvou!</strong></p> <p>Všimněte si, že naše doménová vrstva má stále závislost na té datové, i když jsme zavedli abstrakci a jakoby neznáme konkrétní implementaci. Problém je v tom, že abstrakce nepatří do vrstvy, kde je implementována. <code>IRepository&lt;TEntity&gt;</code> nepatří do <code>MyAwesomeApp.Data</code>, ale do „business layeru“. Kdybychom dělali top-down design, samozřejmě by nám to z toho vylezlo samo. Ale protože jsme byli chytřejší a stavěli „od spoda“ (bottom-up), dostali jsme se celkem do potíží…</p> <p>Takže, když uděláme tuhle malou změnu, tedy že přesuneme <code>IRepository&lt;TEntity&gt;</code> z data do business layeru, otočíme závislosti. Nyní, už doménová vrstva nezávisí na datové, ale naopak. Datová vrstva se nám stala plug-inem. A konečně máme i DIP!</p> <h3 id=\"toc-top-down-design\">Top-down design</h3> <p>Ještě bych se rád zastavil u jedné konfůznosti a tou je top-down design. Tj. design kdy začneme od shora a pokračujeme dolu. Jenže kde je to nahoře? Když si vybavíte běžná schémata tradiční třívrstvé aplikace, tak nahoře máte UI vrstvu, pod ní business vrstvu a pod ní vrstvu datovou. Tak je to jasný, ne? Top-down design začneme od UI vrstvy! Rovnou si dám facku, že jsem to vůbec napsal. <em>plesk</em></p> <p>Tak zase špatně. Ve skutečnosti je nahoře vrstva s největší abstrakcí. Což by měla být asi ta doménová vrstva. :) UI i data jsou detaily, hodně konkrétní! Dneska máme běžné, že jedna a ta samá business vrstva žije za obrázkama na iPhonu, Androidu, Windows Phonu, desktopových i webových aplikací. Ano, ta samá. protože BL je to, co dělá vaši aplikaci aplikací. Je jedno, na jakým systému běží, jak přistupuje k datům, jakým způsobem data prezentuje.</p> <p>Abstrakce nám pomáhá odkládat řešení detailů do doby, kdy to bude nezbytné. Pomáhá nám být agilní a umožňuje nám pružně reagovat na změny požadavků. A změna je jedinou jistotou, na kterou se můžeme v naší branži spolehnout. Žádné smlouvy vás před ní neochrání. A nebraňme se ji, však jsme přece vývojáři.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-10-26T21:19:04.027-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "DIP, IoC a DI - díl třetí",
  :published #inst "2012-10-26T21:20:00.000-00:00",
  :url "dip-ioc-a-di-dil-treti",
  :id 433,
  :description
  "Závěrečný díl trošku sporné série o rosporech v zažitých technikách a obecných poučkách, jak dělat inverzi injekcí.",
  :category "Moje práce",
  :tags []},
 :402-metriky-kodu-v-teamcity.aspx
 {:html
  "<p><a href=\"http://www.microsoft.com/en-us/download/details.aspx?id=9422\">http://www.microsoft.com/…details.aspx?…</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-08-20T10:03:54.030-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Metriky kódu v Teamcity",
  :published #inst "2011-04-28T13:29:01.323-00:00",
  :url "metriky-kodu-v-teamcity",
  :id 402,
  :description
  "Jak počítat metriky dotnet assemblies v rámci buildu v Teamcity a vynášet je do grafů?",
  :category "Moje práce",
  :tags ["teamcity" "powershell" "metrics"]},
 :343-jaky-pohled-si-vybrat.aspx
 {:html
  "<p>ASP.NET MVC je velice modulární, jeho největší devízou je, že skoro vše lze nahradit něčím jiným. Nejinak je tomu i u ViewEnginu (šablonovací systém). Dokonce můžete v jedné aplikaci používat několik šablonovacích systémů vedle sebe. A to už se vyplatí!</p> <h3 id=\"toc-jaky-je-vyber\">Jaký je výběr?</h3> <p>Existuje spousta známých i neznámých šablonovacích systémů. Najznámější jsou asi, počkejte si na to, <strong>PHP/ASP</strong>. Ha! Ano, <acronym title=\"PHP Hypertext Processor\">PHP</acronym> i <acronym title=\"Active Server Pages\">ASP</acronym> nejsou nic jinýho než šablonovací systémy. To že v nich někdo dokáže psát celé aplikace – klobouk dolu.</p> <p>Šablonovací systém najdete téměř v každém oblíbeném webovém frameworku. V ASP.NET MVC mu většinou říkáme <em>ASPX</em> nebo <em>WebForms</em> view engine. To je ten, který se používá v základu. Narozdíl od ASP můžete v ASPX šablonách používat i serverové značky. Toho lze využít pro tvorbu Master pages a Content pages, nebo pro snadnou lokalizaci za pomocí <code>asp:Localize</code>. :) V takové šabloně můžete navíc použít jakýkoli dotnetí jazyk pro logiku pohledu. Následuje ukázka pohledu s jazykem C#:</p> <pre class=\"xml\"><code>&lt;%@ Page Language=\"C#\" Inherits=\"System.Web.Mvc.ViewPage\" %&gt; &lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt; &lt;head&gt; &lt;title&gt;Test view page&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;Test view page&lt;/h1&gt; &lt;ul&gt; &lt;% foreach (var company in Model.Companies) { %&gt; &lt;li&gt;&lt;%= company.Name %&gt;&lt;/li&gt; &lt;% } %&gt; &lt;/ul&gt; &lt;% using(Html.BeginForm(\"create\", \"company\", FormMethod.Post) { %&gt; &lt;fieldset&gt; &lt;legend&gt;Create new company&lt;/legend&gt; &lt;label for=\"companyName\"&gt;Name:&lt;/label&gt; &lt;%= Html.TextBox(\"companyName\") %&gt; &lt;input type=\"submit\" value=\"Create company\" /&gt; &lt;/fieldset&gt; &lt;% } %&gt; &lt;/body&gt; &lt;/html&gt;</code></pre> <p>Stejná ukázka za použití Visual Basicu:</p> <pre class=\"xml\"><code>&lt;%@ Page Language=\"VB\" Inherits=\"System.Web.Mvc.ViewPage\" %&gt; &lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt; &lt;head&gt; &lt;title&gt;Test view page&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;Test view page&lt;/h1&gt; &lt;ul&gt; &lt;% For Each company In Model.Companies %&gt; &lt;li&gt;&lt;%= company.Name %&gt;&lt;/li&gt; &lt;% Next %&gt; &lt;/ul&gt; &lt;% Using Html.BeginForm(\"create\", \"company\", FormMethod.Post) %&gt; &lt;fieldset&gt; &lt;legend&gt;Create new company&lt;/legend&gt; &lt;label for=\"companyName\"&gt;Name:&lt;/label&gt; &lt;%= Html.TextBox(\"companyName\") %&gt; &lt;input type=\"submit\" value=\"Create company\" /&gt; &lt;/fieldset&gt; &lt;% End Using %&gt; &lt;/body&gt; &lt;/html&gt;</code></pre> <p>Osobně v pohledech upřednostňuju Visual Basic – je to díky jeho ukecanosti. Ano, i ta se někdy může hodit. V pohledech je pak lépe vidět, kde začíná a končí <code>for</code> cyklus nebo podmíněný blok. Nejspíš lze stejného efektu dosáhnout i za použití <a href=\"http://www.ironruby.net/\">IronRuby</a>. Ale to zjistím asi velice brzy. :)</p> <p>Když už jsme u toho Ruby, potažmo u Railsů, nesmím zapomenout zmínit <a href=\"http://haml.hamptoncatlin.com/\">Haml</a>. Kód v něm může vypadat celkem obskurně, ale má přísnou logiku a zachovává čistou strukturu pohledu.</p> <pre class=\"haml\"><code>%html{:xmlns =&gt; 'http://www.w3.org/1999/xhtml'} %head %title Test view page %body %h1 Test view page %ul -model.companies.each do |company| %li= company.name %form{:action =&gt; url.action({:action =&gt; 'Create'}), :method =&gt; 'post'} %fieldset %legend Create new company %label{:for =&gt; 'companyName'} Name: =html.text_box('companyName') %input{:type =&gt; 'submit', :value =&gt; 'Create company'}</code></pre> <p>Do ASP.NET MVC lze přidat jeho port do dotnetu: <a href=\"http://code.google.com/p/nhaml/\">NHaml</a>. Pro logiku pohledu lze použít jazyky C#, <a href=\"http://www.ironruby.net/\">IronRuby</a> a <a href=\"http://boo.codehaus.org/\">Boo</a>.</p> <p>Obecným šablonovacím jazykem je Velocity, které si našlo cestu například do MonoRailu v podobě <a href=\"http://www.castleproject.org/others/nvelocity/index.html\">NVelocity</a>. Samozřejmě je ho možné používat i v ASP.NET MVC.</p> <pre class=\"xml\"><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt; &lt;head&gt; &lt;title&gt;Test view page&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;Test view page&lt;/h1&gt; &lt;ul&gt; #foreach($company in $model.Companies) &lt;li&gt;$company.Name&lt;/li&gt; #end &lt;/ul&gt; &lt;form action=\"$url.Action('create')\" method=\"POST\"&gt; &lt;fieldset&gt; &lt;legend&gt;Create new company&lt;/legend&gt; &lt;label for=\"companyName\"&gt;Name:&lt;/label&gt; $html.TextBox('companyName') &lt;input type=\"submit\" value=\"Create company\" /&gt; &lt;/fieldset&gt; &lt;/form&gt; &lt;/body&gt; &lt;/html&gt;</code></pre> <p>Na půdě MonoRailu vznikl i další šablonovací systém postavený nad <a href=\"http://boo.codehaus.org/\">Boo</a> s poetickým názvem <a href=\"http://www.castleproject.org/MonoRail/documentation/trunk/viewengines/brail/index.html\">Brail</a>. V šablonách se může používat i rozšířená syntaxe Boo, která není závislá na odsazování a používá <code>end</code> literály pro definici bloků.</p> <pre class=\"xml\"><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt; &lt;head&gt; &lt;title&gt;Test view page&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;Test view page&lt;/h1&gt; &lt;ul&gt; &lt;?brail for company in model.Companies: ?&gt; &lt;li&gt;${company.Name}&lt;/li&gt; &lt;?brail end ?&gt; &lt;/ul&gt; &lt;?brail using Html.BeginForm('create', 'company', FormMethod.Post): ?&gt; &lt;fieldset&gt; &lt;legend&gt;Create new company&lt;/legend&gt; &lt;label for=\"companyName\"&gt;Name:&lt;/label&gt; ${Html.TextBox('companyName')} &lt;input type=\"submit\" value=\"Create company\" /&gt; &lt;/fieldset&gt; &lt;?brail end ?&gt; &lt;/body&gt; &lt;/html&gt;</code></pre> <p>Samozřejmě můžete místo <code>&lt;?brail ?&gt;</code> použít zkrácený zápis <code>&lt;% %&gt;</code>, to už je jen na vás, jestli se vám víc líbí PHP nebo ASP styl…</p> <p>A pomalu se blížíme k poslednímu zajímavému šablonovacímu systému. A tím je <a href=\"http://dev.dejardin.org/\">Spark</a>. Spark si klade za cíl, být co nejblíže kodérovi a jeho syntaxe je založená primárně na <acronym title=\"Extensible Hypertext Markup Language\">XHTML</acronym>. Pro logiku pohledu využíváte rozšířených značek a atributů, které jsou překládány do vámi zvoleného jazyka. Zvolit si můžete tradičně mezi C#, <a href=\"http://www.ironruby.net/\">IronRuby</a> a <a href=\"http://ironpython.codeplex.com/\">IronPython</a>.</p> <pre class=\"xml\"><code>&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt; &lt;head&gt; &lt;title&gt;Test view page&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;Test view page&lt;/h1&gt; &lt;ul&gt; &lt;li each=\"company in model.Companies\"&gt;${company.name}&lt;/li&gt; &lt;/ul&gt; &lt;form action=\"${url.action('create')}\" method=\"POST\"&gt; &lt;fieldset&gt; &lt;legend&gt;Create new company&lt;/legend&gt; &lt;label for=\"companyName\"&gt;Name:&lt;/label&gt; ${html.text_box('companyName')} &lt;input type=\"submit\" value=\"Create company\" /&gt; &lt;/fieldset&gt; &lt;/form&gt; &lt;/body&gt; &lt;/html&gt;</code></pre> <h3 id=\"toc-zaver\">Závěr</h3> <p>Když se podíváte na výše uvedené ukázky, zjistíte, že mají mnohé společné. Na vás je si vybrat. Každý z šablonovacích systémů má svá specifika a například Sparku bych se chtěl podrobněji věnovat v některém z následujících spo­tů.</p> <p>Pokud se rozhodnete některý z view enginů použít, zkuste to přes projekt <a href=\"http://mvccontrib.codeplex.com/\">MVC Contrib</a>.</p> <p>Díky možnostem otevřené architektury ASP.NET MVC a možnosti zvolit si k práci jazyk, který vám nejvíce vyhovuje, můžete docílit nejen úspěchu u žen, ale i dle vašich preferencí! No řekněte, kdo z vás to má?</p> <p><em>V ukázkách NHamlu a Sparku jsem zvolil integraci s jazykem IronRuby.</em></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-10T19:42:29.723-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jaký pohled si vybrat?",
  :published #inst "2009-01-10T18:07:45.653-00:00",
  :url "jaky-pohled-si-vybrat",
  :id 343,
  :description
  "ASP.NET MVC umožňuje výběr šablonovacího systému i jazyka, který v něm chcete používat. Máte rádi Ruby a Haml, nebo Boo? I pro vás tu něco máme!",
  :category "Webdesign",
  :tags
  ["aspnet"
   "mvc"
   "viewengine"
   "nhaml"
   "spark"
   "brail"
   "nvelocity"
   "ironruby"
   "ironpython"
   "boo"]},
 :111-jsem-nadsen-z-asp-net.aspx
 {:html
  "<p>Můj oblíbený autor mé oblíbené <a href=\"http://www.dgx.cz/trine/\">La Trine</a> David Grudl napsal velice kontroverzní článek <a href=\"http://www.dgx.cz/trine/item/jsem-zdesen-z-asp-net\">Jsem zděšen z&#160;ASP.NET</a>, který některé <cite>zvedl ze židle</cite> jiné donutil flamovat. Ať už se David obouvá do ASP.NET jakkoli, jedno mu nelze odepřít, je to výborná reklama na jeho připravovaný framework <strong>Nette</strong>. Nepravdy či polopravdy a nepřesnosti byly rozebrány v&#160;hunté diskusi pod článkem.</p> <p>Z&#160;článku a reakcí na něj je jasné, že svět pořád nemá povědoní co je dotnet a co všechno umí. To mě utvrzuje v&#160;tom, že mám pokračovat v&#160;lehké osvětě a že když se sem dostanou čtenáři, kteří dotnet neznají, že jim třeba pomohu s&#160;pochopením této technologie nebo pomůžu do začátku. :)</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-02-21T22:39:11.803-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jsem nadšen z ASP.NET",
  :published #inst "2006-02-21T22:39:11.790-00:00",
  :url "jsem-nadsen-z-asp-net",
  :id 111,
  :description "Reakce na dění v La Trine.",
  :category "Jen tak",
  :tags []},
 :297-reference-na-objekty-v-ado-net-data-services.aspx
 {:html
  "<p>Pokud se rozhodnete pro vaše AJAXové aplikace požívat RESTové služby ADO.NET Data Services, jistě se dostanete do situace, kdy máte komplexní typ a potřebujete vytvořit novou entitu s odkazem na již existující objekt.</p> <p>Řešení tohoto problému jsem hledal dost dlouho, nakonec bylo celkem jednoduché.</p> <h3 id=\"toc-problem\">Problém</h3> <p>AJAXově vytvářím entitu, která má vlastnost <code>User</code>, což je reference na uživatele, který danou entitu vytvořil – kterému patří.</p> <h3 id=\"toc-cesta-k-reseni\">Cesta k řešení</h3> <p>Nejprve jsem zkoušel využít něco podobného, jako je u entit, které jsou vráceny pomocí metody GET. Tedy odkaz na jinou entitu je vyjádřen pomocí vlastnosi <code>__deffered</code> a ta má atribut <code>uri</code>, který odkazuje na již existující entitu pomocí jejího <acronym title=\"Unified Resource Locator\">URL</acronym>. Bohužel, to nefungovalo, protože <code>__deffered</code> je metodou POST ignorováno. Kód vypadal asi následujícně:</p> <pre class=\"boo\"><code>User: { __deffered: { uri: \"/Users(13)\" } }</code></pre> <p>Pak jsem tedy zkusil druhý zoufalý krok. Zkusil jsem použít atribut ID, který je vlastně jediný důležitý pro správné persistování do databáze. Kód následující:</p> <pre class=\"boo\"><code>User: { Id: 13 }</code></pre> <p>Jenže ani to není správná cesta, navíc si tak můžete Usera poškodit.</p> <h3 id=\"toc-konecne-reseni\">Konečné řešení</h3> <p>Konečné funkční řešení se od toho původního pokusu skoro neliší, ano byl jsem hodně blízko a vzal to oklikou a až důkladné čtení dokumentace mi otevřelo oči. Vlastnost <code>__metadata</code> byla aktuálně tou správkou, která se měla použít! Takže správný kód vypadá takto:</p> <pre class=\"boo\"><code>User: { __metadata: { uri: \"/Users(13)\" } }</code></pre> <h3 id=\"toc-zaver\">Závěr</h3> <p>Já vím, není to žádná super extra informace, ale já k jejímu získání spotřeboval celkem dost času. Možná to někomu ušetří starosti a hledání… Pokud vás zajímají <a href=\"http://msdn.microsoft.com/en-us/data/bb931106.aspx\">ADO.NET Data Services</a> – což je velice zajímavá technologie – můžete se přijít podívat na <a rel=\"bookmark\" href=\"/weblog/295-povidani-o-asp-net-na-webexpu.aspx\">naši přednášku o ASP.NET</a>, kde o nich bude utroušeno několik slov a předvedena pěkná ukázka ve spojení s AJAXem a k databázi budeme přistupovat přes <a href=\"http://www.hibernate.org/343.html\">NHibernate</a> místo Entity Frameworku.</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a rel=\"bookmark\" href=\"/weblog/295-povidani-o-asp-net-na-webexpu.aspx\">Povídání o ASP.NET na WebExpu</a></li> <li><a href=\"http://www.vyvojar.cz/Series/8-ado-net-data-services.aspx\">Vývojář.cz – Seriál o ADO.NET Data Services</a></li> </ul> </div> <p>Tagy: <a rel=\"tag\" href=\"http://technorati.com/tag/dataservices\">DataServices</a>, <a rel=\"tag\" href=\"http://technorati.com/tag/ajax\">AJAX</a></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-14T10:30:38.520-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Reference na objekty v ADO.NET Data Services",
  :published #inst "2008-09-10T06:44:15.543-00:00",
  :url "reference-na-objekty-v-ado-net-data-services",
  :id 297,
  :description
  "Pokud se rozhodnete pro vaše AJAXové aplikace požívat RESTové služby ADO.NET Data Services, jistě se dostanete do situace, kdy máte komplexní typ a potřebujete vytvořit novou entitu s odkazem na již existující objekt.",
  :category "Webdesign",
  :tags ["ajax" "rest" "dataservices" "webexpo"]},
 :93-depeche-mode.aspx
 {:html
  "<p>Dneska vychází v&#160;Británii druhý singl z&#160;desky <em>Playing the Angel</em> s&#160;názvem <strong>A&#160;pain, that I'm used to</strong>. Myslím, že to je dobrý výběr. Podle tracklistů budou i&#160;zajímavé remixy, takže je na co se těšit.</p> <p>Včera jsem se, trochu pozdě, dozvěděl, že <a href=\"http://www.depechemode.com\">depešáci</a> budou koncertovat v&#160;Praze, konkrétně 23. ledna 2006&#160;v&#160;Sazka Aréně. Bohužel, je asi už vyprodáno :( I&#160;přes to, že nejlevnější lístek na stání vyšel něco přes 900&#160;Kč. No uvidíme, třeba se ještě bude dát něco sehnat&#8230;</p> <p>Celebrate the black!</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Depeche Mode",
  :published #inst "2005-12-12T11:20:25.287-00:00",
  :url "depeche-mode",
  :id 93,
  :description
  "Depeche Mode vydávají nový singl a budou vystupovat v Praze.",
  :category "Muzika",
  :tags []},
 :81-prace-na-gryphoonu.aspx
 {:html
  "<p>Předchozí a tenhle víkend jsme strávil pracema na Gryphoonu. Konečně se začíná podobat mojim představám a musím říct, že se i&#160;držim <a href=\"/clanek.aspx/66/dalsi-test\">osnovy</a>, kterou jsem si předsevzal již dříve. Zvýšenou aktivitu zapříčinil i&#160;další uživatel Gryphoonu. Bude jim <a href=\"http://www.mikemaly.net\">mike</a>, který přešel na nový hosting. Jsem zvědav, jak se nám povede migrace dat z&#160;<a href=\"http://www.textpattern.com\">Textpatternu</a>, na kterém běží dosavadní verze jeho stránek.</p> <p>Co se změnilo? No kompletně jsem refaktoroval administrační rozhranní, přešel jsme na ASP.NET 2&#160;Membership, refaktoroval a rozšířil databázi, doplnil <acronym title=\"Search Engine Optimalization\">SEO</acronym> URL k&#160;článkům a další drobné změny.</p> <!-- generated by Texy! -->",
  :keywords "gryphoon",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Práce na Gryphoonu",
  :published #inst "2005-11-23T11:44:32.337-00:00",
  :url "prace-na-gryphoonu",
  :id 81,
  :description "pomalu ale jistě se blížím k 2.0 :)",
  :category "Gryphoon",
  :tags []},
 :420-unit-testovani-v-fsharp.aspx
 {:html
  "<p>Začít s unit testování v F# je cekem snadné. Stačí si vytvořit <code>Class Library</code> a do ní zareferencovat váš oblíbený testovací framework. Ten můj je xUnit.net a jak se ukazuje má to i své výhody.</p> <h3 id=\"toc-xunit-net-ve-visual-studiu-2012\">xUnit.net ve Visual Studiu 2012</h3> <p>Vítanou novinkou nového Visual Studia je podpora i jiných testovacích frameworků než je MsTest. Takže prvním krokem je přidat xUnit provider do Visual Studia 2012. Otevřete si <code>Extensions and Updates</code> (<code>Ctrl+Q</code> <code>exte</code> <code>Enter</code>) a v Online sekci dejte vyhledat <code>xUnit</code>. Nainstalujet si <em>xUnit.net runner for Visual Studio 2012</em>. Restartujte Studio.</p> <p>Nyní můžeme spouštět xUnit.net testy přímo ve Visual Studiu pomocí zkratky <code>Ctrl+R, T</code>. Doporučuju si zobrazit okno <em>Test Explorer</em>.</p> <h3 id=\"toc-fsunit-a-xunit\">FsUnit a xUnit</h3> <p>Takže máme přidanou podporu pro test runner. Teď ještě přidat samotný testovací framework a když už jsme u toho i krapet lepší assertovací framework. Takže si vytvoříme nový projekt typu <em>Class Library</em>. Otevřeme si <em>Package Manager Console</em> (využijte <code>Ctrl+Q</code>) a doinstalujeme si nuget balíček. Vzhledem k vyřešeným závislostem stačí napsat <code>Install-Package FsUnit.Xunit</code> a jsme skoro ready. Skoro. FsUnit referencuje <code>FSharp.Core 4.0.0.0</code>, ale aktuální verze je <code>FSharp.Core 4.3.0.0</code>, proto do konzole napíšeme ještě <code>Add-BindingRedirect *název projektu*</code>, který zajistí přesměrování na používanou verzi. No a můžeme psát! :)</p> <p>Co se mi líbí na xUnit.net, je že nemusíte dekorovat testovací třídy a podobné nesmysle. Prostě si vytvoříme modul a rovnou píšeme testy:</p> <pre class=\"fsharp\"><code>module Tests.``ukázka xUnit a FsUnit`` open Xunit open FsUnit.Xunit [&lt;Fact&gt;] let ``Test tautologie`` ()= assert true [&lt;Fact&gt;] let ``Test tautologie v xUnit`` ()= Asset.True true [&lt;Fact&gt;] let ``Test tautologie v FsUnit`` ()= true |&gt; should be True</code></pre> <p>První věc, co by vás měla zaujmout, je zápis názvů testovacích metod a modulů pomocí přirozeného jazyka. To je úžasná vlastnost F#, která zpřehledňuje testy. Další poznatek: F# má funkci <code>assert</code>, což je alias pro <code>System.Diagnostics.Debug.Assert()</code>, občas se může hodit. Druhý test používá klasické asserty z xUnit.net. Třetí používá DSL FsUnit.</p> <p>Tak s chutí do testování!</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2012-06-05T11:28:57.907-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Unit testování v F#",
  :published #inst "2012-06-05T10:47:28.137-00:00",
  :url "unit-testovani-v-fsharp",
  :id 420,
  :description
  "Spouštění a psaní testů v F# 3.0 je celkem snadné, po pár prvních zaškobrtnutích. :) ",
  :category "Moje práce",
  :tags ["xunit" "fsharp" "fsunit" "vs2012"]},
 :65-rekonstrukce.aspx
 {:html
  "<p>Právě provádím rekonstrukci těchhle stránek, proto prosím omluvte nefunkčnost některých stránek, do zítra to snad dám všechno dohromady. V&#160;komentářích prosím nechte feedback, jak se vám líbí lehkej redesign a co třeba ještě vylepšit ;)</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Rekonstrukce",
  :published #inst "2005-08-05T20:15:00.000-00:00",
  :url "rekonstrukce",
  :id 65,
  :description "",
  :category "Gryphoon",
  :tags []},
 :373-spustili-jsme-trop-blog.aspx
 {:html
  "<p>Už je tomu tak, každá správná sociální služba se má šířit všema kanálama a dnes přibyl další.</p> <p>Dneska najdete Trop skoro všude:</p> <ul> <li><a href=\"http://www.facebook.com/pages/Trop/103373591895\">Trop na Facebooku</a></li> <li><a href=\"http://www.twitter.com/TropCZ\">Trop na Twitteru</a></li> <li><a href=\"http://friendfeed.com/troppraha\">Trop na Friendfeedu</a></li> <li><a href=\"http://blog.trop.cz/\">Trop Blog</a></li> </ul> <p>Původně jsem chtěl blog nasadit na některý z existujících redakčních systémů. Výbíral jsem z <a href=\"http://www.wordpress.org/\">Wordpressu</a>, <a href=\"http://oxite.codeplex.com/\">Oxite</a>, <a href=\"http://atomsite.net/\">AtomSite</a> a nakonec nevybral ani jeden. :) Instalovat na server další databázový stroj (MySQL) jen kvůli blogu mi přišlo zbytečné – Wordpress padl. Oxite se zdá být zajímavým, protože na něm jsou postaveny prezentační weby Microsoftích konferencí a navíc je to napsaný v ASP.NET MVC (stejně jako <a href=\"http://www.trop.cz/\">Trop</a>). Bohužel je to celé dost nepoužitelné a navíc chybí podpora pro správu uživatelů. Což je velký problém, kterým trpí i jinak zajímavě vypadající AtomSite.</p> <p>Velké ostřílené distribuce jako SubText, BlogEngine.net nebo dasBlog se mi už zkoušet nechtělo a sáhl jsem po tom s čím dokážu dělat snadno a rychle. Ano, po <a href=\"http://www.gryphoon.net/\">stařičkém Gryphoonovi</a>, který pohání i tento blog. Chtělo to jen pár drobných úprav a frontend, který byl jen a pouze na tomto blogu, už je nasaditelný i na jiné domény než rarouš.net. :) Možná ho o prázdninách dám nějak do kupky a vydám bastl hybrid Gryphoon 1.90. :)</p> <p>Stay tuned.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-12-22T13:02:17.847-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Spustili jsme Trop blog",
  :published #inst "2009-12-17T16:22:17.063-00:00",
  :url "spustili-jsme-trop-blog",
  :id 373,
  :description
  "Už je tomu tak, každá správná sociální služba se má šířit všema kanálama a dnes přibyl další.",
  :category "Gryphoon",
  :tags ["trop" "gryphoon"]},
 :126-novinky-ve-svete-asp-net.aspx
 {:html
  "<p>V&#160;poslední době vychází řada nových projektů z&#160;rukou tvůrců ASP.NET. V&#160;první řadě je to bezesporu revoluční framework Atlas o&#160;kterém jsem <a href=\"/clanek/95-nova-generace-webu.aspx\" title=\"článek Nová generace webu\">již psal</a> a psát ještě budu. Jak jsem <a href=\"/clanek/121-atlas-go-live.aspx\" title=\"článek Atlas go Live\">již psal</a>, březnové <acronym title=\"Community Technical Preview\">CTP</acronym> bylo uvolněno s&#160;go-live licencí, to umožňuje používat Atlas na produkčních serverech. Budoucí CTPčka budou s&#160;touto licencí vypouštěny rovněž. Aby nedošlo k&#160;mílce, doplním, že Atlas neni závislý na ASP.NET, ikdyž je pro něj primárně vyvíjen, a jeho výhody mohou <a href=\"http://www.shankun.com/AtlasPhp.aspx\">využívat i&#160;třeba PHPkáři</a> nebo i &#8222;statici&#8220;. Atlas je čistě klientská záležitost &#8211; teda až na zdroje dat samozřejmě. Data jsou přijímána ve formátech XML nebo <acronym title=\"JavaScript Object Notation\">JSON</acronym>.</p> <p>V&#160;příštím měsíci by měl být uvolněn první balíček ASP.NET serverověklien&#173;tských prvků postavených na Atlasu (kaskádové dropdownlisty, drag panely, sbalovací panely ap.). Určitě takové komponenty pomohou k&#160;usnadnění vývoje interaktivních webových aplikací.</p> <p>Tak a na závěr si dáme pauzu od skvělého Atlasu a podívame se na mé oblíbené téma <em>kvalita výstupu ASP.NET</em>. Vývojáří slibují, že již brzy vydají balíček Adaptérů i&#160;se zdrojovými kódy, které převádějí výstup na CSS strukturální kód. Dodám, že na Adaptérech je postaven celý adaptivní rendering ASP.NET, takže ke změně výstupu bude potřeba jen knihovna s&#160;Adaptéry a upravené soubory <code>*.browser</code>. Opravena by měla být většina dnes &#8222;nepoužitelných kontrolů&#8220;, které jsou layoutovány pomocí tabulek. To je myslím <strong>cool</strong>, ale mohlo to být rovnou. Ale zase tu budeme mít ukázku zajímavých programátorských postupů. Více o&#160;adaptérech najdete <a href=\"http://www.asp.net/QuickStart/aspnet/doc/extensibility.aspx#A\">na stránce s&#160;tutoriály k&#160;ASP.NET</a> a taky <a href=\"http://borber.com/blog/?p=488\">u&#160;Borka</a>.</p> <p>Zdroj: <a href=\"http://weblogs.asp.net/scottgu/archive/2006/03/30/441465.aspx\">Weblog Scotta Guthrie</a></p> <p>PS: <a href=\"http://www.400plusdifferences.com/\">vývoj neni jen šedá nuda</a></p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-04-06T07:41:38.580-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Novinky ve světě ASP.NET",
  :published #inst "2006-04-06T07:32:00.000-00:00",
  :url "novinky-ve-svete-asp-net",
  :id 126,
  :description
  "Pár novinek ve vývoji ASP.NET. (Lehce aktualizovaná verze.)",
  :category "ASP.NET 2.0",
  :tags []},
 :413-k-cemu-vlastne-tdd.aspx
 {:html
  "<p>Na proběhnuvším <a href=\"http://coderetreat.cz/\">CodeRetreatu</a> jsme se a pány Kolmanem a Augustýnem balivi o tom k čemu vlastně je <acronym title=\"Test Driven Development\">TDD</acronym>, jaký má přínos?</p> <p>Michal argumentoval tím, že dělá testable design a testy píše potom a že je s tím cajk, že nevidí důvod, proč dělat TDD. S Danem jsme nahazovali okřídleané pravdy o výhodách TDD, které Michal zašlapal. A tak jsme nenašli správnou argumentaci. A já o tom musel přemýšlet. Přece tam musí být nějakej zásadní rozdíl!</p> <p>A on je. Ta největší devíza TDD je <strong>iterativní přístup k vývoji.</strong> Pakliže se držíte nějaké agilní metodiky a jednou za iteraci máte funkční produkt, který může jít potenciálně do produkce. S TDD jste v takovém stavu takřka každou chvíli (po dokončení kolečka Red-Green-Refactor). Kdykoli za vámi někdo přijde, že chce vidět jak na tom jste, tak nemusíte říkat „těd to nejde, zrovna mám něco rozdělanýho a nefunguje to.“ S TDD vám aplikace funguje takřka pořád. Sice nemá všechny požadované vlastnosti, ale <strong>je funkční.</strong></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-12-18T13:34:11.247-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "K čemu vlastně TDD?",
  :published #inst "2011-12-18T13:09:35.873-00:00",
  :url "k-cemu-vlastne-tdd",
  :id 413,
  :description "Malé zamyšlení, k čemu vlastně to TDD je dobré.",
  :category "Moje práce",
  :tags ["tdd"]},
 :92-verejna-beta-ie.aspx
 {:html
  "<p>Včéra oznámil Microsoft, prostřednictvím vývojářského blogu, že veřejná betaverze Internet Exploreru 7, který již bude obsahovat změny v&#160;renderovacím jádru, bude uvolněna v&#160;prvním kvartálu roku 2006. To znamená během tří měsíců. Vývojáři si od toho slibujou dostatečnou dobu na reportování chyb do finálního releasu &#8211; někdy koncem roku.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-22T01:39:05.827-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Veřejná beta IE",
  :published #inst "2005-12-07T12:57:15.570-00:00",
  :url "verejna-beta-ie",
  :id 92,
  :description "Kdy se můžeme těšit na betaverzi IE7?",
  :category "Webdesign",
  :tags []},
 :123-vitejte-v-novem-webu.aspx
 {:html
  "<p>Projíždím si &#8211; jako každé ráno &#8211; svoji <a href=\"http://reader.google.com/\">oblíbenou čtečku</a> a narazil jsem na zajímavý článek o&#160;<strong>Web 2.0</strong>. <a href=\"http://weblogs.asp.net/nleghari/archive/2006/03/23/440965.aspx\">Welcome to Web 2.0</a></p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-24T07:25:05.907-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Vítejte v novém Webu",
  :published #inst "2006-03-24T07:25:05.910-00:00",
  :url "vitejte-v-novem-webu",
  :id 123,
  :description "A co mě dnes ráno pobavilo?",
  :category "Webdesign",
  :tags []},
 :114-kladivo-na-carodejnice.aspx
 {:html
  "<p>Dneska začnu sérií článků, která se pokusí prolomit některé mýty okolo ASP.NET 2.0. Spousta webových vývojářů má mylné informace o&#160;fungování této technologie a ještě větší skupina nemá informace žádné. To bych se chtěl pokusit napravit.</p> <p>Začněme od začátku. <a href=\"http://asp.net/\">ASP.NET</a> je součástí .net Frameworku od Microsoftu, ale implementují ho i&#160;opensource projekty jako je <a href=\"http://www.go-mono.com/\">Mono</a>, které staví na standardizaci dotnetu jako takového. Ano základní bloky dotnetu jsou <a href=\"http://msdn.microsoft.com/netframework/ecma/\">standardizovány</a> a mají svoji normu ECMA potažmo ISO. Framework samotný je silně postaven na doporučeních W3C.</p> <p>K&#160;samotnému ASP.NET. Spousta lidí si myslí, že je to stejný bastl jako staré ASP a že je jeho pokračovatelem. Nikoliv, ASP.NET bylo celé přepsané, tak aby mohlo využívat výhod jednotné platformy. V&#160;ASP.NET můžete využívat v&#160;podstatě jakoukoli část frameworku (od ADO.NET, přes práci s&#160;grafikou a po vstupně výstupní operace) a využívat jazykové nezávislosti. Velikou nevýhodou ASP bylo, že jste museli mít spoustu vlastních knihoven, aby jste mohli vůbec něco udělat. Tyto knihovny se musely složitě registrovat do systému, na kterém stránky běžely a bylo k&#160;tomu potřeba mít administrátorká oprávnění nebo otravovat admina, což mají velice rádi :) S&#160;příchodem dotnetu tohle všechno odpadá, vlastní knihovny stačí jednoduše nahrát do adresáře bin v&#160;rootu webu a o&#160;vše ostatní potřebné se postará běhové prostředí.</p> <p>To by bylo stručně k&#160;technologii. Další mýtem je nekvalitní výstup. Je pravda, že ASP.NET v&#160;základu nevypouští z&#160;pohledu evangelizace nejmodernější kód. To je pravdou především v&#160;ASP.NET 1.x a v&#160;ASP.NET 2.0&#160;v&#160;režimu výstupu Legacy. Tyto problémy s&#160;výstupem jsou ale snadno řešitelné, díky veliké modularitě ASP.NET. Objekt Response, který má na starosti výstup má vlastnost Filter, kterou můžeme nahradit vlastním výstupním filtrem (objekt typu Stream) a přizpůsobit výstup k&#160;obrazu svému. Jedno z&#160;řešení najdete na <a href=\"http://www.aspnetresources.com/articles/HttpFilters.aspx\">ASP.NET Resources</a>. Na výstup se aplikuje sada Regulérních výrazů, které mají na starosti vylepšení kódu. K&#160;našemu filtru si připíšeme HttpModul a zkompilujeme do knihovny. Při další použití stačí přidat HttpModul do konfiguračního souboru a vše funguje jak má. Jiným možným řešením je vytvoření vlastního předka pro všechny stránky nebo Master, kde bude Filtr aplikován. Opět si v&#160;konfiguraci nastavíme předka pro stránky a jede to.</p> <p>Teď, když už máme validní výstup, spousta z&#160;vás si řekne, že k&#160;čemu mi je validní výstup. Když není přístupný. I&#160;na to v&#160;Microsoftu mysleli. Základní ovládací prvky jsou napsány tak, aby splňovaly podmínky <a href=\"http://www.section508.gov\">Section 508</a> <br />a WCAG. I&#160;když je kód všech složitějších prvků prasácky tabulkový, je celkem přístupný. Pro mě je však tento fakt nedostatečný, nemám rád znásilňování tabulek k&#160;layoutování. Nevěšte hlavy i&#160;toto se dá hravě zvládnout, stačí jen chtít. Jedno obecně aplikovatelné řešení jsem zde už psal v&#160;článku <a href=\"http://rarous.net/clanek/85-beztabulkove-renderovani-controlu-v-asp-net-2-0.aspx\">Beztabulkové renderování controlů v&#160;ASP.NET 2.0</a>.</p> <p>Závěrem bych chtěl poprosit nezasvěcené, aby neodsuzovali technologii, ale vývojáře kteří jsou líní napsat kvalitní kód. Snahy Microsoftu vedou spíše k&#160;zpřístupnění webového vývoje i&#160;programátorům newebařům. Tím pádem je použití tabulek pro layoutování logické, protože jsou zde předpřipravené kusy komponent, které už nějak vypadají. Nikdo nepředpokládá znalosti CSS. Pro takové lidi je asi klikací metoda ideální a výstup je nějak validní a přístupný, pro ty, kteří kladou důraz i&#160;na kvalitu, není moc těžké (pokud tedy vědí jak) se kvalitního výstupu domoci. Ze začátku to chce trochu víc práce, ale pak už jde všechno lehce a samo.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-10-26T15:53:10.783-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Kladivo na čarodějnice",
  :published #inst "2006-03-01T12:19:27.500-00:00",
  :url "kladivo-na-carodejnice",
  :id 114,
  :description "Bourání mýtů ohledně ASP.NET v mém podání.",
  :category "ASP.NET 2.0",
  :tags []},
 :199-stastne-a-vesele.aspx
 {:html
  "<p>Přeji šťastné a veselé Vánoce všem lidem dobré vůle.</p> <blockquote> <p>Nešťastným štěstíčko <br />Nemocným zdravíčko <br />Chudým konto mastné <br />Všechny dny jen štastné. <br />Slepým světlo <br />Zmrzlým teplo <br />a teplým <br />aby se to v&#160;<a href=\"http://www.dgx.cz/trine/item/pojdme-vymytit-homosexualitu\"><em>hlavě přeplo</em></a></p> </blockquote> <div class=\"center\"><img src=\"/data/obrazky/vanoce.jpg\" alt=\"Veselé Vánoce\" /></div> <blockquote> <p>Přišel mi Ježíšek <br />nadělit smůlu. <br />Že jí měl dost, <br />dal mi jí fůru. <br />Povídám: \"Ježíšku, <br />co takhle štěstí?\" <br />Listoval v&#160;<a href=\"http://www.atlas.cz\"><em>Atlasu</em></a> <br />pak mi dal pěstí :(</p> <p>Tak šťastné a veselé!</p> </blockquote> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-12-29T17:06:30.710-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Šťastné a veselé!",
  :published #inst "2006-12-24T14:19:28.957-00:00",
  :url "stastne-a-vesele",
  :id 199,
  :description "Přeji šťastné a veselé Vánoce všem lidem dobré vůle.",
  :category "Jen tak",
  :tags []},
 :142-omluva-za-vypadek.aspx
 {:html
  "<p>Tímto se chci omluvit za dlouhý výpadek těchto stránek. Bohužel jsem ho nemohl nijak ovlivnit, chyba byla u&#160;poskytovatele připojení. Následně se budu snažit výpadek dohnat hodnotnými spoty ;)</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-05-03T13:54:12.300-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Omluva za výpadek",
  :published #inst "2006-05-03T13:54:12.210-00:00",
  :url "omluva-za-vypadek",
  :id 142,
  :description "Omlouvám se za dlouhý výpadek serveru.",
  :category "Jen tak",
  :tags []},
 :115-rarous-v-atlasu.aspx
 {:html
  "<p>Pro některé překvapení pro jiné již známá věc. Dnes jsem nastoupil do zaměstnání a to jako dotnet developer do portálu <a href=\"http://www.atlas.cz\">Atlas.cz</a>. Ano (pro ty všímavější), proto ta ikonka v&#160;pravém sloupci. Odedneška jsem tedy členem týmu a sedím na ose <a href=\"http://blog.renestein.net/\">René Stein</a> &#8211; <a href=\"http://www.mraveniste.org/\">Jan Bien</a>, takže jsem konečně osobně poznal mé oblíbené blogery. Další jména mi ještě v&#160;paměti neuvízla (až na výjimky), tímto se omlouvám a určitě se časem doučím :) Jeden den je na poznání lidí a práce zatim málo, ale vyzařuje z&#160;nich pohoda a kamarádství&#8230;</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-01T19:08:19.047-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Rarouš v Atlasu",
  :published #inst "2006-03-01T19:05:52.477-00:00",
  :url "rarous-v-atlasu",
  :id 115,
  :description "Jen čtěte, je to o mě a mé nové práci.",
  :category "Jen tak",
  :tags []},
 :348-kanonicky-proti-duplicitam.aspx
 {:html
  "<p>Jedním z velkých problémů dnešních vyhledávačů je duplicitní obsah. Musejí se poprat s velkým množstvím stránek, které vypadají na první pohled shodně a liší se pouze v <acronym title=\"Uniform Resource Locator\">URL</acronym> adrese. Jak mají rozhodnout, kterou z těchto adres vrátit uživateli jako jedinou správnou?</p> <h3 id=\"toc-problem-duplicitniho-obsahu\">Problém duplicitního obsahu</h3> <p>Duplicitní obsah může vzniknout velice jednoduše, nemusí ani dojít ke zkopírování stránky někým jiným. Prostě stačí mít blbě nastavený server a vracet stejný obsah pro URL s i bez <code>www.</code> na začátku. Další možností je, že se vaše adresy dynamických stránek v čase vyvíjí. Začínal jsem s nepěknými adresami ve tvaru <code>clanek.aspx?id=4</code>, pak jsem časem přešel na SEO URL ve tvaru <code>clanek.aspx/4-nejaky-nadpis</code>, později jsem přidal URL rewriter a mé URL vypadaly takto <code>clanek/4-nejaky-nadpis.aspx</code>. Všechny tyto adresy vedou na stejný obsah, ale protože mají jinou URL, jsou to pro vyhledávacího robota různé stránky.</p> <p>Jako správný poskytovatel obsahu bych měl zajistit, že všechny verze URL jsou stále funkční, ale měly by směřovat na jedinou platnou. Ale jak?</p> <h3 id=\"toc-reseni\">Řešení</h3> <p>Cest k cíli vede samozřejmě spousta. Pokud máte tu možnost, využijte nějaký URL rewriter. Zvolte si kanonickou formu vašich adres a tu všude používejte. Pokud nechcete používat v adresách prefix <code>www.</code>, stačí málo.</p> <p>Na IIS7 s URL Rewriterem přidejte do vašeho <code>web.config</code> souboru do sekce <code>system.webServer/rewrite/rules</code> následující kód:</p> <pre class=\"xml\"><code>&lt;rule name=\"Remove WWW prefix\" &gt; &lt;match url=\"(.*)\" ignoreCase=\"true\" /&gt; &lt;conditions&gt; &lt;add input=\"{HTTP_HOST}\" pattern=\"^www\\.domain\\.com\" /&gt; &lt;/conditions&gt; &lt;action type=\"Redirect\" url=\"http://domain.com/{R:1}\" redirectType=\"Permanent\" /&gt; &lt;/rule&gt;</code></pre> <p>Na Apachi stačí do souboru <code>.htaccess</code> přidat následující řádky:</p> <pre><code># Remove WWW prefix RewriteCond %HTTP_HOST ^www\\.domain\\.com [I] RewriteRule ^/(.*) http://domain.com/$1 [RP]</code></pre> <p>Co ale dělat, pokud nemáte na serveru možnost URL rewriting provádět?</p> <p>Naštěstí existuje alternativa. Vývojáři Google, Yahoo a Live Search se domluvili na zavedení <code>link</code> tagu, který určuje kanonickou URL přímo v dokumentu. Do sekce <code>html/head</code> vašich stránek přidejte následující tag:</p> <pre class=\"xml\"><code>&lt;link rel=\"canonical\" href=\"http://domain.com/kanonicka/adresa-stranky\" /&gt;</code></pre> <p>Tím dosáhnete toho, že pokud crawler navštíví vaši stránku přes různé adresy, vždy ji bude považovat za jednu a tu samou s adresou, která je hodnotou atributu <code>href</code>.</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a href=\"http://blog.stackoverflow.com/2008/06/dropping-the-www-prefix/\">StackOverflow Blog: Dropping The www Prefix</a></li> <li><a href=\"http://blogs.msdn.com/webmaster/archive/2009/02/12/partnering-to-help-solve-duplicate-content-issues.aspx\">Live Search Blog: Partnering to help solve duplicate content issues</a></li> <li><a href=\"http://googlewebmastercentral.blogspot.com/2009/02/specify-your-canonical.html\">Google Webmaster Blog: Specify your canonical</a></li> <li><a href=\"http://fulltext.sblog.cz/2009/02/17/29\">Seznam Fulltext blog: Nová zbraň pro boj s duplicitním obsahem</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-02-17T20:11:34.260-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Kanonicky proti duplicitám",
  :published #inst "2009-02-13T07:27:54.080-00:00",
  :url "kanonicky-proti-duplicitam",
  :id 348,
  :description
  "Vyhledávače přicházejí s podporou nového link tagu canonical. Pojďme se podívat, jak předcházet duplicitnímu obsahu a rozmělňování page ranku, jak pomocí tohoto tagu, tak pomocí URL rewritingu.",
  :category "Webdesign",
  :tags ["iis7" "url" "apache" "rewriting" "seo"]},
 :79-pristup-k-objektum-master-page-v-asp-net-2.aspx
 {:html
  "<p>ASP.NET 2&#160;přináší globální šablonování pomocí Master pages. Díky tomu snadno udržíte jednotný vzhled aplikace. V &#8222;mástru&#8220; si nadefinujete stránku přesně tak, jak chcete, aby ve výsledku vypadala a pomocí objektů <code>&lt;asp:ContentPlaceholder&gt;</code> definujete místa, která se u&#160;jednotlivých stránek budou měnit. Samotné aspx stránky budou obsahovat už jen tyto upravitelné části a výkonnou část dané stránky.</p> <p>Ovšem někdy je potřeba volat ovládací prvky, které jsou součástí mástru. Na výběr máme minimálně dvě možnosti jak toho docílit. Tou první je pomocí volání metody <code>FindControl(string name)</code> vlastnosti Master s&#160;tím, že si musíte přetypovat nalezený kontrol, nebo ošetřit nenalezený. Ta druhá využívá vlastnosti <acronym title=\"objektově orientované programování\">OOP</acronym> a to dědičnosti. Naše Master page dědí ze třídy Master, my si k&#160;ní ještě připíšeme vlastní vlastnosti, které budou vracet a nastavovat námi požadované ovládací prvky nebo jejich vlastnosti.</p> <p>Chtějme např. z&#160;obsahové stránky přidávat do hlavičky stránky <strong>link na syndikaci</strong>, která se bude dynamicky měnit podle toho, v&#160;jaké jste sekci webu nebo jestli jste na titulní straně.</p> <p>V&#160;prvním kroku si vytvoříme vlastnost, která bude vracet sekci <code>&lt;head&gt;</code> výsledné stránky.</p> <pre class=\"csharp\"><code>public partial class MyMaster : Master { public HtmlHead Head { get { return (HtmlHead)this.Page.Header; } } protected void Page_Load(object sender, EventArgs e) { } }</code></pre> <p>V&#160;druhém kroku nastavíme obsahovým stránkám třídu, která jim má být Mastrem. Každá třída odvozená od Page má vlastnost Master, která je typu Master. Naštěstí se zde používají generika, takže není velkým problémem nastavit si třídu vlastní. Dosáhneme toho vložením následujícího řádku do zdroje obsahové stránky (podobně jako se registrují UserControls).</p> <pre class=\"xml\"><code>&lt;%@ MasterType VirtualPath=\"~/MyMaster.master\" %&gt;</code></pre> <p>Pokud by tento řádek v&#160;kódu chyběl, museli bychom všude vlastnost Master přetypovat na námi požadovanou třídu, což přináší zbytečné opakování kódu, který není nutné psát. A&#160;na konec tu máme malou ukázku toho, jak přidat link na RSS do stránky pomocí vlastnosti Head v&#160;našem mástru.</p> <pre class=\"xml\"><code>&lt;%@ Page Language=\"C#\" MasterPageFile=\"~/MyMaster.master\" %&gt; &lt;%@ MasterType VirtualPath=\"~/MyMaster.master\" %&gt; &lt;script runat=\"server\"&gt; protected void Page_Load(object sender, EventArgs e) { HtmlLink rssLink = new HtmlLink(); rssLink.Href = \"~/Syndikace.asmx/Rss\"; rssLink.Attributes.Add(\"rel\", \"Alternate\"); rssLink.Attributes.Add(\"type\", \"application/rss+xml\"); rssLink.Attributes.Add(\"title\", \"Web feed článků - RSS 2.0\"); Master.Head.Controls.Add(rssLink); } &lt;/script&gt; &lt;asp:Content ID=\"Content1\" ContentPlaceHolderID=\"ContentPlaceholder1\" Runat=\"Server\"&gt; &lt;/asp:Content&gt;</code></pre> <!-- generated by Texy! -->",
  :keywords "master pages properties asp.net 2",
  :edited #inst "2005-12-12T14:36:21.147-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Přístup k objektům Master page v ASP.NET 2",
  :published #inst "2005-11-09T09:39:17.483-00:00",
  :url "pristup-k-objektum-master-page-v-asp-net-2",
  :id 79,
  :description
  "Návod jak přistupovat k&#160;vlastním vlastnostem Master page z&#160;obsahových stránek.",
  :category "ASP.NET 2.0",
  :tags []},
 :51-dj-orbith-v-dubnici.aspx
 {:html
  "<p>U&#160;nás pod Ještědem jsou jen dvě místa, kde se dá o&#160;víkendu zapařit. <a href=\"http://www.discoheges.cz\">V&#160;pátek v&#160;Hegeši</a> a <a href=\"htt://www.discodubnice.cz\">v&#160;sobotu v&#160;Dubnici</a>. Obě diskotéky patřej moderátorovi <a href=\"http://www.deejay.cz\">Radia Deejay</a> Honzovi Bažantovi. No a tuhle sobotu tam hrál <a href=\"http://www.djorbith.com\">DJ Orbith</a>, tak jsem po dlouhé době navštívil diskotéku :)</p> <p>Od desíti asi do půl dvanáctý hrál Vítek Červený, taky z&#160;RD. Míchal spíš hausovější úpravy známejch věcí a pak trochu přitvrdil víc k&#160;elektru &#8211; Geht's&#160;Noch? &#8211; aby připravil půdu pro Orbitha. Ten rozjel tu pravou elektro taneční atmosféru, pořádnej mazec :) Takhle z&#160;hlavy si nevzpomenu co všechno hrál, ale dost tracků je <a href=\"http://www.djorbith.com/downloads/02electro.wma\">ke stažení</a> v&#160;setu <strong>Elektopop</strong> na stránkách DJ Orbitha.</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:55:49.050-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "DJ Orbith v Dubnici",
  :published #inst "2005-02-21T00:00:00.000-00:00",
  :url "dj-orbith-v-dubnici",
  :id 51,
  :description "",
  :category "Muzika",
  :tags []},
 :38-zkousky.aspx
 {:html
  "<p>To slovo, zkoušky, ve mě probouzí velice divný pocit. Zlášť v&#160;tuhle dobu, kdy venku sněží. Místo toho abych se učil, tak pařim Lord of the Rings: Battle for the Middle-earth :) Jak na to?</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2005-12-12T15:49:12.580-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Zkoušky",
  :published #inst "2005-01-24T00:00:00.000-00:00",
  :url "zkousky",
  :id 38,
  :description "",
  :category "Škola",
  :tags []},
 :159-migrace-z-asp-net-1-x.aspx
 {:html
  "<p>Pokud stojíte před rozhodnutím přemigrovat vaše staré ASP.NET 1.x aplikace do dvojky nebo už jste se rozhodli, doporučuji vám zabrowsdat na následující stránku: <a href=\"http://msdn.microsoft.com/asp.net/reference/migration/upgrade/\">Upgrade from ASP.NET 1.x</a>. Najdete zde několik praktyckých článků, jak přemigrovat pomocí <a href=\"/clanek/144-web-application-project.aspx\">Web Application Projectu</a> nebo pomocí Web Site Projectu. Najdete zde také odkaz na záplatu <a href=\"http://www.microsoft.com/downloads/details.aspx?familyid=7cecd652-fc04-4ef8-a28a-25c5006677d8&amp;displaylang=en\">Web Project Conversion Wizard</a>, který opravuje několik chyb v konverzi, která je součástí Visual Studia 2005.</p> <p>Z vlastních zkušeností musím doporučit nainstalovat Web Application Project, který převod usnadňuje obrovsky a u rozsáhlejších projektů je dosažení uspokojivých výsledků s Web Site Projectem skoro nemožné nebo velice zdlouhavé ;)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:32:21.863-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Migrace z ASP.NET 1.x",
  :published #inst "2006-06-12T10:49:39.377-00:00",
  :url "migrace-z-asp-net-1-x",
  :id 159,
  :description
  "Jak co nejefektivaněji přemigrovat ASP.NET 1.x weby na 2.0.",
  :category "ASP.NET 2.0",
  :tags ["aspnet"]},
 :376-lokalizovane-url-v-asp-net-mvc.aspx
 {:html
  "<p>Pokud se dostanete do situace, že budete potřebovat lokalizovat URL adresy vaší webové aplikace, máte hned několik možností, jak to řešit.</p> <p>Jedno z možných řešení, které se mi ani trochu nelíbí, popsal Augi ve svém článku <a href=\"http://www.augi.cz/programovani/asp-net-mvc-lokalizace-url/\">ASP.NET MVC – lokalizace URL</a>. Já mám raději jednoduchá řešení, která nepotřebují hackovat systém. :)</p> <p>Když jsme začali psát <a href=\"http://www.trop.cz/\">Trop</a>, byl celý v angličtině. Díky konvencím, které jsem popsal v článku <a href=\"/weblog/340-pojmenovane-routy-v-asp-net-mvc.aspx\">Pojmenované routy v ASP.NET MVC</a>, měla naprostá většina stránek svojí vlastní routu. A protože definice routy není nic jiného než textový řetězec, přesunul jsem jej do resource souboru <code>Routes.resx</code>. To byl první krok.</p> <p>Když jsme vymýšleli, jakým způsobem poběží jednotlivé jazykové mutace, bylo jasné, že každá mutace bude mít vlastní top-level doménu a bude to samostatná instance aplikace. To je super, protože se pak dá využít konfigurační sekce <code>globalization</code>, kde se nastaví jazyk prostředí konkrétní instance, podle kterého se i vybírají konkrétní resource soubory.</p> <p>Česká instance pak má ve web.configu následující řádek:</p> <pre class=\"xml\"><code>&lt;globalization culture=\"cs-CZ\" /&gt;</code></pre> <p>Díky tomu se použijí routovací pravidla z <code>Routes.cs.resx</code> a URL adresy se generují česky, aniž bych musel v kódu cokoli změnit. Samozřejmě nejsou přeložená všechna routovací pravidla, spousta akcí, které jsou pouze <code>POST</code>, překlad nepotřebuje, protože nejsou součástí prezentační vrstvy.</p> <p>Nakonec veškeré úsilí, které bylo k implementaci lokalizovaných URL potřeba, bylo v tom, embedovat definované routy do resource souboru, s čímž mi ochotně pomohl Refactor! Pro. :) Zbytek je věc konfigurace v deployovacím scriptu. Ale to už je na jiné povídání.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-01-24T11:33:06.293-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Lokalizované URL v ASP.NET MVC",
  :published #inst "2010-01-24T11:26:42.327-00:00",
  :url "lokalizovane-url-v-asp-net-mvc",
  :id 376,
  :description
  "Jak snadno a rychle vyřešit problém lokalizovaných URL v ASP.NET MVC potažmo i v ASP.NET 4?",
  :category "ASP.NET 2.0",
  :tags ["aspnet" "mvc" "routing" "lokalizace"]},
 :243-buon-natale.aspx
 {:html
  "<p>Šťastné a veselé Vánoce a hodně štěstí a zdraví v novém roce Vám přeje Aleš Roubíček.</p> <div><img src=\"/data/obrazky/pf2008.jpg\" alt=\"PFka\" /></div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2007-12-24T12:17:28.603-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Buon natale",
  :published #inst "2007-12-24T12:17:28.557-00:00",
  :url "buon-natale",
  :id 243,
  :description
  "Šťastné a veselé Vánoce a hodně štěstí a zdraví v novém roce Vám přeje Aleš Roubíček.",
  :category "Jen tak",
  :tags []},
 :176-alessio-busta-electro-session.aspx
 {:html
  "<ol> <li>Joachim Garraud – Space Invaders are Back</li> <li>Ame – Rej (Wally Lopez Remix)</li> <li>Sandy Vee – Just a Cliche</li> <li>Dj DLG – Latin Bomb (Robbie Rivera Remix)</li> <li>Raul Ricon – Indigenous People (Body)</li> <li>Get Far – Shining Star (Gianluca Motta Remix)</li> <li>Erick Morillo feat. P Diddy – Dance I Sad (Touche Instrumental)</li> <li>Darude – Sandstorm (Dj Dello Electro Mix)</li> <li>Commander Tom – I can't sleep</li> <li>In-N-Out – Musica Automatica</li> <li>Chris Lake – Changes (Funkagenda Remix)</li> <li>Mixin Marc – Right Here Right Now (Dub Mix)</li> <li>Tiësto feat. BT – Love Comes Again (Robert Vadney Remix)</li> <li>Therese – Time (StoneBridge HMB Dub)</li> </ol> <p>Ke stažení: <a href=\"/files/alessio_busta_-_electro_session.wma\" onclick=\"javascript:_gat._getTracker(\">Alessio Busta – Electro Session</a> (WMA 96 kbps; 54,1 MiB)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-06-23T15:09:37.250-00:00",
  :is-published true,
  :author "alessio busta",
  :title "Alessio Busta - Electro Session",
  :published #inst "2006-08-22T15:30:02.547-00:00",
  :url "alessio-busta-electro-session",
  :id 176,
  :description "Musica elettronica di Alessio Busta",
  :category "Muzika",
  :tags []},
 :448-deset-duvodu-proc-nepouzivat-funkcionalni-jazyky.aspx
 {:html
  "<p>Máte už plný zuby toho šílenýho povyku okolo funkcionálních jazyků? Já teda jo. Myslím, že je načase sepsat pár rozumných důvodů, proč se od něho držet dál. <strong>Funkcionální programování není pro každého.</strong> To je důležité zmínit hned na začátku.</p> <p>Pro jistotu, když píšu „staticky typovaný funkcionální jazyk,“ mám na mysli jazyk, který i dokáže odvozovat typy, jeho datové struktury nepodporují mutace, a podobné nesmysly. V praxi to znamená, že myslím zcela nepraktické (akademické) jazyky jako je Haskell nebo jazyky z rodiny ML (jako OCaml nebo F#).</p> <h3 id=\"toc-duvod-prvni-nemam-zajem-sledovat-posledni-vystrelky\">Důvod první: Nemám zájem sledovat poslední výstřelky</h3> <p>Jako většina programátorů, jsem přirozeně konzervativní a nerad se učím nové věci. To je také důvod proč jsem si vybral kariéru v IT.</p> <p>Rozhodně nejančím z každé žhavé novinky, jen proto, že všichni frajeři se z ním můžou podělat. Já si radši počkám, až ten výstřelek trochu dospěje a ukáže se trochu perspektivním. Pro mě tu není funkcionální programování dostatečně dlouho, aby mě přesvědčilo, že tu s námi ještě nějakou dobu bude.</p> <p>Ano, někteří se nás mohou snažit přesvědčovat, že ML nebo Haskell tu byly asi tak stejně dlouho jako naše staré známé oblíbené jazyky, jako je Java nebo PHP, ale já o Haskellu, slyšel poprvé celkem nedávno, takže s tímhle argumentem na mě nechoďte.</p> <p>A podívejte na to batole, F#. Vždyť je teprve sedm let starý! Jistě, to může být dost dlouhá doba pro geology, ale na internetu? Sedm let!? To je skoro okamžik.</p> <p>Tak, jak říkám, radši budu opatrný a ještě si pár dekád počkám, jestli tu ještě tohle to funkcionální programování bude, nebo jestli se to nakonec neukáže jako výstřelek doby.</p> <h3 id=\"toc-duvod-druhy-jsem-placen-od-radky-kodu\">Důvod druhý: Jsem placen od řádky kódu</h3> <p>Já teda nevím jak vy, ale čím víc řádek napíšu, tím víc se cítím produktivní. Pokud můžu za den vychrlit 500 řádků kódu, mám ze sebe dobrý pocit. To byla dobře odvedená práce. Moje commity jsou velké a můj šéf může jasně vidět, že jsem byl opravdu vytíženej.</p> <p>Když porovnám kód napsaný ve funkcionálním jazyce s kódem ve starém dobrém céčkovém jazyce, chybí tam tolik kódu, že mě to až děsí.</p> <p>No, podívejte se sami na kód napsaný v povědomém jazyce:</p> <pre class=\"csharp\"><code>public static class SumOfSquaresHelper { public static int Square(int i) { return i * i; } public static int SumOfSquares(int n) { int sum = 0; for (int i = 1; i &lt;= n; i++) { sum += Square(i); } return sum; } }</code></pre> <p>a porovnejte to s tímhle:</p> <pre class=\"fsharp\"><code>let square x = x * x let sumOfSquares n = [1..n] |&gt; List.map square |&gt; List.sum</code></pre> <p>To je 17 řádek ku 2. <a href=\"http://www.simontylercousins.net/journal/2013/2/22/does-the-language-you-choose-make-a-difference.html\">Představte si ten rozdíl, když to rozložíte na celý projekt!</a> Kdybych takhle přistupoval k psaní mých programů, moje produktivita by drasticky klesla. Brrr, lepší si to ani nepředstavovat.</p> <h3 id=\"toc-duvod-treti-miluju-slozene-zavorky\">Důvod třetí: Miluju složené závorky</h3> <p>A to taky dost nepobírám. Co je jako na těch jazycích, co se snaží zbavit všech těch závorek? Jak je pak vůbec můžeme považovat za opravdové programovací jazyky?</p> <p>Pojďme si ukázat, co mám na mysli. Tady je kus kódu se starejma dobrejma složenejma závorkama:</p> <pre class=\"csharp\"><code>public class Squarer { public int Square(int input) { var result = input * input; return result; } public void PrintSquare(int input) { var result = this.Square(input); Console.WriteLine(\"Input={0}. Result={1}\", input, result); } }</code></pre> <p>a tady obdobný kód bez složenejch závorek:</p> <pre class=\"fsharp\"><code>type Squarer() = let Square input = let result = input * input result let PrintSquare input = let result = Square input printf \"Input=%i. Result=%i\" input result</code></pre> <p>Vidíte to? Já teda nevím jak vám, ale mně ta druhá ukázka přijde dost znepokojující, jako by tam něco důležitého chybělo. Ruku na srdce, jsem celkem ztracený, když se mé oko nemůže odpíchnout od povědomých složených závorek.</p> <h3 id=\"toc-duvod-ctvrty-chci-videt-explicitni-typy\">Důvod čtvrtý: Chci vidět explicitní typy</h3> <p>Zastánci funkcionálního programování tvrdí, že odvozování typů, dělá kód čistším, protože ho nemusíte pořád zanášet typovými deklaracemi.</p> <p>Abych byl upřímný, já typové deklarace vidět chci. Necítím se ve své kůži, když nevidím jakého typu parametr přesně je. To je také důvod, proč mám rád Javu.</p> <p>Tady je signatůra funkce z nějakýho ML dialektu. Nejsou tam vůbec žádný deklarace typů. Všechny jsou odvozený automagicky:</p> <pre class=\"fsharp\"><code>let GroupBy source keySelector = ...</code></pre> <p>A tady je signatura té samé funkce v C#, s explicitně vyjádřenými typy:</p> <pre class=\"csharp\"><code>public IEnumerable&lt;IGrouping&lt;TKey, TSource&gt;&gt; GroupBy&lt;TSource, TKey&gt;( IEnumerable&lt;TSource&gt; source, Func&lt;TSource, TKey&gt; keySelector ) ...</code></pre> <p>Já teda nevím jak vám, ale mně se víc líbí druhá ukázka. Pro mě je velice důležité, abych viděl, že ta funkce vrací <code>IEnumerable&lt;IGrouping&lt;TKey, TSource&gt;&gt;</code>.</p> <p>Tak určitě. Kompilátor jako zjistí, co je to za typ a upozorní mě, když to nesedí, ale proč by to, proboha, měl dělat kompilátor? Od čeho mám svůj mozek?</p> <p>Přiznávám, že pokud pracujete s generiky, lambda výrazy a s funkcemi, které vracejí funkce a s dalšíma cool novinkama, tak pak asi můžou být typové declarace trochu fousaté a komplexní. Může to být trochu těžké, napast správný typ. Ale na druhou stranu, existuje na to jednoduchý lék: <strong>Nepoužívejte generika a nepředávejte si funkce.</strong> Vaše signatury budou o dost jednodušší!</p> <h3 id=\"toc-duvod-paty-rad-opravuju-bugy\">Důvod pátý: Rád opravuju bugy</h3> <p>Neznám nic napínavějšího než je lov – vystopovat a zlikvidovat pořádnou bugu. A když najdu bugu v produkci, ještě líp, protože navíc budu ještě za hrdinu.</p> <p>Četl jsem, že <a href=\"http://www.simontylercousins.net/journal/2013/3/7/why-bugs-dont-like-f.html\">se staticky typovnými funkcionálními jazyky, je mnohem těžší zanést chybu.</a></p> <p>No tě pic.</p> <h3 id=\"toc-duvod-sesty-v-debuggeru-jsem-jako-doma\">Důvod šestý: V debuggeru jsem jako doma</h3> <p>A když už jsem u toho lovení bugů. Většinu dne trávím v debuggeru, krokováním kódu. Já vím, měl bych psát unit testy. Jenže to se snadnějš řekne, než dělá…</p> <p>Každopádně, podle všeho, <a href=\"http://www.haskell.org/haskellwiki/Why_Haskell_just_works\">pokud se vám ve staticky typovaném funkcionálním jazyce podaří program zkompilovat, většinou i funguje</a>. Prej musíte většinu času zabít tím, aby jste správně poladili typy, aby to pěkně sedělo a pak máte hotovo. Co je na tom zábavného?</p> <p>Což mě přivádí k…</p> <h3 id=\"toc-duvod-sedmy-nechci-premyslet-nad-kazdym-detailem\">Důvod sedmý: Nechci přemýšlet nad každým detailem</h3> <p>Všechno to ladění typů a ujišťování se, že všechno perfektně sedí, zní celkem nudně.</p> <p>Dokonce jsem někde slyšel, že jste nucený přemýšlet o každém možném hraničním případu, všech možných chybových stavech a já nevím, co se ještě může zvrtnout. A to všechno od samého začátku. Prostě nemůžeš být línej a nechat to na pozdějc.</p> <p>Radši se zaměřuju na to, aby (většinou) všechno prošlo tak jak má a bugy řeším, až když se ukážou.</p> <h3 id=\"toc-duvod-osmy-rad-overuju-null\">Důvod osmý: Rád ověřuju null</h3> <p>Jsem <a href=\"http://stackoverflow.com/questions/7585493/null-parameter-checking-in-c-sharp\">velmi svědomitý v případě ověřování <code>null</code> a to v každé metodě</a>. Celkem mě uspokojuje pocit, že vím, že můj kód je ve výsledku úplně neprůstřelný.</p> <pre class=\"csharp\"><code>void SomeMethod(SomeClass x) { if (x == null) { throw new ArgumentNullException(); } x.DoSomething(); }</code></pre> <p>Kecám. Samozřejmě to nedělám úplně všude, to bych vůbec nic jinýho neudělal.</p> <p>Ale, nakonec se mi stalo jen jednou, že jsem musel řešit pád, kvůli <code>NRE</code>. Ani jsme nepřišli o moc peněz za těch pár tejdnů, kdy jsem hledal, kde je vlastně problém. Fakt nechápu, proč se z toho <a href=\"http://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare\">dělá taková věda</a>.</p> <h3 id=\"toc-duvod-devaty-rad-aplikuju-navrhove-vzory-kde-je-to-mozne\">Důvod devátý: Rád aplikuju návrhové vzory, kde je to možné</h3> <p>Poprvý jsem o návrhových vzorech četl v knize <a href=\"http://knihy.cpress.cz/navrhove-vzory.html\">Návrhové vzory</a> (z nějakýho důvodu se občas označuje jako GoF vzory, ale fakt netušim proč) a od tý doby je fakt pilně aplikuju na všechny problémy. Můj kód pak vypadá líp a má „enterprise“ nádech. A to se mému šéfovi líbí.</p> <p>Ale ještě jsem ani náznakem neslyšel o nějakých vzorech ve funkcionálním programování. Jak vůbec můžete udělat něco užitečnýho bez <a href=\"http://www.algoritmy.net/article/1639/Strategy\">Strategie</a>, <a href=\"http://www.algoritmy.net/article/1403/Abstract-factory\">Abstraktní továrny</a>, <a href=\"http://www.algoritmy.net/article/1629/Decorator\">Dekorátoru</a>, <a href=\"http://objekty.vse.cz/Objekty/Vzory-Proxy\">Proxy</a> nebo dalších?</p> <p>Možná o nich funkcionální programátoři ani neslyšeli…</p> <h3 id=\"toc-duvod-desaty-je-tam-prilis-matematiky\">Důvod desátý: Je tam příliš matematiky</h3> <p>Tady je další ukázka počítání mocnin. IMO je dost těžký pochopit, o co vlastně jde, protože je tam sousta nesmyslných symbolů:</p> <pre><code>ss=: +/ @: *:</code></pre> <p>Dobře, omlouvám se, moje chyba, tohle je <a href=\"http://en.wikipedia.org/wiki/J_(programming_language)\">kód v J</a>. Ale stejně jsem viděl, jak je ten funkcionální kód plnej různých <code>&lt;*&gt;</code> a <code>&gt;&gt;=</code> a vůbec takových divných konceptů jako jsou „monády“ a „funktory“.</p> <p>Fakt nechápu, proč tihle funkcionalisti nemohli nechat věci, který už dobře znám – jasné symboly jako <code>++</code> nebo <code>!=</code> a jednoduché koncepty jako je „dědičnost“ a „polymorfismus“.</p> <h3 id=\"toc-shrnuti-fakt-to-nechapu\">Shrnutí: Fakt to nechápu</h3> <p>Víte co? Fakt to nechápu. Nechápu, co by mohlo být na funkcionálním programování užitečný.</p> <p>Jediný oč žádám je, aby mi někdo <a href=\"http://fsharpforfunandprofit.com/why-use-fsharp/\">ukázal skutečné benefity na jedný stránce</a>, místo chrlení příliš spousty nesourodých informací.</p> <p><strong>Update:</strong> Tak jsem si přečetl tu stránku „vše co potřebujete vědět na jediné stránce.“ Ale je to <a href=\"http://www.devbook.cz/jak-zacit-programovat-tvorit-aplikace-programy\">příliš krátké a zjednodušující</a>, aby mi to dávlo smysl. Fakt hledám něco, co <a href=\"http://programujte.com/clanek/2006032503-co-je-to-funkcionalni-programovani/\">má trochu hloubku</a>, něco, co by mě <a href=\"http://www.knesl.com/articles/view/jak-se-pustit-do-ukolu-ktery-se-vam-nechce-delat\">fakt chytlo</a>.</p> <p>A ne, fakt nemám chuť <a href=\"http://learnyouahaskell.com/\">číst tutoriály</a>, <a href=\"http://www.tryfsharp.org/Learn\">hrát si s ukázkama</a> a psát vlastní kód. Chci tomu jen přijít na kloub, bez toho, abych musel dělat všechny ty zbytečný věci.</p> <p><strong>Nechci měnit to, jak myslím, jen se chci naučit to nové paradigma.</strong></p> <p><em>článek je volným překladem <a href=\"http://fsharpforfunandprofit.com/posts/ten-reasons-not-to-use-a-functional-programming-language/\">Ten reasons not to use a statically typed functional programming language</a> od Scotta Wlaschina</em></p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2013-04-14T15:26:18.637-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Deset důvodů proč nepoužívat funkcionální jazyky",
  :published #inst "2013-04-14T10:15:12.213-00:00",
  :url "deset-duvodu-proc-nepouzivat-funkcionalni-jazyky",
  :id 448,
  :description
  "Máte už plný zuby toho šílenýho povyku okolo funkcionálních jazyků? Já teda jo. Myslím, že je načase sepsat pár rozumných důvodů, proč se od něho držet dál. ",
  :category "Moje práce",
  :tags []},
 :237-jak-se-stavi-luxusni-domy.aspx
 {:html
  "<p>Při snídani jsem se podíval z okna a málem mě to stálo život. Udušení rohlíkem v záchvatu smíchu, není moc hezká smrt. Vlastně je aspoň veselá. :)</p> <p>Co jsem za tím oknem viděl? Přes ulici se staví 2. etapa výstavby luxusního bydlení <a href=\"http://www.krutec.cz/\">Na Krutci</a>. Jeden z dělníků tam dolepoval zateplení. Už jen to že správný tvar vytvářel hranou zednické lžíce, mě značně rozesmálo. Následovala část lepení, kdy tu vokousanou hranu přetřel vrstvou lepidla, pak ji rovnoměrně roztíral. Nakonec to vzal a vrazil na zeď a pak to táhl 30 cm směrem ke kraji. Nakonec vytáhl libelu a testoval, zda to má rovně. No to už jsem se svíjel v křeči.</p> <p>No <a href=\"http://picasaweb.google.com/Jakub.Klinke/JakSprVnZateplovat/\">podívejte se sami</a>, Kuba něco stihl i nafotit a přidal i odborný komentář. :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T15:10:17.353-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Jak se staví luxusní domy",
  :published #inst "2007-12-04T09:44:43.683-00:00",
  :url "jak-se-stavi-luxusni-domy",
  :id 237,
  :description
  "Při snídani jsem se podíval z okna a málem mě to stálo život. Udušení rohlíkem v záchvatu smíchu, není moc hezká smrt. Vlastně je aspoň veselá.",
  :category "Jen tak",
  :tags ["luxusní" "domy" "krutec"]},
 :299-stahnete-si-texy-net-a-nforms-pres-svn.aspx
 {:html
  "<p>Projekty, které se rozhodnu vypustit ven, většinou hostuju na <a href=\"http://www.codeplex.com/\">CodePlexu</a>. Jeho UI mi přijde mnohem rychlejší než konkurenční <a href=\"http://www.sourceforge.net/\">SourceForge</a> a přehlednější než <a href=\"http://code.google.com/\">Google Code</a>. Nevadí mi, že za tímto hostingem stojí velký zlý Microsoft, naopak to vítám. Tento projekt byl jedním z prvních krůčků na podporu OpenSource ze strany Microsoftu a navíc je místem, kde samotný Microsoft uveřejňuje spoustu zajímavých projektů. Například <a href=\"http://www.codeplex.com/aspnet\">budoucí části ASP.NET</a>.</p> <p>Ale zpět k tématu. Tento hosting je postaven na <a href=\"http://msdn.microsoft.com/en-us/tfs2008/default.aspx\">Team Foundation Serveru</a> (TFS), který je centrem pro týmovou práci, verzovacím systémem a v neposlední řadě i systémem pro vedení požadavků a úkolů. Tím se odlišuje od konkurence, která většinou používá tradiční SVN, což je po léta de-facto standard pro verzování OpenSource projektů. Komunita dlouho volala po tom, že chtějí SVN i CodePlexu. V MS nakonec udělali kompromis.</p> <h3 id=\"toc-svn-bridge\">SVN Bridge</h3> <p><a href=\"http://www.codeplex.com/SvnBridge\">SVN Bridge</a> byl první krok. Je to taková malá utilitka, kterou si spustíte na vašem počítači a ona překládá vaše SVN požadavky do řeči, které rozumí TFS. Můžete s ní pak používat oblíbené nástroje jako <a href=\"http://tortoisesvn.tigris.org/\">TortoiseSVN</a> nebo <a href=\"http://www.visualsvn.com/\">VisualSVN</a>. Ale pořád je tu nutnost donahrát si utilitu a ani URL repository ve tvaru <code>http://localhost:8081/&lt;tfs.server.name&gt;/&lt;projectname&gt;</code> nejsou nějak úchvatná.</p> <p>Tento měsíc však došlo k zásadní změně. Na Codeplexu byl nasazen serverový SVN bridge, takže už nemusím pouštět lokální verzi, ale rovnou můžu pro snadný přístup přes SVN nástroje používat adresy následující:</p> <ol> <li>pro <a href=\"http://www.codeplex.com/nforms\">NForms</a> <code>https://nforms.svn.codeplex.com/svn</code></li> <li>pro <a href=\"http://www.codeplex.com/texynet\">Texy.net</a> <code>https://texynet.svn.codeplex.com/svn</code></li> </ol> <p>No a vy také ;)</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a href=\"https://svnbridge.svn.codeplex.com/svn\">Subversion Support Comes to CodePlex… Sorta’</a></li> <li><a rel=\"bookmark\" href=\"/weblog/209-texy-net-na-codeplexu.aspx\">Texy.net na Codeplexu</a></li> <li><a rel=\"bookmark\" href=\"/weblog/225-budoucnost-texy-net.aspx\">Budoucnost Texy.net</a></li> <li><a rel=\"bookmark\" href=\"/weblog/291-nforms-na-codeplexu.aspx\">NForms na Codeplexu</a></li> <li><a href=\"http://blogs.msdn.com/codeplex/archive/2008/09/14/codeplex-launches-support-for-tortoisesvn.aspx\">CodePlex launches support for TortoiseSVN</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:32:53.113-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Stáhněte si Texy.net a NForms přes SVN",
  :published #inst "2008-09-13T16:02:58.277-00:00",
  :url "stahnete-si-texy-net-a-nforms-pres-svn",
  :id 299,
  :description
  "Na Codeplexu zprovoznili serverovo variantu SVN bridge. Nyní si můžete stáhnout Texy.net, NForms nebo třeba ASP.NET MVC pohodlně přes SVN nástroje.",
  :category "ASP.NET 2.0",
  :tags
  ["codeplex" "nforms" "texynet" "aspnet" "snv" "opensource" "vcs"]},
 :160-dalsi-nova-alba.aspx
 {:html
  "<p>V&#160;sekci Galerie přibyla čtyři nová alba. První obsahuje fotografie z&#160;hasičské soutěže <a href=\"/galerie/2006-06-17_Pohar_starosty_Osecne/default.aspx\">Pohár starosty obce Osečná</a> a ta druhá z&#160;<a href=\"/galerie/2006-06-24_Martin_Hranac_v_Dubnici/default.aspx\">diskotéky v&#160;Dubnici</a>. Třetím albem jsou fotky, které jsem nafotil <a href=\"/galerie/2006-06-18_zahrada/default.aspx\">na naší zahradě</a> a to čtvrtý obsahuje <a href=\"/galerie/2006-05-21_Shake_66/default.aspx\">fotky z&#160;Shaku</a>.</p> <p>V&#160;přípravě mám velké album fotek z&#160;<em>Akce &#8211; Paul van Dyk v&#160;Praze</em>. Již brzy na vašich monitorech&#8230;</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-06-27T17:22:20.063-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Další nová alba",
  :published #inst "2006-06-27T17:20:00.000-00:00",
  :url "dalsi-nova-alba",
  :id 160,
  :description
  "V sekci Galerie přibyla čtyři nová alba. A chystám další...",
  :category "Jen tak",
  :tags []},
 :274-takovy-nenormalni-den-v-mym-zivote.aspx
 {:html
  "<p>Uff to byl včera zase den. Nemůžu říct že bych nebyl ve středu pozornosti, ale ne vždy je to žádoucí. Vezlo se to se mnou už od rána. Modře blikající <a href=\"http://direct.motorola.com/ens/BTStereoHS_Web_ProductHome.asp\">HT820</a> na uších nepatří mezi nejdecentnější poslechová zařízení, ale mám rád volnost bez drátů a celkem kvalitní zvuk. K tomu ještě to čerstvý číro, takže moje hlava byla obohacena o další výčnělek.</p> <p>Zraky spolucestujících se na mě upínaly celkem často, ale na to už jsem zvyknut. Pak jsem přišel do práce. Už u vchodu dostal Filip pěknej výtlem, a uklizečka prohodila něco o kokrháčovi. Tyhlety narážky přecházim s ledovým klidem, většinou to ty lidi ještě nasere. Pak jsme přijeli k nám do sedmičky vejdu dovnitř a slušně pozdravím. Odpovědí mi byly jen spadlé čelisti :D</p> <p>Každou chvíli se pak na mne chodil někdo dívat, nebo mě zastavoval, když jsem šel na záchod. Odpoledne už si všichni zvykli tak to bylo ok. Pak přinesl Filip dvanáct dvanáctek, že je v <a href=\"http://www.atlas.cz/\">Atlasu</a> dnes naposled. Tak jsem to s ním zapili. Je to smutný, ale pomalu se z nás stávaj alkoholici – tolik rozluček a narozeninových oslav v tak krátkém období je vážně smrťák. Na rozloučenou jsme ještě Filipa vyklepli v CoDu a večer se razilo na grilování – což měla být seznamovací akce s novým zaměstnavatelem.</p> <p>Mottem akce bylo „Cuba Libre!“ Takže hned na začátek jsem si dal pěkně nešizený kubíčko (no chyběly citrusy a víc ledu, ale i tak dobrý). Když už jsme měl rozpitý asi třetí, tak někdo otevřel Reservu a prej že vypadá jak Whiska. No tomu jsem musel oponovat a vytáhl jsem z báglu placku s Walkerem. Po krátké degustaci jsem museli konstatovat, že chuť i vůně je dost jiná, že možná jen ta barva bude trochu podobná.</p> <p>Jenže na tuhle kombinaci už jsem jednou dojel, prostě mi nedělá moc dobře. Myslím, že jsem měl lehkou otravu. No takže jsem se krásně v nové firmě uvedl. Pěkně jsem jim poblil terásku… Chjo. Ale zas teď už jentak něčím nepřekvapím, to nejhorší už viděli :D Jo a díky všem, co se o mně tak pěkně starali.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-05-23T17:46:15.380-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Takový nenormální den v mým životě",
  :published #inst "2008-05-23T17:41:21.943-00:00",
  :url "takovy-nenormalni-den-v-mym-zivote",
  :id 274,
  :description
  "Strasti a slasti takového obyčejného májového čtvrtka.",
  :category "Jen tak",
  :tags []},
 :124-ajajaj.aspx
 {:html
  "<p>Začal jsem si pohrávat s&#160;<a href=\"http://atlas.asp.net/\">Atlasem</a>. Mojí první aplikací je <strong>Oblíbené čtení</strong>, které možná najdete v&#160;pravém sloupci na titulní straně. Zatim je v&#160;<em>bataverzi</em> :) takže kdyby vám to nefungovalo, klidně mi to písněte (nejlépe na <acronym title=\"ales.roubicek@pbsoftware.cz\">MSN</acronym> nebo <acronym title=\"226-449-424\">ICQ</acronym>). Taky jsel celý pravý sloupec redesignoval, aby vypadal víc jako aplikace než stream písmenek. V&#160;důsledku toho jsem předělal i&#160;výpis Archívu a Rubrik, ale zvolená technika (čistě CSS) asi neni ta nejvhodnější, asi to trochu rozšířím o&#160;nějakej script &#8211; ikdyž ty moc rád nemám, ale musim se někde začít učit i&#160;to :) &#8211; aby se to nechovalo tak divoce. Taky jsem si všimnul, že nějak přestaly funguvat články, takže to je teď bod č. 1, kterej musim pořešit.</p> <h3>Update 1</h3> <p>Tak pořešeno &#8211; chyba byla v&#160;blbě nastaveným cachování. To jsem tupec. Taky jsem kvůli Atlasu změnil Content-type a Doctype, ve strictním XHTML prostě nefunguje :(</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-03-29T22:11:40.743-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Ajajaj",
  :published #inst "2006-03-27T17:36:53.897-00:00",
  :url "ajajaj",
  :id 124,
  :description "O novinkách na mém webu.",
  :category "Jen tak",
  :tags []},
 :203-cybertronic-ii-nejlepsi-parba-roku.aspx
 {:html
  "<p>V&#160;noci z&#160;pátka na večer jsem navštívil jedno z&#160;nejúžastnějších měst České Republiky – Brno. Právem je druhé nejvěší. Svou návštěvou jsem ho však nepoctil jen tak zbůhdarma, ale mířil jsem na jednu z&#160;nejúžasnějších halových akcí vůbec – Cybertronic II – která na mně zanechala nejlepší dojem ze všech akcí, které jsem za svůj krátký život stihl navštívit.</p> <p><img class=\"right\" src=\"/data/obrazky/P3300007.JPG\" alt=\"prostorná hala\" /> Původně se měla akce konat v&#160;hale Rondo, ale nakonec byla šikovně zvolena BIBI hala (bývalý Bauhaus), jejíž prostory jsou pro takéto účely mnohem vhodnější než zimní stadion. Líbila se mi jak výborná akustika, tak obrovské prostory s&#160;toaletami, to se jen tak nevidí. Nekonečný bar přes celou délku haly byl ještě oživen výbornými světelnými efekty.</p> <p>Nejvíce se mi však na celé akci líbilo, jak byla zorganizovaná a jak se pořadatelé dokázali bleskurychle vypořádat s&#160;nečekaně nastalými událostmi. Klobouk dolů!</p> <p><img class=\"left\" src=\"/data/obrazky/P3300019.JPG\" alt=\"DJ Orbith\" /> Headlinerem akce měl být nějakej švédskej typ – <a href=\"http://www.ericprydz.com\">Eric Prydz</a> – kterej se na to, ikdyž měl podepsanou smlouvu, prostě vyflák a do Brna nepřijel. Beztak na něj nikdo nebyl zvědavej. Pořadatelé naštěstí rychle zareagovali a šetrně změnili line-up a ihned to briskně oznámili návštěvníkům.</p> <p>Ještě že celou akci zachránil Fred Baker, kterej hrál vymazlenej trancík, díky němu jsem si celou noc opravdu užíval :D Díky Frede&#8230;</p> <h3>Související</h3> <ul> <li><a href=\"/galerie/2007-03-30_Cybertronic_II/default.aspx\">Fotky z&#160;akce</a></li> </ul> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2007-04-08T10:57:51.173-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Cybertronic II – nejlepší pařba roku!",
  :published #inst "2007-04-01T16:59:56.580-00:00",
  :url "cybertronic-ii-nejlepsi-parba-roku",
  :id 203,
  :description
  "V noci z pátka na večer jsem navštívil jednu z nejúžasnějších halových akcí vůbec – Cybertronic II.",
  :category "Muzika",
  :tags []},
 :340-pojmenovane-routy-v-asp-net-mvc.aspx
 {:html
  "<p>Minule jsme si ukázali, <a rel=\"bookmark\" title=\"DSL pro konfiguraci URL Routingu v ASP.NET MVC\" href=\"/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx\">jak jednodušeji definovat routy v ASP.NET MVC</a> pomocí maker v jazyce Boo. Prvním parametrem pravidla pro vytvoření routy je její název. K čemu je užitečný?</p> <p>Když začnete psát větší aplikaci v <a href=\"http://asp.net/mvc\">ASP.NET MVC</a>, zjistíte, že si s výchozí routou <code>{controller}/{action}/{id}</code> dlouho nevystačíte. Ať už je to tím, že chcete mít aplikaci lokalizovatelnou do více jazyků včetně URL adres, nebo tím, že prostě název řadiče (controlleru) není pro URL zrovna vhodný. Je k tomu spousta důvodů, ale ten nejzákladnější bude, že ne všechny akce mají pouze jeden parametr a ještě k tomu id…</p> <h3 id=\"toc-definice-routovaci-tabulky\">Definice routovací tabulky</h3> <p>K definici fiktivní routovací tabulky využijeme DSL vytvořenou v minulém spotu. Každý správný vývojář určitě <a href=\"http://latrine.dgx.cz/programatori-nepouzivaji-cisla\" title=\"Programátoři nepoužívají čísla\">nepoužívá čísla</a>, ale ani řetězce! Proto si nejprve vytvoříme statickou třídu pro uskladnění názvů našich rout.</p> <pre class=\"csharp\"><code>namespace MyWeb.Routing { public static class Routes { public const string EditArticle = \"edit article\"; public const string ListArticles = \"list articles\"; } }</code></pre> <p>A nyní přejdeme k definování routovací tabulky.</p> <pre class=\"boo\"><code>import file from RoutingMacros.boo import System.Web.Routing import System.Web.Mvc import MyWeb.Routing from MyWeb articles_controller = \"Articles\" map_route Routes.EditArticle, \"admin$/articles/editor/{id}\": defaults: controller = articles_controller action = \"Edit\" map_route Routes.ListArticles, \"admin$/articles\": defaults: controller = articles_controller action = \"Index\"</code></pre> <p>Řetězce šablony routy jsou rovněž dobrými adepty na přesun do resource souboru, ale pro tentokrát se spokojíme s jejich přítomností. Pro dnešní ukázku to plně dostačuje. :)</p> <p>Tak, routovací tabulku máme nadefinovanou a k čemu nám to vlastně je?</p> <h3 id=\"toc-pouziti-v-praxi\">Použití v praxi</h3> <p>Když jsem onehdá psal o tom, jak funguje <a rel=\"bookmark\" title=\"Routing v ASP.NET MVC\" href=\"/weblog/296-url-routing-v-asp-net-cast-prvni.aspx\">URL Routing v ASP.NET MVC</a>, tak jsem nakousnul téma obousměrného routingu. Na WebExpu na to už tolik času taky nebylo, tak nezbývá, než se k tomu vrátit nyní. Pro někoho to bude možná překvapení, ale routovací tabulky lze využít i k <strong>vytváření odkazů</strong>! A taky se toho hojně využívá. Určitě každý, kdo už si ASP.NET MVC zkoušel, potkal <code>HtmlHelper</code> a jeho extenzi <code>ActionLink</code>. Užití v šabloně pohledu je asi následující:</p> <pre class=\"xml\"><code>&lt;%= Html.ActionLink(\"Vypiš články\", \"Index\") %&gt;</code></pre> <p>Tento helper se podívá do routovací tabulky, z kontextu si vezme název aktuálního řadiče (vpodstatě všechny vlastnosti aktuální routy) a spojí ho s názvem akce, který byl definován jako parametr helperu (v tomto případě <em>Index</em>). Tyhle dvě (popř. více) hodnoty hledá v tabulce, najde šablonu routy (<code>\"admin$/articles\"</code>), nacpe do ní získané hodnoty (v tomto případě žádné) a vrátí to celé jako odkaz:</p> <pre class=\"xml\"><code>&lt;a href=\"admin$/articles\"&gt;Vypiš články&lt;/a&gt;</code></pre> <p>Výhodou užití takového helperu je, že pokud změníte routu, tak se vám automaticky generují správné odkazy. Odkazy na akci jsou dobré v kontextu jednoho řadiče. Jenže, když máme trochu víc řadičů a navíc na jejich akce odkazujeme z pohledů jiných řadičů, musíme přidávat další parametr, který definuje, o jaký řadič se jedná, na jehož akci chceme odkázat. Věci by měly zůstávat co nejjednodušší. Proto je zde další helper, který dělá odkazy na pojmenované routy.</p> <pre class=\"xml\"><code>&lt;%= Html.RouteLink(\"Vypiš články\", Routes.ListArticles) %&gt;</code></pre> <p>Výsledek je totožný s předchozím, ale jsou tu i jisté jiné benefity. Název routy je totiž klíčem v routovací tabulce, proto je vytváření odkazu na pojmenovanou routu rychlejší/výkon­nější (nemusí se vyhledávat v hodnotách, ale je tu přístup přímo přes index). Proto se je nebojte používat, kde to jen jde…</p> <h3 id=\"toc-zaver\">Závěr</h3> <p>Obousměrný routing je v ASP.NET MVC velice silná věc a prozkoumat jeho temná zákoutí a pochopit, co se k čemu hodí, může zabrat nějaký ten čas. Doufám, že jsem vám trošku to prozkoumávání usnadnil. Ale nebojte, zanedlouho by měla vyjít RC verze ASP.NET MVC, kde přibudou další zajímavé helpery.</p> <div class=\"hslice\" id=\"related\"> <h3 class=\"entry-title\" id=\"toc-souvisejici\">Související</h3> <ul class=\"entry-content\"> <li><a rel=\"bookmark\" title=\"Routing v ASP.NET MVC\" href=\"/weblog/296-url-routing-v-asp-net-cast-prvni.aspx\">URL Routing v ASP.NET MVC</a></li> <li><a rel=\"bookmark\" title=\"DSL pro konfiguraci URL Routingu v ASP.NET MVC\" href=\"/weblog/338-dsl-pro-konfiguraci-url-routingu-v-asp-net-mvc.aspx\">DSL pro konfiguraci URL Routingu v ASP.NET MVC</a></li> <li><a href=\"http://weblogs.asp.net/leftslipper/archive/2008/12/17/optimizing-your-route-collection-for-url-generation-in-asp-net-mvc-and-more.aspx\">Eilon Lipton: Optimizing your route collection for URL generation in ASP.NET MVC (and more!)</a></li> </ul> </div> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-01-20T20:26:14.457-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Pojmenované routy v ASP.NET MVC",
  :published #inst "2009-01-03T21:10:44.220-00:00",
  :url "pojmenovane-routy-v-asp-net-mvc",
  :id 340,
  :description
  "Dnes se podíváme na zoubek opět URL routingu. Tentokrát se podíváme na to, jak pěkně generovat odkazy.",
  :category "Webdesign",
  :tags ["aspnet" "mvc" "routing"]},
 :333-trencanske-parky-s-fazoli-po-mexicku.aspx
 {:html
  "<p>Vaření konzerv Trenčanské párky s fazolí patřilo ke koloritu mých studentských let. Sice už jsou dávno pryč, ale proč některé vzpomínky neoživit? :)</p> <p>Prefabrikované potraviny mají tu výhodu, že jsou velice rychle hotové a většinou jsou i stravitelné. Když už jste donuceni něco takového jíst, proč si to trochu nezpestřit? Dnes přináším krátký návod na lehký upgrade.</p> <p>Nakrájíme anglickou slaninu (nebo uzený vepřový bok) na větší kousky a osmahneme na pánvičce. Přidáme nahrubo nasekanou cibulku a necháme zesklovatět. Do připraveného základu vmícháme obsah konzervy. Necháme ohřát na mírném plameni, aby se fazolky nepřipekly. Ostrost dodáme špetkou Jolokii (pozor hodně opatrně), nebo kajenským pepřem. Řádně rozmícháme. Na závěr vmícháme na kostičky nakrájený balkánský sýr a necháme lehce zatavit. Servírujeme do hlubokého talíře s čerstvým pečivem. Jídlo je možno dozdobit na kolečka nakrájenou červenou cibulí a čerstvou petrželkou.</p> <p>Dobrou chuť.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-11-29T15:02:21.177-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Trenčanské párky s fazolí po mexicku",
  :published #inst "2008-11-29T15:01:47.663-00:00",
  :url "trencanske-parky-s-fazoli-po-mexicku",
  :id 333,
  :description
  "Prefabrikované potraviny mají tu výhodu, že jsou velice rychle hotové a většinou jsou i stravitelné. Když už jste donuceni něco takového jíst, proč si to trochu nezpestřit? Dnes přináším krátký návod na lehký upgrade.",
  :category "Jen tak",
  :tags ["vaření"]},
 :105-osecenske-stranky.aspx
 {:html
  "<p>Během včerejška jsem pověsil na web novou verzi <a href=\"http://www.osecna.info\">stránek obce Osečná</a>. Kromě změny vzhledu došlo ke kompletní změně struktury a technologie. Nyní běží stránky z&#160;90% na redakčním systému Gryphoon Obce a 100% na ASP.NET 2.0. Ještě mě čeká dodělávka několika modulů, ale to až po zkouškách&#8230;</p> <!-- generated by Texy! -->",
  :keywords "",
  :edited #inst "2006-02-03T08:05:55.963-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Osečenské stránky",
  :published #inst "2006-02-03T08:05:55.963-00:00",
  :url "osecenske-stranky",
  :id 105,
  :description "Provedl jsem redesign obecních stránek.",
  :category "Moje práce",
  :tags []},
 :178-novy-kabatek-pro-atlas-cz.aspx
 {:html
  "<p>Zatím třetí <a href=\"http://www.atlas.cz\">český portál Atlas.cz</a> nasadil dnes o půlnoci novou homepage. Ikdyž mě někdo může napadnou ze zaujatosti, mně osobně se líbí. Opět, jak už je u Atlasu zvykem, nechybí personalizace a opět je o hodně vylepšená. Skoro všechno v prostředním a pravém sloupci se dá zpřeházet, povypínat a přidávat. Boxů se službami Atlasu není zase tolik, ale pevně věřím, že ještě nějaké přibudou (určitě se spuštěním chystaných nových služeb).</p> <p>Nemám moc chuť reagovat na lidi, co tu budou řvát, že je to „okopírované Yahoo“. Tak to sem prosím ani nepište. To, že tu jistá míra inspirace bude, jsem věděl (dokonce jsem si to i přál a nejen já), ale grafické návrhy jsou originální, kód stránek taky, takže se o žádnou krádež nejedná! Rozložení layotu mi přijde příjemné a velice použitelné. Uživatelé při usertestingu si ostatně novou homepae pochvalovali. Já si jí také pochvaluji a přeji jí i Altasu hodně spokojených uživatelů.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:18:53.940-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nový kabátek pro Atlas.cz",
  :published #inst "2006-08-31T07:36:38.630-00:00",
  :url "novy-kabatek-pro-atlas-cz",
  :id 178,
  :description
  "Portál Atlas.cz se dnes o půlnoci převlékl do nového kabátku a musím říct, že mu to sluší.",
  :category "Webdesign",
  :tags ["atlas" "homepage"]},
 :32-novy-styl.aspx
 {:html
  "<p>Dneska jsem připravil nový styl pro tyhle stránky. Zátím je nastaven jako alternativní a jen pro tuto stránku. Takže pokud máte <a href=\"http://www.mozilla.org/\">Mozillu</a> nebo <a href=\"http://www.opera.com/\">Operu</a>, zkuste se na to mrknou a hodit feedback co je špatně, zatim to ještě ladim…</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-04-19T18:50:56.483-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Nový styl",
  :published #inst "2004-10-16T00:00:00.000-00:00",
  :url "novy-styl",
  :id 32,
  :description "",
  :category "Webdesign",
  :tags []},
 :415-tri-prikazani-tdd.aspx
 {:html
  "<p>Volně přeloženo z knihy <a href=\"http://www.amazon.com/Clean-Coder-Conduct-Professional-Programmers/dp/0137081073\">The Clean Coder</a></p> <ol> <li>Nenapíšeš řádky produkčního kódu, aniž bys měl padající test.</li> <li>Nenapíšeš řádky testovacího kódu, pokud již nejsou aktuální řádky schopné projít (nezkompilovatelný kód také neprojde).</li> <li>Nenapíšeš řádky produkčního kódu, které nejsou nezbytně nutné, aby prošel aktuálně padající test.</li> </ol> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2011-12-25T14:29:10.893-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Tři přikázání TDD",
  :published #inst "2011-12-25T14:29:10.877-00:00",
  :url "tri-prikazani-tdd",
  :id 415,
  :description
  "TDD není tak těžké jako život, stačí mu pouze tři přikázání.",
  :category "Moje práce",
  :tags ["tdd"]},
 :181-snezenky-a-machri-3054.aspx
 {:html
  "<p>Díky možnosti vidět do zákulisí služby Weblogy.cz mám k dispozici zajímavá statistická data ohledně správnosti RSS výstupu jednotlivých zdrojů. Více než půlka uspěla. To je ta dobrá zpráva.</p> <p>Většinou jde o výstupy kvalitních <span title=\"Nucleus, Gryphoon, Wordpress\">redakčních systémů</span> a veřejných blogovacích služeb. To jsou ti machři. A co naše sněženky?</p> <p>Nejčastější chybou je entitování entit, kdy v kódu najdete něco jako <code>&amp;amp;nbsp;</code> na místě, kde by měla být nedělitelná mezera. Další častou chybou je vkládání HTML do <code>description</code> nebo ještě lépe HTML v description uzavřít do <code>&lt;![CDATA[</code> <code>]]&gt;</code> což je taktéž chybou. Další, již méně častou chybou, je použití jmenných entit, které nejsou v XML podporovány, bez použití <em>DOCTYPE</em>.</p> <p>Tak se milé sněženky polepšete, ať jste také mezi námi, machry :D</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-21T18:15:21.687-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Sněženky a machři (30:54)",
  :published #inst "2006-09-21T12:55:14.787-00:00",
  :url "snezenky-a-machri-3054",
  :id 181,
  :description
  "Díky možnosti vidět do zákulisí služby Weblogy.cz mám k dispozici zajímavá statistická data ohledně správnosti RSS výstupu jednotlivých zdrojů. Více než půlka uspěla. To je ta dobrá zpráva.",
  :category "Webdesign",
  :tags ["rss" "weblogy"]},
 :393-facebook-graph-api-pro-net.aspx
 {:html
  "<p>Možná jste postřehli, že před nedávnem vypustil Facebook na svém githubu <a href=\"http://github.com/facebook/csharp-sdk\">csharp SDK</a> pro jejich <a href=\"http://developers.facebook.com/docs/api\">Graph API</a>. Z počátku mě ta zpráva potěšila, protože <a href=\"http://facebooktoolkit.codeplex.com/\">Facebook Toolkit</a>, který jsem používal, tak nějak nefunguje s novým <a href=\"http://developers.facebook.com/docs/reference/javascript/\">JS SDK</a> a vůbec má zvláštní problémy.</p> <p>Po chvilce nadšení přišla chvilka zklamámí. Podíval jsem se na kód a ukázky a zděsil se. S dotnetem to má asi tolik společného jako, že to jde zkompilovat pomocí <code>csc</code>. Tohle opravdu nechcete používat. Na netu jsem objevil i další implementace Graph API, ale stále nic, co bych chtěl používat.</p> <p>Nakonec jsem se rozhodl napsat <a href=\"http://github.com/rarous/GraphApi\">vlastní implementaci</a>. Základ je inspirován již zmiňovaným csharp SDK, ale napsanej tak, aby využíval věci, co framework již nabízí, místo vlastní implementace JSON jsem použil osvědčený <a href=\"http://json.codeplex.com/\">JSON.NET</a>, přidal podporu pro ověřování pomocí OAuth i klientské JS ověření pomocí tlačítka <code>fb:login</code>.</p> <p>No a hlavně další vrstvu abstrakce včetně objektů API.</p> <p>Tohle všechno je moc hezký, mně se to dobře používá, je to IoC ready, ale zatím chybí podpora pro desktopové ověřování. Ale hlavně mi nefunguje postování na wall, což je celkem zásadní problém. Zkoušel jsem už spoustu cest. Práva na publikování <code>publish_stream</code> uživatel potvrdí, ale Facebook s ledovým klidem odpovídá:</p> <pre>Exception: (#200) The user hasn't authorized the application to perform this action</pre> <p>A mě z toho může trefit šlak. :)</p> <p>Proto moc prosím, zkuste si stáhnout projekt, a trošku si pohrát, jestli třeba nebudete mít větší štěstí. Případného mistra odvšivovače pak pozvu na skleničku něčeho moc dobrého.</p> <p>Pokud si nebudete vědět rady, jak to rozběhat, klidně mi napište <a href=\"/#kontakt\">mail nebo na IM</a>. Dám vám klíče pro testovací účely a jistě další dobré rady. :)</p> <h3 id=\"toc-update\">Update</h3> <p>Chybu jsem nakonec odhalil a pozval se na pár Black Labelů. Chyba byla v tom, že se nastavavovala špatná hodnota vlastnosti <code>Method</code> objektu <code>HttpWebRequest</code>. Namísto hodnoty <code>POST</code> tam byl <code>Post</code> (hodnota enumerce <code>HttpVerb</code> a <code>ToString</code>). Navíc se ještě špatně encodovalo tělo requestu, kde se encodovalo všechno, ne jen hodnoty. Škoda, že se takováto chyba nedala vyčíst z chybové hlášky, která byla v tomto případě celkem zavádějící. Každopádně GraphApi už je plně funkčí a můžete ho plnohodnotně požívat.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2010-08-20T07:14:09.463-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Facebook Graph API pro .net",
  :published #inst "2010-08-06T09:19:16.683-00:00",
  :url "facebook-graph-api-pro-net",
  :id 393,
  :description
  "Představení nové SDK pro Facebook nad dotnetem a prosba o pomoc s odhalením zásadní neschopnosti mého mozku.",
  :category "ASP.NET 2.0",
  :tags ["facebook" "graph"]},
 :347-novinky-z-karavany.aspx
 {:html
  "<p>Ano, je to tak, jak možná někteří tušíte, chystám se psát o tom, co je nového v Twaregu. A únor není na novinky chudý.</p> <p>Ale začnu hezky od začátku roku, kdy jsme mezi nás přivítali nového člena <a rel=\"met co-worker\" href=\"http://savara.us/\">Miloše Savaru</a>, který se přidal do týmu reklamního systému codename „Hyas“ a pracuje na veřejném API. Jádro zatím podstupuje zátěžové testy. :) Náš komunitní projekt už podporuje OpenID včetně načítání údajů profilu, přibyla schopnost lokalizace pomocí IP adresy a fulltextové hledání.</p> <p>Dev platforma se nám rozrostla o nový silný stroj a tak došlo k přeinstalování serverů, změně rolí a jmen. Nově používáme jména hadů. Taky se nám dostalo jednoho bladea. A to už se pomalu dostáváme ke spuštění našich webových stránek <a href=\"http://www.twareg.com/\">Twareg.com</a>. Zatím tam není moc obsahu, ale věřím, že bude postupně přibývat. :) Zatím tam najdete <a href=\"http://www.twareg.com/contact\">náš kontakt</a>, <a href=\"http://www.twareg.com/team\">náš tým</a> a <a href=\"http://www.twareg.com/jobs\">nabídku práce</a>. Sice od příštího týdne získáme další posilu týmu, ale pořád <a rel=\"bookmark\" title=\"Odpojte se k nám!\" href=\"/weblog/334-odpojte-se-k-nam.aspx\">sháníme další schopné lidi</a>.</p> <p>Krom stránek jsem spustili i vlastní twitter: <a href=\"http://twitter.com/twareg\">štěbetání tuarégů</a>.</p> <p>Na stránkách si také můžete všimnout, že jsme se stali členy BizSparku. Ačkoli jsme se na české pobočce Microsoftu dozvěděli, že tento program pro podporu start-upů není pro Českou Republiku určen, tak v programu jsme a můžeme čerpat jeho výhody. Pokud netušíte, co to je <a href=\"http://microsoftstartupzone.com/\">BizSpark</a>, tak vězte, že je to program pro začínající firmy, které se rozhodnou vyvíjet na MS platformě. Program je to tříletý. Během této doby máte předplatné MSDN včetně licencí do produkčního prostředí. A to vše za $100. Po uplynutí třech let, tedy zaplatíte $100 a všechny licence, které jste do té doby získali, vám zůstanou.</p> <p>Tak nám držte palce, pokud chcete, přijďte se na nás podívat, případně zvažte, jestli u nás nechcete pracovat. :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-02-12T09:39:04.107-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Novinky z karavany",
  :published #inst "2009-02-12T06:00:38.347-00:00",
  :url "novinky-z-karavany",
  :id 347,
  :description
  "Ano, je to tak, jak možná někteří tušíte, chystám se psát o tom, co je nového v Twaregu. A únor není na novinky chudý.",
  :category "Webdesign",
  :tags ["twareg" "bizspark"]},
 :244-ironpython-studio.aspx
 {:html
  "<p>S tím, jak byl uvolněn Visual Studio Shell, začínají se objevovat zajímavé aplikace na něm postavené. Jednou z nich je <a href=\"http://www.codeplex.com/IronPythonStudio\">IronPython Studio</a>.</p> <p>Tato implementace je postavená na jednom ze samplů VS SDK, jímž je integrace IronPythonu do VS. Co všechno to umí? Namátkou:</p> <ul> <li>Intellisense</li> <li>Zvýrazňování syntaxe</li> <li>Debugování</li> <li>Předdefinované šablony projektů</li> <li>Code snippets</li> <li>Python konzole přímo ve VS</li> </ul> <p>Celý projekt je i se zdrojovými kódy a může sloužit jako inspirace pro integraci dalších jazyků.</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2008-09-13T13:47:41.713-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "IronPython Studio",
  :published #inst "2007-12-26T08:31:58.657-00:00",
  :url "ironpython-studio",
  :id 244,
  :description
  "S tím, jak byl uvolněn Visual Studio Shell, začínají se objevovat zajímavé aplikace na něm postavené. Jednou z nich je IronPython Studio.",
  :category "ASP.NET 2.0",
  :tags ["ironpython" "vs"]},
 :213-layout-template.aspx
 {:html
  "<p>Jedna z věcí, která nejen mne zaujala na přednášce o Visual Studiu 2008, byl <code>LayoutTemplate</code> u nového kontrolu <code>asp:ListView</code>. Jak na jeho implementaci se pokusí nastínit tento člán.</p> <p>Šablonované ovládací prvky jsou v ASP.NET celkem běžnou věcí a jejich výskyt asi nikoho nepřekvapí. Celkem běžná je také praktika <code>HeaderTemplate</code> a <code>FooterTemplate</code> jejichž obsah se renderuje na začátku/konci. Pokud chcete mít třeba render obalený v <code>div</code> značce, dojde k tzv. křížení značek, což je v XML nepěkná praktika, a některé editory na tom selžou. Kód by mohl vypadat následovně:</p> <pre class=\"xml\"><code>... &lt;HeaderTemplate&gt;&lt;div&gt;&lt;/HeaderTemplate&gt; &lt;FooterTemplate&gt;&lt;/div&gt;&lt;/FooterTemplate&gt; ...</code></pre> <p>Oproti tomu <code>LayoutTemplate</code> přichází s tím, že šablona Headeru i Footeru je v jednom. Asi následovně:</p> <pre class=\"xml\"><code>... &lt;LayoutTemplate&gt; &lt;div id=\"layoutContainer\" runat=\"server\"&gt;&lt;/div&gt; &lt;/LayoutTemplate&gt; ...</code></pre> <p>Pěkné, že? Někdo se možná zalekne <code>runat=\"server\"</code>, že by to třeba mohlo renderovat něco jinýho než by chtěl. Nebude ;)</p> <h3 id=\"toc-jak-to-funguje\">Jak to funguje?</h3> <p>Lepší bude si to celé vysvětlit na ukázce kódu. Naimplementujeme si vlastní LayoutTemplateable control. Začneme tím, že si vytvoříme rozhranní <code>ILayoutTemplateable</code>.</p> <pre class=\"csharp\"><code>public interface ILayoutTemplateable { string LayoutContainerId { get; set; } [TemplateContainer(typeof(Control))] ITemplate LayoutTemplate { get; set; } }</code></pre> <p>Dalším krokem bude <code>TemplatingHelper</code>, který nám pomůže s instancováním šablon a vytvořením layout kontejneru.</p> <pre class=\"csharp\"><code>public static class TemplatingHelper { public static Control CreateLayoutContainer(Control parent, ILayoutTemplateable item) { Control container = new Control(); Instantiate(container, item.LayoutTemplate, parent); return container.FindControl(item.LayoutContainerId); } public static void Instantiate(Control container, ITemplate template, Control parent) { if (template == null || parent == null) { return; } container = container ?? new Control(); template.InstantiateIn(container); parent.Controls.Add(container); } }</code></pre> <p>No a na konec ukázka užití:</p> <pre class=\"csharp\"><code>public class TemplatedControl : Control, ILayoutTemplateable { ... public override void CreateChildControls() { Controls.Clear(); // vytvorime layoutContainer Control layoutContainer = TemplatingHelper.CreateLayoutContainer(this, this); // vytvorime polozky foreach (string item in collection) { TemplatingHelper.Instantiate(new StringContainer(item), ItemTemplate, layoutContainer); } } }</code></pre> <p><del>Doufám, že to funguje, páč jsem si to teď nějak vycucal z prstů… Ale principielně, by to mělo fungovat.</del> <ins>Tak už jsem se dostal k implementaci a kupodivu to celé funguje.</ins> :)</p> <!-- by Texy2! -->",
  :keywords "",
  :edited #inst "2009-02-22T07:05:02.520-00:00",
  :is-published true,
  :author "Aleš Roubíček",
  :title "Layout Template",
  :published #inst "2007-06-14T10:42:12.670-00:00",
  :url "layout-template",
  :id 213,
  :description
  "Jedna z věcí, která nejen mne zaujala na přednášce o Visual Studiu 2008, byl LayoutTemplate u nového kontrolu asp:ListView. Jak na jeho implementaci se pokusí nastínit tento člán.",
  :category "ASP.NET 2.0",
  :tags ["aspnet"]}}
